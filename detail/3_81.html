<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of Virginia, Charlottesville</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of Virginia, Charlottesville</h1>
    <div class="pagination">
        <a href='3_80.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><span>[81]</span><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_82.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 0bfbbe8f09617247c87d3b626cbf007c423afff1
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:36 2009 -0400

    Staging: comedi: Remove device_create_result_type typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index d38addd01d4a..524bef968a1c 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -2130,7 +2130,7 @@ int comedi_alloc_board_minor(struct device *hardware_device)
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
-	device_create_result_type *csdev;
+	struct device *csdev;
 	unsigned i;
 
 	info = kzalloc(sizeof(struct comedi_device_file_info), GFP_KERNEL);
@@ -2197,7 +2197,7 @@ int comedi_alloc_subdevice_minor(struct comedi_device *dev, struct comedi_subdev
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
-	device_create_result_type *csdev;
+	struct device *csdev;
 	unsigned i;
 
 	info = kmalloc(sizeof(struct comedi_device_file_info), GFP_KERNEL);
diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index 3f9b2d027168..4333139e5245 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,8 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct device device_create_result_type;
-
 #define COMEDI_DEVICE_CREATE(cs, parent, devt, drvdata, device, fmt...) \
 	device_create(cs, ((parent) ? (parent) : (device)), devt, drvdata, fmt)
 
@@ -183,7 +181,7 @@ struct comedi_subdevice {
 
 	unsigned int state;
 
-	device_create_result_type *class_dev;
+	struct device *class_dev;
 	int minor;
 };
 
@@ -256,7 +254,7 @@ struct comedi_device {
 	struct comedi_driver *driver;
 	void *private;
 
-	device_create_result_type *class_dev;
+	struct device *class_dev;
 	int minor;
 	/* hw_dev is passed to dma_alloc_coherent when allocating async buffers
 	 * for subdevices that have async_dma_dir set to something other than</pre><hr><pre>commit 9ced1de69125b60f40127eddaa3be2a92bb0a1df
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:31 2009 -0400

    Staging: comedi: Remove comedi_lrange typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index 83c45a691bdd..3f9b2d027168 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,8 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_lrange_struct comedi_lrange;
-
 typedef struct device device_create_result_type;
 
 #define COMEDI_DEVICE_CREATE(cs, parent, devt, drvdata, device, fmt...) \
@@ -154,8 +152,8 @@ struct comedi_subdevice {
 
 	unsigned int settling_time_0;
 
-	const comedi_lrange *range_table;
-	const comedi_lrange *const *range_table_list;
+	const struct comedi_lrange *range_table;
+	const struct comedi_lrange *const *range_table_list;
 
 	unsigned int *chanlist;	/* driver-owned chanlist (not used) */
 
@@ -396,12 +394,12 @@ int insn_inval(struct comedi_device *dev, struct comedi_subdevice *s,
 #define BIP_RANGE(a)		{-(a)*1e6, (a)*1e6, 0}
 #define UNI_RANGE(a)		{0, (a)*1e6, 0}
 
-extern const comedi_lrange range_bipolar10;
-extern const comedi_lrange range_bipolar5;
-extern const comedi_lrange range_bipolar2_5;
-extern const comedi_lrange range_unipolar10;
-extern const comedi_lrange range_unipolar5;
-extern const comedi_lrange range_unknown;
+extern const struct comedi_lrange range_bipolar10;
+extern const struct comedi_lrange range_bipolar5;
+extern const struct comedi_lrange range_bipolar2_5;
+extern const struct comedi_lrange range_unipolar10;
+extern const struct comedi_lrange range_unipolar5;
+extern const struct comedi_lrange range_unknown;
 
 #define range_digital		range_unipolar5
 
@@ -411,7 +409,7 @@ extern const comedi_lrange range_unknown;
 #define GCC_ZERO_LENGTH_ARRAY 0
 #endif
 
-struct comedi_lrange_struct {
+struct comedi_lrange {
 	int length;
 	comedi_krange range[GCC_ZERO_LENGTH_ARRAY];
 };
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.h b/drivers/staging/comedi/drivers/addi-data/addi_common.h
index 0df1287d14c8..0e06121f13e5 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -51,7 +51,7 @@ typedef unsigned int ULONG, *PULONG;	/* 32-bit */
 typedef unsigned int DWORD, *PDWORD;	/* 32-bit */
 typedef unsigned long ULONG_PTR;
 
-typedef const comedi_lrange *PCRANGE;
+typedef const struct comedi_lrange *PCRANGE;
 
 #define LOBYTE(W)	(BYTE)((W) &amp; 0xFF)
 #define HIBYTE(W)	(BYTE)(((W) &gt;&gt; 8) &amp; 0xFF)
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h
index bdef85867433..998cbba8afeb 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h
@@ -46,7 +46,7 @@
 
 //MODULE INFO STRUCTURE
 
-static const comedi_lrange range_apci1710_ttl = { 4, {
+static const struct comedi_lrange range_apci1710_ttl = { 4, {
 						      BIP_RANGE(10),
 						      BIP_RANGE(5),
 						      BIP_RANGE(2),
@@ -54,7 +54,7 @@ static const comedi_lrange range_apci1710_ttl = { 4, {
 						      }
 };
 
-static const comedi_lrange range_apci1710_ssi = { 4, {
+static const struct comedi_lrange range_apci1710_ssi = { 4, {
 						      BIP_RANGE(10),
 						      BIP_RANGE(5),
 						      BIP_RANGE(2),
@@ -62,7 +62,7 @@ static const comedi_lrange range_apci1710_ssi = { 4, {
 						      }
 };
 
-static const comedi_lrange range_apci1710_inccpt = { 4, {
+static const struct comedi_lrange range_apci1710_inccpt = { 4, {
 							 BIP_RANGE(10),
 							 BIP_RANGE(5),
 							 BIP_RANGE(2),
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
index 2f9af7b20b3e..01964823b34f 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
@@ -34,7 +34,7 @@ struct {
 } Config_Parameters_Main;
 
 /* ANALOG INPUT RANGE */
-comedi_lrange range_apci035_ai = { 8, {
+struct comedi_lrange range_apci035_ai = { 8, {
 				       BIP_RANGE(10),
 				       BIP_RANGE(5),
 				       BIP_RANGE(2),
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
index ae66bfeeefaf..63ec520bb3a7 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
@@ -41,7 +41,7 @@
 
 #ifdef __KERNEL__
 
-static const comedi_lrange range_apci16xx_ttl = { 12,
+static const struct comedi_lrange range_apci16xx_ttl = { 12,
 	{BIP_RANGE(1),
 	 BIP_RANGE(1),
 	 BIP_RANGE(1),
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
index f5fdb6c4894f..1a0806249457 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
@@ -21,7 +21,7 @@
 // comedi related defines
 
 //ANALOG INPUT RANGE
-static const comedi_lrange range_apci3120_ai = { 8, {
+static const struct comedi_lrange range_apci3120_ai = { 8, {
 						     BIP_RANGE(10),
 						     BIP_RANGE(5),
 						     BIP_RANGE(2),
@@ -34,7 +34,7 @@ static const comedi_lrange range_apci3120_ai = { 8, {
 };
 
 // ANALOG OUTPUT RANGE
-static const comedi_lrange range_apci3120_ao = { 2, {
+static const struct comedi_lrange range_apci3120_ao = { 2, {
 						     BIP_RANGE(10),
 						     UNI_RANGE(10)
 						     }
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
index 528673939f17..12ecce2db670 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
@@ -35,7 +35,7 @@ struct {
     Config_Parameters_Module3, Config_Parameters_Module4;
 
 //ANALOG INPUT RANGE
-static const comedi_lrange range_apci3200_ai = { 8, {
+static const struct comedi_lrange range_apci3200_ai = { 8, {
 						     BIP_RANGE(10),
 						     BIP_RANGE(5),
 						     BIP_RANGE(2),
@@ -47,7 +47,7 @@ static const comedi_lrange range_apci3200_ai = { 8, {
 						     }
 };
 
-static const comedi_lrange range_apci3300_ai = { 4, {
+static const struct comedi_lrange range_apci3300_ai = { 4, {
 						     UNI_RANGE(10),
 						     UNI_RANGE(5),
 						     UNI_RANGE(2),
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
index 3b47634bfb91..550d81543b16 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
@@ -32,7 +32,7 @@
 #define MODE0                                     0
 #define MODE1                                     1
 // ANALOG OUTPUT RANGE
-comedi_lrange range_apci3501_ao = { 2, {
+struct comedi_lrange range_apci3501_ao = { 2, {
 					BIP_RANGE(10),
 					UNI_RANGE(10)
 					}
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h
index 5dde36f68876..788d7c1cf5c1 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h
@@ -32,7 +32,7 @@
 
 #ifdef __KERNEL__
 
-static const comedi_lrange range_apci3XXX_ai = { 8, {BIP_RANGE(10),
+static const struct comedi_lrange range_apci3XXX_ai = { 8, {BIP_RANGE(10),
 						     BIP_RANGE(5),
 						     BIP_RANGE(2),
 						     BIP_RANGE(1),
@@ -42,7 +42,7 @@ static const comedi_lrange range_apci3XXX_ai = { 8, {BIP_RANGE(10),
 						     UNI_RANGE(1)}
 };
 
-static const comedi_lrange range_apci3XXX_ttl = { 12, {BIP_RANGE(1),
+static const struct comedi_lrange range_apci3XXX_ttl = { 12, {BIP_RANGE(1),
 						       BIP_RANGE(1),
 						       BIP_RANGE(1),
 						       BIP_RANGE(1),
@@ -56,7 +56,7 @@ static const comedi_lrange range_apci3XXX_ttl = { 12, {BIP_RANGE(1),
 						       BIP_RANGE(1)}
 };
 
-static const comedi_lrange range_apci3XXX_ao = { 2, {BIP_RANGE(10),
+static const struct comedi_lrange range_apci3XXX_ao = { 2, {BIP_RANGE(10),
 						     UNI_RANGE(10)}
 };
 #endif
diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index 8b4c201aa4af..b4c6722ea766 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -270,7 +270,7 @@ static int pci9111_detach(struct comedi_device * dev);
 static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index);
 
-static const comedi_lrange pci9111_hr_ai_range = {
+static const struct comedi_lrange pci9111_hr_ai_range = {
 	5,
 	{
 			BIP_RANGE(10),
@@ -303,8 +303,8 @@ typedef struct {
 	int ai_resolution_mask;
 	int ao_resolution;	// resolution of D/A
 	int ao_resolution_mask;
-	const comedi_lrange *ai_range_list;	// rangelist for A/D
-	const comedi_lrange *ao_range_list;	// rangelist for D/A
+	const struct comedi_lrange *ai_range_list;	// rangelist for A/D
+	const struct comedi_lrange *ao_range_list;	// rangelist for D/A
 	unsigned int ai_acquisition_period_min_ns;
 } pci9111_board_struct;
 
diff --git a/drivers/staging/comedi/drivers/adl_pci9118.c b/drivers/staging/comedi/drivers/adl_pci9118.c
index e2a6c29534d2..71745f128722 100644
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -152,7 +152,7 @@ Configuration options:
 
 #define EXTTRG_AI	0	/* ext trg is used by AI */
 
-static const comedi_lrange range_pci9118dg_hr = { 8, {
+static const struct comedi_lrange range_pci9118dg_hr = { 8, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -164,7 +164,7 @@ static const comedi_lrange range_pci9118dg_hr = { 8, {
 	}
 };
 
-static const comedi_lrange range_pci9118hg = { 8, {
+static const struct comedi_lrange range_pci9118hg = { 8, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -194,8 +194,8 @@ typedef struct {
 	int n_aochan;		// num of D/A chans
 	int ai_maxdata;		// resolution of A/D
 	int ao_maxdata;		// resolution of D/A
-	const comedi_lrange *rangelist_ai;	// rangelist for A/D
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ai;	// rangelist for A/D
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 	unsigned int ai_ns_min;	// max sample speed of card v ns
 	unsigned int ai_pacer_min;	// minimal pacer value (c1*c2 or c1 in burst)
 	int half_fifo_size;	// size of FIFO/2
diff --git a/drivers/staging/comedi/drivers/adq12b.c b/drivers/staging/comedi/drivers/adq12b.c
index b5a328116807..fd2a6f7733b2 100644
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -100,14 +100,14 @@ If you do not specify any options, they will default to
 #define TIMEOUT        20
 
 // available ranges through the PGA gains
-static const comedi_lrange range_adq12b_ai_bipolar = { 4, {
+static const struct comedi_lrange range_adq12b_ai_bipolar = { 4, {
         BIP_RANGE( 5 ),
         BIP_RANGE( 2 ),
         BIP_RANGE( 1 ),
         BIP_RANGE( 0.5 )
 }};
 
-static const comedi_lrange range_adq12b_ai_unipolar = { 4, {
+static const struct comedi_lrange range_adq12b_ai_unipolar = { 4, {
         UNI_RANGE( 5 ),
         UNI_RANGE( 2 ),
         UNI_RANGE( 1 ),
diff --git a/drivers/staging/comedi/drivers/adv_pci1710.c b/drivers/staging/comedi/drivers/adv_pci1710.c
index 776f93dc5ecb..6742baf7ffa8 100644
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -121,7 +121,7 @@ Configuration options:
 // D/A synchronized control (PCI1720_SYNCONT)
 #define Syncont_SC0	 1	/* set synchronous output mode */
 
-static const comedi_lrange range_pci1710_3 = { 9, {
+static const struct comedi_lrange range_pci1710_3 = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -137,7 +137,7 @@ static const comedi_lrange range_pci1710_3 = { 9, {
 static const char range_codes_pci1710_3[] =
 	{ 0x00, 0x01, 0x02, 0x03, 0x04, 0x10, 0x11, 0x12, 0x13 };
 
-static const comedi_lrange range_pci1710hg = { 12, {
+static const struct comedi_lrange range_pci1710hg = { 12, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -157,7 +157,7 @@ static const char range_codes_pci1710hg[] =
 	{ 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x10, 0x11, 0x12,
 		0x13 };
 
-static const comedi_lrange range_pci17x1 = { 5, {
+static const struct comedi_lrange range_pci17x1 = { 5, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -168,7 +168,7 @@ static const comedi_lrange range_pci17x1 = { 5, {
 
 static const char range_codes_pci17x1[] = { 0x00, 0x01, 0x02, 0x03, 0x04 };
 
-static const comedi_lrange range_pci1720 = { 4, {
+static const struct comedi_lrange range_pci1720 = { 4, {
 			UNI_RANGE(5),
 			UNI_RANGE(10),
 			BIP_RANGE(5),
@@ -176,7 +176,7 @@ static const comedi_lrange range_pci1720 = { 4, {
 	}
 };
 
-static const comedi_lrange range_pci171x_da = { 2, {
+static const struct comedi_lrange range_pci171x_da = { 2, {
 			UNI_RANGE(5),
 			UNI_RANGE(10),
 	}
@@ -199,9 +199,9 @@ typedef struct {
 	int n_counter;		// num of counters
 	int ai_maxdata;		// resolution of A/D
 	int ao_maxdata;		// resolution of D/A
-	const comedi_lrange *rangelist_ai;	// rangelist for A/D
+	const struct comedi_lrange *rangelist_ai;	// rangelist for A/D
 	const char *rangecode_ai;	// range codes for programming
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 	unsigned int ai_ns_min;	// max sample speed of card v ns
 	unsigned int fifo_half_size;	// size of FIFO/2
 } boardtype;
diff --git a/drivers/staging/comedi/drivers/adv_pci1723.c b/drivers/staging/comedi/drivers/adv_pci1723.c
index 5ce393043d17..c50578dfab9c 100644
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -94,7 +94,7 @@ configures all channels in the same group.
 
 //static unsigned short pci_list_builded=0;     /*=1 list of card is know */
 
-static const comedi_lrange range_pci1723 = { 1, {
+static const struct comedi_lrange range_pci1723 = { 1, {
 			BIP_RANGE(10)
 	}
 };
@@ -111,7 +111,7 @@ typedef struct pci1723_board_struct {
 	int n_aochan;		// num of D/A chans
 	int n_diochan;		// num of DIO chans
 	int ao_maxdata;		// resolution of D/A
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 } boardtype;
 
 static const boardtype boardtypes[] = {
diff --git a/drivers/staging/comedi/drivers/aio_aio12_8.c b/drivers/staging/comedi/drivers/aio_aio12_8.c
index 4c569ddb195e..2d1b8d269645 100644
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -151,7 +151,7 @@ static int aio_aio12_8_ao_write(struct comedi_device * dev, struct comedi_subdev
 	return insn-&gt;n;
 }
 
-static const comedi_lrange range_aio_aio12_8 = {
+static const struct comedi_lrange range_aio_aio12_8 = {
 	4,
 	{
 			UNI_RANGE(5),
diff --git a/drivers/staging/comedi/drivers/amplc_pci224.c b/drivers/staging/comedi/drivers/amplc_pci224.c
index 4ca283bb58ae..7ef57bf309cb 100644
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -278,7 +278,7 @@ Passing a zero for an option is the same as leaving it unspecified.
  */
 
 /* The software selectable internal ranges for PCI224 (option[2] == 0). */
-static const comedi_lrange range_pci224_internal = {
+static const struct comedi_lrange range_pci224_internal = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -304,7 +304,7 @@ static const unsigned short hwrange_pci224_internal[8] = {
 };
 
 /* The software selectable external ranges for PCI224 (option[2] == 1). */
-static const comedi_lrange range_pci224_external = {
+static const struct comedi_lrange range_pci224_external = {
 	2,
 	{
 			RANGE_ext(-1, 1),	/* bipolar [-Vref,+Vref] */
@@ -319,7 +319,7 @@ static const unsigned short hwrange_pci224_external[2] = {
 
 /* The hardware selectable Vref*2 external range for PCI234
  * (option[2] == 1, option[3+n] == 0). */
-static const comedi_lrange range_pci234_ext2 = {
+static const struct comedi_lrange range_pci234_ext2 = {
 	1,
 	{
 			RANGE_ext(-2, 2),
@@ -328,7 +328,7 @@ static const comedi_lrange range_pci234_ext2 = {
 
 /* The hardware selectable Vref external range for PCI234
  * (option[2] == 1, option[3+n] == 1). */
-static const comedi_lrange range_pci234_ext = {
+static const struct comedi_lrange range_pci234_ext = {
 	1,
 	{
 			RANGE_ext(-1, 1),
@@ -1417,10 +1417,10 @@ static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it)
 	/* Sort out channel range options. */
 	if (thisboard-&gt;model == pci234_model) {
 		/* PCI234 range options. */
-		const comedi_lrange **range_table_list;
+		const struct comedi_lrange **range_table_list;
 
 		s-&gt;range_table_list = range_table_list =
-			kmalloc(sizeof(comedi_lrange *) * s-&gt;n_chan,
+			kmalloc(sizeof(struct comedi_lrange *) * s-&gt;n_chan,
 			GFP_KERNEL);
 		if (!s-&gt;range_table_list) {
 			return -ENOMEM;
diff --git a/drivers/staging/comedi/drivers/amplc_pci230.c b/drivers/staging/comedi/drivers/amplc_pci230.c
index 7676f22772bf..7e7f627abb24 100644
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -568,7 +568,7 @@ static const unsigned int pci230_timebase[8] = {
 };
 
 /* PCI230 analogue input range table */
-static const comedi_lrange pci230_ai_range = { 7, {
+static const struct comedi_lrange pci230_ai_range = { 7, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -586,7 +586,7 @@ static const unsigned char pci230_ai_gain[7] = { 0, 1, 2, 3, 1, 2, 3 };
 static const unsigned char pci230_ai_bipolar[7] = { 1, 1, 1, 1, 0, 0, 0 };
 
 /* PCI230 analogue output range table */
-static const comedi_lrange pci230_ao_range = { 2, {
+static const struct comedi_lrange pci230_ao_range = { 2, {
 			UNI_RANGE(10),
 			BIP_RANGE(10)
 	}
diff --git a/drivers/staging/comedi/drivers/cb_das16_cs.c b/drivers/staging/comedi/drivers/cb_das16_cs.c
index d16a9278db10..8152970e8dfe 100644
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -100,7 +100,7 @@ static struct comedi_driver driver_das16cs = {
 
 static struct pcmcia_device *cur_dev = NULL;
 
-static const comedi_lrange das16cs_ai_range = { 4, {
+static const struct comedi_lrange das16cs_ai_range = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
diff --git a/drivers/staging/comedi/drivers/cb_pcidas.c b/drivers/staging/comedi/drivers/cb_pcidas.c
index 75bf1d173509..1dcf7dde78ee 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -196,7 +196,7 @@ static inline unsigned int DAC_DATA_REG(unsigned int channel)
 // bit in hexadecimal representation of range index that indicates unipolar input range
 #define IS_UNIPOLAR 0x4
 // analog input ranges for most boards
-static const comedi_lrange cb_pcidas_ranges = {
+static const struct comedi_lrange cb_pcidas_ranges = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -211,7 +211,7 @@ static const comedi_lrange cb_pcidas_ranges = {
 };
 
 // pci-das1001 input ranges
-static const comedi_lrange cb_pcidas_alt_ranges = {
+static const struct comedi_lrange cb_pcidas_alt_ranges = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -226,7 +226,7 @@ static const comedi_lrange cb_pcidas_alt_ranges = {
 };
 
 // analog output ranges
-static const comedi_lrange cb_pcidas_ao_ranges = {
+static const struct comedi_lrange cb_pcidas_ao_ranges = {
 	4,
 	{
 			BIP_RANGE(5),
@@ -252,7 +252,7 @@ typedef struct cb_pcidas_board_struct {
 	int has_ao_fifo;	// analog output has fifo
 	int ao_scan_speed;	// analog output speed for 1602 series (for a scan, not conversion)
 	int fifo_size;		// number of samples fifo can hold
-	const comedi_lrange *ranges;
+	const struct comedi_lrange *ranges;
 	enum trimpot_model trimpot;
 	unsigned has_dac08:1;
 } cb_pcidas_board;
diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index ea55c2bf3e78..ce1638d72d6b 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -400,7 +400,7 @@ static inline uint8_t attenuate_bit(unsigned int channel)
 };
 
 // analog input ranges for 64xx boards
-static const comedi_lrange ai_ranges_64xx = {
+static const struct comedi_lrange ai_ranges_64xx = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -415,7 +415,7 @@ static const comedi_lrange ai_ranges_64xx = {
 };
 
 /* analog input ranges for 60xx boards */
-static const comedi_lrange ai_ranges_60xx = {
+static const struct comedi_lrange ai_ranges_60xx = {
 	4,
 	{
 			BIP_RANGE(10),
@@ -426,7 +426,7 @@ static const comedi_lrange ai_ranges_60xx = {
 };
 
 /* analog input ranges for 6030, etc boards */
-static const comedi_lrange ai_ranges_6030 = {
+static const struct comedi_lrange ai_ranges_6030 = {
 	14,
 	{
 			BIP_RANGE(10),
@@ -447,7 +447,7 @@ static const comedi_lrange ai_ranges_6030 = {
 };
 
 /* analog input ranges for 6052, etc boards */
-static const comedi_lrange ai_ranges_6052 = {
+static const struct comedi_lrange ai_ranges_6052 = {
 	15,
 	{
 			BIP_RANGE(10),
@@ -469,7 +469,7 @@ static const comedi_lrange ai_ranges_6052 = {
 };
 
 // analog input ranges for 4020 board
-static const comedi_lrange ai_ranges_4020 = {
+static const struct comedi_lrange ai_ranges_4020 = {
 	2,
 	{
 			BIP_RANGE(5),
@@ -478,7 +478,7 @@ static const comedi_lrange ai_ranges_4020 = {
 };
 
 // analog output ranges
-static const comedi_lrange ao_ranges_64xx = {
+static const struct comedi_lrange ao_ranges_64xx = {
 	4,
 	{
 			BIP_RANGE(5),
@@ -494,7 +494,7 @@ static const int ao_range_code_64xx[] = {
 	0x3,
 };
 
-static const comedi_lrange ao_ranges_60xx = {
+static const struct comedi_lrange ao_ranges_60xx = {
 	1,
 	{
 			BIP_RANGE(10),
@@ -504,7 +504,7 @@ static const int ao_range_code_60xx[] = {
 	0x0,
 };
 
-static const comedi_lrange ao_ranges_6030 = {
+static const struct comedi_lrange ao_ranges_6030 = {
 	2,
 	{
 			BIP_RANGE(10),
@@ -516,7 +516,7 @@ static const int ao_range_code_6030[] = {
 	0x2,
 };
 
-static const comedi_lrange ao_ranges_4020 = {
+static const struct comedi_lrange ao_ranges_4020 = {
 	2,
 	{
 			BIP_RANGE(5),
@@ -547,11 +547,11 @@ typedef struct pcidas64_board_struct {
 	int ai_se_chans;	// number of ai inputs in single-ended mode
 	int ai_bits;		// analog input resolution
 	int ai_speed;		// fastest conversion period in ns
-	const comedi_lrange *ai_range_table;
+	const struct comedi_lrange *ai_range_table;
 	int ao_nchan;		// number of analog out channels
 	int ao_bits;		// analog output resolution
 	int ao_scan_speed;	// analog output speed (for a scan, not conversion)
-	const comedi_lrange *ao_range_table;
+	const struct comedi_lrange *ao_range_table;
 	const int *ao_range_code;
 	const hw_fifo_info_t *const ai_fifo;
 	enum register_layout layout;	// different board families have slightly different registers
diff --git a/drivers/staging/comedi/drivers/cb_pcidda.c b/drivers/staging/comedi/drivers/cb_pcidda.c
index dc107d1df261..2cc525f65163 100644
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -112,7 +112,7 @@ Please report success/failure with other different cards to
 
 #define DADATA	8		// FIRST D/A DATA REGISTER (0)
 
-static const comedi_lrange cb_pcidda_ranges = {
+static const struct comedi_lrange cb_pcidda_ranges = {
 	6,
 	{
 			BIP_RANGE(10),
@@ -138,7 +138,7 @@ typedef struct cb_pcidda_board_struct {
 	unsigned short device_id;
 	int ao_chans;
 	int ao_bits;
-	const comedi_lrange *ranges;
+	const struct comedi_lrange *ranges;
 } cb_pcidda_board;
 static const cb_pcidda_board cb_pcidda_boards[] = {
 	{
diff --git a/drivers/staging/comedi/drivers/cb_pcimdas.c b/drivers/staging/comedi/drivers/cb_pcimdas.c
index 0e739a567eb9..ac983b17f594 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -97,7 +97,7 @@ typedef struct cb_pcimdas_board_struct {
 	int fifo_size;		// number of samples fifo can hold
 	int dio_bits;		// number of dio bits
 	int has_dio;		// has DIO
-	const comedi_lrange *ranges;
+	const struct comedi_lrange *ranges;
 } cb_pcimdas_board;
 
 static const cb_pcimdas_board cb_pcimdas_boards[] = {
diff --git a/drivers/staging/comedi/drivers/comedi_test.c b/drivers/staging/comedi/drivers/comedi_test.c
index 908dddcc5a45..671f56f0a542 100644
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -128,7 +128,7 @@ static short fake_waveform(struct comedi_device *dev, unsigned int channel,
 static const int nano_per_micro = 1000;
 
 /* fake analog input ranges */
-static const comedi_lrange waveform_ai_ranges = {
+static const struct comedi_lrange waveform_ai_ranges = {
 	2,
 	{
 			BIP_RANGE(10),
diff --git a/drivers/staging/comedi/drivers/daqboard2000.c b/drivers/staging/comedi/drivers/daqboard2000.c
index 378ec9471778..05058bf8d5e9 100644
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -145,7 +145,7 @@ Configuration options:
 #define DAQBOARD2000_CPLD_DONE 		0x0004
 
 // Available ranges
-static const comedi_lrange range_daqboard2000_ai = { 13, {
+static const struct comedi_lrange range_daqboard2000_ai = { 13, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
@@ -162,7 +162,7 @@ static const comedi_lrange range_daqboard2000_ai = { 13, {
 	}
 };
 
-static const comedi_lrange range_daqboard2000_ao = { 1, {
+static const struct comedi_lrange range_daqboard2000_ao = { 1, {
 			RANGE(-10, 10)
 	}
 };
diff --git a/drivers/staging/comedi/drivers/das08.c b/drivers/staging/comedi/drivers/das08.c
index e8d8d67d513a..3cd44cc2fc67 100644
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -171,7 +171,7 @@ static int das08ao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice
 static void i8254_set_mode_low(unsigned int base, int channel,
 	unsigned int mode);
 
-static const comedi_lrange range_das08_pgl = { 9, {
+static const struct comedi_lrange range_das08_pgl = { 9, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -183,7 +183,7 @@ static const comedi_lrange range_das08_pgl = { 9, {
 			UNI_RANGE(1.25)
 	}
 };
-static const comedi_lrange range_das08_pgh = { 12, {
+static const struct comedi_lrange range_das08_pgh = { 12, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(1),
@@ -198,7 +198,7 @@ static const comedi_lrange range_das08_pgh = { 12, {
 			UNI_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_das08_pgm = { 9, {
+static const struct comedi_lrange range_das08_pgm = { 9, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
@@ -225,7 +225,7 @@ static const comedi_lrange range_das08_pgm = { 9, {
 
 				 */
 
-static const comedi_lrange *const das08_ai_lranges[] = {
+static const struct comedi_lrange *const das08_ai_lranges[] = {
 	&amp;range_unknown,
 	&amp;range_bipolar5,
 	&amp;range_das08_pgh,
diff --git a/drivers/staging/comedi/drivers/das16.c b/drivers/staging/comedi/drivers/das16.c
index a0998a2efd62..6c2b214dfefc 100644
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -236,35 +236,35 @@ static const int sample_size = 2;	// size in bytes of a sample from board
 #define   DAS1600_WS			0x02
 #define   DAS1600_CLK_10MHZ		0x01
 
-static const comedi_lrange range_das1x01_bip = { 4, {
+static const struct comedi_lrange range_das1x01_bip = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(1),
 			BIP_RANGE(0.1),
 			BIP_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_das1x01_unip = { 4, {
+static const struct comedi_lrange range_das1x01_unip = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(1),
 			UNI_RANGE(0.1),
 			UNI_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_das1x02_bip = { 4, {
+static const struct comedi_lrange range_das1x02_bip = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_das1x02_unip = { 4, {
+static const struct comedi_lrange range_das1x02_unip = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_das16jr = { 9, {
+static const struct comedi_lrange range_das16jr = { 9, {
 			// also used by 16/330
 			BIP_RANGE(10),
 			BIP_RANGE(5),
@@ -277,7 +277,7 @@ static const comedi_lrange range_das16jr = { 9, {
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_das16jr_16 = { 8, {
+static const struct comedi_lrange range_das16jr_16 = { 8, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -306,14 +306,14 @@ static const int *const das16_gainlists[] = {
 	das1600_gainlist,
 	das1600_gainlist,
 };
-static const comedi_lrange *const das16_ai_uni_lranges[] = {
+static const struct comedi_lrange *const das16_ai_uni_lranges[] = {
 	&amp;range_unknown,
 	&amp;range_das16jr,
 	&amp;range_das16jr_16,
 	&amp;range_das1x01_unip,
 	&amp;range_das1x02_unip,
 };
-static const comedi_lrange *const das16_ai_bip_lranges[] = {
+static const struct comedi_lrange *const das16_ai_bip_lranges[] = {
 	&amp;range_unknown,
 	&amp;range_das16jr,
 	&amp;range_das16jr_16,
@@ -732,8 +732,8 @@ struct das16_private_struct {
 	unsigned int current_buffer;
 	volatile unsigned int dma_transfer_size;	// target number of bytes to transfer per dma shot
 	// user-defined analog input and output ranges defined from config options
-	comedi_lrange *user_ai_range_table;
-	comedi_lrange *user_ao_range_table;
+	struct comedi_lrange *user_ai_range_table;
+	struct comedi_lrange *user_ao_range_table;
 
 	struct timer_list timer;	// for timed interrupt
 	volatile short timer_running;
@@ -1496,7 +1496,7 @@ static int das16_attach(struct comedi_device * dev, comedi_devconfig * it)
 		(it-&gt;options[4] || it-&gt;options[5])) {
 		// allocate single-range range table
 		devpriv-&gt;user_ai_range_table =
-			kmalloc(sizeof(comedi_lrange) + sizeof(comedi_krange),
+			kmalloc(sizeof(struct comedi_lrange) + sizeof(comedi_krange),
 			GFP_KERNEL);
 		// initialize ai range
 		devpriv-&gt;user_ai_range_table-&gt;length = 1;
@@ -1509,7 +1509,7 @@ static int das16_attach(struct comedi_device * dev, comedi_devconfig * it)
 	if (it-&gt;options[6] || it-&gt;options[7]) {
 		// allocate single-range range table
 		devpriv-&gt;user_ao_range_table =
-			kmalloc(sizeof(comedi_lrange) + sizeof(comedi_krange),
+			kmalloc(sizeof(struct comedi_lrange) + sizeof(comedi_krange),
 			GFP_KERNEL);
 		// initialize ao range
 		devpriv-&gt;user_ao_range_table-&gt;length = 1;
diff --git a/drivers/staging/comedi/drivers/das16m1.c b/drivers/staging/comedi/drivers/das16m1.c
index d87fd21a3bb6..eea48493756e 100644
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -117,7 +117,7 @@ irq can be omitted, although the cmd interface will not work without it.
 #define DAS16M1_82C55                  0x400
 #define DAS16M1_8254_THIRD             0x404
 
-static const comedi_lrange range_das16m1 = { 9,
+static const struct comedi_lrange range_das16m1 = { 9,
 	{
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
diff --git a/drivers/staging/comedi/drivers/das1800.c b/drivers/staging/comedi/drivers/das1800.c
index 2bdb6a33dde4..2e066727fda3 100644
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -213,7 +213,7 @@ static unsigned int burst_convert_arg(unsigned int convert_arg, int round_mode);
 static unsigned int suggest_transfer_size(comedi_cmd * cmd);
 
 // analog input ranges
-static const comedi_lrange range_ai_das1801 = {
+static const struct comedi_lrange range_ai_das1801 = {
 	8,
 	{
 			RANGE(-5, 5),
@@ -227,7 +227,7 @@ static const comedi_lrange range_ai_das1801 = {
 		}
 };
 
-static const comedi_lrange range_ai_das1802 = {
+static const struct comedi_lrange range_ai_das1802 = {
 	8,
 	{
 			RANGE(-10, 10),
@@ -250,7 +250,7 @@ typedef struct das1800_board_struct {
 	int do_n_chan;		/* number of digital output channels */
 	int ao_ability;		/* 0 == no analog out, 1 == basic analog out, 2 == waveform analog out */
 	int ao_n_chan;		/* number of analog out channels */
-	const comedi_lrange *range_ai;	/* available input ranges */
+	const struct comedi_lrange *range_ai;	/* available input ranges */
 } das1800_board;
 
 /* Warning: the maximum conversion speeds listed below are
@@ -486,7 +486,7 @@ typedef struct {
 #define devpriv ((das1800_private *)dev-&gt;private)
 
 // analog out range for boards with basic analog out
-static const comedi_lrange range_ao_1 = {
+static const struct comedi_lrange range_ao_1 = {
 	1,
 	{
 			RANGE(-10, 10),
@@ -495,7 +495,7 @@ static const comedi_lrange range_ao_1 = {
 
 // analog out range for 'ao' boards
 /*
-static const comedi_lrange range_ao_2 = {
+static const struct comedi_lrange range_ao_2 = {
 	2,
 	{
 		RANGE(-10, 10),
diff --git a/drivers/staging/comedi/drivers/das800.c b/drivers/staging/comedi/drivers/das800.c
index 83422936021f..6485e33fb520 100644
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -109,19 +109,19 @@ cmd triggers supported:
 typedef struct das800_board_struct {
 	const char *name;
 	int ai_speed;
-	const comedi_lrange *ai_range;
+	const struct comedi_lrange *ai_range;
 	int resolution;
 } das800_board;
 
 //analog input ranges
-static const comedi_lrange range_das800_ai = {
+static const struct comedi_lrange range_das800_ai = {
 	1,
 	{
 			RANGE(-5, 5),
 		}
 };
 
-static const comedi_lrange range_das801_ai = {
+static const struct comedi_lrange range_das801_ai = {
 	9,
 	{
 			RANGE(-5, 5),
@@ -136,7 +136,7 @@ static const comedi_lrange range_das801_ai = {
 		}
 };
 
-static const comedi_lrange range_cio_das801_ai = {
+static const struct comedi_lrange range_cio_das801_ai = {
 	9,
 	{
 			RANGE(-5, 5),
@@ -151,7 +151,7 @@ static const comedi_lrange range_cio_das801_ai = {
 		}
 };
 
-static const comedi_lrange range_das802_ai = {
+static const struct comedi_lrange range_das802_ai = {
 	9,
 	{
 			RANGE(-5, 5),
@@ -166,7 +166,7 @@ static const comedi_lrange range_das802_ai = {
 		}
 };
 
-static const comedi_lrange range_das80216_ai = {
+static const struct comedi_lrange range_das80216_ai = {
 	8,
 	{
 			RANGE(-10, 10),
diff --git a/drivers/staging/comedi/drivers/dmm32at.c b/drivers/staging/comedi/drivers/dmm32at.c
index 68c18fff5369..17713b3934fe 100644
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -164,7 +164,7 @@ Configuration Options:
 #define DMM32AT_DIRCH 0x08
 
 /* board AI ranges in comedi structure */
-static const comedi_lrange dmm32at_airanges = {
+static const struct comedi_lrange dmm32at_airanges = {
 	4,
 	{
 			UNI_RANGE(10),
@@ -185,7 +185,7 @@ static const unsigned char dmm32at_rangebits[] = {
 /* only one of these ranges is valid, as set by a jumper on the
  * board. The application should only use the range set by the jumper
  */
-static const comedi_lrange dmm32at_aoranges = {
+static const struct comedi_lrange dmm32at_aoranges = {
 	4,
 	{
 			UNI_RANGE(10),
@@ -204,10 +204,10 @@ typedef struct dmm32at_board_struct {
 	const char *name;
 	int ai_chans;
 	int ai_bits;
-	const comedi_lrange *ai_ranges;
+	const struct comedi_lrange *ai_ranges;
 	int ao_chans;
 	int ao_bits;
-	const comedi_lrange *ao_ranges;
+	const struct comedi_lrange *ao_ranges;
 	int have_dio;
 	int dio_chans;
 } dmm32at_board;
diff --git a/drivers/staging/comedi/drivers/dt2801.c b/drivers/staging/comedi/drivers/dt2801.c
index 944489791da8..dc815c130be0 100644
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -101,7 +101,7 @@ COMEDI_INITCLEANUP(driver_dt2801);
 
 #if 0
 // ignore 'defined but not used' warning
-static const comedi_lrange range_dt2801_ai_pgh_bipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgh_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
@@ -109,7 +109,7 @@ static const comedi_lrange range_dt2801_ai_pgh_bipolar = { 4, {
 	}
 };
 #endif
-static const comedi_lrange range_dt2801_ai_pgl_bipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgl_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-1, 1),
 			RANGE(-0.1, 0.1),
@@ -119,7 +119,7 @@ static const comedi_lrange range_dt2801_ai_pgl_bipolar = { 4, {
 
 #if 0
 // ignore 'defined but not used' warning
-static const comedi_lrange range_dt2801_ai_pgh_unipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgh_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 5),
 			RANGE(0, 2.5),
@@ -127,7 +127,7 @@ static const comedi_lrange range_dt2801_ai_pgh_unipolar = { 4, {
 	}
 };
 #endif
-static const comedi_lrange range_dt2801_ai_pgl_unipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgl_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 1),
 			RANGE(0, 0.1),
@@ -219,7 +219,7 @@ static const boardtype_t boardtypes[] = {
 #define boardtype (*(const boardtype_t *)dev-&gt;board_ptr)
 
 typedef struct {
-	const comedi_lrange *dac_range_types[2];
+	const struct comedi_lrange *dac_range_types[2];
 	unsigned int ao_readback[2];
 } dt2801_private;
 #define devpriv ((dt2801_private *)dev-&gt;private)
@@ -439,7 +439,7 @@ static int probe_number_of_ai_chans(struct comedi_device * dev)
 	return n_chans;
 }
 
-static const comedi_lrange *dac_range_table[] = {
+static const struct comedi_lrange *dac_range_table[] = {
 	&amp;range_bipolar10,
 	&amp;range_bipolar5,
 	&amp;range_bipolar2_5,
@@ -447,14 +447,14 @@ static const comedi_lrange *dac_range_table[] = {
 	&amp;range_unipolar5
 };
 
-static const comedi_lrange *dac_range_lkup(int opt)
+static const struct comedi_lrange *dac_range_lkup(int opt)
 {
 	if (opt &lt; 0 || opt &gt; 5)
 		return &amp;range_unknown;
 	return dac_range_table[opt];
 }
 
-static const comedi_lrange *ai_range_lkup(int type, int opt)
+static const struct comedi_lrange *ai_range_lkup(int type, int opt)
 {
 	switch (type) {
 	case 0:
diff --git a/drivers/staging/comedi/drivers/dt2811.c b/drivers/staging/comedi/drivers/dt2811.c
index 8190ae15878a..70d7bcf36820 100644
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -51,42 +51,42 @@ Configuration options:
 
 static const char *driver_name = "dt2811";
 
-static const comedi_lrange range_dt2811_pgh_ai_5_unipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgh_ai_5_unipolar = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 2.5),
 			RANGE(0, 1.25),
 			RANGE(0, 0.625)
 	}
 };
-static const comedi_lrange range_dt2811_pgh_ai_2_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgh_ai_2_5_bipolar = { 4, {
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25),
 			RANGE(-0.625, 0.625),
 			RANGE(-0.3125, 0.3125)
 	}
 };
-static const comedi_lrange range_dt2811_pgh_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgh_ai_5_bipolar = { 4, {
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25),
 			RANGE(-0.625, 0.625)
 	}
 };
-static const comedi_lrange range_dt2811_pgl_ai_5_unipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgl_ai_5_unipolar = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 0.5),
 			RANGE(0, 0.05),
 			RANGE(0, 0.01)
 	}
 };
-static const comedi_lrange range_dt2811_pgl_ai_2_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgl_ai_2_5_bipolar = { 4, {
 			RANGE(-2.5, 2.5),
 			RANGE(-0.25, 0.25),
 			RANGE(-0.025, 0.025),
 			RANGE(-0.005, 0.005)
 	}
 };
-static const comedi_lrange range_dt2811_pgl_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgl_ai_5_bipolar = { 4, {
 			RANGE(-5, 5),
 			RANGE(-0.5, 0.5),
 			RANGE(-0.05, 0.05),
@@ -193,9 +193,9 @@ static const comedi_lrange range_dt2811_pgl_ai_5_bipolar = { 4, {
 
 typedef struct {
 	const char *name;
-	const comedi_lrange *bip_5;
-	const comedi_lrange *bip_2_5;
-	const comedi_lrange *unip_5;
+	const struct comedi_lrange *bip_5;
+	const struct comedi_lrange *bip_2_5;
+	const struct comedi_lrange *unip_5;
 } boardtype;
 static const boardtype boardtypes[] = {
 	{"dt2811-pgh",
@@ -247,13 +247,13 @@ typedef struct {
 	enum {
 		dac_bipolar_5, dac_bipolar_2_5, dac_unipolar_5
 	} dac_range[2];
-	const comedi_lrange *range_type_list[2];
+	const struct comedi_lrange *range_type_list[2];
 	unsigned int ao_readback[2];
 } dt2811_private;
 
 #define devpriv ((dt2811_private *)dev-&gt;private)
 
-static const comedi_lrange *dac_range_types[] = {
+static const struct comedi_lrange *dac_range_types[] = {
 	&amp;range_bipolar5,
 	&amp;range_bipolar2_5,
 	&amp;range_unipolar5
diff --git a/drivers/staging/comedi/drivers/dt2815.c b/drivers/staging/comedi/drivers/dt2815.c
index 0f45cadca370..ffd75c7b9263 100644
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -61,11 +61,11 @@ Configuration options:
 #include &lt;linux/ioport.h&gt;
 #include &lt;linux/delay.h&gt;
 
-static const comedi_lrange range_dt2815_ao_32_current = { 1, {
+static const struct comedi_lrange range_dt2815_ao_32_current = { 1, {
 			RANGE_mA(0, 32)
 	}
 };
-static const comedi_lrange range_dt2815_ao_20_current = { 1, {
+static const struct comedi_lrange range_dt2815_ao_20_current = { 1, {
 			RANGE_mA(4, 20)
 	}
 };
@@ -89,7 +89,7 @@ COMEDI_INITCLEANUP(driver_dt2815);
 static void dt2815_free_resources(struct comedi_device * dev);
 
 typedef struct {
-	const comedi_lrange *range_type_list[8];
+	const struct comedi_lrange *range_type_list[8];
 	unsigned int ao_readback[8];
 } dt2815_private;
 
@@ -181,7 +181,7 @@ static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct comedi_subdevice *s;
 	int i;
-	const comedi_lrange *current_range_type, *voltage_range_type;
+	const struct comedi_lrange *current_range_type, *voltage_range_type;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/dt282x.c b/drivers/staging/comedi/drivers/dt282x.c
index bed21029871b..9e8d1bc45d59 100644
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -154,42 +154,42 @@ Configuration options:
 #define DT2821_XCLK	0x0002	/* (R/W) external clock enable            */
 #define DT2821_BDINIT	0x0001	/* (W)   initialize board         */
 
-static const comedi_lrange range_dt282x_ai_lo_bipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_lo_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25)
 	}
 };
-static const comedi_lrange range_dt282x_ai_lo_unipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_lo_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 5),
 			RANGE(0, 2.5),
 			RANGE(0, 1.25)
 	}
 };
-static const comedi_lrange range_dt282x_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_5_bipolar = { 4, {
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25),
 			RANGE(-0.625, 0.625),
 	}
 };
-static const comedi_lrange range_dt282x_ai_5_unipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_5_unipolar = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 2.5),
 			RANGE(0, 1.25),
 			RANGE(0, 0.625),
 	}
 };
-static const comedi_lrange range_dt282x_ai_hi_bipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_hi_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-1, 1),
 			RANGE(-0.1, 0.1),
 			RANGE(-0.02, 0.02)
 	}
 };
-static const comedi_lrange range_dt282x_ai_hi_unipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_hi_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 1),
 			RANGE(0, 0.1),
@@ -345,7 +345,7 @@ typedef struct {
 	int da0_2scomp;		/* same, for DAC0               */
 	int da1_2scomp;		/* same, for DAC1               */
 
-	const comedi_lrange *darangelist[2];
+	const struct comedi_lrange *darangelist[2];
 
 	short ao[2];
 
@@ -1184,17 +1184,17 @@ static int dt282x_dio_insn_config(struct comedi_device * dev, struct comedi_subd
 	return 1;
 }
 
-static const comedi_lrange *const ai_range_table[] = {
+static const struct comedi_lrange *const ai_range_table[] = {
 	&amp;range_dt282x_ai_lo_bipolar,
 	&amp;range_dt282x_ai_lo_unipolar,
 	&amp;range_dt282x_ai_5_bipolar,
 	&amp;range_dt282x_ai_5_unipolar
 };
-static const comedi_lrange *const ai_range_pgl_table[] = {
+static const struct comedi_lrange *const ai_range_pgl_table[] = {
 	&amp;range_dt282x_ai_hi_bipolar,
 	&amp;range_dt282x_ai_hi_unipolar
 };
-static const comedi_lrange *opt_ai_range_lkup(int ispgl, int x)
+static const struct comedi_lrange *opt_ai_range_lkup(int ispgl, int x)
 {
 	if (ispgl) {
 		if (x &lt; 0 || x &gt;= 2)
@@ -1206,14 +1206,14 @@ static const comedi_lrange *opt_ai_range_lkup(int ispgl, int x)
 		return ai_range_table[x];
 	}
 }
-static const comedi_lrange *const ao_range_table[] = {
+static const struct comedi_lrange *const ao_range_table[] = {
 	&amp;range_bipolar10,
 	&amp;range_unipolar10,
 	&amp;range_bipolar5,
 	&amp;range_unipolar5,
 	&amp;range_bipolar2_5
 };
-static const comedi_lrange *opt_ao_range_lkup(int x)
+static const struct comedi_lrange *opt_ao_range_lkup(int x)
 {
 	if (x &lt; 0 || x &gt;= 5)
 		x = 0;
diff --git a/drivers/staging/comedi/drivers/dt3000.c b/drivers/staging/comedi/drivers/dt3000.c
index 0e29d7f8c71c..60763e51435a 100644
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -66,14 +66,14 @@ AO commands are not supported.
 
 #define PCI_VENDOR_ID_DT	0x1116
 
-static const comedi_lrange range_dt3000_ai = { 4, {
+static const struct comedi_lrange range_dt3000_ai = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25)
 	}
 };
-static const comedi_lrange range_dt3000_ai_pgl = { 4, {
+static const struct comedi_lrange range_dt3000_ai_pgl = { 4, {
 			RANGE(-10, 10),
 			RANGE(-1, 1),
 			RANGE(-0.1, 0.1),
@@ -87,7 +87,7 @@ typedef struct {
 	int adchan;
 	int adbits;
 	int ai_speed;
-	const comedi_lrange *adrange;
+	const struct comedi_lrange *adrange;
 	int dachan;
 	int dabits;
 } dt3k_boardtype;
diff --git a/drivers/staging/comedi/drivers/dt9812.c b/drivers/staging/comedi/drivers/dt9812.c
index e304a614a97e..a3d4afc60421 100644
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -300,22 +300,22 @@ struct slot_dt9812 {
 	struct comedi_dt9812 *comedi;
 };
 
-static const comedi_lrange dt9812_10_ain_range = { 1, {
+static const struct comedi_lrange dt9812_10_ain_range = { 1, {
 			BIP_RANGE(10),
 	}
 };
 
-static const comedi_lrange dt9812_2pt5_ain_range = { 1, {
+static const struct comedi_lrange dt9812_2pt5_ain_range = { 1, {
 			UNI_RANGE(2.5),
 	}
 };
 
-static const comedi_lrange dt9812_10_aout_range = { 1, {
+static const struct comedi_lrange dt9812_10_aout_range = { 1, {
 			BIP_RANGE(10),
 	}
 };
 
-static const comedi_lrange dt9812_2pt5_aout_range = { 1, {
+static const struct comedi_lrange dt9812_2pt5_aout_range = { 1, {
 			UNI_RANGE(2.5),
 	}
 };
diff --git a/drivers/staging/comedi/drivers/fl512.c b/drivers/staging/comedi/drivers/fl512.c
index a2f4db9aa4ad..8b1e6c896517 100644
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -29,7 +29,7 @@ typedef struct {
 } fl512_private;
 #define devpriv ((fl512_private *) dev-&gt;private)
 
-static const comedi_lrange range_fl512 = { 4, {
+static const struct comedi_lrange range_fl512 = { 4, {
 			BIP_RANGE(0.5),
 			BIP_RANGE(1),
 			BIP_RANGE(5),
diff --git a/drivers/staging/comedi/drivers/icp_multi.c b/drivers/staging/comedi/drivers/icp_multi.c
index b30318172b28..7b10bc48a5ec 100644
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -108,7 +108,7 @@ There are 4 x 12-bit Analogue Outputs.  Ranges : 5V, 10V, +/-5V, +/-10V
 #define	Status_IRQ	0x00ff	/*  All interrupts */
 
 /*  Define analogue range */
-static const comedi_lrange range_analog = { 4, {
+static const struct comedi_lrange range_analog = { 4, {
 			UNI_RANGE(5),
 			UNI_RANGE(10),
 			BIP_RANGE(5),
@@ -147,9 +147,9 @@ struct boardtype {
 	int n_ctrs;		/*  num of counters */
 	int ai_maxdata;		/*  resolution of A/D */
 	int ao_maxdata;		/*  resolution of D/A */
-	const comedi_lrange *rangelist_ai;	/*  rangelist for A/D */
+	const struct comedi_lrange *rangelist_ai;	/*  rangelist for A/D */
 	const char *rangecode;	/*  range codes for programming */
-	const comedi_lrange *rangelist_ao;	/*  rangelist for D/A */
+	const struct comedi_lrange *rangelist_ao;	/*  rangelist for D/A */
 };
 
 static const struct boardtype boardtypes[] = {
diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index e1376a173f33..ab62af50993b 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -137,7 +137,7 @@ typedef union {
 	void *iobase;
 	struct {
 		void *iobase;
-		const comedi_lrange *ao_range_list[2];	/* range of channels of ao module */
+		const struct comedi_lrange *ao_range_list[2];	/* range of channels of ao module */
 		unsigned int last_data[2];
 	} pci20006;
 	struct {
@@ -275,7 +275,7 @@ static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevic
 static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static const comedi_lrange *pci20006_range_list[] = {
+static const struct comedi_lrange *pci20006_range_list[] = {
 	&amp;range_bipolar10,
 	&amp;range_unipolar10,
 	&amp;range_bipolar5,
@@ -355,11 +355,11 @@ static int pci20341_insn_read(struct comedi_device * dev, struct comedi_subdevic
 static const int pci20341_timebase[] = { 0x00, 0x00, 0x00, 0x04 };
 static const int pci20341_settling_time[] = { 0x58, 0x58, 0x93, 0x99 };
 
-static const comedi_lrange range_bipolar0_5 = { 1, {BIP_RANGE(0.5)} };
-static const comedi_lrange range_bipolar0_05 = { 1, {BIP_RANGE(0.05)} };
-static const comedi_lrange range_bipolar0_025 = { 1, {BIP_RANGE(0.025)} };
+static const struct comedi_lrange range_bipolar0_5 = { 1, {BIP_RANGE(0.5)} };
+static const struct comedi_lrange range_bipolar0_05 = { 1, {BIP_RANGE(0.05)} };
+static const struct comedi_lrange range_bipolar0_025 = { 1, {BIP_RANGE(0.025)} };
 
-static const comedi_lrange *const pci20341_ranges[] = {
+static const struct comedi_lrange *const pci20341_ranges[] = {
 	&amp;range_bipolar5,
 	&amp;range_bipolar0_5,
 	&amp;range_bipolar0_05,
diff --git a/drivers/staging/comedi/drivers/jr3_pci.c b/drivers/staging/comedi/drivers/jr3_pci.c
index f256b9981c32..1f993147ad91 100644
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -158,7 +158,7 @@ typedef struct {
 		int length;
 		comedi_krange range;
 	} range[9];
-	const comedi_lrange *range_table_list[8 * 7 + 2];
+	const struct comedi_lrange *range_table_list[8 * 7 + 2];
 	unsigned int maxdata_list[8 * 7 + 2];
 	u16 errors;
 	int retries;
@@ -877,7 +877,7 @@ static int jr3_pci_attach(struct comedi_device * dev, comedi_devconfig * it)
 				p-&gt;range[j].range.max = 1000000;
 				for (k = 0; k &lt; 7; k++) {
 					p-&gt;range_table_list[j + k * 8] =
-						(comedi_lrange *) &amp; p-&gt;range[j];
+						(struct comedi_lrange *) &amp; p-&gt;range[j];
 					p-&gt;maxdata_list[j + k * 8] = 0x7fff;
 				}
 			}
@@ -886,9 +886,9 @@ static int jr3_pci_attach(struct comedi_device * dev, comedi_devconfig * it)
 			p-&gt;range[8].range.max = 65536;
 
 			p-&gt;range_table_list[56] =
-				(comedi_lrange *) &amp; p-&gt;range[8];
+				(struct comedi_lrange *) &amp; p-&gt;range[8];
 			p-&gt;range_table_list[57] =
-				(comedi_lrange *) &amp; p-&gt;range[8];
+				(struct comedi_lrange *) &amp; p-&gt;range[8];
 			p-&gt;maxdata_list[56] = 0xffff;
 			p-&gt;maxdata_list[57] = 0xffff;
 			// Channel specific range and maxdata
diff --git a/drivers/staging/comedi/drivers/me4000.c b/drivers/staging/comedi/drivers/me4000.c
index 095da3f1315d..16a34111fe1d 100644
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -230,7 +230,7 @@ static inline unsigned char me4000_inb(struct comedi_device *dev, unsigned long
 	return value;
 }
 
-static const comedi_lrange me4000_ai_range = {
+static const struct comedi_lrange me4000_ai_range = {
 	4,
 	{
 			UNI_RANGE(2.5),
@@ -240,7 +240,7 @@ static const comedi_lrange me4000_ai_range = {
 		}
 };
 
-static const comedi_lrange me4000_ao_range = {
+static const struct comedi_lrange me4000_ao_range = {
 	1,
 	{
 			BIP_RANGE(10),
diff --git a/drivers/staging/comedi/drivers/me_daq.c b/drivers/staging/comedi/drivers/me_daq.c
index e47a954f189e..a87c8ddf8945 100644
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -147,7 +147,7 @@ from http://www.comedi.org
 static int me_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int me_detach(struct comedi_device *dev);
 
-static const comedi_lrange me2000_ai_range = {
+static const struct comedi_lrange me2000_ai_range = {
 	8,
 	{
 		BIP_RANGE(10),
@@ -161,7 +161,7 @@ static const comedi_lrange me2000_ai_range = {
 	}
 };
 
-static const comedi_lrange me2600_ai_range = {
+static const struct comedi_lrange me2600_ai_range = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -175,7 +175,7 @@ static const comedi_lrange me2600_ai_range = {
 		}
 };
 
-static const comedi_lrange me2600_ao_range = {
+static const struct comedi_lrange me2600_ao_range = {
 	3,
 	{
 			BIP_RANGE(10),
@@ -201,11 +201,11 @@ struct me_board {
 	int ao_channel_nbr;	/* DA config */
 	int ao_resolution;
 	int ao_resolution_mask;
-	const comedi_lrange *ao_range_list;
+	const struct comedi_lrange *ao_range_list;
 	int ai_channel_nbr;	/* AD config */
 	int ai_resolution;
 	int ai_resolution_mask;
-	const comedi_lrange *ai_range_list;
+	const struct comedi_lrange *ai_range_list;
 	int dio_channel_nbr;	/* DIO config */
 };
 
diff --git a/drivers/staging/comedi/drivers/mpc624.c b/drivers/staging/comedi/drivers/mpc624.c
index 9b9c8c038dbd..59c3c17b616c 100644
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -126,7 +126,7 @@ typedef struct {
 
 #define devpriv ((skel_private *)dev-&gt;private)
 //----------------------------------------------------------------------------
-static const comedi_lrange range_mpc624_bipolar1 = {
+static const struct comedi_lrange range_mpc624_bipolar1 = {
 	1,
 	{
 //    BIP_RANGE(1.01) // this is correct,
@@ -134,7 +134,7 @@ static const comedi_lrange range_mpc624_bipolar1 = {
 			BIP_RANGE(2.02)
 		}
 };
-static const comedi_lrange range_mpc624_bipolar10 = {
+static const struct comedi_lrange range_mpc624_bipolar10 = {
 	1,
 	{
 //    BIP_RANGE(10.1) // this is correct,
diff --git a/drivers/staging/comedi/drivers/ni_670x.c b/drivers/staging/comedi/drivers/ni_670x.c
index 7dbbfdcb1973..e66bde6dbf21 100644
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -120,7 +120,7 @@ static struct comedi_driver driver_ni_670x = {
 
 COMEDI_PCI_INITCLEANUP(driver_ni_670x, ni_670x_pci_table);
 
-static comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
+static struct comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 
 static int ni_670x_find_device(struct comedi_device * dev, int bus, int slot);
 
@@ -167,9 +167,9 @@ static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it)
 	s-&gt;n_chan = thisboard-&gt;ao_chans;
 	s-&gt;maxdata = 0xffff;
 	if (s-&gt;n_chan == 32) {
-		const comedi_lrange **range_table_list;
+		const struct comedi_lrange **range_table_list;
 
-		range_table_list = kmalloc(sizeof(comedi_lrange *) * 32,
+		range_table_list = kmalloc(sizeof(struct comedi_lrange *) * 32,
 			GFP_KERNEL);
 		if (!range_table_list)
 			return -ENOMEM;
diff --git a/drivers/staging/comedi/drivers/ni_at_a2150.c b/drivers/staging/comedi/drivers/ni_at_a2150.c
index 87edc61f6a4e..2a3032bbcced 100644
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -127,7 +127,7 @@ typedef struct a2150_board_struct {
 } a2150_board;
 
 //analog input range
-static const comedi_lrange range_a2150 = {
+static const struct comedi_lrange range_a2150 = {
 	1,
 	{
 			RANGE(-2.828, 2.828),
diff --git a/drivers/staging/comedi/drivers/ni_atmio16d.c b/drivers/staging/comedi/drivers/ni_atmio16d.c
index 592922aad85c..4cbe558a9f04 100644
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -147,7 +147,7 @@ static struct comedi_driver driver_atmio16d = {
 COMEDI_INITCLEANUP(driver_atmio16d);
 
 /* range structs */
-static const comedi_lrange range_atmio16d_ai_10_bipolar = { 4, {
+static const struct comedi_lrange range_atmio16d_ai_10_bipolar = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(1),
 			BIP_RANGE(0.1),
@@ -155,7 +155,7 @@ static const comedi_lrange range_atmio16d_ai_10_bipolar = { 4, {
 	}
 };
 
-static const comedi_lrange range_atmio16d_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_atmio16d_ai_5_bipolar = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -163,7 +163,7 @@ static const comedi_lrange range_atmio16d_ai_5_bipolar = { 4, {
 	}
 };
 
-static const comedi_lrange range_atmio16d_ai_unipolar = { 4, {
+static const struct comedi_lrange range_atmio16d_ai_unipolar = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(1),
 			UNI_RANGE(0.1),
@@ -179,7 +179,7 @@ typedef struct {
 	enum { dac_bipolar, dac_unipolar } dac0_range, dac1_range;
 	enum { dac_internal, dac_external } dac0_reference, dac1_reference;
 	enum { dac_2comp, dac_straight } dac0_coding, dac1_coding;
-	const comedi_lrange *ao_range_type_list[2];
+	const struct comedi_lrange *ao_range_type_list[2];
 	unsigned int ao_readback[2];
 	unsigned int com_reg_1_state;	/* current state of command register 1 */
 	unsigned int com_reg_2_state;	/* current state of command register 2 */
diff --git a/drivers/staging/comedi/drivers/ni_labpc.c b/drivers/staging/comedi/drivers/ni_labpc.c
index e1326a35e78c..f1a284e6358c 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -253,7 +253,7 @@ static const int labpc_plus_ai_gain_bits[NUM_LABPC_PLUS_AI_RANGES] = {
 	0x60,
 	0x70,
 };
-static const comedi_lrange range_labpc_plus_ai = {
+static const struct comedi_lrange range_labpc_plus_ai = {
 	NUM_LABPC_PLUS_AI_RANGES,
 	{
 			BIP_RANGE(5),
@@ -311,7 +311,7 @@ const int labpc_1200_ai_gain_bits[NUM_LABPC_1200_AI_RANGES] = {
 	0x60,
 	0x70,
 };
-const comedi_lrange range_labpc_1200_ai = {
+const struct comedi_lrange range_labpc_1200_ai = {
 	NUM_LABPC_1200_AI_RANGES,
 	{
 			BIP_RANGE(5),
@@ -333,7 +333,7 @@ const comedi_lrange range_labpc_1200_ai = {
 
 //analog output ranges
 #define AO_RANGE_IS_UNIPOLAR 0x1
-static const comedi_lrange range_labpc_ao = {
+static const struct comedi_lrange range_labpc_ao = {
 	2,
 	{
 			BIP_RANGE(5),
diff --git a/drivers/staging/comedi/drivers/ni_labpc.h b/drivers/staging/comedi/drivers/ni_labpc.h
index d80f05eae52f..b44b0d3d02f1 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.h
+++ b/drivers/staging/comedi/drivers/ni_labpc.h
@@ -39,7 +39,7 @@ typedef struct labpc_board_struct {
 	enum labpc_bustype bustype;	// ISA/PCI/etc.
 	enum labpc_register_layout register_layout;	// 1200 has extra registers compared to pc+
 	int has_ao;		// has analog output true/false
-	const comedi_lrange *ai_range_table;
+	const struct comedi_lrange *ai_range_table;
 	const int *ai_range_code;
 	const int *ai_range_is_unipolar;
 	unsigned ai_scan_up:1;	// board can auto scan up in ai channels, not just down
@@ -80,6 +80,6 @@ int labpc_common_detach(struct comedi_device * dev);
 
 extern const int labpc_1200_is_unipolar[];
 extern const int labpc_1200_ai_gain_bits[];
-extern const comedi_lrange range_labpc_1200_ai;
+extern const struct comedi_lrange range_labpc_1200_ai;
 
 #endif /* _NI_LABPC_H */
diff --git a/drivers/staging/comedi/drivers/ni_mio_common.c b/drivers/staging/comedi/drivers/ni_mio_common.c
index 8f3c959f6265..eaa141daafae 100644
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -88,7 +88,7 @@ static const short ni_gainlkup[][16] = {
 	[ai_gain_6143] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
 };
 
-static const comedi_lrange range_ni_E_ai = { 16, {
+static const struct comedi_lrange range_ni_E_ai = { 16, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
@@ -107,7 +107,7 @@ static const comedi_lrange range_ni_E_ai = { 16, {
 			RANGE(0, 0.1),
 	}
 };
-static const comedi_lrange range_ni_E_ai_limited = { 8, {
+static const struct comedi_lrange range_ni_E_ai_limited = { 8, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-1, 1),
@@ -118,7 +118,7 @@ static const comedi_lrange range_ni_E_ai_limited = { 8, {
 			RANGE(0, 0.1),
 	}
 };
-static const comedi_lrange range_ni_E_ai_limited14 = { 14, {
+static const struct comedi_lrange range_ni_E_ai_limited14 = { 14, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2, 2),
@@ -135,14 +135,14 @@ static const comedi_lrange range_ni_E_ai_limited14 = { 14, {
 			RANGE(0, 0.1),
 	}
 };
-static const comedi_lrange range_ni_E_ai_bipolar4 = { 4, {
+static const struct comedi_lrange range_ni_E_ai_bipolar4 = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-0.5, 0.5),
 			RANGE(-0.05, 0.05),
 	}
 };
-static const comedi_lrange range_ni_E_ai_611x = { 8, {
+static const struct comedi_lrange range_ni_E_ai_611x = { 8, {
 			RANGE(-50, 50),
 			RANGE(-20, 20),
 			RANGE(-10, 10),
@@ -153,14 +153,14 @@ static const comedi_lrange range_ni_E_ai_611x = { 8, {
 			RANGE(-0.2, 0.2),
 	}
 };
-static const comedi_lrange range_ni_M_ai_622x = { 4, {
+static const struct comedi_lrange range_ni_M_ai_622x = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-1, 1),
 			RANGE(-0.2, 0.2),
 	}
 };
-static const comedi_lrange range_ni_M_ai_628x = { 7, {
+static const struct comedi_lrange range_ni_M_ai_628x = { 7, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2, 2),
@@ -170,11 +170,11 @@ static const comedi_lrange range_ni_M_ai_628x = { 7, {
 			RANGE(-0.1, 0.1),
 	}
 };
-static const comedi_lrange range_ni_S_ai_6143 = { 1, {
+static const struct comedi_lrange range_ni_S_ai_6143 = { 1, {
 			RANGE(-5, +5),
 	}
 };
-static const comedi_lrange range_ni_E_ao_ext = { 4, {
+static const struct comedi_lrange range_ni_E_ao_ext = { 4, {
 			RANGE(-10, 10),
 			RANGE(0, 10),
 			RANGE_ext(-1, 1),
@@ -182,7 +182,7 @@ static const comedi_lrange range_ni_E_ao_ext = { 4, {
 	}
 };
 
-static const comedi_lrange *const ni_range_lkup[] = {
+static const struct comedi_lrange *const ni_range_lkup[] = {
 	[ai_gain_16] = &amp;range_ni_E_ai,
 	[ai_gain_8] = &amp;range_ni_E_ai_limited,
 	[ai_gain_14] = &amp;range_ni_E_ai_limited14,
diff --git a/drivers/staging/comedi/drivers/ni_pcimio.c b/drivers/staging/comedi/drivers/ni_pcimio.c
index 173d0a57245a..f67fa6dec22a 100644
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -193,7 +193,7 @@ MODULE_DEVICE_TABLE(pci, ni_pci_table);
  63 different possibilities.  An AO channel
  can not act as it's own OFFSET or REFERENCE.
 */
-static const comedi_lrange range_ni_M_628x_ao = { 8, {
+static const struct comedi_lrange range_ni_M_628x_ao = { 8, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2, 2),
@@ -205,13 +205,13 @@ static const comedi_lrange range_ni_M_628x_ao = { 8, {
 			RANGE_ext(-1, 1)
 	}
 };
-static const comedi_lrange range_ni_M_625x_ao = { 3, {
+static const struct comedi_lrange range_ni_M_625x_ao = { 3, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE_ext(-1, 1)
 	}
 };
-static const comedi_lrange range_ni_M_622x_ao = { 1, {
+static const struct comedi_lrange range_ni_M_622x_ao = { 1, {
 			RANGE(-10, 10),
 	}
 };
diff --git a/drivers/staging/comedi/drivers/ni_stc.h b/drivers/staging/comedi/drivers/ni_stc.h
index 2c0929147585..1ebf521ab773 100644
--- a/drivers/staging/comedi/drivers/ni_stc.h
+++ b/drivers/staging/comedi/drivers/ni_stc.h
@@ -917,7 +917,7 @@ enum ni_reg_type {
 	ni_reg_6143 = 0x20
 };
 
-static const comedi_lrange range_ni_E_ao_ext;
+static const struct comedi_lrange range_ni_E_ao_ext;
 
 enum m_series_register_offsets {
 	M_Offset_CDIO_DMA_Select = 0x7,	// write
@@ -1390,7 +1390,7 @@ typedef struct ni_board_struct {
 	int n_aochan;
 	int aobits;
 	int ao_fifo_depth;
-	const comedi_lrange *ao_range_table;
+	const struct comedi_lrange *ao_range_table;
 	unsigned ao_speed;
 
 	unsigned num_p0_dio_channels;
diff --git a/drivers/staging/comedi/drivers/pcl711.c b/drivers/staging/comedi/drivers/pcl711.c
index e2f73ca1aa15..8603cd18383c 100644
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -87,7 +87,7 @@ supported.
 #define PCL711_DO_LO 13
 #define PCL711_DO_HI 14
 
-static const comedi_lrange range_pcl711b_ai = { 5, {
+static const struct comedi_lrange range_pcl711b_ai = { 5, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -95,7 +95,7 @@ static const comedi_lrange range_pcl711b_ai = { 5, {
 			BIP_RANGE(0.3125)
 	}
 };
-static const comedi_lrange range_acl8112hg_ai = { 12, {
+static const struct comedi_lrange range_acl8112hg_ai = { 12, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -110,7 +110,7 @@ static const comedi_lrange range_acl8112hg_ai = { 12, {
 			BIP_RANGE(0.01)
 	}
 };
-static const comedi_lrange range_acl8112dg_ai = { 9, {
+static const struct comedi_lrange range_acl8112dg_ai = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -141,7 +141,7 @@ typedef struct {
 	int n_aichan;
 	int n_aochan;
 	int maxirq;
-	const comedi_lrange *ai_range_type;
+	const struct comedi_lrange *ai_range_type;
 } boardtype;
 
 static const boardtype boardtypes[] = {
diff --git a/drivers/staging/comedi/drivers/pcl726.c b/drivers/staging/comedi/drivers/pcl726.c
index f63b60f6f7d4..a76cf622aef5 100644
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -90,22 +90,22 @@ Interrupts are not supported.
 #define PCL727_DI_HI  0
 #define PCL727_DI_LO  1
 
-static const comedi_lrange range_4_20mA = { 1, {RANGE_mA(4, 20)} };
-static const comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
+static const struct comedi_lrange range_4_20mA = { 1, {RANGE_mA(4, 20)} };
+static const struct comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 
-static const comedi_lrange *const rangelist_726[] = {
+static const struct comedi_lrange *const rangelist_726[] = {
 	&amp;range_unipolar5, &amp;range_unipolar10,
 	&amp;range_bipolar5, &amp;range_bipolar10,
 	&amp;range_4_20mA, &amp;range_unknown
 };
 
-static const comedi_lrange *const rangelist_727[] = {
+static const struct comedi_lrange *const rangelist_727[] = {
 	&amp;range_unipolar5, &amp;range_unipolar10,
 	&amp;range_bipolar5,
 	&amp;range_4_20mA
 };
 
-static const comedi_lrange *const rangelist_728[] = {
+static const struct comedi_lrange *const rangelist_728[] = {
 	&amp;range_unipolar5, &amp;range_unipolar10,
 	&amp;range_bipolar5, &amp;range_bipolar10,
 	&amp;range_4_20mA, &amp;range_0_20mA
@@ -125,7 +125,7 @@ typedef struct {
 	int di_lo;
 	int do_hi;
 	int do_lo;
-	const comedi_lrange *const *range_type_list;	// list of supported ranges
+	const struct comedi_lrange *const *range_type_list;	// list of supported ranges
 } boardtype;
 
 static const boardtype boardtypes[] = {
@@ -163,7 +163,7 @@ COMEDI_INITCLEANUP(driver_pcl726);
 
 typedef struct {
 	int bipolar[12];
-	const comedi_lrange *rangelist[12];
+	const struct comedi_lrange *rangelist[12];
 	unsigned int ao_readback[12];
 } pcl726_private;
 #define devpriv ((pcl726_private *)dev-&gt;private)
diff --git a/drivers/staging/comedi/drivers/pcl812.c b/drivers/staging/comedi/drivers/pcl812.c
index a44f1fb3af54..522cb0527cfc 100644
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -159,7 +159,7 @@ Options for ACL-8113, ISO-813:
 
 #define MAX_CHANLIST_LEN	256	/* length of scan list */
 
-static const comedi_lrange range_pcl812pg_ai = { 5, {
+static const struct comedi_lrange range_pcl812pg_ai = { 5, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -167,7 +167,7 @@ static const comedi_lrange range_pcl812pg_ai = { 5, {
 			BIP_RANGE(0.3125),
 	}
 };
-static const comedi_lrange range_pcl812pg2_ai = { 5, {
+static const struct comedi_lrange range_pcl812pg2_ai = { 5, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -175,33 +175,33 @@ static const comedi_lrange range_pcl812pg2_ai = { 5, {
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range812_bipolar1_25 = { 1, {
+static const struct comedi_lrange range812_bipolar1_25 = { 1, {
 			BIP_RANGE(1.25),
 	}
 };
-static const comedi_lrange range812_bipolar0_625 = { 1, {
+static const struct comedi_lrange range812_bipolar0_625 = { 1, {
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range812_bipolar0_3125 = { 1, {
+static const struct comedi_lrange range812_bipolar0_3125 = { 1, {
 			BIP_RANGE(0.3125),
 	}
 };
-static const comedi_lrange range_pcl813b_ai = { 4, {
+static const struct comedi_lrange range_pcl813b_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_pcl813b2_ai = { 4, {
+static const struct comedi_lrange range_pcl813b2_ai = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_iso813_1_ai = { 5, {
+static const struct comedi_lrange range_iso813_1_ai = { 5, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -209,7 +209,7 @@ static const comedi_lrange range_iso813_1_ai = { 5, {
 			BIP_RANGE(0.3125),
 	}
 };
-static const comedi_lrange range_iso813_1_2_ai = { 5, {
+static const struct comedi_lrange range_iso813_1_2_ai = { 5, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
@@ -217,47 +217,47 @@ static const comedi_lrange range_iso813_1_2_ai = { 5, {
 			UNI_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_iso813_2_ai = { 4, {
+static const struct comedi_lrange range_iso813_2_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_iso813_2_2_ai = { 4, {
+static const struct comedi_lrange range_iso813_2_2_ai = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_acl8113_1_ai = { 4, {
+static const struct comedi_lrange range_acl8113_1_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_acl8113_1_2_ai = { 4, {
+static const struct comedi_lrange range_acl8113_1_2_ai = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_acl8113_2_ai = { 3, {
+static const struct comedi_lrange range_acl8113_2_ai = { 3, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_acl8113_2_2_ai = { 3, {
+static const struct comedi_lrange range_acl8113_2_2_ai = { 3, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 	}
 };
-static const comedi_lrange range_acl8112dg_ai = { 9, {
+static const struct comedi_lrange range_acl8112dg_ai = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -269,7 +269,7 @@ static const comedi_lrange range_acl8112dg_ai = { 9, {
 			BIP_RANGE(10),
 	}
 };
-static const comedi_lrange range_acl8112hg_ai = { 12, {
+static const struct comedi_lrange range_acl8112hg_ai = { 12, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -284,7 +284,7 @@ static const comedi_lrange range_acl8112hg_ai = { 12, {
 			BIP_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_a821pgh_ai = { 4, {
+static const struct comedi_lrange range_a821pgh_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -306,8 +306,8 @@ typedef struct {
 	int ai_maxdata;		// AI resolution
 	unsigned int ai_ns_min;	// max sample speed of card v ns
 	unsigned int i8254_osc_base;	// clock base
-	const comedi_lrange *rangelist_ai;	// rangelist for A/D
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ai;	// rangelist for A/D
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 	unsigned int IRQbits;	// allowed IRQ
 	unsigned char DMAbits;	// allowed DMA chans
 	unsigned char io_range;	// iorange for this board
diff --git a/drivers/staging/comedi/drivers/pcl816.c b/drivers/staging/comedi/drivers/pcl816.c
index c5a969898c12..d90e2e584f63 100644
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -90,7 +90,7 @@ Configuration Options:
 
 #define MAGIC_DMA_WORD 0x5a5a
 
-static const comedi_lrange range_pcl816 = { 8, {
+static const struct comedi_lrange range_pcl816 = { 8, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -109,8 +109,8 @@ typedef struct {
 	int n_aochan;		// num of D/A chans
 	int n_dichan;		// num of DI chans
 	int n_dochan;		// num of DO chans
-	const comedi_lrange *ai_range_type;	// default A/D rangelist
-	const comedi_lrange *ao_range_type;	// dafault D/A rangelist
+	const struct comedi_lrange *ai_range_type;	// default A/D rangelist
+	const struct comedi_lrange *ao_range_type;	// dafault D/A rangelist
 	unsigned int io_range;	// len of IO space
 	unsigned int IRQbits;	// allowed interrupts
 	unsigned int DMAbits;	// allowed DMA chans
diff --git a/drivers/staging/comedi/drivers/pcl818.c b/drivers/staging/comedi/drivers/pcl818.c
index afe326e7d98c..d1992969c037 100644
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -194,7 +194,7 @@ A word or two about DMA. Driver support DMA operations at two ways:
 
 #define MAGIC_DMA_WORD 0x5a5a
 
-static const comedi_lrange range_pcl818h_ai = { 9, {
+static const struct comedi_lrange range_pcl818h_ai = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -207,7 +207,7 @@ static const comedi_lrange range_pcl818h_ai = { 9, {
 	}
 };
 
-static const comedi_lrange range_pcl818hg_ai = { 10, {
+static const struct comedi_lrange range_pcl818hg_ai = { 10, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -223,7 +223,7 @@ static const comedi_lrange range_pcl818hg_ai = { 10, {
 	}
 };
 
-static const comedi_lrange range_pcl818l_l_ai = { 4, {
+static const struct comedi_lrange range_pcl818l_l_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -231,7 +231,7 @@ static const comedi_lrange range_pcl818l_l_ai = { 4, {
 	}
 };
 
-static const comedi_lrange range_pcl818l_h_ai = { 4, {
+static const struct comedi_lrange range_pcl818l_h_ai = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -239,10 +239,10 @@ static const comedi_lrange range_pcl818l_h_ai = { 4, {
 	}
 };
 
-static const comedi_lrange range718_bipolar1 = { 1, {BIP_RANGE(1),} };
-static const comedi_lrange range718_bipolar0_5 = { 1, {BIP_RANGE(0.5),} };
-static const comedi_lrange range718_unipolar2 = { 1, {UNI_RANGE(2),} };
-static const comedi_lrange range718_unipolar1 = { 1, {BIP_RANGE(1),} };
+static const struct comedi_lrange range718_bipolar1 = { 1, {BIP_RANGE(1),} };
+static const struct comedi_lrange range718_bipolar0_5 = { 1, {BIP_RANGE(0.5),} };
+static const struct comedi_lrange range718_unipolar2 = { 1, {UNI_RANGE(2),} };
+static const struct comedi_lrange range718_unipolar1 = { 1, {BIP_RANGE(1),} };
 
 static int pcl818_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcl818_detach(struct comedi_device * dev);
@@ -261,8 +261,8 @@ typedef struct {
 	int n_aochan;		// num of D/A chans
 	int n_dichan;		// num of DI chans
 	int n_dochan;		// num of DO chans
-	const comedi_lrange *ai_range_type;	// default A/D rangelist
-	const comedi_lrange *ao_range_type;	// default D/A rangelist
+	const struct comedi_lrange *ai_range_type;	// default A/D rangelist
+	const struct comedi_lrange *ao_range_type;	// default D/A rangelist
 	unsigned int io_range;	// len of IO space
 	unsigned int IRQbits;	// allowed interrupts
 	unsigned int DMAbits;	// allowed DMA chans
diff --git a/drivers/staging/comedi/drivers/pcmda12.c b/drivers/staging/comedi/drivers/pcmda12.c
index a2dfb4bf65f8..9442eed9271d 100644
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -74,7 +74,7 @@ typedef struct pcmda12_board_struct {
 
 /* note these have no effect and are merely here for reference..
    these are configured by jumpering the board! */
-static const comedi_lrange pcmda12_ranges = {
+static const struct comedi_lrange pcmda12_ranges = {
 	3,
 	{
 			UNI_RANGE(5), UNI_RANGE(10), BIP_RANGE(5)
diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 0dcc09982fa6..780de845034a 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -163,16 +163,16 @@ typedef struct pcmmio_board_struct {
 	const int ao_bits;
 	const int n_ai_chans;
 	const int n_ao_chans;
-	const comedi_lrange *ai_range_table, *ao_range_table;
+	const struct comedi_lrange *ai_range_table, *ao_range_table;
 	comedi_insn_fn_t ai_rinsn, ao_rinsn, ao_winsn;
 } pcmmio_board;
 
-static const comedi_lrange ranges_ai =
+static const struct comedi_lrange ranges_ai =
 	{ 4, {RANGE(-5., 5.), RANGE(-10., 10.), RANGE(0., 5.), RANGE(0.,
 		10.)}
 };
 
-static const comedi_lrange ranges_ao =
+static const struct comedi_lrange ranges_ao =
 	{ 6, {RANGE(0., 5.), RANGE(0., 10.), RANGE(-5., 5.), RANGE(-10., 10.),
 	RANGE(-2.5, 2.5), RANGE(-2.5, 7.5)}
 };
diff --git a/drivers/staging/comedi/drivers/poc.c b/drivers/staging/comedi/drivers/poc.c
index dde46b126312..b1b1138c4d50 100644
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -66,7 +66,7 @@ struct boarddef_struct {
 		unsigned int *);
 	int (*insnbits) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	const comedi_lrange *range;
+	const struct comedi_lrange *range;
 };
 static const struct boarddef_struct boards[] = {
 	{
diff --git a/drivers/staging/comedi/drivers/quatech_daqp_cs.c b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
index c30b1ccb2903..d83cc3295dd4 100644
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -183,7 +183,7 @@ static local_info_t *dev_table[MAX_DEV] = { NULL, /* ... */  };
  * +/- 1.25V, and the D/A converter has only one: +/- 5V.
  */
 
-static const comedi_lrange range_daqp_ai = { 4, {
+static const struct comedi_lrange range_daqp_ai = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -191,7 +191,7 @@ static const comedi_lrange range_daqp_ai = { 4, {
 	}
 };
 
-static const comedi_lrange range_daqp_ao = { 1, {BIP_RANGE(5)} };
+static const struct comedi_lrange range_daqp_ao = { 1, {BIP_RANGE(5)} };
 
 /*====================================================================*/
 
diff --git a/drivers/staging/comedi/drivers/rtd520.c b/drivers/staging/comedi/drivers/rtd520.c
index c238f5b97d85..42b96fae7100 100644
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -196,7 +196,7 @@ Configuration options:
 /*
   The board has 3 input modes and the gains of 1,2,4,...32 (, 64, 128)
 */
-static const comedi_lrange rtd_ai_7520_range = { 18, {
+static const struct comedi_lrange rtd_ai_7520_range = { 18, {
 			/* +-5V input range gain steps */
 			BIP_RANGE(5.0),
 			BIP_RANGE(5.0 / 2),
@@ -223,7 +223,7 @@ static const comedi_lrange rtd_ai_7520_range = { 18, {
 };
 
 /* PCI4520 has two more gains (6 more entries) */
-static const comedi_lrange rtd_ai_4520_range = { 24, {
+static const struct comedi_lrange rtd_ai_4520_range = { 24, {
 			/* +-5V input range gain steps */
 			BIP_RANGE(5.0),
 			BIP_RANGE(5.0 / 2),
@@ -255,7 +255,7 @@ static const comedi_lrange rtd_ai_4520_range = { 24, {
 };
 
 /* Table order matches range values */
-static const comedi_lrange rtd_ao_range = { 4, {
+static const struct comedi_lrange rtd_ao_range = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 10),
 			RANGE(-5, 5),
diff --git a/drivers/staging/comedi/drivers/rti800.c b/drivers/staging/comedi/drivers/rti800.c
index 0d2e9ff4f4f6..463ef4841f0d 100644
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -96,21 +96,21 @@ Configuration options:
 
 #include "am9513.h"
 
-static const comedi_lrange range_rti800_ai_10_bipolar = { 4, {
+static const struct comedi_lrange range_rti800_ai_10_bipolar = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(1),
 			BIP_RANGE(0.1),
 			BIP_RANGE(0.02)
 	}
 };
-static const comedi_lrange range_rti800_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_rti800_ai_5_bipolar = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
 			BIP_RANGE(0.01)
 	}
 };
-static const comedi_lrange range_rti800_ai_unipolar = { 4, {
+static const struct comedi_lrange range_rti800_ai_unipolar = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(1),
 			UNI_RANGE(0.1),
@@ -161,7 +161,7 @@ typedef struct {
 	enum {
 		dac_2comp, dac_straight
 	} dac0_coding, dac1_coding;
-	const comedi_lrange *ao_range_type_list[2];
+	const struct comedi_lrange *ao_range_type_list[2];
 	unsigned int ao_readback[2];
 	int muxgain_bits;
 } rti800_private;
diff --git a/drivers/staging/comedi/drivers/rti802.c b/drivers/staging/comedi/drivers/rti802.c
index 0d2d1c310d03..44bf3451d730 100644
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -62,7 +62,7 @@ typedef struct {
 	enum {
 		dac_2comp, dac_straight
 	} dac_coding[8];
-	const comedi_lrange *range_type_list[8];
+	const struct comedi_lrange *range_type_list[8];
 	unsigned int ao_readback[8];
 } rti802_private;
 
diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index ac6424ca25da..4f7068fb2bc0 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -479,7 +479,7 @@ static struct enc_private enc_private_data[] = {
 #define I2C_B1(ATTR, VAL)	(((ATTR) &lt;&lt; 4) | ((VAL) &lt;&lt; 16))
 #define I2C_B0(ATTR, VAL)	(((ATTR) &lt;&lt; 2) | ((VAL) &lt;&lt;  8))
 
-static const comedi_lrange s626_range_table = { 2, {
+static const struct comedi_lrange s626_range_table = { 2, {
 			RANGE(-5, 5),
 			RANGE(-10, 10),
 	}
diff --git a/drivers/staging/comedi/drivers/serial2002.c b/drivers/staging/comedi/drivers/serial2002.c
index 7c056a328c0d..61cf19ebc278 100644
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -598,7 +598,7 @@ static void serial_2002_open(struct comedi_device * dev)
 			}
 			if (c) {
 				struct comedi_subdevice *s;
-				const comedi_lrange **range_table_list = NULL;
+				const struct comedi_lrange **range_table_list = NULL;
 				unsigned int *maxdata_list;
 				int j, chan;
 
@@ -638,7 +638,7 @@ static void serial_2002_open(struct comedi_device * dev)
 							range[j].range.max =
 								c[j].max;
 							range_table_list[chan] =
-								(const
+								(const struct
 								comedi_lrange *)
 								&amp;range[j];
 						}
diff --git a/drivers/staging/comedi/drivers/usbdux.c b/drivers/staging/comedi/drivers/usbdux.c
index e3462c4a5a65..108f2d71cd83 100644
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -214,7 +214,7 @@ sampling rate. If you sample two channels you get 4kHz and so on.
 
 /**************************************************/
 /* comedi constants */
-static const comedi_lrange range_usbdux_ai_range = { 4, {
+static const struct comedi_lrange range_usbdux_ai_range = { 4, {
 			BIP_RANGE(4.096),
 			BIP_RANGE(4.096 / 2),
 			UNI_RANGE(4.096),
@@ -222,7 +222,7 @@ static const comedi_lrange range_usbdux_ai_range = { 4, {
 	}
 };
 
-static const comedi_lrange range_usbdux_ao_range = { 2, {
+static const struct comedi_lrange range_usbdux_ao_range = { 2, {
 			BIP_RANGE(4.096),
 			UNI_RANGE(4.096),
 	}
diff --git a/drivers/staging/comedi/drivers/usbduxfast.c b/drivers/staging/comedi/drivers/usbduxfast.c
index 54b49580505a..a5e93ac066bb 100644
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -160,7 +160,7 @@
 /*
  * comedi constants
  */
-static const comedi_lrange range_usbduxfast_ai_range = {
+static const struct comedi_lrange range_usbduxfast_ai_range = {
 	2, { BIP_RANGE(0.75), BIP_RANGE(0.5) }
 };
 
diff --git a/drivers/staging/comedi/kcomedilib/get.c b/drivers/staging/comedi/kcomedilib/get.c
index 8890fcb7c1c5..a7d4ff638444 100644
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -153,7 +153,7 @@ int comedi_get_krange(void *d, unsigned int subdevice, unsigned int chan,
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	const comedi_lrange *lr;
+	const struct comedi_lrange *lr;
 
 	if (s-&gt;range_table_list) {
 		lr = s-&gt;range_table_list[chan];
diff --git a/drivers/staging/comedi/range.c b/drivers/staging/comedi/range.c
index 98f53df35573..ef7ad56174bf 100644
--- a/drivers/staging/comedi/range.c
+++ b/drivers/staging/comedi/range.c
@@ -24,12 +24,12 @@
 #include "comedidev.h"
 #include &lt;asm/uaccess.h&gt;
 
-const comedi_lrange range_bipolar10 = { 1, {BIP_RANGE(10)} };
-const comedi_lrange range_bipolar5 = { 1, {BIP_RANGE(5)} };
-const comedi_lrange range_bipolar2_5 = { 1, {BIP_RANGE(2.5)} };
-const comedi_lrange range_unipolar10 = { 1, {UNI_RANGE(10)} };
-const comedi_lrange range_unipolar5 = { 1, {UNI_RANGE(5)} };
-const comedi_lrange range_unknown = { 1, {{0, 1000000, UNIT_none}} };
+const struct comedi_lrange range_bipolar10 = { 1, {BIP_RANGE(10)} };
+const struct comedi_lrange range_bipolar5 = { 1, {BIP_RANGE(5)} };
+const struct comedi_lrange range_bipolar2_5 = { 1, {BIP_RANGE(2.5)} };
+const struct comedi_lrange range_unipolar10 = { 1, {UNI_RANGE(10)} };
+const struct comedi_lrange range_unipolar5 = { 1, {UNI_RANGE(5)} };
+const struct comedi_lrange range_unknown = { 1, {{0, 1000000, UNIT_none}} };
 
 /*
    	COMEDI_RANGEINFO
@@ -48,7 +48,7 @@ int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg)
 {
 	comedi_rangeinfo it;
 	int subd, chan;
-	const comedi_lrange *lr;
+	const struct comedi_lrange *lr;
 	struct comedi_subdevice *s;
 
 	if (copy_from_user(&amp;it, arg, sizeof(comedi_rangeinfo)))</pre><hr><pre>commit 139dfbdfacb02e3ef3df936d2fabd1ad5f14ea88
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:25 2009 -0400

    Staging: comedi: Remove comedi_driver typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index 1fdb093f9318..83c45a691bdd 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,7 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_driver_struct comedi_driver;
 typedef struct comedi_lrange_struct comedi_lrange;
 
 typedef struct device device_create_result_type;
@@ -239,8 +238,8 @@ struct comedi_async {
 			unsigned int x);
 };
 
-struct comedi_driver_struct {
-	struct comedi_driver_struct *next;
+struct comedi_driver {
+	struct comedi_driver *next;
 
 	const char *driver_name;
 	struct module *module;
@@ -256,7 +255,7 @@ struct comedi_driver_struct {
 
 struct comedi_device {
 	int use_count;
-	comedi_driver *driver;
+	struct comedi_driver *driver;
 	void *private;
 
 	device_create_result_type *class_dev;
@@ -343,8 +342,8 @@ static inline struct comedi_subdevice *comedi_get_write_subdevice(
 
 void comedi_device_detach(struct comedi_device *dev);
 int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it);
-int comedi_driver_register(comedi_driver *);
-int comedi_driver_unregister(comedi_driver *);
+int comedi_driver_register(struct comedi_driver *);
+int comedi_driver_unregister(struct comedi_driver *);
 
 void init_polling(void);
 void cleanup_polling(void);
diff --git a/drivers/staging/comedi/drivers.c b/drivers/staging/comedi/drivers.c
index 30e3beb6e97b..2d09a01c86c3 100644
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -50,13 +50,13 @@
 static int postconfig(struct comedi_device *dev);
 static int insn_rw_emulate_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static void *comedi_recognize(comedi_driver * driv, const char *name);
-static void comedi_report_boards(comedi_driver *driv);
+static void *comedi_recognize(struct comedi_driver * driv, const char *name);
+static void comedi_report_boards(struct comedi_driver *driv);
 static int poll_invalid(struct comedi_device *dev, struct comedi_subdevice *s);
 int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size);
 
-comedi_driver *comedi_drivers;
+struct comedi_driver *comedi_drivers;
 
 int comedi_modprobe(int minor)
 {
@@ -115,7 +115,7 @@ void comedi_device_detach(struct comedi_device *dev)
 
 int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_driver *driv;
+	struct comedi_driver *driv;
 	int ret;
 
 	if (dev-&gt;attached)
@@ -180,7 +180,7 @@ int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it)
 	return 0;
 }
 
-int comedi_driver_register(comedi_driver *driver)
+int comedi_driver_register(struct comedi_driver *driver)
 {
 	driver-&gt;next = comedi_drivers;
 	comedi_drivers = driver;
@@ -188,9 +188,9 @@ int comedi_driver_register(comedi_driver *driver)
 	return 0;
 }
 
-int comedi_driver_unregister(comedi_driver *driver)
+int comedi_driver_unregister(struct comedi_driver *driver)
 {
-	comedi_driver *prev;
+	struct comedi_driver *prev;
 	int i;
 
 	/* check for devices using this driver */
@@ -298,7 +298,7 @@ static int postconfig(struct comedi_device *dev)
 }
 
 /*  generic recognize function for drivers that register their supported board names */
-void *comedi_recognize(comedi_driver * driv, const char *name)
+void *comedi_recognize(struct comedi_driver * driv, const char *name)
 {
 	unsigned i;
 	const char *const *name_ptr = driv-&gt;board_name;
@@ -313,7 +313,7 @@ void *comedi_recognize(comedi_driver * driv, const char *name)
 	return NULL;
 }
 
-void comedi_report_boards(comedi_driver *driv)
+void comedi_report_boards(struct comedi_driver *driv)
 {
 	unsigned int i;
 	const char *const *name_ptr;
diff --git a/drivers/staging/comedi/drivers/8255.c b/drivers/staging/comedi/drivers/8255.c
index e4920ae934ae..6e1786059d22 100644
--- a/drivers/staging/comedi/drivers/8255.c
+++ b/drivers/staging/comedi/drivers/8255.c
@@ -107,7 +107,7 @@ struct subdev_8255_struct {
 
 static int dev_8255_attach(struct comedi_device *dev, comedi_devconfig * it);
 static int dev_8255_detach(struct comedi_device *dev);
-static comedi_driver driver_8255 = {
+static struct comedi_driver driver_8255 = {
       driver_name:"8255",
       module:THIS_MODULE,
       attach:dev_8255_attach,
diff --git a/drivers/staging/comedi/drivers/acl7225b.c b/drivers/staging/comedi/drivers/acl7225b.c
index f273a6f0094e..235dcfea49d4 100644
--- a/drivers/staging/comedi/drivers/acl7225b.c
+++ b/drivers/staging/comedi/drivers/acl7225b.c
@@ -38,7 +38,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static comedi_driver driver_acl7225b = {
+static struct comedi_driver driver_acl7225b = {
       driver_name:"acl7225b",
       module:THIS_MODULE,
       attach:acl7225b_attach,
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.c b/drivers/staging/comedi/drivers/addi-data/addi_common.c
index 49d6332d9db2..718c4be560f0 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.c
@@ -2527,7 +2527,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-comedi_driver driver_addi = {
+struct comedi_driver driver_addi = {
       driver_name:"addi_common",
       module:THIS_MODULE,
       attach:i_ADDI_Attach,
diff --git a/drivers/staging/comedi/drivers/adl_pci6208.c b/drivers/staging/comedi/drivers/adl_pci6208.c
index 9e1597caf21d..9572f04c4cdd 100644
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -112,7 +112,7 @@ static int pci6208_detach(struct comedi_device * dev);
 #define pci6208_board_nbr \
 	(sizeof(pci6208_boards) / sizeof(pci6208_board))
 
-static comedi_driver driver_pci6208 = {
+static struct comedi_driver driver_pci6208 = {
       driver_name:PCI6208_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pci6208_attach,
diff --git a/drivers/staging/comedi/drivers/adl_pci7296.c b/drivers/staging/comedi/drivers/adl_pci7296.c
index f38aa06d3c4e..21b8ba80dac9 100644
--- a/drivers/staging/comedi/drivers/adl_pci7296.c
+++ b/drivers/staging/comedi/drivers/adl_pci7296.c
@@ -65,7 +65,7 @@ typedef struct {
 
 static int adl_pci7296_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int adl_pci7296_detach(struct comedi_device * dev);
-static comedi_driver driver_adl_pci7296 = {
+static struct comedi_driver driver_adl_pci7296 = {
       driver_name:"adl_pci7296",
       module:THIS_MODULE,
       attach:adl_pci7296_attach,
diff --git a/drivers/staging/comedi/drivers/adl_pci7432.c b/drivers/staging/comedi/drivers/adl_pci7432.c
index a36be5e14f63..7e8741e51cec 100644
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -60,7 +60,7 @@ typedef struct {
 
 static int adl_pci7432_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int adl_pci7432_detach(struct comedi_device * dev);
-static comedi_driver driver_adl_pci7432 = {
+static struct comedi_driver driver_adl_pci7432 = {
       driver_name:"adl_pci7432",
       module:THIS_MODULE,
       attach:adl_pci7432_attach,
diff --git a/drivers/staging/comedi/drivers/adl_pci8164.c b/drivers/staging/comedi/drivers/adl_pci8164.c
index cc95acf762f8..fd925f5d86f6 100644
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -72,7 +72,7 @@ typedef struct {
 
 static int adl_pci8164_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int adl_pci8164_detach(struct comedi_device * dev);
-static comedi_driver driver_adl_pci8164 = {
+static struct comedi_driver driver_adl_pci8164 = {
       driver_name:"adl_pci8164",
       module:THIS_MODULE,
       attach:adl_pci8164_attach,
diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index cc6b1c6713c4..8b4c201aa4af 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -326,7 +326,7 @@ static const pci9111_board_struct pci9111_boards[] = {
 #define pci9111_board_nbr \
   (sizeof(pci9111_boards)/sizeof(pci9111_board_struct))
 
-static comedi_driver pci9111_driver = {
+static struct comedi_driver pci9111_driver = {
       driver_name:PCI9111_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pci9111_attach,
diff --git a/drivers/staging/comedi/drivers/adl_pci9118.c b/drivers/staging/comedi/drivers/adl_pci9118.c
index 67e26a3c847c..e2a6c29534d2 100644
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -229,7 +229,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci9118 = {
+static struct comedi_driver driver_pci9118 = {
       driver_name:"adl_pci9118",
       module:THIS_MODULE,
       attach:pci9118_attach,
diff --git a/drivers/staging/comedi/drivers/adq12b.c b/drivers/staging/comedi/drivers/adq12b.c
index 99a7a0562082..b5a328116807 100644
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -157,14 +157,14 @@ typedef struct{
 #define devpriv ((adq12b_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int adq12b_attach(struct comedi_device *dev,comedi_devconfig *it);
 static int adq12b_detach(struct comedi_device *dev);
-static comedi_driver driver_adq12b={
+static struct comedi_driver driver_adq12b={
         driver_name:    "adq12b",
         module:         THIS_MODULE,
         attach:         adq12b_attach,
diff --git a/drivers/staging/comedi/drivers/adv_pci1710.c b/drivers/staging/comedi/drivers/adv_pci1710.c
index e66c2560b2cd..776f93dc5ecb 100644
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -256,7 +256,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci1710 = {
+static struct comedi_driver driver_pci1710 = {
 	.driver_name = DRV_NAME,
 	.module = THIS_MODULE,
 	.attach = pci1710_attach,
diff --git a/drivers/staging/comedi/drivers/adv_pci1723.c b/drivers/staging/comedi/drivers/adv_pci1723.c
index 8209e60c783c..5ce393043d17 100644
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -138,7 +138,7 @@ static DEFINE_PCI_DEVICE_TABLE(pci1723_pci_table) = {
 MODULE_DEVICE_TABLE(pci, pci1723_pci_table);
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -148,7 +148,7 @@ static int pci1723_detach(struct comedi_device * dev);
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci1723 = {
+static struct comedi_driver driver_pci1723 = {
       driver_name:"adv_pci1723",
       module:THIS_MODULE,
       attach:pci1723_attach,
diff --git a/drivers/staging/comedi/drivers/adv_pci_dio.c b/drivers/staging/comedi/drivers/adv_pci_dio.c
index e0e62ea57f7e..5fcba548a786 100644
--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -322,7 +322,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci_dio = {
+static struct comedi_driver driver_pci_dio = {
       driver_name:"adv_pci_dio",
       module:THIS_MODULE,
       attach:pci_dio_attach,
diff --git a/drivers/staging/comedi/drivers/aio_aio12_8.c b/drivers/staging/comedi/drivers/aio_aio12_8.c
index 5b62ec9608a8..4c569ddb195e 100644
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -213,7 +213,7 @@ static int aio_aio12_8_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static comedi_driver driver_aio_aio12_8 = {
+static struct comedi_driver driver_aio_aio12_8 = {
       driver_name:"aio_aio12_8",
       module:THIS_MODULE,
       attach:aio_aio12_8_attach,
diff --git a/drivers/staging/comedi/drivers/aio_iiro_16.c b/drivers/staging/comedi/drivers/aio_iiro_16.c
index 0e3f8d5aa06c..b04ad03c85e7 100644
--- a/drivers/staging/comedi/drivers/aio_iiro_16.c
+++ b/drivers/staging/comedi/drivers/aio_iiro_16.c
@@ -71,7 +71,7 @@ static int aio_iiro_16_attach(struct comedi_device * dev, comedi_devconfig * it)
 
 static int aio_iiro_16_detach(struct comedi_device * dev);
 
-static comedi_driver driver_aio_iiro_16 = {
+static struct comedi_driver driver_aio_iiro_16 = {
       driver_name:"aio_iiro_16",
       module:THIS_MODULE,
       attach:aio_iiro_16_attach,
diff --git a/drivers/staging/comedi/drivers/amplc_dio200.c b/drivers/staging/comedi/drivers/amplc_dio200.c
index f34e45028256..6323b571f61e 100644
--- a/drivers/staging/comedi/drivers/amplc_dio200.c
+++ b/drivers/staging/comedi/drivers/amplc_dio200.c
@@ -468,14 +468,14 @@ typedef struct {
 } dio200_subdev_intr;
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int dio200_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dio200_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_dio200 = {
+static struct comedi_driver driver_amplc_dio200 = {
       driver_name:DIO200_DRIVER_NAME,
       module:THIS_MODULE,
       attach:dio200_attach,
diff --git a/drivers/staging/comedi/drivers/amplc_pc236.c b/drivers/staging/comedi/drivers/amplc_pc236.c
index ba91debae962..f9cc28317302 100644
--- a/drivers/staging/comedi/drivers/amplc_pc236.c
+++ b/drivers/staging/comedi/drivers/amplc_pc236.c
@@ -160,14 +160,14 @@ typedef struct {
 #define devpriv ((pc236_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pc236_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pc236_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pc236 = {
+static struct comedi_driver driver_amplc_pc236 = {
       driver_name:PC236_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pc236_attach,
diff --git a/drivers/staging/comedi/drivers/amplc_pc263.c b/drivers/staging/comedi/drivers/amplc_pc263.c
index 43bd5324be4a..313f4a094653 100644
--- a/drivers/staging/comedi/drivers/amplc_pc263.c
+++ b/drivers/staging/comedi/drivers/amplc_pc263.c
@@ -127,14 +127,14 @@ typedef struct {
 #endif /* CONFIG_COMEDI_PCI */
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pc263_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pc263_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pc263 = {
+static struct comedi_driver driver_amplc_pc263 = {
       driver_name:PC263_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pc263_attach,
diff --git a/drivers/staging/comedi/drivers/amplc_pci224.c b/drivers/staging/comedi/drivers/amplc_pci224.c
index e575f7deb31d..4ca283bb58ae 100644
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -421,14 +421,14 @@ typedef struct {
 #define devpriv ((pci224_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci224_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pci224 = {
+static struct comedi_driver driver_amplc_pci224 = {
       driver_name:DRIVER_NAME,
       module:THIS_MODULE,
       attach:pci224_attach,
diff --git a/drivers/staging/comedi/drivers/amplc_pci230.c b/drivers/staging/comedi/drivers/amplc_pci230.c
index 99ffbd2a961c..7676f22772bf 100644
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -596,14 +596,14 @@ static const comedi_lrange pci230_ao_range = { 2, {
 static const unsigned char pci230_ao_bipolar[2] = { 0, 1 };
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pci230_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci230_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pci230 = {
+static struct comedi_driver driver_amplc_pci230 = {
       driver_name:"amplc_pci230",
       module:THIS_MODULE,
       attach:pci230_attach,
diff --git a/drivers/staging/comedi/drivers/c6xdigio.c b/drivers/staging/comedi/drivers/c6xdigio.c
index afe3550fe8f1..612a04afb294 100644
--- a/drivers/staging/comedi/drivers/c6xdigio.c
+++ b/drivers/staging/comedi/drivers/c6xdigio.c
@@ -99,7 +99,7 @@ union encvaluetype {
 
 static int c6xdigio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int c6xdigio_detach(struct comedi_device * dev);
-comedi_driver driver_c6xdigio = {
+struct comedi_driver driver_c6xdigio = {
       driver_name:"c6xdigio",
       module:THIS_MODULE,
       attach:c6xdigio_attach,
diff --git a/drivers/staging/comedi/drivers/cb_das16_cs.c b/drivers/staging/comedi/drivers/cb_das16_cs.c
index ad01884479c0..d16a9278db10 100644
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -91,7 +91,7 @@ typedef struct {
 
 static int das16cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das16cs_detach(struct comedi_device * dev);
-static comedi_driver driver_das16cs = {
+static struct comedi_driver driver_das16cs = {
       driver_name:"cb_das16_cs",
       module:THIS_MODULE,
       attach:das16cs_attach,
diff --git a/drivers/staging/comedi/drivers/cb_pcidas.c b/drivers/staging/comedi/drivers/cb_pcidas.c
index 53fa8ee0fb7b..75bf1d173509 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -435,14 +435,14 @@ typedef struct {
 #define devpriv ((cb_pcidas_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int cb_pcidas_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int cb_pcidas_detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcidas = {
+static struct comedi_driver driver_cb_pcidas = {
       driver_name:"cb_pcidas",
       module:THIS_MODULE,
       attach:cb_pcidas_attach,
diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 345eeb6241bf..ea55c2bf3e78 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1127,7 +1127,7 @@ static inline pcidas64_private *priv(struct comedi_device * dev)
  */
 static int attach(struct comedi_device * dev, comedi_devconfig * it);
 static int detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcidas = {
+static struct comedi_driver driver_cb_pcidas = {
       driver_name:"cb_pcidas64",
       module:THIS_MODULE,
       attach:attach,
diff --git a/drivers/staging/comedi/drivers/cb_pcidda.c b/drivers/staging/comedi/drivers/cb_pcidda.c
index 474ffedc6daa..dc107d1df261 100644
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -249,12 +249,12 @@ static void cb_pcidda_calibrate(struct comedi_device * dev, unsigned int channel
 	unsigned int range);
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static comedi_driver driver_cb_pcidda = {
+static struct comedi_driver driver_cb_pcidda = {
       driver_name:"cb_pcidda",
       module:THIS_MODULE,
       attach:cb_pcidda_attach,
diff --git a/drivers/staging/comedi/drivers/cb_pcidio.c b/drivers/staging/comedi/drivers/cb_pcidio.c
index 7f749bd61b58..61da4f0bab55 100644
--- a/drivers/staging/comedi/drivers/cb_pcidio.c
+++ b/drivers/staging/comedi/drivers/cb_pcidio.c
@@ -122,14 +122,14 @@ typedef struct {
 #define devpriv ((pcidio_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pcidio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcidio_detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcidio = {
+static struct comedi_driver driver_cb_pcidio = {
       driver_name:"cb_pcidio",
       module:THIS_MODULE,
       attach:pcidio_attach,
diff --git a/drivers/staging/comedi/drivers/cb_pcimdas.c b/drivers/staging/comedi/drivers/cb_pcimdas.c
index 435bb39e8e46..0e739a567eb9 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -170,14 +170,14 @@ typedef struct {
 #define devpriv ((cb_pcimdas_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int cb_pcimdas_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int cb_pcimdas_detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcimdas = {
+static struct comedi_driver driver_cb_pcimdas = {
       driver_name:"cb_pcimdas",
       module:THIS_MODULE,
       attach:cb_pcimdas_attach,
diff --git a/drivers/staging/comedi/drivers/cb_pcimdda.c b/drivers/staging/comedi/drivers/cb_pcimdda.c
index 2b953c2e1959..976b789c27e0 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdda.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdda.c
@@ -176,14 +176,14 @@ typedef struct {
 #define devpriv ((private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int attach(struct comedi_device * dev, comedi_devconfig * it);
 static int detach(struct comedi_device * dev);
-static comedi_driver cb_pcimdda_driver = {
+static struct comedi_driver cb_pcimdda_driver = {
       driver_name:"cb_pcimdda",
       module:THIS_MODULE,
       attach:attach,
diff --git a/drivers/staging/comedi/drivers/comedi_bond.c b/drivers/staging/comedi/drivers/comedi_bond.c
index aa6892254f39..deba16fb2fa8 100644
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -59,7 +59,7 @@ Configuration Options:
  * Devices: a full list of the boards that attempt to be supported by
  *   the driver.  Format is "(manufacturer) board name [comedi name]",
  *   where comedi_name is the name that is used to configure the board.
- *   See the comment near board_name: in the comedi_driver structure
+ *   See the comment near board_name: in the struct comedi_driver structure
  *   below.  If (manufacturer) or [comedi name] is missing, the previous
  *   value is used.
  * Author: you
@@ -171,7 +171,7 @@ struct Private {
 #define devpriv ((struct Private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -185,7 +185,7 @@ static void doDevUnconfig(struct comedi_device *dev);
  * what can I say?  I like to do wasteful memcopies.. :) */
 static void *Realloc(const void *ptr, size_t len, size_t old_len);
 
-static comedi_driver driver_bonding = {
+static struct comedi_driver driver_bonding = {
       .driver_name =	MODULE_NAME,
       .module =		THIS_MODULE,
       .attach =		bonding_attach,
diff --git a/drivers/staging/comedi/drivers/comedi_parport.c b/drivers/staging/comedi/drivers/comedi_parport.c
index 50790b651cef..774a72722899 100644
--- a/drivers/staging/comedi/drivers/comedi_parport.c
+++ b/drivers/staging/comedi/drivers/comedi_parport.c
@@ -92,7 +92,7 @@ pin, which can be used to wake up tasks.
 
 static int parport_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int parport_detach(struct comedi_device *dev);
-static comedi_driver driver_parport = {
+static struct comedi_driver driver_parport = {
       .driver_name =	"comedi_parport",
       .module =		THIS_MODULE,
       .attach =		parport_attach,
diff --git a/drivers/staging/comedi/drivers/comedi_rt_timer.c b/drivers/staging/comedi/drivers/comedi_rt_timer.c
index 93a43bdf3bcf..1ba425fda31a 100644
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -128,7 +128,7 @@ static int timer_inttrig(struct comedi_device * dev, struct comedi_subdevice * s
 	unsigned int trig_num);
 static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_timer = {
+static struct comedi_driver driver_timer = {
       module:THIS_MODULE,
       driver_name:"comedi_rt_timer",
       attach:timer_attach,
diff --git a/drivers/staging/comedi/drivers/comedi_test.c b/drivers/staging/comedi/drivers/comedi_test.c
index f8baf83c588c..908dddcc5a45 100644
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -95,7 +95,7 @@ struct waveform_private {
 
 static int waveform_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int waveform_detach(struct comedi_device *dev);
-static comedi_driver driver_waveform = {
+static struct comedi_driver driver_waveform = {
       .driver_name =	"comedi_test",
       .module =		THIS_MODULE,
       .attach =		waveform_attach,
diff --git a/drivers/staging/comedi/drivers/contec_pci_dio.c b/drivers/staging/comedi/drivers/contec_pci_dio.c
index 0b96859cc3bf..87303081f616 100644
--- a/drivers/staging/comedi/drivers/contec_pci_dio.c
+++ b/drivers/staging/comedi/drivers/contec_pci_dio.c
@@ -77,7 +77,7 @@ typedef struct {
 
 static int contec_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int contec_detach(struct comedi_device * dev);
-static comedi_driver driver_contec = {
+static struct comedi_driver driver_contec = {
       driver_name:"contec_pci_dio",
       module:THIS_MODULE,
       attach:contec_attach,
diff --git a/drivers/staging/comedi/drivers/daqboard2000.c b/drivers/staging/comedi/drivers/daqboard2000.c
index 9ef655eec40b..378ec9471778 100644
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -299,7 +299,7 @@ typedef struct daqboard2000_hw {
 static int daqboard2000_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int daqboard2000_detach(struct comedi_device * dev);
 
-static comedi_driver driver_daqboard2000 = {
+static struct comedi_driver driver_daqboard2000 = {
       driver_name:"daqboard2000",
       module:THIS_MODULE,
       attach:daqboard2000_attach,
diff --git a/drivers/staging/comedi/drivers/das08.c b/drivers/staging/comedi/drivers/das08.c
index a0029dc7e389..e8d8d67d513a 100644
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -829,7 +829,7 @@ static int das08_counter_config(struct comedi_device * dev, struct comedi_subdev
 
 static int das08_attach(struct comedi_device * dev, comedi_devconfig * it);
 
-static comedi_driver driver_das08 = {
+static struct comedi_driver driver_das08 = {
       driver_name: DRV_NAME,
       module:THIS_MODULE,
       attach:das08_attach,
diff --git a/drivers/staging/comedi/drivers/das08_cs.c b/drivers/staging/comedi/drivers/das08_cs.c
index 0e56f1d762de..310903a89e42 100644
--- a/drivers/staging/comedi/drivers/das08_cs.c
+++ b/drivers/staging/comedi/drivers/das08_cs.c
@@ -58,7 +58,7 @@ static struct pcmcia_device *cur_dev = NULL;
 
 static int das08_cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 
-static comedi_driver driver_das08_cs = {
+static struct comedi_driver driver_das08_cs = {
       driver_name:"das08_cs",
       module:THIS_MODULE,
       attach:das08_cs_attach,
diff --git a/drivers/staging/comedi/drivers/das16.c b/drivers/staging/comedi/drivers/das16.c
index 7e51137fcf5c..a0998a2efd62 100644
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -700,7 +700,7 @@ static const struct das16_board_struct das16_boards[] = {
 
 static int das16_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das16_detach(struct comedi_device * dev);
-static comedi_driver driver_das16 = {
+static struct comedi_driver driver_das16 = {
       driver_name:"das16",
       module:THIS_MODULE,
       attach:das16_attach,
diff --git a/drivers/staging/comedi/drivers/das16m1.c b/drivers/staging/comedi/drivers/das16m1.c
index 48211a87961e..d87fd21a3bb6 100644
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -168,7 +168,7 @@ static const das16m1_board das16m1_boards[] = {
 
 static int das16m1_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das16m1_detach(struct comedi_device * dev);
-static comedi_driver driver_das16m1 = {
+static struct comedi_driver driver_das16m1 = {
       driver_name:"das16m1",
       module:THIS_MODULE,
       attach:das16m1_attach,
diff --git a/drivers/staging/comedi/drivers/das1800.c b/drivers/staging/comedi/drivers/das1800.c
index 47d92c70ca0a..2bdb6a33dde4 100644
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -504,7 +504,7 @@ static const comedi_lrange range_ao_2 = {
 };
 */
 
-static comedi_driver driver_das1800 = {
+static struct comedi_driver driver_das1800 = {
       driver_name:"das1800",
       module:THIS_MODULE,
       attach:das1800_attach,
diff --git a/drivers/staging/comedi/drivers/das6402.c b/drivers/staging/comedi/drivers/das6402.c
index 6c0a28cb712c..628e11160825 100644
--- a/drivers/staging/comedi/drivers/das6402.c
+++ b/drivers/staging/comedi/drivers/das6402.c
@@ -100,7 +100,7 @@ This driver has suffered bitrot.
 
 static int das6402_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das6402_detach(struct comedi_device * dev);
-static comedi_driver driver_das6402 = {
+static struct comedi_driver driver_das6402 = {
       driver_name:"das6402",
       module:THIS_MODULE,
       attach:das6402_attach,
diff --git a/drivers/staging/comedi/drivers/das800.c b/drivers/staging/comedi/drivers/das800.c
index 92df82216f3e..83422936021f 100644
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -246,7 +246,7 @@ static int das800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das800_detach(struct comedi_device * dev);
 static int das800_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_das800 = {
+static struct comedi_driver driver_das800 = {
       driver_name:"das800",
       module:THIS_MODULE,
       attach:das800_attach,
diff --git a/drivers/staging/comedi/drivers/dmm32at.c b/drivers/staging/comedi/drivers/dmm32at.c
index d710dd652053..68c18fff5369 100644
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -46,7 +46,7 @@ Configuration Options:
  * Devices: a full list of the boards that attempt to be supported by
  *   the driver.  Format is "(manufacturer) board name [comedi name]",
  *   where comedi_name is the name that is used to configure the board.
- *   See the comment near board_name: in the comedi_driver structure
+ *   See the comment near board_name: in the struct comedi_driver structure
  *   below.  If (manufacturer) or [comedi name] is missing, the previous
  *   value is used.
  * Author: you
@@ -253,14 +253,14 @@ typedef struct {
 #define devpriv ((dmm32at_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int dmm32at_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dmm32at_detach(struct comedi_device * dev);
-static comedi_driver driver_dmm32at = {
+static struct comedi_driver driver_dmm32at = {
       driver_name:"dmm32at",
       module:THIS_MODULE,
       attach:dmm32at_attach,
diff --git a/drivers/staging/comedi/drivers/dt2801.c b/drivers/staging/comedi/drivers/dt2801.c
index 1f6e4bfa8cd2..944489791da8 100644
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -90,7 +90,7 @@ Configuration options:
 
 static int dt2801_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2801_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2801 = {
+static struct comedi_driver driver_dt2801 = {
       driver_name:"dt2801",
       module:THIS_MODULE,
       attach:dt2801_attach,
diff --git a/drivers/staging/comedi/drivers/dt2811.c b/drivers/staging/comedi/drivers/dt2811.c
index ca2e83f3630f..8190ae15878a 100644
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -214,7 +214,7 @@ static const boardtype boardtypes[] = {
 
 static int dt2811_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2811_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2811 = {
+static struct comedi_driver driver_dt2811 = {
       driver_name:"dt2811",
       module:THIS_MODULE,
       attach:dt2811_attach,
diff --git a/drivers/staging/comedi/drivers/dt2814.c b/drivers/staging/comedi/drivers/dt2814.c
index f886d1c376ed..eb46d0f5e0db 100644
--- a/drivers/staging/comedi/drivers/dt2814.c
+++ b/drivers/staging/comedi/drivers/dt2814.c
@@ -61,7 +61,7 @@ addition, the clock does not seem to be very accurate.
 
 static int dt2814_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2814_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2814 = {
+static struct comedi_driver driver_dt2814 = {
       driver_name:"dt2814",
       module:THIS_MODULE,
       attach:dt2814_attach,
diff --git a/drivers/staging/comedi/drivers/dt2815.c b/drivers/staging/comedi/drivers/dt2815.c
index 75b89430be8c..0f45cadca370 100644
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -77,7 +77,7 @@ static const comedi_lrange range_dt2815_ao_20_current = { 1, {
 
 static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2815_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2815 = {
+static struct comedi_driver driver_dt2815 = {
       driver_name:"dt2815",
       module:THIS_MODULE,
       attach:dt2815_attach,
diff --git a/drivers/staging/comedi/drivers/dt2817.c b/drivers/staging/comedi/drivers/dt2817.c
index 5e012856a58e..203c6b3e8cbf 100644
--- a/drivers/staging/comedi/drivers/dt2817.c
+++ b/drivers/staging/comedi/drivers/dt2817.c
@@ -49,7 +49,7 @@ Configuration options:
 
 static int dt2817_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2817_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2817 = {
+static struct comedi_driver driver_dt2817 = {
       driver_name:"dt2817",
       module:THIS_MODULE,
       attach:dt2817_attach,
diff --git a/drivers/staging/comedi/drivers/dt282x.c b/drivers/staging/comedi/drivers/dt282x.c
index 5da648d2399b..bed21029871b 100644
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -396,7 +396,7 @@ typedef struct {
 
 static int dt282x_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt282x_detach(struct comedi_device * dev);
-static comedi_driver driver_dt282x = {
+static struct comedi_driver driver_dt282x = {
       driver_name:"dt282x",
       module:THIS_MODULE,
       attach:dt282x_attach,
diff --git a/drivers/staging/comedi/drivers/dt3000.c b/drivers/staging/comedi/drivers/dt3000.c
index add9b11fa157..0e29d7f8c71c 100644
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -273,7 +273,7 @@ typedef struct {
 
 static int dt3000_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt3000_detach(struct comedi_device * dev);
-static comedi_driver driver_dt3000 = {
+static struct comedi_driver driver_dt3000 = {
       driver_name:"dt3000",
       module:THIS_MODULE,
       attach:dt3000_attach,
diff --git a/drivers/staging/comedi/drivers/dt9812.c b/drivers/staging/comedi/drivers/dt9812.c
index 3dd357336fa7..e304a614a97e 100644
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -1108,7 +1108,7 @@ static int dt9812_detach(struct comedi_device *dev)
 	return 0;
 }
 
-static comedi_driver dt9812_comedi_driver = {
+static struct comedi_driver dt9812_comedi_driver = {
 	.module = THIS_MODULE,
 	.driver_name = "dt9812",
 	.attach = dt9812_attach,
diff --git a/drivers/staging/comedi/drivers/fl512.c b/drivers/staging/comedi/drivers/fl512.c
index 54f2c2a6c51c..a2f4db9aa4ad 100644
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -43,7 +43,7 @@ static const comedi_lrange range_fl512 = { 4, {
 static int fl512_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int fl512_detach(struct comedi_device * dev);
 
-static comedi_driver driver_fl512 = {
+static struct comedi_driver driver_fl512 = {
       driver_name:"fl512",
       module:THIS_MODULE,
       attach:fl512_attach,
diff --git a/drivers/staging/comedi/drivers/gsc_hpdi.c b/drivers/staging/comedi/drivers/gsc_hpdi.c
index aefee40710c1..ccc010f40d47 100644
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -327,7 +327,7 @@ static inline hpdi_private *priv(struct comedi_device * dev)
 	return dev-&gt;private;
 }
 
-static comedi_driver driver_hpdi = {
+static struct comedi_driver driver_hpdi = {
       driver_name:"gsc_hpdi",
       module:THIS_MODULE,
       attach:hpdi_attach,
diff --git a/drivers/staging/comedi/drivers/icp_multi.c b/drivers/staging/comedi/drivers/icp_multi.c
index ee17c6ce838c..b30318172b28 100644
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -173,7 +173,7 @@ static const struct boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(struct boardtype))
 
-static comedi_driver driver_icp_multi = {
+static struct comedi_driver driver_icp_multi = {
       driver_name:"icp_multi",
       module : THIS_MODULE,
       attach : icp_multi_attach,
diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index df21bf255d02..e1376a173f33 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -159,7 +159,7 @@ typedef struct {
 static int pci20xxx_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci20xxx_detach(struct comedi_device * dev);
 
-static comedi_driver driver_pci20xxx = {
+static struct comedi_driver driver_pci20xxx = {
       driver_name:"ii_pci20kc",
       module:THIS_MODULE,
       attach:pci20xxx_attach,
diff --git a/drivers/staging/comedi/drivers/jr3_pci.c b/drivers/staging/comedi/drivers/jr3_pci.c
index 44b5c4ff3648..f256b9981c32 100644
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -106,7 +106,7 @@ static int comedi_load_firmware(struct comedi_device * dev,
 static int jr3_pci_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int jr3_pci_detach(struct comedi_device * dev);
 
-static comedi_driver driver_jr3_pci = {
+static struct comedi_driver driver_jr3_pci = {
       driver_name:"jr3_pci",
       module:THIS_MODULE,
       attach:jr3_pci_attach,
diff --git a/drivers/staging/comedi/drivers/ke_counter.c b/drivers/staging/comedi/drivers/ke_counter.c
index 08f09ac19d70..5ee1cf51aa13 100644
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -86,7 +86,7 @@ typedef struct {
 
 #define devpriv ((cnt_device_private *)dev-&gt;private)
 
-static comedi_driver cnt_driver = {
+static struct comedi_driver cnt_driver = {
       driver_name:CNT_DRIVER_NAME,
       module:THIS_MODULE,
       attach:cnt_attach,
diff --git a/drivers/staging/comedi/drivers/me4000.c b/drivers/staging/comedi/drivers/me4000.c
index 17de86a3988c..095da3f1315d 100644
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -120,7 +120,7 @@ static const me4000_board_t me4000_boards[] = {
   ---------------------------------------------------------------------------*/
 static int me4000_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int me4000_detach(struct comedi_device *dev);
-static comedi_driver driver_me4000 = {
+static struct comedi_driver driver_me4000 = {
       driver_name:"me4000",
       module : THIS_MODULE,
       attach : me4000_attach,
diff --git a/drivers/staging/comedi/drivers/me_daq.c b/drivers/staging/comedi/drivers/me_daq.c
index 084b903d0cd6..e47a954f189e 100644
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -246,7 +246,8 @@ static const struct me_board me_boards[] = {
 
 #define me_board_nbr (sizeof(me_boards)/sizeof(struct me_board))
 
-static comedi_driver me_driver = {
+
+static struct comedi_driver me_driver = {
       .driver_name =	ME_DRIVER_NAME,
       .module =		THIS_MODULE,
       .attach =		me_attach,
diff --git a/drivers/staging/comedi/drivers/mpc624.c b/drivers/staging/comedi/drivers/mpc624.c
index 2a30dda24bc4..9b9c8c038dbd 100644
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -147,7 +147,7 @@ static const comedi_lrange range_mpc624_bipolar10 = {
 static int mpc624_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int mpc624_detach(struct comedi_device * dev);
 //----------------------------------------------------------------------------
-static comedi_driver driver_mpc624 = {
+static struct comedi_driver driver_mpc624 = {
       driver_name:"mpc624",
       module:THIS_MODULE,
       attach:mpc624_attach,
diff --git a/drivers/staging/comedi/drivers/mpc8260cpm.c b/drivers/staging/comedi/drivers/mpc8260cpm.c
index 40057a0b8f97..9588f2652d22 100644
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -46,7 +46,7 @@ typedef struct {
 
 static int mpc8260cpm_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int mpc8260cpm_detach(struct comedi_device * dev);
-static comedi_driver driver_mpc8260cpm = {
+static struct comedi_driver driver_mpc8260cpm = {
       driver_name:"mpc8260cpm",
       module:THIS_MODULE,
       attach:mpc8260cpm_attach,
diff --git a/drivers/staging/comedi/drivers/multiq3.c b/drivers/staging/comedi/drivers/multiq3.c
index 151d6d4bdde4..186676e5f86d 100644
--- a/drivers/staging/comedi/drivers/multiq3.c
+++ b/drivers/staging/comedi/drivers/multiq3.c
@@ -84,7 +84,7 @@ Devices: [Quanser Consulting] MultiQ-3 (multiq3)
 
 static int multiq3_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int multiq3_detach(struct comedi_device * dev);
-static comedi_driver driver_multiq3 = {
+static struct comedi_driver driver_multiq3 = {
       driver_name:"multiq3",
       module:THIS_MODULE,
       attach:multiq3_attach,
diff --git a/drivers/staging/comedi/drivers/ni_6527.c b/drivers/staging/comedi/drivers/ni_6527.c
index 453588813293..7879f8675820 100644
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -77,7 +77,7 @@ Updated: Sat, 25 Jan 2003 13:24:40 -0800
 
 static int ni6527_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni6527_detach(struct comedi_device * dev);
-static comedi_driver driver_ni6527 = {
+static struct comedi_driver driver_ni6527 = {
       driver_name:"ni6527",
       module:THIS_MODULE,
       attach:ni6527_attach,
diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index c12dcb6cae60..b89543115c27 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -104,7 +104,7 @@ static inline unsigned Filter_Enable(unsigned port)
 
 static int ni_65xx_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni_65xx_detach(struct comedi_device * dev);
-static comedi_driver driver_ni_65xx = {
+static struct comedi_driver driver_ni_65xx = {
       driver_name:"ni_65xx",
       module:THIS_MODULE,
       attach:ni_65xx_attach,
diff --git a/drivers/staging/comedi/drivers/ni_660x.c b/drivers/staging/comedi/drivers/ni_660x.c
index 3304472d0a76..469f9553f034 100644
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -450,7 +450,7 @@ static void init_tio_chip(struct comedi_device * dev, int chipset);
 static void ni_660x_select_pfi_output(struct comedi_device * dev, unsigned pfi_channel,
 	unsigned output_select);
 
-static comedi_driver driver_ni_660x = {
+static struct comedi_driver driver_ni_660x = {
       driver_name:"ni_660x",
       module:THIS_MODULE,
       attach:ni_660x_attach,
diff --git a/drivers/staging/comedi/drivers/ni_670x.c b/drivers/staging/comedi/drivers/ni_670x.c
index 0bcbfd1cd5ba..7dbbfdcb1973 100644
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -111,7 +111,7 @@ typedef struct {
 static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni_670x_detach(struct comedi_device * dev);
 
-static comedi_driver driver_ni_670x = {
+static struct comedi_driver driver_ni_670x = {
       driver_name:"ni_670x",
       module:THIS_MODULE,
       attach:ni_670x_attach,
diff --git a/drivers/staging/comedi/drivers/ni_at_a2150.c b/drivers/staging/comedi/drivers/ni_at_a2150.c
index c15568d3cd46..87edc61f6a4e 100644
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -171,7 +171,7 @@ static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int a2150_detach(struct comedi_device * dev);
 static int a2150_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_a2150 = {
+static struct comedi_driver driver_a2150 = {
       driver_name:"ni_at_a2150",
       module:THIS_MODULE,
       attach:a2150_attach,
diff --git a/drivers/staging/comedi/drivers/ni_at_ao.c b/drivers/staging/comedi/drivers/ni_at_ao.c
index e5083a2111c3..2176bb2d743d 100644
--- a/drivers/staging/comedi/drivers/ni_at_ao.c
+++ b/drivers/staging/comedi/drivers/ni_at_ao.c
@@ -180,7 +180,7 @@ typedef struct {
 
 static int atao_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int atao_detach(struct comedi_device * dev);
-static comedi_driver driver_atao = {
+static struct comedi_driver driver_atao = {
       driver_name:"ni_at_ao",
       module:THIS_MODULE,
       attach:atao_attach,
diff --git a/drivers/staging/comedi/drivers/ni_atmio.c b/drivers/staging/comedi/drivers/ni_atmio.c
index 0e30050b91e6..d5baaa1ca3ff 100644
--- a/drivers/staging/comedi/drivers/ni_atmio.c
+++ b/drivers/staging/comedi/drivers/ni_atmio.c
@@ -340,7 +340,7 @@ MODULE_DEVICE_TABLE(pnp, device_ids);
 
 static int ni_atmio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni_atmio_detach(struct comedi_device * dev);
-static comedi_driver driver_atmio = {
+static struct comedi_driver driver_atmio = {
       driver_name:"ni_atmio",
       module:THIS_MODULE,
       attach:ni_atmio_attach,
diff --git a/drivers/staging/comedi/drivers/ni_atmio16d.c b/drivers/staging/comedi/drivers/ni_atmio16d.c
index 9c59c51863fe..592922aad85c 100644
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -134,7 +134,7 @@ static void reset_counters(struct comedi_device * dev);
 static void reset_atmio16d(struct comedi_device * dev);
 
 /* main driver struct */
-static comedi_driver driver_atmio16d = {
+static struct comedi_driver driver_atmio16d = {
       driver_name:"atmio16",
       module:THIS_MODULE,
       attach:atmio16d_attach,
diff --git a/drivers/staging/comedi/drivers/ni_daq_700.c b/drivers/staging/comedi/drivers/ni_daq_700.c
index 8a0a5fa50eee..ea906a7fef14 100644
--- a/drivers/staging/comedi/drivers/ni_daq_700.c
+++ b/drivers/staging/comedi/drivers/ni_daq_700.c
@@ -97,7 +97,7 @@ typedef struct {
 
 #define devpriv ((dio700_private *)dev-&gt;private)
 
-static comedi_driver driver_dio700 = {
+static struct comedi_driver driver_dio700 = {
       driver_name:"ni_daq_700",
       module:THIS_MODULE,
       attach:dio700_attach,
diff --git a/drivers/staging/comedi/drivers/ni_daq_dio24.c b/drivers/staging/comedi/drivers/ni_daq_dio24.c
index f2c73a4af068..5783a8f57730 100644
--- a/drivers/staging/comedi/drivers/ni_daq_dio24.c
+++ b/drivers/staging/comedi/drivers/ni_daq_dio24.c
@@ -97,7 +97,7 @@ typedef struct {
 
 #define devpriv ((dio24_private *)dev-&gt;private)
 
-static comedi_driver driver_dio24 = {
+static struct comedi_driver driver_dio24 = {
       driver_name:"ni_daq_dio24",
       module:THIS_MODULE,
       attach:dio24_attach,
diff --git a/drivers/staging/comedi/drivers/ni_labpc.c b/drivers/staging/comedi/drivers/ni_labpc.c
index 6ba97da42def..e1326a35e78c 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -429,7 +429,7 @@ static const int sample_size = 2;	// 2 bytes per sample
 
 #define devpriv ((labpc_private *)dev-&gt;private)
 
-static comedi_driver driver_labpc = {
+static struct comedi_driver driver_labpc = {
 	.driver_name = DRV_NAME,
 	.module = THIS_MODULE,
 	.attach = labpc_attach,
diff --git a/drivers/staging/comedi/drivers/ni_labpc_cs.c b/drivers/staging/comedi/drivers/ni_labpc_cs.c
index f41d39b75df9..f94cde904dd7 100644
--- a/drivers/staging/comedi/drivers/ni_labpc_cs.c
+++ b/drivers/staging/comedi/drivers/ni_labpc_cs.c
@@ -116,7 +116,7 @@ static const labpc_board labpc_cs_boards[] = {
  */
 #define thisboard ((const labpc_board *)dev-&gt;board_ptr)
 
-static comedi_driver driver_labpc_cs = {
+static struct comedi_driver driver_labpc_cs = {
 	.driver_name = "ni_labpc_cs",
 	.module = THIS_MODULE,
 	.attach = &amp;labpc_attach,
diff --git a/drivers/staging/comedi/drivers/ni_mio_cs.c b/drivers/staging/comedi/drivers/ni_mio_cs.c
index 4891bc2805f8..c3dad5937e05 100644
--- a/drivers/staging/comedi/drivers/ni_mio_cs.c
+++ b/drivers/staging/comedi/drivers/ni_mio_cs.c
@@ -227,7 +227,7 @@ static uint16_t mio_cs_win_in(struct comedi_device * dev, int addr)
 
 static int mio_cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int mio_cs_detach(struct comedi_device * dev);
-static comedi_driver driver_ni_mio_cs = {
+static struct comedi_driver driver_ni_mio_cs = {
       driver_name:"ni_mio_cs",
       module:THIS_MODULE,
       attach:mio_cs_attach,
diff --git a/drivers/staging/comedi/drivers/ni_pcidio.c b/drivers/staging/comedi/drivers/ni_pcidio.c
index d75939bcca17..5b0f2b61b1ee 100644
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -291,7 +291,7 @@ static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int nidio_detach(struct comedi_device * dev);
 static int ni_pcidio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_pcidio = {
+static struct comedi_driver driver_pcidio = {
       driver_name:"ni_pcidio",
       module:THIS_MODULE,
       attach:nidio_attach,
diff --git a/drivers/staging/comedi/drivers/ni_pcimio.c b/drivers/staging/comedi/drivers/ni_pcimio.c
index 105dab0758f1..173d0a57245a 100644
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -1209,7 +1209,7 @@ static const ni_board ni_boards[] = {
 
 static int pcimio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcimio_detach(struct comedi_device * dev);
-static comedi_driver driver_pcimio = {
+static struct comedi_driver driver_pcimio = {
 	driver_name: DRV_NAME,
 	module:THIS_MODULE,
 	attach:pcimio_attach,
diff --git a/drivers/staging/comedi/drivers/pcl711.c b/drivers/staging/comedi/drivers/pcl711.c
index 4261fcc85adf..e2f73ca1aa15 100644
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -156,7 +156,7 @@ static const boardtype boardtypes[] = {
 
 static int pcl711_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcl711_detach(struct comedi_device * dev);
-static comedi_driver driver_pcl711 = {
+static struct comedi_driver driver_pcl711 = {
       driver_name:"pcl711",
       module:THIS_MODULE,
       attach:pcl711_attach,
diff --git a/drivers/staging/comedi/drivers/pcl724.c b/drivers/staging/comedi/drivers/pcl724.c
index a65bcfb1043b..b9af0c045e7c 100644
--- a/drivers/staging/comedi/drivers/pcl724.c
+++ b/drivers/staging/comedi/drivers/pcl724.c
@@ -81,7 +81,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static comedi_driver driver_pcl724 = {
+static struct comedi_driver driver_pcl724 = {
       driver_name:"pcl724",
       module:THIS_MODULE,
       attach:pcl724_attach,
diff --git a/drivers/staging/comedi/drivers/pcl725.c b/drivers/staging/comedi/drivers/pcl725.c
index a2ea3e154bb2..570193598d98 100644
--- a/drivers/staging/comedi/drivers/pcl725.c
+++ b/drivers/staging/comedi/drivers/pcl725.c
@@ -22,7 +22,7 @@ Devices: [Advantech] PCL-725 (pcl725)
 
 static int pcl725_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcl725_detach(struct comedi_device * dev);
-static comedi_driver driver_pcl725 = {
+static struct comedi_driver driver_pcl725 = {
       driver_name:"pcl725",
       module:THIS_MODULE,
       attach:pcl725_attach,
diff --git a/drivers/staging/comedi/drivers/pcl726.c b/drivers/staging/comedi/drivers/pcl726.c
index 23e98550c58b..f63b60f6f7d4 100644
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -149,7 +149,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static comedi_driver driver_pcl726 = {
+static struct comedi_driver driver_pcl726 = {
       driver_name:"pcl726",
       module:THIS_MODULE,
       attach:pcl726_attach,
diff --git a/drivers/staging/comedi/drivers/pcl730.c b/drivers/staging/comedi/drivers/pcl730.c
index 974f96cfcf45..63b4a35159a8 100644
--- a/drivers/staging/comedi/drivers/pcl730.c
+++ b/drivers/staging/comedi/drivers/pcl730.c
@@ -43,7 +43,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static comedi_driver driver_pcl730 = {
+static struct comedi_driver driver_pcl730 = {
       driver_name:"pcl730",
       module:THIS_MODULE,
       attach:pcl730_attach,
diff --git a/drivers/staging/comedi/drivers/pcl812.c b/drivers/staging/comedi/drivers/pcl812.c
index b678dd6dd73f..a44f1fb3af54 100644
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -374,7 +374,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static comedi_driver driver_pcl812 = {
+static struct comedi_driver driver_pcl812 = {
       driver_name:"pcl812",
       module:THIS_MODULE,
       attach:pcl812_attach,
diff --git a/drivers/staging/comedi/drivers/pcl816.c b/drivers/staging/comedi/drivers/pcl816.c
index f1282c68d7ef..c5a969898c12 100644
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -154,7 +154,7 @@ static int RTC_lock = 0;	/* RTC lock */
 static int RTC_timer_lock = 0;	/* RTC int lock */
 #endif
 
-static comedi_driver driver_pcl816 = {
+static struct comedi_driver driver_pcl816 = {
       driver_name:"pcl816",
       module:THIS_MODULE,
       attach:pcl816_attach,
diff --git a/drivers/staging/comedi/drivers/pcl818.c b/drivers/staging/comedi/drivers/pcl818.c
index d202022c1be6..afe326e7d98c 100644
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -299,7 +299,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pcl818 = {
+static struct comedi_driver driver_pcl818 = {
       driver_name:"pcl818",
       module:THIS_MODULE,
       attach:pcl818_attach,
diff --git a/drivers/staging/comedi/drivers/pcm3724.c b/drivers/staging/comedi/drivers/pcm3724.c
index dedf92c6a149..5d965466f0f2 100644
--- a/drivers/staging/comedi/drivers/pcm3724.c
+++ b/drivers/staging/comedi/drivers/pcm3724.c
@@ -85,7 +85,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static comedi_driver driver_pcm3724 = {
+static struct comedi_driver driver_pcm3724 = {
       driver_name:"pcm3724",
       module:THIS_MODULE,
       attach:pcm3724_attach,
diff --git a/drivers/staging/comedi/drivers/pcm3730.c b/drivers/staging/comedi/drivers/pcm3730.c
index e89b3c7ea550..b505a015be06 100644
--- a/drivers/staging/comedi/drivers/pcm3730.c
+++ b/drivers/staging/comedi/drivers/pcm3730.c
@@ -30,7 +30,7 @@ Configuration options:
 
 static int pcm3730_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcm3730_detach(struct comedi_device * dev);
-static comedi_driver driver_pcm3730 = {
+static struct comedi_driver driver_pcm3730 = {
       driver_name:"pcm3730",
       module:THIS_MODULE,
       attach:pcm3730_attach,
diff --git a/drivers/staging/comedi/drivers/pcmad.c b/drivers/staging/comedi/drivers/pcmad.c
index 5cb0e59cb216..b129a473587b 100644
--- a/drivers/staging/comedi/drivers/pcmad.c
+++ b/drivers/staging/comedi/drivers/pcmad.c
@@ -78,7 +78,7 @@ struct pcmad_priv_struct {
 
 static int pcmad_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcmad_detach(struct comedi_device * dev);
-static comedi_driver driver_pcmad = {
+static struct comedi_driver driver_pcmad = {
       driver_name:"pcmad",
       module:THIS_MODULE,
       attach:pcmad_attach,
diff --git a/drivers/staging/comedi/drivers/pcmda12.c b/drivers/staging/comedi/drivers/pcmda12.c
index 32cfc35daee2..a2dfb4bf65f8 100644
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -100,7 +100,7 @@ typedef struct {
 #define devpriv ((pcmda12_private *)(dev-&gt;private))
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -110,7 +110,7 @@ static int pcmda12_detach(struct comedi_device * dev);
 
 static void zero_chans(struct comedi_device * dev);
 
-static comedi_driver driver = {
+static struct comedi_driver driver = {
       driver_name:"pcmda12",
       module:THIS_MODULE,
       attach:pcmda12_attach,
diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 6af8637880c0..0dcc09982fa6 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -259,7 +259,7 @@ typedef struct {
 #define devpriv ((pcmmio_private *)dev-&gt;private)
 #define subpriv ((pcmmio_subdev_private *)s-&gt;private)
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -267,7 +267,7 @@ typedef struct {
 static int pcmmio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcmmio_detach(struct comedi_device * dev);
 
-static comedi_driver driver = {
+static struct comedi_driver driver = {
       driver_name:"pcmmio",
       module:THIS_MODULE,
       attach:pcmmio_attach,
diff --git a/drivers/staging/comedi/drivers/pcmuio.c b/drivers/staging/comedi/drivers/pcmuio.c
index 6dc42eb047d3..7204084073f0 100644
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -217,7 +217,7 @@ typedef struct {
 #define devpriv ((pcmuio_private *)dev-&gt;private)
 #define subpriv ((pcmuio_subdev_private *)s-&gt;private)
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -225,7 +225,7 @@ typedef struct {
 static int pcmuio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcmuio_detach(struct comedi_device * dev);
 
-static comedi_driver driver = {
+static struct comedi_driver driver = {
       driver_name:"pcmuio",
       module:THIS_MODULE,
       attach:pcmuio_attach,
diff --git a/drivers/staging/comedi/drivers/poc.c b/drivers/staging/comedi/drivers/poc.c
index 5fc566f4aaa3..dde46b126312 100644
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -103,7 +103,7 @@ static const struct boarddef_struct boards[] = {
 #define n_boards (sizeof(boards)/sizeof(boards[0]))
 #define this_board ((const struct boarddef_struct *)dev-&gt;board_ptr)
 
-static comedi_driver driver_poc = {
+static struct comedi_driver driver_poc = {
       driver_name:"poc",
       module:THIS_MODULE,
       attach:poc_attach,
diff --git a/drivers/staging/comedi/drivers/quatech_daqp_cs.c b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
index a3bfa6465b56..c30b1ccb2903 100644
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -199,7 +199,7 @@ static const comedi_lrange range_daqp_ao = { 1, {BIP_RANGE(5)} };
 
 static int daqp_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int daqp_detach(struct comedi_device * dev);
-static comedi_driver driver_daqp = {
+static struct comedi_driver driver_daqp = {
       driver_name:"quatech_daqp_cs",
       module:THIS_MODULE,
       attach:daqp_attach,
diff --git a/drivers/staging/comedi/drivers/rtd520.c b/drivers/staging/comedi/drivers/rtd520.c
index 405c2040a881..c238f5b97d85 100644
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -675,7 +675,7 @@ struct rtdPrivate {
     readb (devpriv-&gt;lcfg+LCFG_DMACSR1)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attac/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -683,7 +683,7 @@ struct rtdPrivate {
 static int rtd_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int rtd_detach(struct comedi_device *dev);
 
-static comedi_driver rtd520Driver = {
+static struct comedi_driver rtd520Driver = {
       driver_name: DRV_NAME,
       module : THIS_MODULE,
       attach : rtd_attach,
diff --git a/drivers/staging/comedi/drivers/rti800.c b/drivers/staging/comedi/drivers/rti800.c
index 3525813b9bf3..0d2e9ff4f4f6 100644
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -131,7 +131,7 @@ static const boardtype boardtypes[] = {
 
 static int rti800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int rti800_detach(struct comedi_device * dev);
-static comedi_driver driver_rti800 = {
+static struct comedi_driver driver_rti800 = {
       driver_name:"rti800",
       module:THIS_MODULE,
       attach:rti800_attach,
diff --git a/drivers/staging/comedi/drivers/rti802.c b/drivers/staging/comedi/drivers/rti802.c
index 0985c858cb2f..0d2d1c310d03 100644
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -49,7 +49,7 @@ Configuration Options:
 
 static int rti802_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int rti802_detach(struct comedi_device * dev);
-static comedi_driver driver_rti802 = {
+static struct comedi_driver driver_rti802 = {
       driver_name:"rti802",
       module:THIS_MODULE,
       attach:rti802_attach,
diff --git a/drivers/staging/comedi/drivers/s526.c b/drivers/staging/comedi/drivers/s526.c
index 51ff5a7e5639..d3881498e164 100644
--- a/drivers/staging/comedi/drivers/s526.c
+++ b/drivers/staging/comedi/drivers/s526.c
@@ -210,14 +210,14 @@ typedef struct {
 #define devpriv ((s526_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int s526_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int s526_detach(struct comedi_device * dev);
-static comedi_driver driver_s526 = {
+static struct comedi_driver driver_s526 = {
       driver_name:"s526",
       module:THIS_MODULE,
       attach:s526_attach,
diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index 4bba963cd537..ac6424ca25da 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -121,7 +121,7 @@ MODULE_DEVICE_TABLE(pci, s626_pci_table);
 static int s626_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int s626_detach(struct comedi_device *dev);
 
-static comedi_driver driver_s626 = {
+static struct comedi_driver driver_s626 = {
       driver_name:"s626",
       module : THIS_MODULE,
       attach : s626_attach,
diff --git a/drivers/staging/comedi/drivers/serial2002.c b/drivers/staging/comedi/drivers/serial2002.c
index c23a4322c1a8..7c056a328c0d 100644
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -87,7 +87,7 @@ typedef struct {
 
 static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int serial2002_detach(struct comedi_device * dev);
-comedi_driver driver_serial2002 = {
+struct comedi_driver driver_serial2002 = {
       driver_name:"serial2002",
       module:THIS_MODULE,
       attach:serial2002_attach,
diff --git a/drivers/staging/comedi/drivers/skel.c b/drivers/staging/comedi/drivers/skel.c
index 13b14454f59a..5dda0cd6c990 100644
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -44,7 +44,7 @@ Configuration Options:
  * Devices: a full list of the boards that attempt to be supported by
  *   the driver.  Format is "(manufacturer) board name [comedi name]",
  *   where comedi_name is the name that is used to configure the board.
- *   See the comment near board_name: in the comedi_driver structure
+ *   See the comment near board_name: in the struct comedi_driver structure
  *   below.  If (manufacturer) or [comedi name] is missing, the previous
  *   value is used.
  * Author: you
@@ -146,14 +146,14 @@ typedef struct {
 #define devpriv ((skel_private *)dev-&gt;private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int skel_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int skel_detach(struct comedi_device * dev);
-static comedi_driver driver_skel = {
+static struct comedi_driver driver_skel = {
       driver_name:"dummy",
       module:THIS_MODULE,
       attach:skel_attach,
diff --git a/drivers/staging/comedi/drivers/ssv_dnp.c b/drivers/staging/comedi/drivers/ssv_dnp.c
index db31c2066aec..a5fda67f4a6a 100644
--- a/drivers/staging/comedi/drivers/ssv_dnp.c
+++ b/drivers/staging/comedi/drivers/ssv_dnp.c
@@ -80,7 +80,7 @@ typedef struct {
 #define devpriv ((dnp_private *)dev-&gt;private)
 
 /* ------------------------------------------------------------------------- */
-/* The comedi_driver structure tells the Comedi core module which functions  */
+/* The struct comedi_driver structure tells the Comedi core module which functions  */
 /* to call to configure/deconfigure (attach/detach) the board, and also      */
 /* about the kernel module that contains the device code.                    */
 /*                                                                           */
@@ -90,7 +90,7 @@ typedef struct {
 static int dnp_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dnp_detach(struct comedi_device * dev);
 
-static comedi_driver driver_dnp = {
+static struct comedi_driver driver_dnp = {
       driver_name:"ssv_dnp",
       module:THIS_MODULE,
       attach:dnp_attach,
diff --git a/drivers/staging/comedi/drivers/unioxx5.c b/drivers/staging/comedi/drivers/unioxx5.c
index 34c44718b522..bc5511d03ced 100644
--- a/drivers/staging/comedi/drivers/unioxx5.c
+++ b/drivers/staging/comedi/drivers/unioxx5.c
@@ -102,7 +102,7 @@ static int __unioxx5_analog_read(unioxx5_subd_priv * usp, unsigned int * data,
 static int __unioxx5_define_chan_offset(int chan_num);
 static void __unioxx5_analog_config(unioxx5_subd_priv * usp, int channel);
 
-static comedi_driver unioxx5_driver = {
+static struct comedi_driver unioxx5_driver = {
       driver_name:DRIVER_NAME,
       module:THIS_MODULE,
       attach:unioxx5_attach,
diff --git a/drivers/staging/comedi/drivers/usbdux.c b/drivers/staging/comedi/drivers/usbdux.c
index 41872a3a68b2..e3462c4a5a65 100644
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -2903,7 +2903,7 @@ static int usbdux_detach(struct comedi_device *dev)
 }
 
 /* main driver struct */
-static comedi_driver driver_usbdux = {
+static struct comedi_driver driver_usbdux = {
       .driver_name =	"usbdux",
       .module =		THIS_MODULE,
       .attach =		usbdux_attach,
diff --git a/drivers/staging/comedi/drivers/usbduxfast.c b/drivers/staging/comedi/drivers/usbduxfast.c
index e141484f11ae..54b49580505a 100644
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -1856,7 +1856,7 @@ static int usbduxfast_detach(struct comedi_device *dev)
 /*
  * main driver struct
  */
-static comedi_driver driver_usbduxfast = {
+static struct comedi_driver driver_usbduxfast = {
 	.driver_name	= "usbduxfast",
 	.module		= THIS_MODULE,
 	.attach		= usbduxfast_attach,
diff --git a/drivers/staging/comedi/proc.c b/drivers/staging/comedi/proc.c
index bb208f852a00..36ae2cd92ad9 100644
--- a/drivers/staging/comedi/proc.c
+++ b/drivers/staging/comedi/proc.c
@@ -36,7 +36,7 @@
 int comedi_read_procmem(char *buf, char **start, off_t offset, int len,
 	int *eof, void *data);
 
-extern comedi_driver *comedi_drivers;
+extern struct comedi_driver *comedi_drivers;
 
 int comedi_read_procmem(char *buf, char **start, off_t offset, int len,
 	int *eof, void *data)
@@ -44,7 +44,7 @@ int comedi_read_procmem(char *buf, char **start, off_t offset, int len,
 	int i;
 	int devices_q = 0;
 	int l = 0;
-	comedi_driver *driv;
+	struct comedi_driver *driv;
 
 	l += sprintf(buf + l,
 		"comedi version " COMEDI_RELEASE "\n"</pre><hr><pre>commit d163679ceec20c50f9aee880fa76c0c1185244a8
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:20 2009 -0400

    Staging: comedi: Remove comedi_async typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index eac18a742b22..d38addd01d4a 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -275,7 +275,7 @@ static int do_devconfig_ioctl(struct comedi_device *dev, comedi_devconfig *arg)
 static int do_bufconfig_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufconfig bc;
-	comedi_async *async;
+	struct comedi_async *async;
 	struct comedi_subdevice *s;
 	int ret = 0;
 
@@ -558,7 +558,7 @@ static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufinfo bi;
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	if (copy_from_user(&amp;bi, arg, sizeof(comedi_bufinfo)))
 		return -EFAULT;
@@ -979,7 +979,7 @@ static int do_cmd_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 	int ret = 0;
 	unsigned int *chanlist_saver = NULL;
 
@@ -1384,7 +1384,7 @@ static int do_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 
 void comedi_unmap(struct vm_area_struct *area)
 {
-	comedi_async *async;
+	struct comedi_async *async;
 	struct comedi_device *dev;
 
 	async = area-&gt;vm_private_data;
@@ -1405,7 +1405,7 @@ static int comedi_mmap(struct file *file, struct vm_area_struct *vma)
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
 	struct comedi_device *dev = dev_file_info-&gt;device;
-	comedi_async *async = NULL;
+	struct comedi_async *async = NULL;
 	unsigned long start = vma-&gt;vm_start;
 	unsigned long size;
 	int n_pages;
@@ -1524,7 +1524,7 @@ static ssize_t comedi_write(struct file *file, const char *buf, size_t nbytes,
 			    loff_t *offset)
 {
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 	int n, m, count = 0, retval = 0;
 	DECLARE_WAITQUEUE(wait, current);
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
@@ -1626,7 +1626,7 @@ static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
 			   loff_t *offset)
 {
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 	int n, m, count = 0, retval = 0;
 	DECLARE_WAITQUEUE(wait, current);
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
@@ -1735,7 +1735,7 @@ static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
  */
 void do_become_nonbusy(struct comedi_device *dev, struct comedi_subdevice *s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 
 	comedi_set_subdevice_runflags(s, SRF_RUNNING, 0);
 #ifdef CONFIG_COMEDI_RT
@@ -2008,7 +2008,7 @@ void comedi_error(const struct comedi_device *dev, const char *s)
 
 void comedi_event(struct comedi_device *dev, struct comedi_subdevice *s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	unsigned runflags = 0;
 	unsigned runflags_mask = 0;
 
diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index 4fba9e7d437e..1fdb093f9318 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,7 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_async_struct comedi_async;
 typedef struct comedi_driver_struct comedi_driver;
 typedef struct comedi_lrange_struct comedi_lrange;
 
@@ -139,7 +138,7 @@ struct comedi_subdevice {
 
 	void *private;
 
-	comedi_async *async;
+	struct comedi_async *async;
 
 	void *lock;
 	void *busy;
@@ -196,7 +195,7 @@ struct comedi_buf_page {
 	dma_addr_t dma_addr;
 };
 
-struct comedi_async_struct {
+struct comedi_async {
 	struct comedi_subdevice *subdevice;
 
 	void *prealloc_buf;	/* pre-allocated buffer */
@@ -469,31 +468,31 @@ static inline void comedi_set_hw_dev(struct comedi_device *dev, struct device *h
 	}
 }
 
-int comedi_buf_put(comedi_async *async, short x);
-int comedi_buf_get(comedi_async *async, short *x);
+int comedi_buf_put(struct comedi_async *async, short x);
+int comedi_buf_get(struct comedi_async *async, short *x);
 
-unsigned int comedi_buf_write_n_available(comedi_async *async);
-unsigned int comedi_buf_write_alloc(comedi_async *async, unsigned int nbytes);
-unsigned int comedi_buf_write_alloc_strict(comedi_async *async,
+unsigned int comedi_buf_write_n_available(struct comedi_async *async);
+unsigned int comedi_buf_write_alloc(struct comedi_async *async, unsigned int nbytes);
+unsigned int comedi_buf_write_alloc_strict(struct comedi_async *async,
 	unsigned int nbytes);
-unsigned comedi_buf_write_free(comedi_async *async, unsigned int nbytes);
-unsigned comedi_buf_read_alloc(comedi_async *async, unsigned nbytes);
-unsigned comedi_buf_read_free(comedi_async *async, unsigned int nbytes);
-unsigned int comedi_buf_read_n_available(comedi_async *async);
-void comedi_buf_memcpy_to(comedi_async *async, unsigned int offset,
+unsigned comedi_buf_write_free(struct comedi_async *async, unsigned int nbytes);
+unsigned comedi_buf_read_alloc(struct comedi_async *async, unsigned nbytes);
+unsigned comedi_buf_read_free(struct comedi_async *async, unsigned int nbytes);
+unsigned int comedi_buf_read_n_available(struct comedi_async *async);
+void comedi_buf_memcpy_to(struct comedi_async *async, unsigned int offset,
 	const void *source, unsigned int num_bytes);
-void comedi_buf_memcpy_from(comedi_async *async, unsigned int offset,
+void comedi_buf_memcpy_from(struct comedi_async *async, unsigned int offset,
 	void *destination, unsigned int num_bytes);
-static inline unsigned comedi_buf_write_n_allocated(comedi_async *async)
+static inline unsigned comedi_buf_write_n_allocated(struct comedi_async *async)
 {
 	return async-&gt;buf_write_alloc_count - async-&gt;buf_write_count;
 }
-static inline unsigned comedi_buf_read_n_allocated(comedi_async *async)
+static inline unsigned comedi_buf_read_n_allocated(struct comedi_async *async)
 {
 	return async-&gt;buf_read_alloc_count - async-&gt;buf_read_count;
 }
 
-void comedi_reset_async_buf(comedi_async *async);
+void comedi_reset_async_buf(struct comedi_async *async);
 
 static inline void *comedi_aux_data(int options[], int n)
 {
diff --git a/drivers/staging/comedi/drivers.c b/drivers/staging/comedi/drivers.c
index 32f3aca2d7f4..30e3beb6e97b 100644
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -228,7 +228,7 @@ static int postconfig(struct comedi_device *dev)
 {
 	int i;
 	struct comedi_subdevice *s;
-	comedi_async *async = NULL;
+	struct comedi_async *async = NULL;
 	int ret;
 
 	for (i = 0; i &lt; dev-&gt;n_subdevices; i++) {
@@ -245,7 +245,7 @@ static int postconfig(struct comedi_device *dev)
 				SDF_CMD_WRITE)) == 0);
 			BUG_ON(!s-&gt;do_cmdtest);
 
-			async = kzalloc(sizeof(comedi_async), GFP_KERNEL);
+			async = kzalloc(sizeof(struct comedi_async), GFP_KERNEL);
 			if (async == NULL) {
 				printk("failed to allocate async struct\n");
 				return -ENOMEM;
@@ -415,7 +415,7 @@ static inline unsigned long kvirt_to_kva(unsigned long adr)
 int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 
 	/* Round up new_size to multiple of PAGE_SIZE */
 	new_size = (new_size + PAGE_SIZE - 1) &amp; PAGE_MASK;
@@ -536,7 +536,7 @@ int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 
 /* munging is applied to data by core as it passes between user
  * and kernel space */
-unsigned int comedi_buf_munge(comedi_async *async, unsigned int num_bytes)
+unsigned int comedi_buf_munge(struct comedi_async *async, unsigned int num_bytes)
 {
 	struct comedi_subdevice *s = async-&gt;subdevice;
 	unsigned int count = 0;
@@ -580,7 +580,7 @@ unsigned int comedi_buf_munge(comedi_async *async, unsigned int num_bytes)
 	return count;
 }
 
-unsigned int comedi_buf_write_n_available(comedi_async *async)
+unsigned int comedi_buf_write_n_available(struct comedi_async *async)
 {
 	unsigned int free_end;
 	unsigned int nbytes;
@@ -600,7 +600,7 @@ unsigned int comedi_buf_write_n_available(comedi_async *async)
 }
 
 /* allocates chunk for the writer from free buffer space */
-unsigned int comedi_buf_write_alloc(comedi_async *async, unsigned int nbytes)
+unsigned int comedi_buf_write_alloc(struct comedi_async *async, unsigned int nbytes)
 {
 	unsigned int free_end = async-&gt;buf_read_count + async-&gt;prealloc_bufsz;
 
@@ -615,7 +615,7 @@ unsigned int comedi_buf_write_alloc(comedi_async *async, unsigned int nbytes)
 }
 
 /* allocates nothing unless it can completely fulfill the request */
-unsigned int comedi_buf_write_alloc_strict(comedi_async *async,
+unsigned int comedi_buf_write_alloc_strict(struct comedi_async *async,
 	unsigned int nbytes)
 {
 	unsigned int free_end = async-&gt;buf_read_count + async-&gt;prealloc_bufsz;
@@ -631,7 +631,7 @@ unsigned int comedi_buf_write_alloc_strict(comedi_async *async,
 }
 
 /* transfers a chunk from writer to filled buffer space */
-unsigned comedi_buf_write_free(comedi_async *async, unsigned int nbytes)
+unsigned comedi_buf_write_free(struct comedi_async *async, unsigned int nbytes)
 {
 	if ((int)(async-&gt;buf_write_count + nbytes -
 			async-&gt;buf_write_alloc_count) &gt; 0) {
@@ -649,7 +649,7 @@ unsigned comedi_buf_write_free(comedi_async *async, unsigned int nbytes)
 }
 
 /* allocates a chunk for the reader from filled (and munged) buffer space */
-unsigned comedi_buf_read_alloc(comedi_async *async, unsigned nbytes)
+unsigned comedi_buf_read_alloc(struct comedi_async *async, unsigned nbytes)
 {
 	if ((int)(async-&gt;buf_read_alloc_count + nbytes - async-&gt;munge_count) &gt;
 		0) {
@@ -663,7 +663,7 @@ unsigned comedi_buf_read_alloc(comedi_async *async, unsigned nbytes)
 }
 
 /* transfers control of a chunk from reader to free buffer space */
-unsigned comedi_buf_read_free(comedi_async *async, unsigned int nbytes)
+unsigned comedi_buf_read_free(struct comedi_async *async, unsigned int nbytes)
 {
 	/*  barrier insures data has been read out of buffer before read count is incremented */
 	smp_mb();
@@ -679,7 +679,7 @@ unsigned comedi_buf_read_free(comedi_async *async, unsigned int nbytes)
 	return nbytes;
 }
 
-void comedi_buf_memcpy_to(comedi_async *async, unsigned int offset,
+void comedi_buf_memcpy_to(struct comedi_async *async, unsigned int offset,
 	const void *data, unsigned int num_bytes)
 {
 	unsigned int write_ptr = async-&gt;buf_write_ptr + offset;
@@ -704,7 +704,7 @@ void comedi_buf_memcpy_to(comedi_async *async, unsigned int offset,
 	}
 }
 
-void comedi_buf_memcpy_from(comedi_async *async, unsigned int offset,
+void comedi_buf_memcpy_from(struct comedi_async *async, unsigned int offset,
 	void *dest, unsigned int nbytes)
 {
 	void *src;
@@ -730,7 +730,7 @@ void comedi_buf_memcpy_from(comedi_async *async, unsigned int offset,
 	}
 }
 
-unsigned int comedi_buf_read_n_available(comedi_async *async)
+unsigned int comedi_buf_read_n_available(struct comedi_async *async)
 {
 	unsigned num_bytes;
 
@@ -745,7 +745,7 @@ unsigned int comedi_buf_read_n_available(comedi_async *async)
 	return num_bytes;
 }
 
-int comedi_buf_get(comedi_async *async, short *x)
+int comedi_buf_get(struct comedi_async *async, short *x)
 {
 	unsigned int n = comedi_buf_read_n_available(async);
 
@@ -757,7 +757,7 @@ int comedi_buf_get(comedi_async *async, short *x)
 	return 1;
 }
 
-int comedi_buf_put(comedi_async *async, short x)
+int comedi_buf_put(struct comedi_async *async, short x)
 {
 	unsigned int n = comedi_buf_write_alloc_strict(async, sizeof(short));
 
@@ -770,7 +770,7 @@ int comedi_buf_put(comedi_async *async, short x)
 	return 1;
 }
 
-void comedi_reset_async_buf(comedi_async *async)
+void comedi_reset_async_buf(struct comedi_async *async)
 {
 	async-&gt;buf_write_alloc_count = 0;
 	async-&gt;buf_write_count = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
index d8c495ddaae7..9af284314913 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
@@ -1630,14 +1630,15 @@ void v_APCI3120_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-/*int i_APCI3120_InterruptHandleEos(struct comedi_device *dev)
+/*
+ * int i_APCI3120_InterruptHandleEos(struct comedi_device *dev)
 {
        int n_chan,i;
        short *data;
        struct comedi_subdevice *s=dev-&gt;subdevices+0;
-       comedi_async *async = s-&gt;async;
-       data=async-&gt;data+async-&gt;buf_int_ptr;//new samples added from here onwards
-       n_chan=devpriv-&gt;ui_AiNbrofChannels;
+       struct comedi_async *async = s-&gt;async;
+       data=async-&gt;data+async-&gt;buf_int_ptr;
+        n_chan=devpriv-&gt;ui_AiNbrofChannels;
 
        for(i=0;i&lt;n_chan;i++)
          {
diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index 587a94bf2244..cc6b1c6713c4 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -913,7 +913,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 {
 	struct comedi_device *dev = p_device;
 	struct comedi_subdevice *subdevice = dev-&gt;read_subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 	unsigned long irq_flags;
 	unsigned char intcsr;
 
diff --git a/drivers/staging/comedi/drivers/amplc_pci224.c b/drivers/staging/comedi/drivers/amplc_pci224.c
index 247b1eaaa17f..e575f7deb31d 100644
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -1185,7 +1185,7 @@ static void
 pci224_ao_munge(struct comedi_device * dev, struct comedi_subdevice * s, void *data,
 	unsigned int num_bytes, unsigned int chan_index)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	short *array = data;
 	unsigned int length = num_bytes / sizeof(*array);
 	unsigned int offset;
diff --git a/drivers/staging/comedi/drivers/amplc_pci230.c b/drivers/staging/comedi/drivers/amplc_pci230.c
index ee5f20320256..99ffbd2a961c 100644
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -1450,7 +1450,7 @@ static int pci230_ao_inttrig_scan_begin(struct comedi_device * dev,
 
 static void pci230_ao_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned long irqflags;
 
@@ -2147,7 +2147,7 @@ static void pci230_ai_start(struct comedi_device * dev, struct comedi_subdevice
 {
 	unsigned long irqflags;
 	unsigned short conv;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 
 	set_bit(AI_CMD_STARTED, &amp;devpriv-&gt;state);
@@ -2300,7 +2300,7 @@ static int pci230_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s
 	unsigned char zgat;
 
 	/* Get the command. */
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 
 	/*
@@ -2626,7 +2626,7 @@ static void pci230_handle_ao_nofifo(struct comedi_device * dev, struct comedi_su
 {
 	short data;
 	int i, ret;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 
 	if (!devpriv-&gt;ao_continuous &amp;&amp; (devpriv-&gt;ao_scan_count == 0)) {
@@ -2661,7 +2661,7 @@ static void pci230_handle_ao_nofifo(struct comedi_device * dev, struct comedi_su
 /* Returns 0 if AO finished due to completion or error, 1 if still going. */
 static int pci230_handle_ao_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int num_scans;
 	unsigned int room;
@@ -2769,7 +2769,7 @@ static void pci230_handle_ai(struct comedi_device * dev, struct comedi_subdevice
 	unsigned int i;
 	unsigned int todo;
 	unsigned int fifoamount;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	unsigned int scanlen = async-&gt;cmd.scan_end_arg;
 
 	/* Determine number of samples to read. */
diff --git a/drivers/staging/comedi/drivers/cb_pcidas.c b/drivers/staging/comedi/drivers/cb_pcidas.c
index aa431466053e..53fa8ee0fb7b 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -449,7 +449,7 @@ static comedi_driver driver_cb_pcidas = {
       detach:cb_pcidas_detach,
 };
 
-static int cb_pcidas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
@@ -463,8 +463,9 @@ static int cb_pcidas_ai_cmd(struct comedi_device * dev, struct comedi_subdevice
 static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
-static int cb_pcidas_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * subdev,
-	unsigned int trig_num);
+static int cb_pcidas_ao_inttrig(struct comedi_device *dev,
+				struct comedi_subdevice *subdev,
+				unsigned int trig_num);
 static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG);
@@ -1164,7 +1165,7 @@ static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, struct comedi_subdev
 
 static int cb_pcidas_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int bits;
 	unsigned long flags;
@@ -1364,7 +1365,7 @@ static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, struct comedi_subdev
 
 static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i;
 	unsigned long flags;
@@ -1425,11 +1426,12 @@ static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice
 	return 0;
 }
 
-static int cb_pcidas_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
-	unsigned int trig_num)
+static int cb_pcidas_ao_inttrig(struct comedi_device *dev,
+				struct comedi_subdevice *s,
+				unsigned int trig_num)
 {
 	unsigned int num_bytes, num_points = thisboard-&gt;fifo_size;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
 
@@ -1478,7 +1480,7 @@ static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 	int status, s5933_status;
 	int half_fifo = thisboard-&gt;fifo_size / 2;
 	unsigned int num_samples, i;
@@ -1589,7 +1591,7 @@ static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status)
 {
 	struct comedi_subdevice *s = dev-&gt;write_subdev;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int half_fifo = thisboard-&gt;fifo_size / 2;
 	unsigned int num_points;
@@ -1642,7 +1644,7 @@ static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status)
 	comedi_event(dev, s);
 }
 
-// cancel analog input command
+/* cancel analog input command */
 static int cb_pcidas_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
@@ -1661,8 +1663,9 @@ static int cb_pcidas_cancel(struct comedi_device * dev, struct comedi_subdevice
 	return 0;
 }
 
-// cancel analog output command
-static int cb_pcidas_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
+/* cancel analog output command */
+static int cb_pcidas_ao_cancel(struct comedi_device *dev,
+			       struct comedi_subdevice *s)
 {
 	unsigned long flags;
 
diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index f1e121110332..345eeb6241bf 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -2681,7 +2681,7 @@ static inline void load_first_dma_descriptor(struct comedi_device * dev,
 
 static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	uint32_t bits;
 	unsigned int i;
@@ -2800,7 +2800,7 @@ static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 static void pio_drain_ai_fifo_16(struct comedi_device * dev)
 {
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i;
 	uint16_t prepost_bits;
@@ -2867,7 +2867,7 @@ static void pio_drain_ai_fifo_16(struct comedi_device * dev)
 static void pio_drain_ai_fifo_32(struct comedi_device * dev)
 {
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i;
 	unsigned int max_transfer = 100000;
@@ -2908,7 +2908,7 @@ static void pio_drain_ai_fifo(struct comedi_device * dev)
 
 static void drain_dma_buffers(struct comedi_device * dev, unsigned int channel)
 {
-	comedi_async *async = dev-&gt;read_subdev-&gt;async;
+	struct comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	uint32_t next_transfer_addr;
 	int j;
 	int num_samples = 0;
@@ -2956,7 +2956,7 @@ void handle_ai_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	uint8_t dma1_status;
 	unsigned long flags;
@@ -3078,7 +3078,7 @@ static void handle_ao_interrupt(struct comedi_device * dev, unsigned short statu
 	unsigned int plx_status)
 {
 	struct comedi_subdevice *s = dev-&gt;write_subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 	comedi_cmd *cmd;
 	uint8_t dma0_status;
 	unsigned long flags;
diff --git a/drivers/staging/comedi/drivers/comedi_fc.c b/drivers/staging/comedi/drivers/comedi_fc.c
index 8e7ec147285d..9fa4cdc84d44 100644
--- a/drivers/staging/comedi/drivers/comedi_fc.c
+++ b/drivers/staging/comedi/drivers/comedi_fc.c
@@ -31,7 +31,7 @@
 static void increment_scan_progress(struct comedi_subdevice *subd,
 				    unsigned int num_bytes)
 {
-	comedi_async *async = subd-&gt;async;
+	struct comedi_async *async = subd-&gt;async;
 	unsigned int scan_length = cfc_bytes_per_scan(subd);
 
 	async-&gt;scan_progress += num_bytes;
@@ -45,7 +45,7 @@ static void increment_scan_progress(struct comedi_subdevice *subd,
 unsigned int cfc_write_array_to_buffer(struct comedi_subdevice *subd, void *data,
 				       unsigned int num_bytes)
 {
-	comedi_async *async = subd-&gt;async;
+	struct comedi_async *async = subd-&gt;async;
 	unsigned int retval;
 
 	if (num_bytes == 0)
@@ -70,7 +70,7 @@ EXPORT_SYMBOL(cfc_write_array_to_buffer);
 unsigned int cfc_read_array_from_buffer(struct comedi_subdevice *subd, void *data,
 					unsigned int num_bytes)
 {
-	comedi_async *async = subd-&gt;async;
+	struct comedi_async *async = subd-&gt;async;
 
 	if (num_bytes == 0)
 		return 0;
diff --git a/drivers/staging/comedi/drivers/comedi_rt_timer.c b/drivers/staging/comedi/drivers/comedi_rt_timer.c
index 76a1cdcfcd1c..93a43bdf3bcf 100644
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -292,7 +292,7 @@ static void scan_task_func(comedi_rt_task_context_t d)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	int i, ret;
 	unsigned long long n;
@@ -580,7 +580,7 @@ static int timer_inttrig(struct comedi_device * dev, struct comedi_subdevice * s
 
 static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	RTIME now, delay, period;
 	int ret;
diff --git a/drivers/staging/comedi/drivers/comedi_test.c b/drivers/staging/comedi/drivers/comedi_test.c
index 462d453eb88f..f8baf83c588c 100644
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -144,7 +144,7 @@ static const comedi_lrange waveform_ai_ranges = {
 static void waveform_ai_interrupt(unsigned long arg)
 {
 	struct comedi_device *dev = (struct comedi_device *) arg;
-	comedi_async *async = dev-&gt;read_subdev-&gt;async;
+	struct comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i, j;
 	/* all times in microsec */
diff --git a/drivers/staging/comedi/drivers/das16.c b/drivers/staging/comedi/drivers/das16.c
index 94e59a5c6629..7e51137fcf5c 100644
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -895,7 +895,7 @@ static int das16_cmd_test(struct comedi_device * dev, struct comedi_subdevice *
 
 static int das16_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int byte;
 	unsigned long flags;
@@ -1201,7 +1201,7 @@ static void das16_interrupt(struct comedi_device * dev)
 {
 	unsigned long dma_flags, spin_flags;
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 	comedi_cmd *cmd;
 	int num_bytes, residue;
 	int buffer_index;
diff --git a/drivers/staging/comedi/drivers/das16m1.c b/drivers/staging/comedi/drivers/das16m1.c
index c337c803ec1e..48211a87961e 100644
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -324,7 +324,7 @@ static int das16m1_cmd_test(struct comedi_device * dev, struct comedi_subdevice
 
 static int das16m1_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int byte, i;
 
@@ -517,7 +517,7 @@ static void munge_sample_array(short * array, unsigned int num_elements)
 static void das16m1_handler(struct comedi_device * dev, unsigned int status)
 {
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 	comedi_cmd *cmd;
 	u16 num_samples;
 	u16 hw_counter;
diff --git a/drivers/staging/comedi/drivers/das1800.c b/drivers/staging/comedi/drivers/das1800.c
index 5a63a00d1a4c..47d92c70ca0a 100644
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -912,7 +912,7 @@ static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG)
 static void das1800_ai_handler(struct comedi_device * dev)
 {
 	struct comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog input subdevice */
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int status = inb(dev-&gt;iobase + DAS1800_STATUS);
 
@@ -1493,7 +1493,7 @@ static int das1800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice
 {
 	int ret;
 	int control_a, control_c;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd cmd = async-&gt;cmd;
 
 	if (!dev-&gt;irq) {
diff --git a/drivers/staging/comedi/drivers/das800.c b/drivers/staging/comedi/drivers/das800.c
index 7833e56b0124..92df82216f3e 100644
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -349,7 +349,7 @@ static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG)
 	short dataPoint = 0;
 	struct comedi_device *dev = d;
 	struct comedi_subdevice *s = dev-&gt;read_subdev;	/* analog input subdevice */
-	comedi_async *async;
+	struct comedi_async *async;
 	int status;
 	unsigned long irq_flags;
 	static const int max_loops = 128;	// half-fifo size for cio-das802/16
@@ -714,7 +714,7 @@ static int das800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice
 	int startChan, endChan, scan, gain;
 	int conv_bits;
 	unsigned long irq_flags;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 
 	if (!dev-&gt;irq) {
 		comedi_error(dev,
diff --git a/drivers/staging/comedi/drivers/gsc_hpdi.c b/drivers/staging/comedi/drivers/gsc_hpdi.c
index fb91fa1da839..aefee40710c1 100644
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -838,7 +838,7 @@ static int di_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	uint32_t bits;
 	unsigned long flags;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 
 	hpdi_writel(dev, RX_FIFO_RESET_BIT, BOARD_CONTROL_REG);
@@ -897,7 +897,7 @@ static int hpdi_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 
 static void drain_dma_buffers(struct comedi_device * dev, unsigned int channel)
 {
-	comedi_async *async = dev-&gt;read_subdev-&gt;async;
+	struct comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	uint32_t next_transfer_addr;
 	int j;
 	int num_samples = 0;
@@ -945,7 +945,7 @@ static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	uint32_t hpdi_intr_status, hpdi_board_status;
 	uint32_t plx_status;
 	uint32_t plx_bits;
diff --git a/drivers/staging/comedi/drivers/mite.c b/drivers/staging/comedi/drivers/mite.c
index e0e2d6c90ac3..ae9017744537 100644
--- a/drivers/staging/comedi/drivers/mite.c
+++ b/drivers/staging/comedi/drivers/mite.c
@@ -317,7 +317,7 @@ void mite_dma_arm(struct mite_channel *mite_chan)
 
 /**************************************/
 
-int mite_buf_change(struct mite_dma_descriptor_ring *ring, comedi_async * async)
+int mite_buf_change(struct mite_dma_descriptor_ring *ring, struct comedi_async * async)
 {
 	unsigned int n_links;
 	int i;
@@ -526,7 +526,7 @@ void mite_dma_disarm(struct mite_channel *mite_chan)
 	writel(chor, mite-&gt;mite_io_addr + MITE_CHOR(mite_chan-&gt;channel));
 }
 
-int mite_sync_input_dma(struct mite_channel *mite_chan, comedi_async * async)
+int mite_sync_input_dma(struct mite_channel *mite_chan, struct comedi_async * async)
 {
 	int count;
 	unsigned int nbytes, old_alloc_count;
@@ -561,7 +561,7 @@ int mite_sync_input_dma(struct mite_channel *mite_chan, comedi_async * async)
 	return 0;
 }
 
-int mite_sync_output_dma(struct mite_channel *mite_chan, comedi_async * async)
+int mite_sync_output_dma(struct mite_channel *mite_chan, struct comedi_async * async)
 {
 	int count;
 	u32 nbytes_ub, nbytes_lb;
diff --git a/drivers/staging/comedi/drivers/mite.h b/drivers/staging/comedi/drivers/mite.h
index bca9f3af7adb..cdaf8a31688a 100644
--- a/drivers/staging/comedi/drivers/mite.h
+++ b/drivers/staging/comedi/drivers/mite.h
@@ -142,8 +142,8 @@ void mite_release_channel(struct mite_channel *mite_chan);
 unsigned mite_dma_tcr(struct mite_channel *mite_chan);
 void mite_dma_arm(struct mite_channel *mite_chan);
 void mite_dma_disarm(struct mite_channel *mite_chan);
-int mite_sync_input_dma(struct mite_channel *mite_chan, comedi_async * async);
-int mite_sync_output_dma(struct mite_channel *mite_chan, comedi_async * async);
+int mite_sync_input_dma(struct mite_channel *mite_chan, struct comedi_async * async);
+int mite_sync_output_dma(struct mite_channel *mite_chan, struct comedi_async * async);
 u32 mite_bytes_written_to_memory_lb(struct mite_channel *mite_chan);
 u32 mite_bytes_written_to_memory_ub(struct mite_channel *mite_chan);
 u32 mite_bytes_read_from_memory_lb(struct mite_channel *mite_chan);
@@ -153,7 +153,7 @@ unsigned mite_get_status(struct mite_channel *mite_chan);
 int mite_done(struct mite_channel *mite_chan);
 
 #if 0
-unsigned long mite_ll_from_kvmem(struct mite_struct *mite, comedi_async * async,
+unsigned long mite_ll_from_kvmem(struct mite_struct *mite, struct comedi_async * async,
 	int len);
 void mite_setregs(struct mite_struct *mite, unsigned long ll_start, int chan,
 	int dir);
@@ -162,7 +162,7 @@ void mite_setregs(struct mite_struct *mite, unsigned long ll_start, int chan,
 void mite_prep_dma(struct mite_channel *mite_chan,
 	unsigned int num_device_bits, unsigned int num_memory_bits);
 int mite_buf_change(struct mite_dma_descriptor_ring *ring,
-	comedi_async *async);
+	struct comedi_async *async);
 
 #ifdef DEBUG_MITE
 void mite_print_chsr(unsigned int chsr);
diff --git a/drivers/staging/comedi/drivers/ni_at_a2150.c b/drivers/staging/comedi/drivers/ni_at_a2150.c
index 4ac5313ea43f..c15568d3cd46 100644
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -214,7 +214,7 @@ static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG)
 	unsigned long flags;
 	struct comedi_device *dev = d;
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 	comedi_cmd *cmd;
 	unsigned int max_points, num_points, residue, leftover;
 	short dpnt;
@@ -617,7 +617,7 @@ static int a2150_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice
 
 static int a2150_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned long lock_flags;
 	unsigned int old_config_bits = devpriv-&gt;config_bits;
diff --git a/drivers/staging/comedi/drivers/ni_labpc.c b/drivers/staging/comedi/drivers/ni_labpc.c
index be528f6c3ab0..6ba97da42def 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -1068,7 +1068,7 @@ static int labpc_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 	int channel, range, aref;
 	unsigned long irq_flags;
 	int ret;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	enum transfer_type xfer;
 	unsigned long flags;
@@ -1313,7 +1313,7 @@ static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 	comedi_cmd *cmd;
 
 	if (dev-&gt;attached == 0) {
@@ -1397,7 +1397,7 @@ static int labpc_drain_fifo(struct comedi_device * dev)
 {
 	unsigned int lsb, msb;
 	short data;
-	comedi_async *async = dev-&gt;read_subdev-&gt;async;
+	struct comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	const int timeout = 10000;
 	unsigned int i;
 
@@ -1430,7 +1430,7 @@ static int labpc_drain_fifo(struct comedi_device * dev)
 static void labpc_drain_dma(struct comedi_device * dev)
 {
 	struct comedi_subdevice *s = dev-&gt;read_subdev;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	int status;
 	unsigned long flags;
 	unsigned int max_points, num_points, residue, leftover;
diff --git a/drivers/staging/comedi/drivers/ni_mio_common.c b/drivers/staging/comedi/drivers/ni_mio_common.c
index 29698d995a19..8f3c959f6265 100644
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -1206,7 +1206,7 @@ static void ni_mio_print_status_b(int status)
 
 static void ni_ao_fifo_load(struct comedi_device * dev, struct comedi_subdevice * s, int n)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	int chan;
 	int i;
@@ -1309,7 +1309,7 @@ static int ni_ao_prep_fifo(struct comedi_device * dev, struct comedi_subdevice *
 
 static void ni_ai_fifo_read(struct comedi_device * dev, struct comedi_subdevice * s, int n)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	int i;
 
 	if (boardtype.reg_type == ni_reg_611x) {
@@ -1516,7 +1516,7 @@ static void get_last_sample_6143(struct comedi_device * dev)
 static void ni_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	unsigned int i;
 	unsigned int length = num_bytes / bytes_per_sample(s);
 	short *array = data;
@@ -2780,7 +2780,7 @@ static int ni_ai_config_analog_trig(struct comedi_device * dev, struct comedi_su
 static void ni_ao_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	unsigned int range;
 	unsigned int i;
 	unsigned int offset;
diff --git a/drivers/staging/comedi/drivers/ni_pcidio.c b/drivers/staging/comedi/drivers/ni_pcidio.c
index 79457ecbafbe..d75939bcca17 100644
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -481,7 +481,7 @@ static irqreturn_t nidio_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
 	struct comedi_subdevice *s = dev-&gt;subdevices;
-	comedi_async *async = s-&gt;async;
+	struct comedi_async *async = s-&gt;async;
 	struct mite_struct *mite = devpriv-&gt;mite;
 
 	//int i, j;
diff --git a/drivers/staging/comedi/drivers/ni_tio.h b/drivers/staging/comedi/drivers/ni_tio.h
index 97a925999ff9..e5dbd82826b0 100644
--- a/drivers/staging/comedi/drivers/ni_tio.h
+++ b/drivers/staging/comedi/drivers/ni_tio.h
@@ -145,7 +145,7 @@ extern int ni_tio_insn_config(struct ni_gpct *counter,
 	comedi_insn * insn, unsigned int * data);
 extern int ni_tio_winsn(struct ni_gpct *counter,
 	comedi_insn * insn, unsigned int * data);
-extern int ni_tio_cmd(struct ni_gpct *counter, comedi_async * async);
+extern int ni_tio_cmd(struct ni_gpct *counter, struct comedi_async *async);
 extern int ni_tio_cmdtest(struct ni_gpct *counter, comedi_cmd * cmd);
 extern int ni_tio_cancel(struct ni_gpct *counter);
 extern void ni_tio_handle_interrupt(struct ni_gpct *counter,
diff --git a/drivers/staging/comedi/drivers/ni_tiocmd.c b/drivers/staging/comedi/drivers/ni_tiocmd.c
index dffaafe9d5fa..2c3a21771875 100644
--- a/drivers/staging/comedi/drivers/ni_tiocmd.c
+++ b/drivers/staging/comedi/drivers/ni_tiocmd.c
@@ -121,7 +121,7 @@ static int ni_tio_input_inttrig(struct comedi_device * dev, struct comedi_subdev
 	return retval;
 }
 
-static int ni_tio_input_cmd(struct ni_gpct *counter, comedi_async * async)
+static int ni_tio_input_cmd(struct ni_gpct *counter, struct comedi_async *async)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -169,7 +169,7 @@ static int ni_tio_input_cmd(struct ni_gpct *counter, comedi_async * async)
 	return retval;
 }
 
-static int ni_tio_output_cmd(struct ni_gpct *counter, comedi_async * async)
+static int ni_tio_output_cmd(struct ni_gpct *counter, struct comedi_async *async)
 {
 	rt_printk("ni_tio: output commands not yet implemented.\n");
 	return -ENOTSUPP;
@@ -181,7 +181,7 @@ static int ni_tio_output_cmd(struct ni_gpct *counter, comedi_async * async)
 	return ni_tio_arm(counter, 1, NI_GPCT_ARM_IMMEDIATE);
 }
 
-static int ni_tio_cmd_setup(struct ni_gpct *counter, comedi_async * async)
+static int ni_tio_cmd_setup(struct ni_gpct *counter, struct comedi_async *async)
 {
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	int set_gate_source = 0;
@@ -207,7 +207,7 @@ static int ni_tio_cmd_setup(struct ni_gpct *counter, comedi_async * async)
 	return retval;
 }
 
-int ni_tio_cmd(struct ni_gpct *counter, comedi_async * async)
+int ni_tio_cmd(struct ni_gpct *counter, struct comedi_async *async)
 {
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	int retval = 0;
diff --git a/drivers/staging/comedi/kcomedilib/get.c b/drivers/staging/comedi/kcomedilib/get.c
index 8237716a20c6..8890fcb7c1c5 100644
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -175,7 +175,7 @@ unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	async = s-&gt;async;
 	if (async == NULL)
@@ -188,7 +188,7 @@ int comedi_get_buffer_contents(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	comedi_async *async;
+	struct comedi_async *async;
 	unsigned int num_bytes;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -208,7 +208,7 @@ int comedi_set_user_int_count(void *d, unsigned int subdevice,
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	comedi_async *async;
+	struct comedi_async *async;
 	int num_bytes;
 
 	async = s-&gt;async;
@@ -229,7 +229,7 @@ int comedi_mark_buffer_read(void *d, unsigned int subdevice,
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
 		return -1;
@@ -248,7 +248,7 @@ int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	comedi_async *async;
+	struct comedi_async *async;
 	int bytes_written;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -267,7 +267,7 @@ int comedi_get_buffer_size(void *d, unsigned int subdev)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdev;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	if (subdev &gt;= dev-&gt;n_subdevices)
 		return -1;
@@ -282,7 +282,7 @@ int comedi_get_buffer_offset(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
 		return -1;
diff --git a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
index 928e93500bbf..31b749d4962a 100644
--- a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
+++ b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
@@ -125,7 +125,7 @@ int comedi_command(void *d, comedi_cmd *cmd)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 	unsigned runflags;
 
 	if (cmd-&gt;subdev &gt;= dev-&gt;n_subdevices)
@@ -372,7 +372,7 @@ int comedi_unlock(void *d, unsigned int subdevice)
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s;
 	unsigned long flags;
-	comedi_async *async;
+	struct comedi_async *async;
 	int ret;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -469,7 +469,7 @@ int comedi_register_callback(void *d, unsigned int subdevice,
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
@@ -505,7 +505,7 @@ int comedi_poll(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev-&gt;subdevices;
-	comedi_async *async;
+	struct comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;</pre><hr><pre>commit 34c43922e62708d45e9660eee4b4f1fb7b4bf2c7
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:14 2009 -0400

    Staging: comedi: Remove comedi_subdevice typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index c8169e03693f..eac18a742b22 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -86,8 +86,8 @@ static int do_insnlist_ioctl(struct comedi_device *dev, void *arg, void *file);
 static int do_insn_ioctl(struct comedi_device *dev, void *arg, void *file);
 static int do_poll_ioctl(struct comedi_device *dev, unsigned int subd, void *file);
 
-extern void do_become_nonbusy(struct comedi_device *dev, comedi_subdevice *s);
-static int do_cancel(struct comedi_device *dev, comedi_subdevice *s);
+extern void do_become_nonbusy(struct comedi_device *dev, struct comedi_subdevice *s);
+static int do_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
 
 static int comedi_fasync(int fd, struct file *file, int on);
 
@@ -276,7 +276,7 @@ static int do_bufconfig_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufconfig bc;
 	comedi_async *async;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 
 	if (copy_from_user(&amp;bc, arg, sizeof(comedi_bufconfig)))
@@ -367,9 +367,9 @@ static int do_devinfo_ioctl(struct comedi_device *dev, comedi_devinfo *arg,
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_subdevice *read_subdev =
+	struct comedi_subdevice *read_subdev =
 	    comedi_get_read_subdevice(dev_file_info);
-	comedi_subdevice *write_subdev =
+	struct comedi_subdevice *write_subdev =
 	    comedi_get_write_subdevice(dev_file_info);
 
 	memset(&amp;devinfo, 0, sizeof(devinfo));
@@ -415,7 +415,7 @@ static int do_subdinfo_ioctl(struct comedi_device *dev, comedi_subdinfo *arg,
 {
 	int ret, i;
 	comedi_subdinfo *tmp, *us;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	tmp = kcalloc(dev-&gt;n_subdevices, sizeof(comedi_subdinfo), GFP_KERNEL);
 	if (!tmp)
@@ -492,7 +492,7 @@ static int do_subdinfo_ioctl(struct comedi_device *dev, comedi_subdinfo *arg,
 */
 static int do_chaninfo_ioctl(struct comedi_device *dev, comedi_chaninfo *arg)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_chaninfo it;
 
 	if (copy_from_user(&amp;it, arg, sizeof(comedi_chaninfo)))
@@ -557,7 +557,7 @@ static int do_chaninfo_ioctl(struct comedi_device *dev, comedi_chaninfo *arg)
 static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufinfo bi;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 
 	if (copy_from_user(&amp;bi, arg, sizeof(comedi_bufinfo)))
@@ -760,7 +760,7 @@ static int check_insn_config_length(comedi_insn *insn, unsigned int *data)
 static int parse_insn(struct comedi_device *dev, comedi_insn *insn, unsigned int *data,
 		      void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 	int i;
 
@@ -978,7 +978,7 @@ static int do_insn_ioctl(struct comedi_device *dev, void *arg, void *file)
 static int do_cmd_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	int ret = 0;
 	unsigned int *chanlist_saver = NULL;
@@ -1132,7 +1132,7 @@ static int do_cmd_ioctl(struct comedi_device *dev, void *arg, void *file)
 static int do_cmdtest_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 	unsigned int *chanlist = NULL;
 	unsigned int *chanlist_saver = NULL;
@@ -1231,7 +1231,7 @@ static int do_lock_ioctl(struct comedi_device *dev, unsigned int arg, void *file
 {
 	int ret = 0;
 	unsigned long flags;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
@@ -1273,7 +1273,7 @@ static int do_lock_ioctl(struct comedi_device *dev, unsigned int arg, void *file
 */
 static int do_unlock_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
@@ -1313,7 +1313,7 @@ static int do_unlock_ioctl(struct comedi_device *dev, unsigned int arg, void *fi
 */
 static int do_cancel_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
@@ -1349,7 +1349,7 @@ static int do_cancel_ioctl(struct comedi_device *dev, unsigned int arg, void *fi
 */
 static int do_poll_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
@@ -1370,7 +1370,7 @@ static int do_poll_ioctl(struct comedi_device *dev, unsigned int arg, void *file
 	return -EINVAL;
 }
 
-static int do_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int do_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int ret = 0;
 
@@ -1411,7 +1411,7 @@ static int comedi_mmap(struct file *file, struct vm_area_struct *vma)
 	int n_pages;
 	int i;
 	int retval;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	mutex_lock(&amp;dev-&gt;mutex);
 	if (!dev-&gt;attached) {
@@ -1481,8 +1481,8 @@ static unsigned int comedi_poll(struct file *file, poll_table *wait)
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
 	struct comedi_device *dev = dev_file_info-&gt;device;
-	comedi_subdevice *read_subdev;
-	comedi_subdevice *write_subdev;
+	struct comedi_subdevice *read_subdev;
+	struct comedi_subdevice *write_subdev;
 
 	mutex_lock(&amp;dev-&gt;mutex);
 	if (!dev-&gt;attached) {
@@ -1523,7 +1523,7 @@ static unsigned int comedi_poll(struct file *file, poll_table *wait)
 static ssize_t comedi_write(struct file *file, const char *buf, size_t nbytes,
 			    loff_t *offset)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	int n, m, count = 0, retval = 0;
 	DECLARE_WAITQUEUE(wait, current);
@@ -1625,7 +1625,7 @@ static ssize_t comedi_write(struct file *file, const char *buf, size_t nbytes,
 static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
 			   loff_t *offset)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	int n, m, count = 0, retval = 0;
 	DECLARE_WAITQUEUE(wait, current);
@@ -1733,7 +1733,7 @@ static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
 /*
    This function restores a subdevice to an idle state.
  */
-void do_become_nonbusy(struct comedi_device *dev, comedi_subdevice *s)
+void do_become_nonbusy(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_async *async = s-&gt;async;
 
@@ -1833,7 +1833,7 @@ static int comedi_close(struct inode *inode, struct file *file)
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
 	struct comedi_device *dev = dev_file_info-&gt;device;
-	comedi_subdevice *s = NULL;
+	struct comedi_subdevice *s = NULL;
 	int i;
 
 	mutex_lock(&amp;dev-&gt;mutex);
@@ -2006,7 +2006,7 @@ void comedi_error(const struct comedi_device *dev, const char *s)
 		  s);
 }
 
-void comedi_event(struct comedi_device *dev, comedi_subdevice *s)
+void comedi_event(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_async *async = s-&gt;async;
 	unsigned runflags = 0;
@@ -2067,7 +2067,7 @@ void comedi_event(struct comedi_device *dev, comedi_subdevice *s)
 	s-&gt;async-&gt;events = 0;
 }
 
-void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
+void comedi_set_subdevice_runflags(struct comedi_subdevice *s, unsigned mask,
 				   unsigned bits)
 {
 	unsigned long flags;
@@ -2078,7 +2078,7 @@ void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
 	comedi_spin_unlock_irqrestore(&amp;s-&gt;spin_lock, flags);
 }
 
-unsigned comedi_get_subdevice_runflags(comedi_subdevice *s)
+unsigned comedi_get_subdevice_runflags(struct comedi_subdevice *s)
 {
 	unsigned long flags;
 	unsigned runflags;
@@ -2091,7 +2091,7 @@ unsigned comedi_get_subdevice_runflags(comedi_subdevice *s)
 
 static int is_device_busy(struct comedi_device *dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 
 	if (!dev-&gt;attached)
@@ -2193,7 +2193,7 @@ void comedi_free_board_minor(unsigned minor)
 	}
 }
 
-int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s)
+int comedi_alloc_subdevice_minor(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
@@ -2231,7 +2231,7 @@ int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s)
 	return i;
 }
 
-void comedi_free_subdevice_minor(comedi_subdevice *s)
+void comedi_free_subdevice_minor(struct comedi_subdevice *s)
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index e0035f3e9287..4fba9e7d437e 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,7 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_subdevice_struct comedi_subdevice;
 typedef struct comedi_async_struct comedi_async;
 typedef struct comedi_driver_struct comedi_driver;
 typedef struct comedi_lrange_struct comedi_lrange;
@@ -131,7 +130,7 @@ typedef struct device device_create_result_type;
 #define COMEDI_DEVICE_CREATE(cs, parent, devt, drvdata, device, fmt...) \
 	device_create(cs, ((parent) ? (parent) : (device)), devt, drvdata, fmt)
 
-struct comedi_subdevice_struct {
+struct comedi_subdevice {
 	struct comedi_device *device;
 	int type;
 	int n_chan;
@@ -162,27 +161,27 @@ struct comedi_subdevice_struct {
 
 	unsigned int *chanlist;	/* driver-owned chanlist (not used) */
 
-	int (*insn_read) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_read) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_write) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_write) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_bits) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_bits) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_config) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_config) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
 
-	int (*do_cmd) (struct comedi_device *, comedi_subdevice *);
-	int (*do_cmdtest) (struct comedi_device *, comedi_subdevice *, comedi_cmd *);
-	int (*poll) (struct comedi_device *, comedi_subdevice *);
-	int (*cancel) (struct comedi_device *, comedi_subdevice *);
-	/* int (*do_lock)(struct comedi_device *,comedi_subdevice *); */
-	/* int (*do_unlock)(struct comedi_device *,comedi_subdevice *); */
+	int (*do_cmd) (struct comedi_device *, struct comedi_subdevice *);
+	int (*do_cmdtest) (struct comedi_device *, struct comedi_subdevice *, comedi_cmd *);
+	int (*poll) (struct comedi_device *, struct comedi_subdevice *);
+	int (*cancel) (struct comedi_device *, struct comedi_subdevice *);
+	/* int (*do_lock)(struct comedi_device *,struct comedi_subdevice *); */
+	/* int (*do_unlock)(struct comedi_device *,struct comedi_subdevice *); */
 
 	/* called when the buffer changes */
-	int (*buf_change) (struct comedi_device *dev, comedi_subdevice *s,
+	int (*buf_change) (struct comedi_device *dev, struct comedi_subdevice *s,
 		unsigned long new_size);
 
-	void (*munge) (struct comedi_device *dev, comedi_subdevice *s, void *data,
+	void (*munge) (struct comedi_device *dev, struct comedi_subdevice *s, void *data,
 		unsigned int num_bytes, unsigned int start_chan_index);
 	enum dma_data_direction async_dma_dir;
 
@@ -198,7 +197,7 @@ struct comedi_buf_page {
 };
 
 struct comedi_async_struct {
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 
 	void *prealloc_buf;	/* pre-allocated buffer */
 	unsigned int prealloc_bufsz;	/* buffer size, in bytes */
@@ -237,7 +236,7 @@ struct comedi_async_struct {
 	int (*cb_func) (unsigned int flags, void *);
 	void *cb_arg;
 
-	int (*inttrig) (struct comedi_device *dev, comedi_subdevice *s,
+	int (*inttrig) (struct comedi_device *dev, struct comedi_subdevice *s,
 			unsigned int x);
 };
 
@@ -277,14 +276,14 @@ struct comedi_device {
 	int in_request_module;
 
 	int n_subdevices;
-	comedi_subdevice *subdevices;
+	struct comedi_subdevice *subdevices;
 
 	/* dumb */
 	unsigned long iobase;
 	unsigned int irq;
 
-	comedi_subdevice *read_subdev;
-	comedi_subdevice *write_subdev;
+	struct comedi_subdevice *read_subdev;
+	struct comedi_subdevice *write_subdev;
 
 	struct fasync_struct *async_queue;
 
@@ -294,8 +293,8 @@ struct comedi_device {
 
 struct comedi_device_file_info {
 	struct comedi_device *device;
-	comedi_subdevice *read_subdevice;
-	comedi_subdevice *write_subdevice;
+	struct comedi_subdevice *read_subdevice;
+	struct comedi_subdevice *write_subdevice;
 };
 
 #ifdef CONFIG_COMEDI_DEBUG
@@ -308,7 +307,7 @@ static const int comedi_debug;
  * function prototypes
  */
 
-void comedi_event(struct comedi_device *dev, comedi_subdevice *s);
+void comedi_event(struct comedi_device *dev, struct comedi_subdevice *s);
 void comedi_error(const struct comedi_device *dev, const char *s);
 
 /* we can expand the number of bits used to encode devices/subdevices into
@@ -323,7 +322,7 @@ static const unsigned COMEDI_SUBDEVICE_MINOR_OFFSET = 1;
 
 struct comedi_device_file_info *comedi_get_device_file_info(unsigned minor);
 
-static inline comedi_subdevice *comedi_get_read_subdevice(
+static inline struct comedi_subdevice *comedi_get_read_subdevice(
 				const struct comedi_device_file_info *info)
 {
 	if (info-&gt;read_subdevice)
@@ -333,7 +332,7 @@ static inline comedi_subdevice *comedi_get_read_subdevice(
 	return info-&gt;device-&gt;read_subdev;
 }
 
-static inline comedi_subdevice *comedi_get_write_subdevice(
+static inline struct comedi_subdevice *comedi_get_write_subdevice(
 				const struct comedi_device_file_info *info)
 {
 	if (info-&gt;write_subdevice)
@@ -353,7 +352,7 @@ void cleanup_polling(void);
 void start_polling(struct comedi_device *);
 void stop_polling(struct comedi_device *);
 
-int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s, unsigned long
+int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s, unsigned long
 	new_size);
 
 #ifdef CONFIG_PROC_FS
@@ -383,11 +382,11 @@ enum subdevice_runflags {
  */
 
 int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg);
-int check_chanlist(comedi_subdevice *s, int n, unsigned int *chanlist);
-void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
+int check_chanlist(struct comedi_subdevice *s, int n, unsigned int *chanlist);
+void comedi_set_subdevice_runflags(struct comedi_subdevice *s, unsigned mask,
 	unsigned bits);
-unsigned comedi_get_subdevice_runflags(comedi_subdevice *s);
-int insn_inval(struct comedi_device *dev, comedi_subdevice *s,
+unsigned comedi_get_subdevice_runflags(struct comedi_subdevice *s);
+int insn_inval(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 
 /* range stuff */
@@ -428,7 +427,7 @@ static inline int alloc_subdevices(struct comedi_device *dev,
 
 	dev-&gt;n_subdevices = num_subdevices;
 	dev-&gt;subdevices =
-		kcalloc(num_subdevices, sizeof(comedi_subdevice), GFP_KERNEL);
+		kcalloc(num_subdevices, sizeof(struct comedi_subdevice), GFP_KERNEL);
 	if (!dev-&gt;subdevices)
 		return -ENOMEM;
 	for (i = 0; i &lt; num_subdevices; ++i) {
@@ -448,7 +447,7 @@ static inline int alloc_private(struct comedi_device *dev, int size)
 	return 0;
 }
 
-static inline unsigned int bytes_per_sample(const comedi_subdevice *subd)
+static inline unsigned int bytes_per_sample(const struct comedi_subdevice *subd)
 {
 	if (subd-&gt;subdev_flags &amp; SDF_LSAMPL)
 		return sizeof(unsigned int);
@@ -523,8 +522,8 @@ static inline void *comedi_aux_data(int options[], int n)
 
 int comedi_alloc_board_minor(struct device *hardware_device);
 void comedi_free_board_minor(unsigned minor);
-int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s);
-void comedi_free_subdevice_minor(comedi_subdevice *s);
+int comedi_alloc_subdevice_minor(struct comedi_device *dev, struct comedi_subdevice *s);
+void comedi_free_subdevice_minor(struct comedi_subdevice *s);
 int comedi_pci_auto_config(struct pci_dev *pcidev, const char *board_name);
 void comedi_pci_auto_unconfig(struct pci_dev *pcidev);
 struct usb_device;	/* forward declaration */
diff --git a/drivers/staging/comedi/drivers.c b/drivers/staging/comedi/drivers.c
index f0eb7341d9ab..32f3aca2d7f4 100644
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -48,12 +48,12 @@
 #include &lt;asm/system.h&gt;
 
 static int postconfig(struct comedi_device *dev);
-static int insn_rw_emulate_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int insn_rw_emulate_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static void *comedi_recognize(comedi_driver * driv, const char *name);
 static void comedi_report_boards(comedi_driver *driv);
-static int poll_invalid(struct comedi_device *dev, comedi_subdevice *s);
-int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
+static int poll_invalid(struct comedi_device *dev, struct comedi_subdevice *s);
+int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size);
 
 comedi_driver *comedi_drivers;
@@ -66,7 +66,7 @@ int comedi_modprobe(int minor)
 static void cleanup_device(struct comedi_device *dev)
 {
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (dev-&gt;subdevices) {
 		for (i = 0; i &lt; dev-&gt;n_subdevices; i++) {
@@ -227,7 +227,7 @@ int comedi_driver_unregister(comedi_driver *driver)
 static int postconfig(struct comedi_device *dev)
 {
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async = NULL;
 	int ret;
 
@@ -331,18 +331,18 @@ void comedi_report_boards(comedi_driver *driv)
 		printk(" %s\n", driv-&gt;driver_name);
 }
 
-static int poll_invalid(struct comedi_device *dev, comedi_subdevice *s)
+static int poll_invalid(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	return -EINVAL;
 }
 
-int insn_inval(struct comedi_device *dev, comedi_subdevice *s,
+int insn_inval(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return -EINVAL;
 }
 
-static int insn_rw_emulate_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int insn_rw_emulate_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	comedi_insn new_insn;
@@ -412,7 +412,7 @@ static inline unsigned long kvirt_to_kva(unsigned long adr)
 	return kva;
 }
 
-int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
+int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size)
 {
 	comedi_async *async = s-&gt;async;
@@ -538,7 +538,7 @@ int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
  * and kernel space */
 unsigned int comedi_buf_munge(comedi_async *async, unsigned int num_bytes)
 {
-	comedi_subdevice *s = async-&gt;subdevice;
+	struct comedi_subdevice *s = async-&gt;subdevice;
 	unsigned int count = 0;
 	const unsigned num_sample_bytes = bytes_per_sample(s);
 
diff --git a/drivers/staging/comedi/drivers/8255.c b/drivers/staging/comedi/drivers/8255.c
index 3355468266a2..e4920ae934ae 100644
--- a/drivers/staging/comedi/drivers/8255.c
+++ b/drivers/staging/comedi/drivers/8255.c
@@ -116,9 +116,9 @@ static comedi_driver driver_8255 = {
 
 COMEDI_INITCLEANUP(driver_8255);
 
-static void do_config(struct comedi_device *dev, comedi_subdevice * s);
+static void do_config(struct comedi_device *dev, struct comedi_subdevice * s);
 
-void subdev_8255_interrupt(struct comedi_device *dev, comedi_subdevice * s)
+void subdev_8255_interrupt(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	short d;
 
@@ -143,7 +143,7 @@ static int subdev_8255_cb(int dir, int port, int data, unsigned long arg)
 	}
 }
 
-static int subdev_8255_insn(struct comedi_device *dev, comedi_subdevice * s,
+static int subdev_8255_insn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -168,7 +168,7 @@ static int subdev_8255_insn(struct comedi_device *dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int subdev_8255_insn_config(struct comedi_device *dev, comedi_subdevice * s,
+static int subdev_8255_insn_config(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -205,7 +205,7 @@ static int subdev_8255_insn_config(struct comedi_device *dev, comedi_subdevice *
 	return 1;
 }
 
-static void do_config(struct comedi_device *dev, comedi_subdevice * s)
+static void do_config(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	int config;
 
@@ -222,7 +222,7 @@ static void do_config(struct comedi_device *dev, comedi_subdevice * s)
 	CALLBACK_FUNC(1, _8255_CR, config, CALLBACK_ARG);
 }
 
-static int subdev_8255_cmdtest(struct comedi_device *dev, comedi_subdevice * s,
+static int subdev_8255_cmdtest(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -297,21 +297,21 @@ static int subdev_8255_cmdtest(struct comedi_device *dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int subdev_8255_cmd(struct comedi_device *dev, comedi_subdevice * s)
+static int subdev_8255_cmd(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-static int subdev_8255_cancel(struct comedi_device *dev, comedi_subdevice * s)
+static int subdev_8255_cancel(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-int subdev_8255_init(struct comedi_device *dev, comedi_subdevice * s, int (*cb) (int,
+int subdev_8255_init(struct comedi_device *dev, struct comedi_subdevice * s, int (*cb) (int,
 		int, int, unsigned long), unsigned long arg)
 {
 	s-&gt;type = COMEDI_SUBD_DIO;
@@ -340,7 +340,7 @@ int subdev_8255_init(struct comedi_device *dev, comedi_subdevice * s, int (*cb)
 	return 0;
 }
 
-int subdev_8255_init_irq(struct comedi_device *dev, comedi_subdevice * s,
+int subdev_8255_init_irq(struct comedi_device *dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg)
 {
 	int ret;
@@ -358,7 +358,7 @@ int subdev_8255_init_irq(struct comedi_device *dev, comedi_subdevice * s,
 	return 0;
 }
 
-void subdev_8255_cleanup(struct comedi_device *dev, comedi_subdevice * s)
+void subdev_8255_cleanup(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	if (s-&gt;private) {
 		if (subdevpriv-&gt;have_irq) {
@@ -420,7 +420,7 @@ static int dev_8255_detach(struct comedi_device *dev)
 {
 	int i;
 	unsigned long iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: 8255: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/8255.h b/drivers/staging/comedi/drivers/8255.h
index 6837cf83c10b..979311b99275 100644
--- a/drivers/staging/comedi/drivers/8255.h
+++ b/drivers/staging/comedi/drivers/8255.h
@@ -28,16 +28,16 @@
 
 #if defined(CONFIG_COMEDI_8255) || defined(CONFIG_COMEDI_8255_MODULE)
 
-int subdev_8255_init(struct comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg);
-int subdev_8255_init_irq(struct comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init_irq(struct comedi_device * dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg);
-void subdev_8255_cleanup(struct comedi_device * dev, comedi_subdevice * s);
-void subdev_8255_interrupt(struct comedi_device * dev, comedi_subdevice * s);
+void subdev_8255_cleanup(struct comedi_device * dev, struct comedi_subdevice * s);
+void subdev_8255_interrupt(struct comedi_device * dev, struct comedi_subdevice * s);
 
 #else
 
-static inline int subdev_8255_init(struct comedi_device * dev, comedi_subdevice * s,
+static inline int subdev_8255_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *x, unsigned long y)
 {
 	printk("8255 support not configured -- disabling subdevice\n");
@@ -48,7 +48,7 @@ static inline int subdev_8255_init(struct comedi_device * dev, comedi_subdevice
 }
 
 static inline void subdev_8255_cleanup(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 }
 
diff --git a/drivers/staging/comedi/drivers/acl7225b.c b/drivers/staging/comedi/drivers/acl7225b.c
index 4c6ad8ab5b61..f273a6f0094e 100644
--- a/drivers/staging/comedi/drivers/acl7225b.c
+++ b/drivers/staging/comedi/drivers/acl7225b.c
@@ -50,7 +50,7 @@ static comedi_driver driver_acl7225b = {
 
 COMEDI_INITCLEANUP(driver_acl7225b);
 
-static int acl7225b_do_insn(struct comedi_device *dev, comedi_subdevice * s,
+static int acl7225b_do_insn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -71,7 +71,7 @@ static int acl7225b_do_insn(struct comedi_device *dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int acl7225b_di_insn(struct comedi_device *dev, comedi_subdevice * s,
+static int acl7225b_di_insn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -85,7 +85,7 @@ static int acl7225b_di_insn(struct comedi_device *dev, comedi_subdevice * s,
 
 static int acl7225b_attach(struct comedi_device *dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int iobase, iorange;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
index 73357d1196ce..d69b87a1691a 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
@@ -32,7 +32,7 @@
 |                                BYTE_   b_InputClockLevel,                  |
 |                                BYTE_   b_OutputLevel,                      |
 |                                BYTE_   b_HardwareGateLevel)
-INT i_InsnConfig_InitTimer(struct comedi_device *dev,comedi_subdevice *s,
+INT i_InsnConfig_InitTimer(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)
 |
 +----------------------------------------------------------------------------+
@@ -219,7 +219,7 @@ INT i_InsnConfig_InitTimer(struct comedi_device *dev,comedi_subdevice *s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTimer(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 				   comedi_insn * insn, unsigned int * data)
 {
 
@@ -406,7 +406,7 @@ INT i_APCI1710_InsnConfigInitTimer(struct comedi_device * dev, comedi_subdevice
 |                                BYTE_ b_ModulNbr,                           |
 |                                BYTE_ b_TimerNbr,                           |
 |                                BYTE_ b_InterruptEnable)
-INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                |
 +----------------------------------------------------------------------------+
 | Task              : Enable OR Disable the Timer (b_TimerNbr) from selected module     |
@@ -449,7 +449,7 @@ i_ReturnValue=insn-&gt;n;
 */
 
 INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device * dev,
-					   comedi_subdevice * s,
+					   struct comedi_subdevice * s,
 					   comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -561,7 +561,7 @@ INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device * dev,
 |                                       (BYTE_     b_BoardHandle,            |
 |                                        BYTE_     b_ModulNbr,               |
 |                                        PULONG_ pul_TimerValueArray)
-INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)        |
 +----------------------------------------------------------------------------+
 | Task              : Return the all timer values from selected timer        |
@@ -590,7 +590,7 @@ INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev,comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data)
 {
 	INT i_ReturnValue = 0;
@@ -669,7 +669,7 @@ INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read write functions for Timer                                          |
 +----------------------------------------------------------------------------+
@@ -681,7 +681,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsTimer(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 			     comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_BitsType;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
index c17ac8ce251c..9785f925a1d4 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
@@ -34,20 +34,20 @@
 /*
  * 82X54 TIMER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTimer(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 
 /*
  * 82X54 READ FUNCTION
  */
-INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 /*
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
index 75361fbaeefd..472e182a582a 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
@@ -131,7 +131,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitChrono(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitChrono(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -791,7 +791,7 @@ INT i_APCI1710_InsnConfigInitChrono(struct comedi_device * dev, comedi_subdevice
 |                                                BYTE_ b_CycleMode,          |
 |                                                BYTE_ b_InterruptEnable)
 INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
 +----------------------------------------------------------------------------+
 | Task              : Enable the chronometer from selected module            |
 |                     (b_ModulNbr). You must calling the                     |
@@ -841,7 +841,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
 */
 
 INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_CycleMode, b_InterruptEnable, b_Action;
@@ -1077,7 +1077,7 @@ INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnReadChrono(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnReadChrono(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read  functions for Timer                                     |
@@ -1090,7 +1090,7 @@ comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadChrono(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadChrono(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ReadType;
@@ -1757,7 +1757,7 @@ INT i_APCI1710_ConvertChronoValue(struct comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                    |
 +----------------------------------------------------------------------------+
 | Task              : Sets the output witch has been passed with the         |
@@ -1877,7 +1877,7 @@ INT i_APCI1710_ConvertChronoValue(struct comedi_device * dev,
 */
 
 INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_OutputChannel, b_InputChannel, b_IOType;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
index ca4f5e117d5b..588f5735e24d 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
@@ -35,18 +35,18 @@
 /*
  * CHRONOMETER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitChrono(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitChrono(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 
 /*
  * CHRONOMETER READ FUNCTION
  */
-INT i_APCI1710_InsnReadChrono(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadChrono(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_GetChronoProgressStatus(struct comedi_device *dev,
@@ -70,5 +70,5 @@ INT i_APCI1710_ConvertChronoValue(struct comedi_device *dev,
  * CHRONOMETER DIGITAL INPUT OUTPUT FUNCTION
  */
 INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,
-				       comedi_subdevice *s, comedi_insn *insn,
+				       struct comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
index 586a897a633c..3b0c502de480 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
@@ -62,7 +62,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, |
-|						comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
+|						struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 +----------------------------------------------------------------------------+
 | Task              : Configure the digital I/O operating mode from selected |
 |                     module  (b_ModulNbr). You must calling this function be|
@@ -99,7 +99,7 @@ Activates and deactivates the digital output memory.
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ModulNbr, b_ChannelAMode, b_ChannelBMode;
@@ -294,7 +294,7 @@ INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device * dev, comedi_subdevice
 //
 //                                             PBYTE_  pb_ChannelStatus)
 INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -446,7 +446,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device
-|*dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
+|*dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets the output witch has been passed with the         |
@@ -482,7 +482,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device * dev,
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_OutputChannel)
 INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_WriteValue = 0;
@@ -729,7 +729,7 @@ INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device * dev,
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_PortValue)
 INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_WriteValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
index 846e9000651b..68a00d69e5f9 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
@@ -27,20 +27,20 @@
 /*
  * DIGITAL I/O INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
  * INPUT OUTPUT  FUNCTIONS
  */
 INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
index b8b4dedb0940..6939895bc401 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
@@ -61,7 +61,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 
 /*
 +----------------------------------------------------------------------------+
-| INT	i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| INT	i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
@@ -75,7 +75,7 @@ comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ConfigType;
@@ -2002,7 +2002,7 @@ INT i_APCI1710_InitFrequencyMeasurement(struct comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Set &amp; Clear Functions for INC_CPT                                          |
@@ -2015,7 +2015,7 @@ comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_BitsType;
@@ -2939,7 +2939,7 @@ INT i_APCI1710_SetDigitalChlOff(struct comedi_device * dev, BYTE b_ModulNbr)
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Enable Disable functions for INC_CPT                                       |
@@ -2951,7 +2951,7 @@ comedi_insn *insn,unsigned int *data)                   |
 | Return Value      :
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1710_InsnWriteINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWriteINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_WriteType;
@@ -4037,7 +4037,7 @@ INT i_APCI1710_DisableFrequencyMeasurement(struct comedi_device * dev, BYTE b_Mo
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read and Get functions for INC_CPT                                       |
@@ -4049,7 +4049,7 @@ comedi_insn *insn,unsigned int *data)                   |
 | Return Value      :
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1710_InsnReadINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ReadType;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
index a4189aeecaad..a4ffd8a1b15c 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
@@ -132,16 +132,16 @@
 #define APCI1710_INCCPT_DISABLEFREQUENCYMEASUREMENT		409
 
 /************ Main Functions *************/
-INT i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev, struct comedi_subdevice * s,
 			      comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev, struct comedi_subdevice * s,
 			       comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnReadINCCPT(struct comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadINCCPT(struct comedi_device *dev, struct comedi_subdevice * s,
 			      comedi_insn *insn, unsigned int * data);
 
 /*********** Supplementary Functions********/
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
index e557e6c40cf6..6f654a39ff7f 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
@@ -124,7 +124,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_IntRegister;
@@ -415,7 +415,7 @@ INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device * dev,
 */
 
 INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr;
@@ -709,7 +709,7 @@ INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device * dev,
    						 PBYTE_ pb_Status)
 						 */
 INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusRegister;
@@ -835,7 +835,7 @@ INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device * dev,
 }
 
 INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	data[0] = devpriv-&gt;s_InterruptParameters.
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
index 1dbdc39f96e0..bf84cb625ea7 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
@@ -22,11 +22,11 @@
 #define APCI1710_PULSEENCODER_WRITE	1
 
 INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device *dev,
-						  comedi_subdevice *s,
+						  struct comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
 
@@ -34,7 +34,7 @@ INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device *dev,
  * READ PULSE ENCODER FUNCTIONS
  */
 INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
@@ -42,6 +42,6 @@ INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device *dev,
  * WRITE PULSE ENCODER FUNCTIONS
  */
 INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
index 178d773563a1..11927b503f45 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
@@ -58,7 +58,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Init and Get Pwm Initialisation                    |
 +----------------------------------------------------------------------------+
@@ -70,7 +70,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigPWM(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigPWM(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ConfigType;
@@ -1671,7 +1671,7 @@ INT i_APCI1710_GetPWMInitialisation(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnWritePWM(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Enable Disable and Set New Timing                  |
 +----------------------------------------------------------------------------+
@@ -1683,7 +1683,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWritePWM(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWritePWM(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_WriteType;
@@ -3460,7 +3460,7 @@ INT i_APCI1710_SetNewPWMTiming(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -3562,7 +3562,7 @@ INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device * dev, comedi_subdevice
 }
 
 INT i_APCI1710_InsnBitsReadPWMInterrupt(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;s_InterruptParameters.
 		s_FIFOInterruptParameters[devpriv-&gt;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
index 0c10b1e8fab4..31a217842e4a 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
@@ -26,7 +26,7 @@
 #define APCI1710_PWM_ENABLE		1
 #define APCI1710_PWM_NEWTIMING		2
 
-INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InitPWM(struct comedi_device *dev,
@@ -50,7 +50,7 @@ INT i_APCI1710_GetPWMInitialisation(struct comedi_device *dev,
 				    PBYTE pb_ExternGate,
 				    PBYTE pb_InterruptEnable, PBYTE pb_Enable);
 
-INT i_APCI1710_InsnWritePWM(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnWritePWM(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_EnablePWM(struct comedi_device *dev,
@@ -68,9 +68,9 @@ INT i_APCI1710_SetNewPWMTiming(struct comedi_device *dev,
 
 INT i_APCI1710_DisablePWM(struct comedi_device *dev, BYTE b_ModulNbr, BYTE b_PWM);
 
-INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsReadPWMInterrupt(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
index de2b158698f6..e67a2236cb60 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
@@ -133,7 +133,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitSSI(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitSSI(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -362,7 +362,7 @@ INT i_APCI1710_InsnConfigInitSSI(struct comedi_device * dev, comedi_subdevice *
 |                                BYTE_     b_SelectedSSI,                    |
 |                                PULONG_ pul_Position,                       |
 |                                PULONG_ pul_TurnCpt)
- INT i_APCI1710_ReadSSIValue(struct comedi_device *dev,comedi_subdevice *s,
+ INT i_APCI1710_ReadSSIValue(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                       |
 +----------------------------------------------------------------------------+
 | Task              :
@@ -400,7 +400,7 @@ pul_Position	=	(PULONG) &amp;data[0];
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadSSIValue(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadSSIValue(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -735,7 +735,7 @@ INT i_APCI1710_InsnReadSSIValue(struct comedi_device * dev, comedi_subdevice * s
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
index 2a631b8163c4..3fc70532729f 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
@@ -33,11 +33,11 @@
 /*
  * SSI INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitSSI(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitSSI(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnReadSSIValue(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadSSIValue(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
index a9cad8066a54..97655db21458 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
@@ -131,7 +131,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	ULONG ul_TimerValue = 0;
@@ -988,7 +988,7 @@ INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device * dev,
 */
 
 INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -1461,7 +1461,7 @@ INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device * dev,
 */
 
 INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -1701,7 +1701,7 @@ INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device * dev,
 */
 
 INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
index 80d100a9bc92..a2940f6d845f 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
@@ -36,22 +36,22 @@
  * TOR_COUNTER INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device *dev,
-						comedi_subdevice *s,
+						struct comedi_subdevice *s,
 						comedi_insn *insn,
 						unsigned int *data);
 
 INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device *dev,
-						   comedi_subdevice *s,
+						   struct comedi_subdevice *s,
 						   comedi_insn *insn,
 						   unsigned int *data);
 /*
  * TOR_COUNTER READ FUNCTION
  */
 INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(struct comedi_device *dev,
-							   comedi_subdevice *s,
+							   struct comedi_subdevice *s,
 							   comedi_insn *insn,
 							   unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
index 9932fc1fa55f..61c1526c43fa 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
@@ -100,7 +100,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -406,7 +406,7 @@ APCI1710_TTL_READCHANNEL
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -634,7 +634,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device
-*dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)              |
+*dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)              |
 +----------------------------------------------------------------------------+
 | Task              : Read the status from all digital input ports           |
 |                     (port A, port B and port C) from selected TTL          |
@@ -656,7 +656,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, comedi_subdevice *
 */
 
 INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -792,7 +792,7 @@ INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
 |                               (BYTE_           b_BoardHandle,              |
 |                                BYTE_           b_ModulNbr,                 |
 |                                BYTE_           b_OutputChannel)
-INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)           |
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets  the output witch has been passed with the         |
@@ -826,7 +826,7 @@ INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,comedi_subdev
 */
 
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
index d0bde4bb809a..fe168db93ae6 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
@@ -24,21 +24,21 @@
 /*
  * TTL INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL INPUT FUNCTION
  */
-INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL OUTPUT FUNCTIONS
  */
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.c b/drivers/staging/comedi/drivers/addi-data/addi_common.c
index 1e091eca8019..49d6332d9db2 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.c
@@ -2561,7 +2561,7 @@ COMEDI_PCI_INITCLEANUP(driver_addi, addi_apci_tbl);
 
 static int i_ADDI_Attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, pages, i, n_subdevices;
 	DWORD dw_Dummy;
 	resource_size_t io_addr[5];
@@ -3029,14 +3029,14 @@ static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 /*
 +----------------------------------------------------------------------------+
 | Function name     :                                                        |
-|INT i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev,comedi_subdevice *s,
+|INT i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev,struct comedi_subdevice *s,
 							comedi_insn *insn,unsigned int *data)
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Read 256 words from EEPROM          				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  :(struct comedi_device *dev,comedi_subdevice *s,
+| Input Parameters  :(struct comedi_device *dev,struct comedi_subdevice *s,
 			comedi_insn *insn,unsigned int *data) 						 |
 |                     														 |
 |                                                 					         |
@@ -3046,7 +3046,7 @@ static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 +----------------------------------------------------------------------------+
 */
 
-static int i_ADDIDATA_InsnReadEeprom(struct comedi_device * dev, comedi_subdevice * s,
+static int i_ADDIDATA_InsnReadEeprom(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	WORD w_Data;
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.h b/drivers/staging/comedi/drivers/addi-data/addi_common.h
index 9f3aa717b403..0df1287d14c8 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -118,103 +118,103 @@ typedef struct {
 
 	/* ANALOG INPUT */
 	int (*i_hwdrv_InsnConfigAnalogInput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnReadAnalogInput)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 	int (*i_hwdrv_InsnWriteAnalogInput)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 	int (*i_hwdrv_InsnBitsAnalogInput)(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn,
 					   unsigned int *data);
 	int (*i_hwdrv_CommandTestAnalogInput)(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_cmd *cmd);
 	int (*i_hwdrv_CommandAnalogInput)(struct comedi_device *dev,
-					  comedi_subdevice *s);
+					  struct comedi_subdevice *s);
 	int (*i_hwdrv_CancelAnalogInput)(struct comedi_device *dev,
-					 comedi_subdevice *s);
+					 struct comedi_subdevice *s);
 
 	/* Analog Output */
 	int (*i_hwdrv_InsnConfigAnalogOutput)(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 	int (*i_hwdrv_InsnWriteAnalogOutput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnBitsAnalogOutput)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 
 	/* Digital Input */
 	int (*i_hwdrv_InsnConfigDigitalInput) (struct comedi_device *dev,
-					       comedi_subdevice *s,
+					       struct comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
 	int (*i_hwdrv_InsnReadDigitalInput) (struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnWriteDigitalInput) (struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 	int (*i_hwdrv_InsnBitsDigitalInput) (struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
 	/* Digital Output */
 	int (*i_hwdrv_InsnConfigDigitalOutput)(struct comedi_device *dev,
-					       comedi_subdevice *s,
+					       struct comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
 	int (*i_hwdrv_InsnWriteDigitalOutput)(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 	int (*i_hwdrv_InsnBitsDigitalOutput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnReadDigitalOutput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
 	/* TIMER */
 	int (*i_hwdrv_InsnConfigTimer)(struct comedi_device *dev,
-				       comedi_subdevice *s,
+				       struct comedi_subdevice *s,
 				       comedi_insn *insn, unsigned int *data);
 	int (*i_hwdrv_InsnWriteTimer)(struct comedi_device *dev,
-				      comedi_subdevice *s, comedi_insn *insn,
+				      struct comedi_subdevice *s, comedi_insn *insn,
 				      unsigned int *data);
-	int (*i_hwdrv_InsnReadTimer)(struct comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdrv_InsnReadTimer)(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-	int (*i_hwdrv_InsnBitsTimer)(struct comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdrv_InsnBitsTimer)(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
 	/* TTL IO */
 	int (*i_hwdr_ConfigInitTTLIO)(struct comedi_device *dev,
-				      comedi_subdevice *s, comedi_insn *insn,
+				      struct comedi_subdevice *s, comedi_insn *insn,
 				      unsigned int *data);
-	int (*i_hwdr_ReadTTLIOBits)(struct comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdr_ReadTTLIOBits)(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 	int (*i_hwdr_ReadTTLIOAllPortValue)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 	int (*i_hwdr_WriteTTLIOChlOnOff)(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 } boardtype;
 
@@ -461,5 +461,5 @@ static int i_ADDI_Detach(struct comedi_device *dev);
 static int i_ADDI_Reset(struct comedi_device *dev);
 
 static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG);
-static int i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev, comedi_subdevice *s,
+static int i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
index 7d6a6e05cdbc..510323d7b7cb 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
@@ -58,7 +58,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 
 void i_ADDI_AttachPCI1710(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 	int n_subdevices = 9;
 
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
index 599c7c3b68f7..360e9da4c999 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
@@ -58,7 +58,7 @@ INT i_Flag = 1;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ConfigTimerWatchdog                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
@@ -109,7 +109,7 @@ INT i_Flag = 1;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;
@@ -254,7 +254,7 @@ INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_StartStopWriteTimerWatchdog              |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , or Watchdog  |
@@ -279,7 +279,7 @@ INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Command = 0;
 	INT i_Count = 0;
@@ -367,7 +367,7 @@ INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadTimerWatchdog                        |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
@@ -391,7 +391,7 @@ INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;	// Status register
@@ -427,13 +427,13 @@ INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI035_ConfigAnalogInput                        |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Input Subdevice                  |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -447,7 +447,7 @@ INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;tsk_Current = current;
@@ -466,7 +466,7 @@ INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadAnalogInput                          |
-|			          (struct comedi_device *dev,comedi_subdevice *s,       |
+|			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel			         |
@@ -484,7 +484,7 @@ INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ReadAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_CommandRegister = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
index c0330d8a3137..2f9af7b20b3e 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
@@ -101,19 +101,19 @@ comedi_lrange range_apci035_ai = { 8, {
 
 /* TIMER */
 /* timer value is passed as u seconds */
-INT i_APCI035_ConfigTimerWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ConfigTimerWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
-INT i_APCI035_ReadTimerWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ReadTimerWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
 /* Temperature Related Defines (Analog Input Subdevice) */
 
-INT i_APCI035_ConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ConfigAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
-INT i_APCI035_ReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ReadAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
 /* Interrupt */
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
index bdfe5e95eb61..d3f13eafb6f5 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
@@ -59,7 +59,7 @@ UINT ui_InterruptStatus = 0;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ConfigDigitalInput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
@@ -84,7 +84,7 @@ UINT ui_InterruptStatus = 0;
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
@@ -128,7 +128,7 @@ INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
@@ -144,7 +144,7 @@ INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -166,7 +166,7 @@ INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
@@ -183,7 +183,7 @@ INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
index cb96ff1778c5..f24704f99f81 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
@@ -47,13 +47,13 @@
 //DI
 // for di read
 
-INT i_APCI1032_ConfigDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_ConfigDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1032_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
index 9a786c9060b6..9806199e0d16 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
@@ -61,7 +61,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 /*
   +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalInputEvent                 |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : An event can be generated for each port.               |
@@ -138,7 +138,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 */
 
 INT i_APCI1500_ConfigDigitalInputEvent(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_PatternPolarity = 0, i_PatternTransition = 0, i_PatternMask = 0;
 	int i_MaxChannel = 0, i_Count = 0, i_EventMask = 0;
@@ -500,7 +500,7 @@ INT i_APCI1500_ConfigDigitalInputEvent(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopInputEvent                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :  Allows or disallows a port event                      |
@@ -519,7 +519,7 @@ INT i_APCI1500_ConfigDigitalInputEvent(struct comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i_Event1InterruptStatus = 0, i_Event2InterruptStatus =
@@ -768,7 +768,7 @@ int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_Initialisation                          |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
@@ -784,7 +784,7 @@ int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1500_Initialisation(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_Initialisation(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i_DummyRead = 0;
@@ -937,7 +937,7 @@ INT i_APCI1500_Initialisation(struct comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
@@ -957,7 +957,7 @@ INT i_APCI1500_Initialisation(struct comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[1];
@@ -1015,7 +1015,7 @@ INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalOutputErrorInterrupt
-                      (struct comedi_device *dev,comedi_subdevice *s comedi_insn
+                      (struct comedi_device *dev,struct comedi_subdevice *s comedi_insn
                       *insn,unsigned int *data)                                  |
 |				                                                     |
 +----------------------------------------------------------------------------+
@@ -1025,7 +1025,7 @@ INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 | Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                                                                                |
 |					  data[0]  :1:Memory on                          |
 |					            0:Memory off                         |
@@ -1041,7 +1041,7 @@ INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
 	return insn-&gt;n;
@@ -1050,7 +1050,7 @@ int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -1067,7 +1067,7 @@ int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	static UINT ui_Temp = 0;
@@ -1215,13 +1215,13 @@ INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device
-                   *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
+                   *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data         : Data Pointer to read status                                                       data[0]                : 2     APCI1500_1_8_KHZ
 |                                              1     APCI1500_3_6_KHZ        |
@@ -1262,7 +1262,7 @@ INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 */
 
 int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_TimerCounterMode, i_MasterConfiguration;
 
@@ -1835,13 +1835,13 @@ int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopTriggerTimerCounterWatchdog      |
-|				(struct comedi_device *dev,comedi_subdevice *s,
+|				(struct comedi_device *dev,struct comedi_subdevice *s,
                          comedi_insn *insn,unsigned int *data);                  |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop or trigger the timer counter or Watchdog  |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev     : Driver handle                 |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data         : Data Pointer to read status   |
                       data[0]                : 0     Counter1/Timer1
@@ -1861,7 +1861,7 @@ int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
 
@@ -2160,13 +2160,13 @@ int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadCounterTimerWatchdog                |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
                       data[0]                : 0     Counter1/Timer1
@@ -2183,7 +2183,7 @@ int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device * dev,
 */
 
 int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
 	switch (data[0]) {
@@ -2351,13 +2351,13 @@ int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ReadInterruptMask                      |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read the interrupt mask                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 
@@ -2370,7 +2370,7 @@ int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = i_InterruptMask;
@@ -2382,13 +2382,13 @@ int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ConfigureInterrupt                     |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the interrupt registers                     |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer                 |
 
@@ -2401,7 +2401,7 @@ int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ConfigureInterrupt(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_ConfigureInterrupt(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
index dc3f3ea78b0f..d824934370b1 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
@@ -116,50 +116,50 @@ enum {
 };
 
  /*----------DIGITAL INPUT----------------*/
-static int i_APCI1500_Initialisation(struct comedi_device *dev, comedi_subdevice *s,
+static int i_APCI1500_Initialisation(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 static int i_APCI1500_ConfigDigitalInputEvent(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 
 static int i_APCI1500_StartStopInputEvent(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 static int i_APCI1500_ReadMoreDigitalInput(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 
 /*----------	DIGITAL OUTPUT------------*/
 static int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device *dev,
-							comedi_subdevice *s,
+							struct comedi_subdevice *s,
 							comedi_insn *insn,
 							unsigned int *data);
 static int i_APCI1500_WriteDigitalOutput(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*----------TIMER----------------*/
 static int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device *dev,
-						 comedi_subdevice *s,
+						 struct comedi_subdevice *s,
 						 comedi_insn *insn,
 						 unsigned int *data);
 static int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device *dev,
-							   comedi_subdevice *s,
+							   struct comedi_subdevice *s,
 							   comedi_insn *insn,
 							   unsigned int *data);
 static int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device *dev,
-					       comedi_subdevice *s,
+					       struct comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
 static int i_APCI1500_ReadInterruptMask(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 /*----------INTERRUPT HANDLER------*/
 static void v_APCI1500_Interrupt(int irq, void *d);
 static int i_APCI1500_ConfigureInterrupt(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 /*----------RESET---------------*/
 static int i_APCI1500_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
index 5ad419b9fa8e..21dde69dad03 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
@@ -56,13 +56,13 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|		       comedi_subdevice *s,   :pointer to subdevice structure
+|		       struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -96,13 +96,13 @@ INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                      unsigned int *data         : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -114,7 +114,7 @@ INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -149,7 +149,7 @@ INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ConfigDigitalOutput (struct comedi_device *dev,
-                    comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
+                    struct comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -157,7 +157,7 @@ INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 | Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                           |
 |					  data[0]  :1:Memory on                          |
 |					            0:Memory off                         |
@@ -171,7 +171,7 @@ INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
@@ -181,13 +181,13 @@ int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_WriteDigitalOutput                      |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                      unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                    unsigned int *data           : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -199,7 +199,7 @@ int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -341,13 +341,13 @@ INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadDigitalOutput                       |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -359,7 +359,7 @@ INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -401,13 +401,13 @@ INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ConfigWatchdog(struct comedi_device *dev,
-                      comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
+                      struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                     |
 +----------------------------------------------------------------------------+
@@ -419,7 +419,7 @@ INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -447,13 +447,13 @@ int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI1516_StartStopWriteWatchdog                  |
-    |                           (struct comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,struct comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-    |                     comedi_subdevice *s,   :pointer to subdevice structure
+    |                     struct comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
@@ -465,7 +465,7 @@ int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -492,13 +492,13 @@ int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadWatchdog                            |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -510,7 +510,7 @@ int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1516_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = inw(devpriv-&gt;i_IobaseAddon + APCI1516_WATCHDOG_STATUS) &amp; 0x1;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
index b166257775ce..8d857e7adc13 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
@@ -38,26 +38,26 @@
 // Hardware Layer  functions for Apci1516
 
 //Digital Input
-INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
-int i_APCI1516_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-int i_APCI1516_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI1516_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI1516_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 //reset
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
index 44b4965d8ecc..e45390f3f988 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
@@ -62,7 +62,7 @@ UINT ui_InterruptData, ui_Type;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalInput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
@@ -86,7 +86,7 @@ UINT ui_InterruptData, ui_Type;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;tsk_Current = current;
@@ -131,7 +131,7 @@ INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
@@ -147,7 +147,7 @@ INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -171,7 +171,7 @@ INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
@@ -187,7 +187,7 @@ INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
@@ -233,7 +233,7 @@ INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -255,7 +255,7 @@ INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
@@ -296,7 +296,7 @@ INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -312,7 +312,7 @@ INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -470,7 +470,7 @@ INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -486,7 +486,7 @@ INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -537,7 +537,7 @@ INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigTimerCounterWatchdog              |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
@@ -565,7 +565,7 @@ INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	devpriv-&gt;tsk_Current = current;
@@ -695,7 +695,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_StartStopWriteTimerCounterWatchdog      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
@@ -719,7 +719,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	if (devpriv-&gt;b_TimerSelectMode == ADDIDATA_WATCHDOG) {
@@ -795,7 +795,7 @@ INT i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadTimerCounterWatchdog                |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
@@ -814,7 +814,7 @@ INT i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 
@@ -878,7 +878,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI1564_ReadInterruptStatus                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
@@ -892,7 +892,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1564_ReadInterruptStatus(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1564_ReadInterruptStatus(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
index 4b40da7879de..ff094f043caf 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
@@ -82,34 +82,34 @@
 
 //DI
 // for di read
-INT i_APCI1564_ConfigDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ConfigDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 //DO
-int i_APCI1564_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1564_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-int i_APCI1564_ReadInterruptStatus(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1564_ReadInterruptStatus(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 int i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device *dev,
-						  comedi_subdevice *s,
+						  struct comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
 int i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 // INTERRUPT
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
index 74b0bd484bde..0cab42aa0bb8 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
@@ -59,7 +59,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI16XX_InsnConfigInitTTLIO                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -91,7 +91,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
@@ -252,7 +252,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI16XX_InsnBitsReadTTLIO                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -284,7 +284,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device * dev,
 */
 
 int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
@@ -412,7 +412,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI16XX_InsnReadTTLIOAllPortValue               |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -431,7 +431,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device * dev,
 */
 
 int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Command = (BYTE) CR_AREF(insn-&gt;chanspec);
 	INT i_ReturnValue = insn-&gt;n;
@@ -537,7 +537,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI16XX_InsnBitsWriteTTLIO                  |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -571,7 +571,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
 */
 
 int i_APCI16XX_InsnBitsWriteTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
index 9f8f2b752431..ae66bfeeefaf 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
@@ -63,7 +63,7 @@ static const comedi_lrange range_apci16xx_ttl = { 12,
 */
 
 int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device *dev,
-				   comedi_subdevice *s, comedi_insn *insn,
+				   struct comedi_subdevice *s, comedi_insn *insn,
 				   unsigned int *data);
 
 /*
@@ -73,11 +73,11 @@ int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device *dev,
 */
 
 int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device *dev,
-				 comedi_subdevice *s, comedi_insn *insn,
+				 struct comedi_subdevice *s, comedi_insn *insn,
 				 unsigned int *data);
 
 int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*
@@ -87,7 +87,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
 */
 
 int i_APCI16XX_InsnBitsWriteTTLIO(struct comedi_device *dev,
-				  comedi_subdevice *s, comedi_insn *insn,
+				  struct comedi_subdevice *s, comedi_insn *insn,
 				  unsigned int *data);
 
 int i_APCI16XX_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
index dcb837dee3b1..6a692cf3fb13 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
@@ -56,7 +56,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -75,7 +75,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
@@ -95,7 +95,7 @@ int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -111,7 +111,7 @@ int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_NoOfChannel;
@@ -250,7 +250,7 @@ int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_BitsDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -266,7 +266,7 @@ int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -320,13 +320,13 @@ int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigWatchdog                          |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure |
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -337,7 +337,7 @@ int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -363,13 +363,13 @@ int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_StartStopWriteWatchdog                  |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Watchdog                              |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure |
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -380,7 +380,7 @@ int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -409,13 +409,13 @@ int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ReadWatchdog                            |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure |
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -427,7 +427,7 @@ int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2016_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	udelay(5);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
index 765de4212ed0..ca98f6a51675 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
@@ -40,25 +40,25 @@
 // Hardware Layer  functions for Apci2016
 
 //DO
-int i_APCI2016_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_BitsDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_BitsDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 
-int i_APCI2016_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
index b536667398cf..067ee8679d3e 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
@@ -57,7 +57,7 @@ UINT ui_InterruptData, ui_Type;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -79,7 +79,7 @@ UINT ui_InterruptData, ui_Type;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
@@ -117,7 +117,7 @@ int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -134,7 +134,7 @@ int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -296,7 +296,7 @@ INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -313,7 +313,7 @@ INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -363,13 +363,13 @@ INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI2032_ConfigWatchdog(comedi_device
-                   *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
+                   *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                                                                             |
 +----------------------------------------------------------------------------+
@@ -380,7 +380,7 @@ INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -403,13 +403,13 @@ INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2032_StartStopWriteWatchdog                  |
-    |                           (struct comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,struct comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-    |                     comedi_subdevice *s,   :pointer to subdevice structure
+    |                     struct comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
@@ -421,7 +421,7 @@ INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -448,13 +448,13 @@ int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadWatchdog                            |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -466,7 +466,7 @@ int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -530,7 +530,7 @@ void v_APCI2032_Interrupt(int irq, void *d)
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI2032_ReadInterruptStatus                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
@@ -544,7 +544,7 @@ void v_APCI2032_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_ReadInterruptStatus(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ReadInterruptStatus(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
index 8ceefb07d503..3aab1d999315 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
@@ -55,22 +55,22 @@
 // Hardware Layer  functions for Apci2032
 
 //DO
-int i_APCI2032_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI2032_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI2032_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-int i_APCI2032_ReadInterruptStatus(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ReadInterruptStatus(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-INT i_APCI2032_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI2032_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI2032_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
index b297f6f96089..3f7dc9a67197 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
@@ -56,13 +56,13 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|		       comedi_subdevice *s,   :pointer to subdevice structure
+|		       struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -94,13 +94,13 @@ INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                      unsigned int *data         : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -112,7 +112,7 @@ INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -147,7 +147,7 @@ INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ConfigDigitalOutput (struct comedi_device *dev,
-                    comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
+                    struct comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -155,7 +155,7 @@ INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 | Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                           |
 |					  data[0]  :1:Memory on                          |
 |					            0:Memory off                         |
@@ -169,7 +169,7 @@ INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
@@ -179,13 +179,13 @@ int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_WriteDigitalOutput                      |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                      unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                    unsigned int *data           : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -197,7 +197,7 @@ int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -336,13 +336,13 @@ INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadDigitalOutput                       |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -354,7 +354,7 @@ INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -400,13 +400,13 @@ INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ConfigWatchdog(struct comedi_device *dev,
-                      comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
+                      struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                                                                             |
 +----------------------------------------------------------------------------+
@@ -418,7 +418,7 @@ INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -446,13 +446,13 @@ int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2200_StartStopWriteWatchdog                  |
-    |                           (struct comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,struct comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-    |                     comedi_subdevice *s,   :pointer to subdevice structure
+    |                     struct comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
@@ -464,7 +464,7 @@ int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -491,13 +491,13 @@ int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadWatchdog                            |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -509,7 +509,7 @@ int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevi
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2200_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] =
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
index ab1bb309767a..778bea21dd63 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
@@ -36,25 +36,25 @@
 // Hardware Layer  functions for Apci2200
 
 //Digital Input
-INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
-int i_APCI2200_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
-int i_APCI2200_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI2200_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI2200_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 //reset
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
index 6aaab8cf3c1a..d8c495ddaae7 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
@@ -58,14 +58,14 @@ static UINT ui_Temp = 0;
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev,|
-|  comedi_subdevice *s,comedi_insn *insn,unsigned int *data)					 |
+|  struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)					 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Calls card specific function  					     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data      					         		 |
 +----------------------------------------------------------------------------+
@@ -74,7 +74,7 @@ static UINT ui_Temp = 0;
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT i;
@@ -125,7 +125,7 @@ int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, comedi_subdevic
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev,  |
-|			comedi_subdevice *s,comedi_insn *insn, unsigned int *data)	 |
+|			struct comedi_subdevice *s,comedi_insn *insn, unsigned int *data)	 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :  card specific function								 |
@@ -136,7 +136,7 @@ int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, comedi_subdevic
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data     									 |
 +----------------------------------------------------------------------------+
@@ -145,7 +145,7 @@ int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, comedi_subdevic
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	USHORT us_ConvertTiming, us_TmpValue, i;
@@ -394,14 +394,14 @@ int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev,|
-| 											     comedi_subdevice *s)|
+| 											     struct comedi_subdevice *s)|
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Stops Cyclic acquisition  						     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
 | Return Value      :0              					                     |
@@ -409,7 +409,7 @@ int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	// Disable A2P Fifo write and AMWEN signal
 	outw(0, devpriv-&gt;i_IobaseAddon + 4);
@@ -460,7 +460,7 @@ int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevic
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev|
-|			,comedi_subdevice *s,comedi_cmd *cmd)					 |
+|			,struct comedi_subdevice *s,comedi_cmd *cmd)					 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Test validity for a command for cyclic anlog input     |
@@ -468,7 +468,7 @@ int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevic
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_cmd *cmd              					         |
 +----------------------------------------------------------------------------+
 | Return Value      :0              					                     |
@@ -476,7 +476,7 @@ int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevic
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -617,7 +617,7 @@ int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevi
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_CommandAnalogInput(struct comedi_device *dev,  |
-|												comedi_subdevice *s) |
+|												struct comedi_subdevice *s) |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Does asynchronous acquisition                          |
@@ -625,7 +625,7 @@ int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevi
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     														 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
@@ -633,7 +633,7 @@ int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevi
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -690,7 +690,7 @@ int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function name     :  int i_APCI3120_CyclicAnalogInput(int mode,            |
-|		 	   struct comedi_device * dev,comedi_subdevice * s)			 |
+|		 	   struct comedi_device * dev,struct comedi_subdevice * s)			 |
 +----------------------------------------------------------------------------+
 | Task              : This is used for analog input cyclic acquisition       |
 |			  Performs the command operations.                       |
@@ -708,7 +708,7 @@ int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice *
 */
 
 int i_APCI3120_CyclicAnalogInput(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	BYTE b_Tmp;
 	UINT ui_Tmp, ui_DelayTiming = 0, ui_TimerValue1 = 0, dmalen0 =
@@ -1275,7 +1275,7 @@ int i_APCI3120_Reset(struct comedi_device * dev)
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_SetupChannelList(struct comedi_device * dev,   |
-|                     comedi_subdevice * s, int n_chan,unsigned int *chanlist|
+|                     struct comedi_subdevice * s, int n_chan,unsigned int *chanlist|
 |			  ,char check)											 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -1286,7 +1286,7 @@ int i_APCI3120_Reset(struct comedi_device * dev)
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device * dev									 |
-|                     comedi_subdevice * s									 |
+|                     struct comedi_subdevice * s									 |
 |                     int n_chan                   					         |
 			  unsigned int *chanlist
 			  char check
@@ -1296,7 +1296,7 @@ int i_APCI3120_Reset(struct comedi_device * dev)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_SetupChannelList(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_SetupChannelList(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, char check)
 {
 	unsigned int i;		//, differencial=0, bipolar=0;
@@ -1428,7 +1428,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 	USHORT us_TmpValue;
 	BYTE b_DummyRead;
 
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	ui_Check = 1;
 
 	int_daq = inw(dev-&gt;iobase + APCI3120_RD_STATUS) &amp; 0xf000;	// get IRQ reasons
@@ -1634,7 +1634,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 {
        int n_chan,i;
        short *data;
-       comedi_subdevice *s=dev-&gt;subdevices+0;
+       struct comedi_subdevice *s=dev-&gt;subdevices+0;
        comedi_async *async = s-&gt;async;
        data=async-&gt;data+async-&gt;buf_int_ptr;//new samples added from here onwards
        n_chan=devpriv-&gt;ui_AiNbrofChannels;
@@ -1657,7 +1657,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 int i_APCI3120_InterruptHandleEos(struct comedi_device * dev)
 {
 	int n_chan, i;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int err = 1;
 
 	n_chan = devpriv-&gt;ui_AiNbrofChannels;
@@ -1699,7 +1699,7 @@ int i_APCI3120_InterruptHandleEos(struct comedi_device * dev)
 void v_APCI3120_InterruptDma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned int next_dma_buf, samplesinbuf;
 	unsigned long low_word, high_word, var;
 
@@ -1879,7 +1879,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 /*
 +----------------------------------------------------------------------------+
 | Function name     :void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device|
-|*dev,comedi_subdevice *s,short *dma,short *data,int n)				     |
+|*dev,struct comedi_subdevice *s,short *dma,short *data,int n)				     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : This function copies the data from DMA buffer to the   |
@@ -1887,7 +1887,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     short *dma											 |
 |                     short *data,int n          					         |
 +----------------------------------------------------------------------------+
@@ -1896,7 +1896,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-/*void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n)
+/*void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,struct comedi_subdevice *s,short *dma,short *data,int n)
 {
 	int i,j,m;
 
@@ -1926,7 +1926,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 }
 */
 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device * dev,
-	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
+	struct comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	devpriv-&gt;ui_AiActualScan +=
 		(s-&gt;async-&gt;cur_chan + num_samples) / devpriv-&gt;ui_AiScanLength;
@@ -1945,14 +1945,14 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigTimer(struct comedi_device *dev,          |
-|	comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			     |
+|	struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              :Configure Timer 2  								     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 |                     														 |
@@ -1967,7 +1967,7 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -2093,13 +2093,13 @@ int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteTimer(struct comedi_device *dev,           |
-|                    comedi_subdevice *s, comedi_insn *insn,unsigned int *data)  |
+|                    struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)  |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :    To start and stop the timer		                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data                                         |
 |                                                                            |
@@ -2118,7 +2118,7 @@ int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -2284,14 +2284,14 @@ int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_InsnReadTimer(struct comedi_device *dev,           |
-|		comedi_subdevice *s,comedi_insn *insn, unsigned int *data) 		 |
+|		struct comedi_subdevice *s,comedi_insn *insn, unsigned int *data) 		 |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : read the Timer value 				                 	 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : 	struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 |                     														 |
@@ -2304,7 +2304,7 @@ int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, comedi_subdevice * s,
 |                    													     |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3120_InsnReadTimer(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnReadTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Tmp;
@@ -2361,7 +2361,7 @@ int i_APCI3120_InsnReadTimer(struct comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev,     |
-|			comedi_subdevice *s, comedi_insn *insn,unsigned int *data)   |
+|			struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)   |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -2369,7 +2369,7 @@ int i_APCI3120_InsnReadTimer(struct comedi_device * dev, comedi_subdevice * s,
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
@@ -2378,8 +2378,10 @@ int i_APCI3120_InsnReadTimer(struct comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnReadDigitalInput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev,
+				    struct comedi_subdevice *s,
+				    comedi_insn *insn,
+				    unsigned int *data)
 {
 	UINT ui_Chan, ui_TmpValue;
 
@@ -2404,7 +2406,7 @@ int i_APCI3120_InsnReadDigitalInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, |
-|comedi_subdevice *s, comedi_insn *insn,unsigned int *data)                      |
+|struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)                      |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Reads the value of the Digital input Port i.e.4channels|
@@ -2412,7 +2414,7 @@ int i_APCI3120_InsnReadDigitalInput(struct comedi_device * dev, comedi_subdevice
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
@@ -2420,7 +2422,7 @@ int i_APCI3120_InsnReadDigitalInput(struct comedi_device * dev, comedi_subdevice
 |                    													     |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
@@ -2443,14 +2445,14 @@ int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device    |
-| *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)				 |
+| *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)				 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :Configure the output memory ON or OFF				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  :struct comedi_device *dev									 	 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
@@ -2460,7 +2462,7 @@ int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, comedi_subdevice
 */
 
 int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
@@ -2486,14 +2488,14 @@ int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev,    |
-|		comedi_subdevice *s, comedi_insn *insn,unsigned int *data) 		 |
+|		struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data) 		 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : write diatal output port							     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
                       data[0]     Value to be written
@@ -2505,8 +2507,10 @@ int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev,
+				     struct comedi_subdevice *s,
+				     comedi_insn *insn,
+				     unsigned int *data)
 {
 	if ((data[0] &gt; this_board-&gt;i_DoMaxdata) || (data[0] &lt; 0)) {
 
@@ -2537,14 +2541,14 @@ int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev, comedi_subdevic
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev,|
-|comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			             |
+|struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			             |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Write digiatl output								     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev								 	 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
                       data[0]     Value to be written
@@ -2556,8 +2560,10 @@ int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev, comedi_subdevic
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev,
+				      struct comedi_subdevice *s,
+				      comedi_insn *insn,
+				      unsigned int *data)
 {
 
 	UINT ui_Temp1;
@@ -2618,14 +2624,14 @@ int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device * dev, comedi_subdevi
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev,|
-|comedi_subdevice *s, comedi_insn *insn,unsigned int *data)			             |
+|struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)			             |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Write  analog output   							     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data  										 |
 +----------------------------------------------------------------------------+
@@ -2634,8 +2640,10 @@ int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device * dev, comedi_subdevi
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev,
+				     struct comedi_subdevice *s,
+				     comedi_insn *insn,
+				     unsigned int *data)
 {
 	UINT ui_Range, ui_Channel;
 	USHORT us_TmpValue;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
index ee346f6d0ba1..f5fdb6c4894f 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
@@ -178,19 +178,19 @@ typedef struct {
 // Function Declaration For APCI-3120
 
 // Internal functions
-int i_APCI3120_SetupChannelList(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_SetupChannelList(struct comedi_device *dev, struct comedi_subdevice *s,
 				int n_chan, unsigned int *chanlist, char check);
 int i_APCI3120_ExttrigEnable(struct comedi_device *dev);
 int i_APCI3120_ExttrigDisable(struct comedi_device *dev);
-int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, struct comedi_subdevice *s);
 int i_APCI3120_Reset(struct comedi_device *dev);
 int i_APCI3120_CyclicAnalogInput(int mode, struct comedi_device *dev,
-				 comedi_subdevice *s);
+				 struct comedi_subdevice *s);
 // Interrupt functions
 void v_APCI3120_Interrupt(int irq, void *d);
-//UPDATE-0.7.57-&gt;0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n);
+//UPDATE-0.7.57-&gt;0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,struct comedi_subdevice *s,short *dma,short *data,int n);
 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   short *dma_buffer,
 					   unsigned int num_samples);
 int i_APCI3120_InterruptHandleEos(struct comedi_device *dev);
@@ -198,44 +198,44 @@ void v_APCI3120_InterruptDma(int irq, void *d);
 
 // TIMER
 
-int i_APCI3120_InsnConfigTimer(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnConfigTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnWriteTimer(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadTimer(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
 
-int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 //DO
 //int i_APCI3120_WriteDigitalOutput(struct comedi_device *dev, BYTE data);
 int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device *dev,
-				       comedi_subdevice *s, comedi_insn *insn,
+				       struct comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
-int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
 
 //AO
 //int i_APCI3120_Write1AnalogValue(struct comedi_device *dev,UINT ui_Range,UINT ui_Channel,UINT data );
-int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
 //AI HArdware layer
 
-int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_cmd *cmd);
-int i_APCI3120_CommandAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
-//int i_APCI3120_CancelAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
-int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_CommandAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s);
+//int i_APCI3120_CancelAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s);
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, struct comedi_subdevice *s);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
index f07e0b1cf8f8..2fdbd7d2ef13 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
@@ -530,7 +530,7 @@ INT i_APCI3200_GetChannelCalibrationValue(struct comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalInput                       |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
@@ -550,7 +550,7 @@ INT i_APCI3200_GetChannelCalibrationValue(struct comedi_device * dev,
   +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0;
@@ -592,7 +592,7 @@ INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ConfigDigitalOutput                     |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,				 |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,				 |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Digital Output Subdevice.               |
@@ -608,7 +608,7 @@ INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s
   |																	 |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -629,13 +629,13 @@ int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_WriteDigitalOutput                      |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,				 |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,				 |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : writes To the digital Output Subdevice                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
@@ -653,7 +653,7 @@ int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0, ui_Temp1 = 0;
@@ -746,7 +746,7 @@ INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalOutput                       |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
@@ -766,7 +766,7 @@ INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -807,13 +807,13 @@ INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : INT i_APCI3200_ConfigAnalogInput                       |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Analog Input Subdevice                  |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
@@ -874,7 +874,7 @@ INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -1334,7 +1334,7 @@ INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice *
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadAnalogInput                         |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
@@ -1361,7 +1361,7 @@ INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice *
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_DummyValue = 0;
@@ -1633,7 +1633,7 @@ INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_Read1AnalogInputChannel                 |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
@@ -1652,7 +1652,7 @@ INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_Read1AnalogInputChannel(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	UINT ui_ChannelNo = 0;
@@ -1759,7 +1759,7 @@ INT i_APCI3200_Read1AnalogInputChannel(struct comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationOffsetValue              |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration offset  value  of the selected channel|
@@ -1895,7 +1895,7 @@ int i_APCI3200_ReadCalibrationOffsetValue(struct comedi_device * dev, UINT * dat
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationGainValue                |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration gain  value  of the selected channel  |
@@ -2030,7 +2030,7 @@ int i_APCI3200_ReadCalibrationGainValue(struct comedi_device * dev, UINT * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCValue                            |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC  value  of the selected channel               |
@@ -2150,7 +2150,7 @@ int i_APCI3200_ReadCJCValue(struct comedi_device * dev, unsigned int * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCCalOffset                        |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration offset  value  of the selected channel
@@ -2265,7 +2265,7 @@ int i_APCI3200_ReadCJCCalOffset(struct comedi_device * dev, unsigned int * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCGainValue                        |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration gain value
@@ -2375,13 +2375,13 @@ int i_APCI3200_ReadCJCCalGain(struct comedi_device * dev, unsigned int * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnBits_AnalogInput_Test               |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Tests the Selected Anlog Input Channel                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
@@ -2405,7 +2405,7 @@ int i_APCI3200_ReadCJCCalGain(struct comedi_device * dev, unsigned int * data)
 */
 
 INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Configuration = 0;
 	INT i_Temp;		//,i_TimeUnit;
@@ -2510,13 +2510,13 @@ INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnWriteReleaseAnalogInput             |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              :  Resets the channels                                                      |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer
   +----------------------------------------------------------------------------+
@@ -2530,7 +2530,7 @@ INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device * dev,
 */
 
 INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	i_APCI3200_Reset(dev);
 	return insn-&gt;n;
@@ -2539,7 +2539,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function name     :int i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev|
-  |			,comedi_subdevice *s,comedi_cmd *cmd)			         |
+  |			,struct comedi_subdevice *s,comedi_cmd *cmd)			         |
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Test validity for a command for cyclic anlog input     |
@@ -2547,7 +2547,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device * dev,
   |                     										                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev									 |
-  |                     comedi_subdevice *s									 |
+  |                     struct comedi_subdevice *s									 |
   |                     comedi_cmd *cmd              					         |
   |                     										                 |
   |
@@ -2560,7 +2560,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device * dev,
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 
@@ -2749,14 +2749,14 @@ int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevi
 /*
   +----------------------------------------------------------------------------+
   | Function name     :int i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev,|
-  | 											     comedi_subdevice *s)|
+  | 											     struct comedi_subdevice *s)|
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Stop the  acquisition  						     |
   |                     										                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev									 |
-  |                     comedi_subdevice *s									 |
+  |                     struct comedi_subdevice *s									 |
   |                                                 					         |
   +----------------------------------------------------------------------------+
   | Return Value      :0              					                     |
@@ -2764,7 +2764,7 @@ int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevi
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	UINT ui_Configuration = 0;
 	//i_InterruptFlag=0;
@@ -2797,7 +2797,7 @@ int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevic
 /*
   +----------------------------------------------------------------------------+
   | Function name     : int i_APCI3200_CommandAnalogInput(struct comedi_device *dev,  |
-  |												comedi_subdevice *s) |
+  |												struct comedi_subdevice *s) |
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Does asynchronous acquisition                          |
@@ -2805,7 +2805,7 @@ int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevic
   |                     										                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev									 |
-  |                     comedi_subdevice *s									 |
+  |                     struct comedi_subdevice *s									 |
   |                     														 |
   |                     														 |
   +----------------------------------------------------------------------------+
@@ -2814,7 +2814,7 @@ int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevic
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3200_CommandAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	UINT ui_Configuration = 0;
@@ -3502,7 +3502,7 @@ void v_APCI3200_Interrupt(int irq, void *d)
 int i_APCI3200_InterruptHandleEos(struct comedi_device * dev)
 {
 	UINT ui_StatusRegister = 0;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 	//BEGIN JK 18.10.2004: APCI-3200 Driver update 0.7.57 -&gt; 0.7.68
 	//comedi_async *async = s-&gt;async;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
index fbb658eff531..528673939f17 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
@@ -154,22 +154,22 @@ typedef struct {
 
 //AI
 
-INT i_APCI3200_ConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_ConfigAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_ReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_ReadAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+INT i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev, struct comedi_subdevice *s);
 INT i_APCI3200_InterruptHandleEos(struct comedi_device *dev);
-INT i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_cmd *cmd);
-INT i_APCI3200_CommandAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
-INT i_APCI3200_ReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_CommandAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s);
+INT i_APCI3200_ReadDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3200_Interrupt(int irq, void *d);
@@ -182,6 +182,6 @@ int i_APCI3200_ReadCJCValue(struct comedi_device *dev, unsigned int *data);
 int i_APCI3200_ReadCalibrationGainValue(struct comedi_device *dev, UINT *data);
 int i_APCI3200_ReadCalibrationOffsetValue(struct comedi_device *dev, UINT *data);
 int i_APCI3200_Read1AnalogInputChannel(struct comedi_device *dev,
-				       comedi_subdevice *s, comedi_insn *insn,
+				       struct comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
 int i_APCI3200_ReadCJCCalGain(struct comedi_device *dev, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
index 352e630a603a..2e4c8ad54db2 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
@@ -56,7 +56,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -99,7 +99,7 @@ INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -121,7 +121,7 @@ INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -142,13 +142,13 @@ int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : writes To the digital Output Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -161,7 +161,7 @@ int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -232,7 +232,7 @@ INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -248,7 +248,7 @@ INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -275,13 +275,13 @@ INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigAnalogOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Output Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -298,7 +298,7 @@ INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	outl(data[0],
@@ -316,13 +316,13 @@ INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteAnalogOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes To the Selected Anlog Output Channel            |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -336,7 +336,7 @@ INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, comedi_subdevice *
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0, ul_Channel_no, ul_Polarity, ul_DAC_Ready = 0;;
@@ -386,7 +386,7 @@ INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, comedi_subdevice *
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigTimerCounterWatchdog              |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
@@ -411,7 +411,7 @@ INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, comedi_subdevice *
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	devpriv-&gt;tsk_Current = current;
@@ -489,7 +489,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_StartStopWriteTimerCounterWatchdog      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
@@ -512,7 +512,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device * dev,
 */
 
 int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	int i_Temp;
@@ -592,7 +592,7 @@ int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadTimerCounterWatchdog                |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
@@ -614,7 +614,7 @@ int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
 */
 
 int i_APCI3501_ReadTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if (devpriv-&gt;b_TimerSelectMode == ADDIDATA_WATCHDOG) {
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
index a7dd01e5e57a..3b47634bfb91 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
@@ -55,37 +55,37 @@ comedi_lrange range_apci3501_ao = { 2, {
 // Hardware Layer  functions for Apci3501
 
 //AO
-INT i_APCI3501_ConfigAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ConfigAnalogOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_WriteAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_WriteAnalogOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
-//INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+//INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
 
-INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
 //DO
-int i_APCI3501_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3501_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device *dev,
-						  comedi_subdevice *s,
+						  struct comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
 int i_APCI3501_ReadTimerCounterWatchdog(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3501_Interrupt(int irq, void *d);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
index 44ca298f75ba..ae11fb7af323 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
@@ -81,7 +81,7 @@ int i_APCI3XXX_TestConversionStarted(struct comedi_device * dev)
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_AnalogInputConfigOperatingMode        |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -106,7 +106,7 @@ int i_APCI3XXX_TestConversionStarted(struct comedi_device * dev)
 */
 
 int i_APCI3XXX_AnalogInputConfigOperatingMode(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_TimeBase = 0;
@@ -275,7 +275,7 @@ int i_APCI3XXX_AnalogInputConfigOperatingMode(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnConfigAnalogInput                 |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -296,7 +296,7 @@ int i_APCI3XXX_AnalogInputConfigOperatingMode(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnConfigAnalogInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 
@@ -333,7 +333,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnReadAnalogInput                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -356,7 +356,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadAnalogInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Configuration = (BYTE) CR_RANGE(insn-&gt;chanspec);
@@ -664,7 +664,7 @@ void v_APCI3XXX_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnWriteAnalogOutput                 |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -685,7 +685,7 @@ void v_APCI3XXX_Interrupt(int irq, void *d)
 */
 
 int i_APCI3XXX_InsnWriteAnalogOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Range = (BYTE) CR_RANGE(insn-&gt;chanspec);
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -770,7 +770,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnConfigInitTTLIO                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -792,7 +792,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnConfigInitTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
@@ -901,7 +901,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI3XXX_InsnBitsTTLIO                       |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -920,7 +920,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnBitsTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_ChannelCpt = 0;
@@ -1058,7 +1058,7 @@ int i_APCI3XXX_InsnBitsTTLIO(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI3XXX_InsnReadTTLIO                           |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -1075,7 +1075,7 @@ int i_APCI3XXX_InsnBitsTTLIO(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
 	INT i_ReturnValue = insn-&gt;n;
@@ -1170,7 +1170,7 @@ int i_APCI3XXX_InsnReadTTLIO(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI3XXX_InsnWriteTTLIO                      |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -1188,7 +1188,7 @@ int i_APCI3XXX_InsnReadTTLIO(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnWriteTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -1282,7 +1282,7 @@ int i_APCI3XXX_InsnWriteTTLIO(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnReadDigitalInput                     |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1299,7 +1299,7 @@ int i_APCI3XXX_InsnWriteTTLIO(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadDigitalInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -1341,7 +1341,7 @@ int i_APCI3XXX_InsnReadDigitalInput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnBitsDigitalInput                     |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1357,7 +1357,7 @@ int i_APCI3XXX_InsnReadDigitalInput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI3XXX_InsnBitsDigitalInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	DWORD dw_Temp = 0;
@@ -1392,7 +1392,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnBitsDigitalOutput                    |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1410,7 +1410,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI3XXX_InsnBitsDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_ChannelCpt = 0;
@@ -1488,7 +1488,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnWriteDigitalOutput                   |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1506,7 +1506,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnWriteDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = CR_CHAN(insn-&gt;chanspec);
@@ -1564,7 +1564,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(struct comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnReadDigitalOutput                    |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1581,7 +1581,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(struct comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/adl_pci6208.c b/drivers/staging/comedi/drivers/adl_pci6208.c
index 20aa52943fad..9e1597caf21d 100644
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -127,13 +127,13 @@ pci6208_pci_setup(struct pci_dev *pci_dev, unsigned long *io_base_ptr,
 	int dev_minor);
 
 /*read/write functions*/
-static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-//static int pci6208_dio_insn_bits(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data);
-//static int pci6208_dio_insn_config(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_config(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data);
 
 /*
@@ -144,7 +144,7 @@ static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  */
 static int pci6208_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int retval;
 	unsigned long io_base;
 
@@ -219,7 +219,7 @@ static int pci6208_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i = 0, Data_Read;
@@ -244,7 +244,7 @@ static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -261,7 +261,7 @@ static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-//static int pci6208_dio_insn_bits(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data)
 //{
 //      if(insn-&gt;n!=2)return -EINVAL;
@@ -285,7 +285,7 @@ static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 //      return 2;
 //}
 
-//static int pci6208_dio_insn_config(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_config(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data)
 //{
 //      int chan=CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/adl_pci7296.c b/drivers/staging/comedi/drivers/adl_pci7296.c
index 9c9d3f47f503..f38aa06d3c4e 100644
--- a/drivers/staging/comedi/drivers/adl_pci7296.c
+++ b/drivers/staging/comedi/drivers/adl_pci7296.c
@@ -75,7 +75,7 @@ static comedi_driver driver_adl_pci7296 = {
 static int adl_pci7296_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 	int ret;
 
diff --git a/drivers/staging/comedi/drivers/adl_pci7432.c b/drivers/staging/comedi/drivers/adl_pci7432.c
index 75208720b175..a36be5e14f63 100644
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -69,10 +69,10 @@ static comedi_driver driver_adl_pci7432 = {
 
 /* Digital IO */
 
-static int adl_pci7432_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*            */
@@ -80,7 +80,7 @@ static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice
 static int adl_pci7432_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 
 	printk("comedi: attempt to attach...\n");
@@ -164,7 +164,7 @@ static int adl_pci7432_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_do_insn_bits called\n");
@@ -184,7 +184,7 @@ static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice
 	return 2;
 }
 
-static int adl_pci7432_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_di_insn_bits called\n");
diff --git a/drivers/staging/comedi/drivers/adl_pci8164.c b/drivers/staging/comedi/drivers/adl_pci8164.c
index 4cb3dc2e13bd..cc95acf762f8 100644
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -79,34 +79,34 @@ static comedi_driver driver_adl_pci8164 = {
       detach:adl_pci8164_detach,
 };
 
-static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_msts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_otp(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_buf1(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 
 	printk("comedi: attempt to attach...\n");
@@ -208,7 +208,7 @@ static int adl_pci8164_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_msts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -245,7 +245,7 @@ static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevi
 	return 2;
 }
 
-static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -282,7 +282,7 @@ static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevi
 	return 2;
 }
 
-static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -319,7 +319,7 @@ static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevi
 	return 2;
 }
 
-static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -357,7 +357,7 @@ static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevi
 	return 2;
 }
 
-static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int axis, axis_reg;
@@ -395,7 +395,7 @@ static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevi
 	return 2;
 }
 
-static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_otp(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -434,7 +434,7 @@ static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevi
 }
 
 static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
@@ -472,7 +472,7 @@ static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
 }
 
 static int adl_pci8164_insn_write_buf1(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index 53eb696c06ad..587a94bf2244 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -267,7 +267,7 @@ Configuration options:
 
 static int pci9111_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci9111_detach(struct comedi_device * dev);
-static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index);
 
 static const comedi_lrange pci9111_hr_ai_range = {
@@ -527,7 +527,7 @@ static void pci9111_interrupt_source_set(struct comedi_device * dev,
 
 #undef AI_DO_CMD_DEBUG
 
-static int pci9111_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9111_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	// Disable interrupts
 
@@ -558,7 +558,7 @@ static int pci9111_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 
 static int
 pci9111_ai_do_cmd_test(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_cmd * cmd)
+	struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int tmp;
 	int error = 0;
@@ -758,7 +758,7 @@ pci9111_ai_do_cmd_test(struct comedi_device * dev,
 // Analog input command
 //
 
-static int pci9111_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * subdevice)
+static int pci9111_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * subdevice)
 {
 	comedi_cmd *async_cmd = &amp;subdevice-&gt;async-&gt;cmd;
 
@@ -881,7 +881,7 @@ static int pci9111_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * subd
 	return 0;
 }
 
-static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
@@ -912,7 +912,7 @@ static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 {
 	struct comedi_device *dev = p_device;
-	comedi_subdevice *subdevice = dev-&gt;read_subdev;
+	struct comedi_subdevice *subdevice = dev-&gt;read_subdev;
 	comedi_async *async;
 	unsigned long irq_flags;
 	unsigned char intcsr;
@@ -1072,7 +1072,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 #undef AI_INSN_DEBUG
 
 static int pci9111_ai_insn_read(struct comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	int resolution =
 		((pci9111_board_struct *) dev-&gt;board_ptr)-&gt;ai_resolution;
@@ -1132,7 +1132,7 @@ static int pci9111_ai_insn_read(struct comedi_device * dev,
 
 static int
 pci9111_ao_insn_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -1149,7 +1149,7 @@ pci9111_ao_insn_write(struct comedi_device * dev,
 //
 
 static int pci9111_ao_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -1171,7 +1171,7 @@ static int pci9111_ao_insn_read(struct comedi_device * dev,
 //
 
 static int pci9111_di_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
 
@@ -1186,7 +1186,7 @@ static int pci9111_di_insn_bits(struct comedi_device * dev,
 //
 
 static int pci9111_do_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
 
@@ -1248,7 +1248,7 @@ static int pci9111_reset(struct comedi_device * dev)
 
 static int pci9111_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 	unsigned long io_base, io_range, lcr_io_base, lcr_io_range;
 	struct pci_dev *pci_device;
 	int error, i;
diff --git a/drivers/staging/comedi/drivers/adl_pci9118.c b/drivers/staging/comedi/drivers/adl_pci9118.c
index c352e37d97ae..67e26a3c847c 100644
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -288,7 +288,7 @@ typedef struct {
 	unsigned char cnt0_users;	// bit field of 8254 CNT0 users (0-unused, 1-AO, 2-DI, 3-DO)
 	unsigned char exttrg_users;	// bit field of external trigger users (0-AI, 1-AO, 2-DI, 3-DO)
 	unsigned int cnt0_divisor;	// actual CNT0 divisor
-	void (*int_ai_func) (struct comedi_device *, comedi_subdevice *, unsigned short, unsigned int, unsigned short);	// ptr to actual interrupt AI function
+	void (*int_ai_func) (struct comedi_device *, struct comedi_subdevice *, unsigned short, unsigned int, unsigned short);	// ptr to actual interrupt AI function
 	unsigned char ai16bits;	// =1 16 bit card
 	unsigned char usedma;	// =1 use DMA transfer and not INT
 	unsigned char useeoshandle;	// =1 change WAKE_EOS DMA transfer to fit on every second
@@ -308,9 +308,9 @@ typedef struct {
 ==============================================================================
 */
 
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int frontadd, int backadd);
-static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int rot, int frontadd, int backadd,
 	int usedma, char eoshandle);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
@@ -318,16 +318,16 @@ static void start_pacer(struct comedi_device * dev, int mode, unsigned int divis
 static int pci9118_reset(struct comedi_device * dev);
 static int pci9118_exttrg_add(struct comedi_device * dev, unsigned char source);
 static int pci9118_exttrg_del(struct comedi_device * dev, unsigned char source);
-static int pci9118_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pci9118_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void pci9118_calc_divisors(char mode, struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
+	struct comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
 	unsigned int flags, int chans, unsigned int *div1, unsigned int *div2,
 	char usessh, unsigned int chnsshfront);
 
 /*
 ==============================================================================
 */
-static int pci9118_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_read_ai(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -377,7 +377,7 @@ static int pci9118_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci9118_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_write_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chanreg, ch;
@@ -400,7 +400,7 @@ static int pci9118_insn_write_ao(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci9118_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_read_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -415,7 +415,7 @@ static int pci9118_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci9118_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_bits_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inl(dev-&gt;iobase + PCI9118_DI) &amp; 0xf;
@@ -426,7 +426,7 @@ static int pci9118_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci9118_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_bits_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -457,7 +457,7 @@ static void interrupt_pci9118_ai_mode4_switch(struct comedi_device * dev)
 }
 
 static unsigned int defragment_dma_buffer(struct comedi_device * dev,
-	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
+	struct comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int i = 0, j = 0;
 	unsigned int start_pos = devpriv-&gt;ai_add_front,
@@ -481,7 +481,7 @@ static unsigned int defragment_dma_buffer(struct comedi_device * dev,
 ==============================================================================
 */
 static unsigned int move_block_from_dma(struct comedi_device * dev,
-	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
+	struct comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int num_bytes;
 
@@ -502,7 +502,7 @@ static unsigned int move_block_from_dma(struct comedi_device * dev,
 ==============================================================================
 */
 static char pci9118_decode_error_status(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned char m)
+	struct comedi_subdevice * s, unsigned char m)
 {
 	if (m &amp; 0x100) {
 		comedi_error(dev, "A/D FIFO Full status (Fatal Error!)");
@@ -531,7 +531,7 @@ static char pci9118_decode_error_status(struct comedi_device * dev,
 	return 0;
 }
 
-static void pci9118_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void pci9118_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
@@ -552,7 +552,7 @@ static void pci9118_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static void interrupt_pci9118_ai_onesample(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned short int_adstat, unsigned int int_amcc,
+	struct comedi_subdevice * s, unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
 	register short sampl;
@@ -598,7 +598,7 @@ static void interrupt_pci9118_ai_onesample(struct comedi_device * dev,
 /*
 ==============================================================================
 */
-static void interrupt_pci9118_ai_dma(struct comedi_device * dev, comedi_subdevice * s,
+static void interrupt_pci9118_ai_dma(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
@@ -727,7 +727,7 @@ static irqreturn_t interrupt_pci9118(int irq, void *d PT_REGS_ARG)
 /*
 ==============================================================================
 */
-static int pci9118_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_ai_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != devpriv-&gt;ai_inttrig_start)
@@ -751,7 +751,7 @@ static int pci9118_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci9118_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1163,7 +1163,7 @@ static int Compute_and_setup_dma(struct comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci9118_ai_docmd_sampl(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_docmd_sampl(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	DPRINTK("adl_pci9118 EDBG: BGN: pci9118_ai_docmd_sampl(%d,) [%d]\n",
 		dev-&gt;minor, devpriv-&gt;ai_do);
@@ -1216,7 +1216,7 @@ static int pci9118_ai_docmd_sampl(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci9118_ai_docmd_dma(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_docmd_dma(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	DPRINTK("adl_pci9118 EDBG: BGN: pci9118_ai_docmd_dma(%d,) [%d,%d]\n",
 		dev-&gt;minor, devpriv-&gt;ai_do, devpriv-&gt;usedma);
@@ -1287,7 +1287,7 @@ static int pci9118_ai_docmd_dma(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci9118_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int addchans = 0;
@@ -1486,7 +1486,7 @@ static int pci9118_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int frontadd, int backadd)
 {
 	unsigned int i, differencial = 0, bipolar = 0;
@@ -1537,7 +1537,7 @@ static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int rot, int frontadd, int backadd,
 	int usedma, char useeos)
 {
@@ -1652,7 +1652,7 @@ static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
   calculate 8254 divisors if they are used for dual timing
 */
 static void pci9118_calc_divisors(char mode, struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
+	struct comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
 	unsigned int flags, int chans, unsigned int *div1, unsigned int *div2,
 	char usessh, unsigned int chnsshfront)
 {
@@ -1760,7 +1760,7 @@ static int pci9118_exttrg_del(struct comedi_device * dev, unsigned char source)
 /*
 ==============================================================================
 */
-static int pci9118_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (devpriv-&gt;usedma)
 		outl(inl(devpriv-&gt;iobase_a + AMCC_OP_REG_MCSR) &amp; (~EN_A2P_TRANSFERS), devpriv-&gt;iobase_a + AMCC_OP_REG_MCSR);	// stop DMA
@@ -1837,7 +1837,7 @@ static int pci9118_reset(struct comedi_device * dev)
 */
 static int pci9118_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, pages, i;
 	unsigned short master;
 	unsigned int irq;
diff --git a/drivers/staging/comedi/drivers/adq12b.c b/drivers/staging/comedi/drivers/adq12b.c
index 295b667a381a..99a7a0562082 100644
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -174,9 +174,9 @@ static comedi_driver driver_adq12b={
         num_names:      sizeof(adq12b_boards) / sizeof(adq12b_board),
 };
 
-static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
-static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
-static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int adq12b_di_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_do_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -186,7 +186,7 @@ static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, co
  */
 static int adq12b_attach(struct comedi_device *dev,comedi_devconfig *it)
 {
-        comedi_subdevice *s;
+        struct comedi_subdevice *s;
         unsigned long iobase;
         int unipolar, differential;
 
@@ -314,7 +314,7 @@ static int adq12b_detach(struct comedi_device *dev)
  * mode.
  */
 
-static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
+static int adq12b_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 {
         int n, i;
         int range, channel;
@@ -357,7 +357,7 @@ static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_
 }
 
 
-static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
+static int adq12b_di_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
 
         /* only bits 0-4 have information about digital inputs */
@@ -367,7 +367,7 @@ static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	c
 }
 
 
-static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
+static int adq12b_do_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
         int channel;
 
diff --git a/drivers/staging/comedi/drivers/adv_pci1710.c b/drivers/staging/comedi/drivers/adv_pci1710.c
index 75d915310e01..e66c2560b2cd 100644
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -304,14 +304,14 @@ typedef struct {
 ==============================================================================
 */
 
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan);
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 static int pci1710_reset(struct comedi_device * dev);
-static int pci171x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pci171x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static const unsigned int muxonechan[] = { 0x0000, 0x0101, 0x0202, 0x0303, 0x0404, 0x0505, 0x0606, 0x0707,	// used for gain list programming
 	0x0808, 0x0909, 0x0a0a, 0x0b0b, 0x0c0c, 0x0d0d, 0x0e0e, 0x0f0f,
@@ -322,7 +322,7 @@ static const unsigned int muxonechan[] = { 0x0000, 0x0101, 0x0202, 0x0303, 0x040
 /*
 ==============================================================================
 */
-static int pci171x_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_read_ai(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, timeout;
@@ -390,7 +390,7 @@ static int pci171x_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci171x_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_write_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan, range, ofs;
@@ -421,7 +421,7 @@ static int pci171x_insn_write_ao(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci171x_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_read_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -436,7 +436,7 @@ static int pci171x_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci171x_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_bits_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inw(dev-&gt;iobase + PCI171x_DI);
@@ -447,7 +447,7 @@ static int pci171x_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci171x_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_bits_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -463,7 +463,7 @@ static int pci171x_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_counter_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int msb, lsb, ccntrl;
@@ -485,7 +485,7 @@ static int pci171x_insn_counter_read(struct comedi_device * dev, comedi_subdevic
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_counter_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	uint msb, lsb, ccntrl, status;
@@ -513,7 +513,7 @@ static int pci171x_insn_counter_write(struct comedi_device * dev, comedi_subdevi
 ==============================================================================
 */
 static int pci171x_insn_counter_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef unused
 	/* This doesn't work like a normal Comedi counter config */
@@ -548,7 +548,7 @@ static int pci171x_insn_counter_config(struct comedi_device * dev,
 /*
 ==============================================================================
 */
-static int pci1720_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1720_insn_write_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, rangereg, chan;
@@ -577,7 +577,7 @@ static int pci1720_insn_write_ao(struct comedi_device * dev, comedi_subdevice *
 static void interrupt_pci1710_every_sample(void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int m;
 #ifdef PCI171x_PARANOIDCHECK
 	short sampl;
@@ -659,7 +659,7 @@ static void interrupt_pci1710_every_sample(void *d)
 /*
 ==============================================================================
 */
-static int move_block_from_fifo(struct comedi_device * dev, comedi_subdevice * s,
+static int move_block_from_fifo(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n, int turn)
 {
 	int i, j;
@@ -708,7 +708,7 @@ static int move_block_from_fifo(struct comedi_device * dev, comedi_subdevice * s
 static void interrupt_pci1710_half_fifo(void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int m, samplesinbuf;
 
 	DPRINTK("adv_pci1710 EDBG: BGN: interrupt_pci1710_half_fifo(...)\n");
@@ -802,7 +802,7 @@ static irqreturn_t interrupt_service_pci1710(int irq, void *d PT_REGS_ARG)
 ==============================================================================
 */
 static int pci171x_ai_docmd_and_mode(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	unsigned int divisor1, divisor2;
 	unsigned int seglen;
@@ -900,7 +900,7 @@ static void pci171x_cmdtest_out(int e, comedi_cmd * cmd)
 /*
 ==============================================================================
 */
-static int pci171x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1065,7 +1065,7 @@ static int pci171x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci171x_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -1104,7 +1104,7 @@ static int pci171x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
  If it's ok, then program scan/gain logic.
  This works for all cards.
 */
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int chansegment[32];
@@ -1163,7 +1163,7 @@ static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	return seglen;
 }
 
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen)
 {
 	unsigned int i, range, chanprog;
@@ -1220,7 +1220,7 @@ static void start_pacer(struct comedi_device * dev, int mode, unsigned int divis
 /*
 ==============================================================================
 */
-static int pci171x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci171x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: pci171x_ai_cancel(...)\n");
 
@@ -1318,7 +1318,7 @@ static int pci1710_reset(struct comedi_device * dev)
 */
 static int pci1710_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
 	unsigned int irq;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/adv_pci1723.c b/drivers/staging/comedi/drivers/adv_pci1723.c
index e69c2e358139..8209e60c783c 100644
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -202,7 +202,7 @@ static int pci1723_reset(struct comedi_device * dev)
 	return 0;
 }
 
-static int pci1723_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_insn_read_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -218,7 +218,7 @@ static int pci1723_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s
 /*
   analog data output;
 */
-static int pci1723_ao_write_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_ao_write_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -238,7 +238,7 @@ static int pci1723_ao_write_winsn(struct comedi_device * dev, comedi_subdevice *
 /*
   digital i/o config/query
 */
-static int pci1723_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -278,7 +278,7 @@ static int pci1723_dio_insn_config(struct comedi_device * dev, comedi_subdevice
 /*
   digital i/o bits read/write
 */
-static int pci1723_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -296,7 +296,7 @@ static int pci1723_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
  */
 static int pci1723_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
 	struct pci_dev *pcidev;
 	unsigned int iobase;
diff --git a/drivers/staging/comedi/drivers/adv_pci_dio.c b/drivers/staging/comedi/drivers/adv_pci_dio.c
index 18e778e398bf..e0e62ea57f7e 100644
--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -357,7 +357,7 @@ static pci_dio_private *pci_priv = NULL;	/* list of allocated cards */
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_di_b(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_di_b(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -374,7 +374,7 @@ static int pci_dio_insn_bits_di_b(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_di_w(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_di_w(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -390,7 +390,7 @@ static int pci_dio_insn_bits_di_w(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_do_b(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_do_b(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -411,7 +411,7 @@ static int pci_dio_insn_bits_do_b(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_do_w(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_do_w(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -490,7 +490,7 @@ static int pci1760_mbxrequest(struct comedi_device * dev,
 /*
 ==============================================================================
 */
-static int pci1760_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_bits_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inb(dev-&gt;iobase + IMB3);
@@ -501,7 +501,7 @@ static int pci1760_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci1760_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_bits_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
@@ -528,7 +528,7 @@ static int pci1760_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pci1760_insn_cnt_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_cnt_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret, n;
@@ -552,7 +552,7 @@ static int pci1760_insn_cnt_read(struct comedi_device * dev, comedi_subdevice *
 /*
 ==============================================================================
 */
-static int pci1760_insn_cnt_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_cnt_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
@@ -752,7 +752,7 @@ static int pci_dio_reset(struct comedi_device * dev)
 */
 static int pci1760_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int subdev = 0;
 
 	s = dev-&gt;subdevices + subdev;
@@ -802,7 +802,7 @@ static int pci1760_attach(struct comedi_device * dev, comedi_devconfig * it)
 /*
 ==============================================================================
 */
-static int pci_dio_add_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_add_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	const diosubd_data * d, int subdev)
 {
 	s-&gt;type = COMEDI_SUBD_DI;
@@ -829,7 +829,7 @@ static int pci_dio_add_di(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci_dio_add_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_add_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	const diosubd_data * d, int subdev)
 {
 	s-&gt;type = COMEDI_SUBD_DO;
@@ -885,7 +885,7 @@ static int CheckAndAllocCard(struct comedi_device * dev, comedi_devconfig * it,
 */
 static int pci_dio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices, i, j;
 	unsigned long iobase;
 	struct pci_dev *pcidev;
@@ -1014,7 +1014,7 @@ static int pci_dio_attach(struct comedi_device * dev, comedi_devconfig * it)
 static int pci_dio_detach(struct comedi_device * dev)
 {
 	int i, j;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int subdev;
 
 	if (dev-&gt;private) {
diff --git a/drivers/staging/comedi/drivers/aio_aio12_8.c b/drivers/staging/comedi/drivers/aio_aio12_8.c
index 37d13d68089e..5b62ec9608a8 100644
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -88,7 +88,7 @@ typedef struct {
 
 #define devpriv	((aio12_8_private *) dev-&gt;private)
 
-static int aio_aio12_8_ai_read(struct comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ai_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -122,7 +122,7 @@ static int aio_aio12_8_ai_read(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int aio_aio12_8_ao_read(struct comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ao_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -133,7 +133,7 @@ static int aio_aio12_8_ao_read(struct comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int aio_aio12_8_ao_write(struct comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ao_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -164,7 +164,7 @@ static const comedi_lrange range_aio_aio12_8 = {
 static int aio_aio12_8_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it-&gt;options[0];
 	if (!request_region(iobase, 24, "aio_aio12_8")) {
diff --git a/drivers/staging/comedi/drivers/aio_iiro_16.c b/drivers/staging/comedi/drivers/aio_iiro_16.c
index 88f8e188e0c9..0e3f8d5aa06c 100644
--- a/drivers/staging/comedi/drivers/aio_iiro_16.c
+++ b/drivers/staging/comedi/drivers/aio_iiro_16.c
@@ -82,15 +82,15 @@ static comedi_driver driver_aio_iiro_16 = {
 };
 
 static int aio_iiro_16_dio_insn_bits_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int aio_iiro_16_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: aio_iiro_16: ", dev-&gt;minor);
 
@@ -143,7 +143,7 @@ static int aio_iiro_16_detach(struct comedi_device * dev)
 }
 
 static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -162,7 +162,7 @@ static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
 }
 
 static int aio_iiro_16_dio_insn_bits_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/amplc_dio200.c b/drivers/staging/comedi/drivers/amplc_dio200.c
index 642071a92971..f34e45028256 100644
--- a/drivers/staging/comedi/drivers/amplc_dio200.c
+++ b/drivers/staging/comedi/drivers/amplc_dio200.c
@@ -572,7 +572,7 @@ dio200_request_region(unsigned minor, unsigned long from, unsigned long extent)
  * 'insn_bits' function for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
@@ -591,7 +591,7 @@ dio200_subdev_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 /*
  * Called to stop acquisition for an 'INTERRUPT' subdevice.
  */
-static void dio200_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
+static void dio200_stop_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -605,7 +605,7 @@ static void dio200_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
 /*
  * Called to start acquisition for an 'INTERRUPT' subdevice.
  */
-static int dio200_start_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_start_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int n;
 	unsigned isn_bits;
@@ -641,7 +641,7 @@ static int dio200_start_intr(struct comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
+dio200_inttrig_start_intr(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	dio200_subdev_intr *subpriv;
@@ -671,7 +671,7 @@ dio200_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
  * This is called from the interrupt service routine to handle a read
  * scan on an 'INTERRUPT' subdevice.
  */
-static int dio200_handle_read_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_handle_read_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 	unsigned triggered;
@@ -783,7 +783,7 @@ static int dio200_handle_read_intr(struct comedi_device * dev, comedi_subdevice
 /*
  * 'cancel' function for an 'INTERRUPT' subdevice.
  */
-static int dio200_subdev_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_subdev_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 	unsigned long flags;
@@ -801,7 +801,7 @@ static int dio200_subdev_intr_cancel(struct comedi_device * dev, comedi_subdevic
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -907,7 +907,7 @@ dio200_subdev_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int dio200_subdev_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_subdev_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	dio200_subdev_intr *subpriv = s-&gt;private;
@@ -953,7 +953,7 @@ static int dio200_subdev_intr_cmd(struct comedi_device * dev, comedi_subdevice *
  * This function initializes an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_init(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long iobase, unsigned valid_isns, int has_int_sce)
 {
 	dio200_subdev_intr *subpriv;
@@ -998,7 +998,7 @@ dio200_subdev_intr_init(struct comedi_device * dev, comedi_subdevice * s,
  * This function cleans up an 'INTERRUPT' subdevice.
  */
 static void
-dio200_subdev_intr_cleanup(struct comedi_device * dev, comedi_subdevice * s)
+dio200_subdev_intr_cleanup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -1033,7 +1033,7 @@ static irqreturn_t dio200_interrupt(int irq, void *d PT_REGS_ARG)
  * Handle 'insn_read' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_read(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
@@ -1048,7 +1048,7 @@ dio200_subdev_8254_read(struct comedi_device * dev, comedi_subdevice * s,
  * Handle 'insn_write' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_write(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
@@ -1142,7 +1142,7 @@ dio200_get_clock_src(dio200_subdev_8254 * subpriv, unsigned int counter_number,
  * Handle 'insn_config' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_config(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
@@ -1194,7 +1194,7 @@ dio200_subdev_8254_config(struct comedi_device * dev, comedi_subdevice * s,
  * offset is the offset to the 8254 chip.
  */
 static int
-dio200_subdev_8254_init(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long iobase, unsigned offset, int has_clk_gat_sce)
 {
 	dio200_subdev_8254 *subpriv;
@@ -1247,7 +1247,7 @@ dio200_subdev_8254_init(struct comedi_device * dev, comedi_subdevice * s,
  * This function cleans up an '8254' counter subdevice.
  */
 static void
-dio200_subdev_8254_cleanup(struct comedi_device * dev, comedi_subdevice * s)
+dio200_subdev_8254_cleanup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -1264,7 +1264,7 @@ dio200_subdev_8254_cleanup(struct comedi_device * dev, comedi_subdevice * s)
  */
 static int dio200_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 	unsigned int irq = 0;
 #ifdef CONFIG_COMEDI_PCI
@@ -1443,7 +1443,7 @@ static int dio200_detach(struct comedi_device * dev)
 	if (dev-&gt;subdevices) {
 		layout = thislayout;
 		for (n = 0; n &lt; dev-&gt;n_subdevices; n++) {
-			comedi_subdevice *s = &amp;dev-&gt;subdevices[n];
+			struct comedi_subdevice *s = &amp;dev-&gt;subdevices[n];
 			switch (layout-&gt;sdtype[n]) {
 			case sd_8254:
 				dio200_subdev_8254_cleanup(dev, s);
diff --git a/drivers/staging/comedi/drivers/amplc_pc236.c b/drivers/staging/comedi/drivers/amplc_pc236.c
index adbd79421d4d..ba91debae962 100644
--- a/drivers/staging/comedi/drivers/amplc_pc236.c
+++ b/drivers/staging/comedi/drivers/amplc_pc236.c
@@ -188,12 +188,12 @@ static int pc236_request_region(unsigned minor, unsigned long from,
 static void pc236_intr_disable(struct comedi_device * dev);
 static void pc236_intr_enable(struct comedi_device * dev);
 static int pc236_intr_check(struct comedi_device * dev);
-static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pc236_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pc236_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG);
 
 /*
@@ -266,7 +266,7 @@ pc236_find_pci(struct comedi_device * dev, int bus, int slot,
  */
 static int pc236_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 	unsigned int irq = 0;
 #ifdef CONFIG_COMEDI_PCI
@@ -528,7 +528,7 @@ static int pc236_intr_check(struct comedi_device * dev)
  * Input from subdevice 1.
  * Copied from the comedi_parport driver.
  */
-static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = 0;
@@ -539,7 +539,7 @@ static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
  * Subdevice 1 command test.
  * Copied from the comedi_parport driver.
  */
-static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -617,7 +617,7 @@ static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 /*
  * Subdevice 1 command.
  */
-static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pc236_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pc236_intr_enable(dev);
 
@@ -627,7 +627,7 @@ static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 /*
  * Subdevice 1 cancel command.
  */
-static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pc236_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pc236_intr_disable(dev);
 
@@ -641,7 +641,7 @@ static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
 static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 1;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 1;
 	int handled;
 
 	handled = pc236_intr_check(dev);
diff --git a/drivers/staging/comedi/drivers/amplc_pc263.c b/drivers/staging/comedi/drivers/amplc_pc263.c
index 5f4c7e28102b..43bd5324be4a 100644
--- a/drivers/staging/comedi/drivers/amplc_pc263.c
+++ b/drivers/staging/comedi/drivers/amplc_pc263.c
@@ -146,9 +146,9 @@ static comedi_driver driver_amplc_pc263 = {
 
 static int pc263_request_region(unsigned minor, unsigned long from,
 	unsigned long extent);
-static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pc263_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -221,7 +221,7 @@ pc263_find_pci(struct comedi_device * dev, int bus, int slot,
  */
 static int pc263_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 #ifdef CONFIG_COMEDI_PCI
 	struct pci_dev *pci_dev = NULL;
@@ -387,7 +387,7 @@ static int pc263_request_region(unsigned minor, unsigned long from,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -412,7 +412,7 @@ static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pc263_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 1)
diff --git a/drivers/staging/comedi/drivers/amplc_pci224.c b/drivers/staging/comedi/drivers/amplc_pci224.c
index afb110a868e2..247b1eaaa17f 100644
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -477,7 +477,7 @@ pci224_ao_set_data(struct comedi_device * dev, int chan, int range, unsigned int
  * 'insn_write' function for AO subdevice.
  */
 static int
-pci224_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+pci224_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -504,7 +504,7 @@ pci224_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
  * command.
  */
 static int
-pci224_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+pci224_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -532,7 +532,7 @@ pci224_cascade_ns_to_timer(int osc_base, unsigned int *d1, unsigned int *d2,
 /*
  * Kills a command running on the AO subdevice.
  */
-static void pci224_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_stop(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -572,7 +572,7 @@ static void pci224_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
 /*
  * Handles start of acquisition for the AO subdevice.
  */
-static void pci224_ao_start(struct comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
@@ -599,7 +599,7 @@ static void pci224_ao_start(struct comedi_device * dev, comedi_subdevice * s)
 /*
  * Handles interrupts from the DAC FIFO.
  */
-static void pci224_ao_handle_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_handle_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int num_scans;
@@ -728,7 +728,7 @@ static void pci224_ao_handle_fifo(struct comedi_device * dev, comedi_subdevice *
  * Internal trigger function to start acquisition on AO subdevice.
  */
 static int
-pci224_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
+pci224_ao_inttrig_start(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -748,7 +748,7 @@ pci224_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
  * 'do_cmdtest' function for AO subdevice.
  */
 static int
-pci224_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pci224_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
@@ -1015,7 +1015,7 @@ pci224_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd *
 /*
  * 'do_cmd' function for AO subdevice.
  */
-static int pci224_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci224_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int range;
@@ -1172,7 +1172,7 @@ static int pci224_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 /*
  * 'cancel' function for AO subdevice.
  */
-static int pci224_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci224_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pci224_ao_stop(dev, s);
 	return 0;
@@ -1182,7 +1182,7 @@ static int pci224_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
  * 'munge' data for AO command.
  */
 static void
-pci224_ao_munge(struct comedi_device * dev, comedi_subdevice * s, void *data,
+pci224_ao_munge(struct comedi_device * dev, struct comedi_subdevice * s, void *data,
 	unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
@@ -1215,7 +1215,7 @@ pci224_ao_munge(struct comedi_device * dev, comedi_subdevice * s, void *data,
 static irqreturn_t pci224_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = &amp;dev-&gt;subdevices[0];
+	struct comedi_subdevice *s = &amp;dev-&gt;subdevices[0];
 	comedi_cmd *cmd;
 	unsigned char intstat, valid_intstat;
 	unsigned char curenab;
@@ -1325,7 +1325,7 @@ pci224_find_pci(struct comedi_device * dev, int bus, int slot,
  */
 static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pci_dev;
 	unsigned int irq;
 	int bus = 0, slot = 0;
@@ -1511,7 +1511,7 @@ static int pci224_detach(struct comedi_device * dev)
 		comedi_free_irq(dev-&gt;irq, dev);
 	}
 	if (dev-&gt;subdevices) {
-		comedi_subdevice *s;
+		struct comedi_subdevice *s;
 
 		s = dev-&gt;subdevices + 0;
 		/* AO subdevice */
diff --git a/drivers/staging/comedi/drivers/amplc_pci230.c b/drivers/staging/comedi/drivers/amplc_pci230.c
index c66a840085f7..ee5f20320256 100644
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -615,30 +615,30 @@ static comedi_driver driver_amplc_pci230 = {
 
 COMEDI_PCI_INITCLEANUP(driver_amplc_pci230, pci230_pci_table);
 
-static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void pci230_ct_setup_ns_mode(struct comedi_device * dev, unsigned int ct,
 	unsigned int mode, uint64_t ns, unsigned int round);
 static void pci230_ns_to_single_timer(unsigned int *ns, unsigned int round);
 static void pci230_cancel_ct(struct comedi_device * dev, unsigned int ct);
 static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG);
-static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pci230_ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_ao_stop(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_handle_ao_nofifo(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_handle_ao_fifo(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pci230_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s);
+static int pci230_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_ai_stop(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_handle_ai(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static short pci230_ai_read(struct comedi_device * dev)
 {
@@ -704,7 +704,7 @@ static inline void pci230_ao_write_fifo(struct comedi_device * dev, short datum,
  */
 static int pci230_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase1, iobase2;
 	/* PCI230's I/O spaces 1 and 2 respectively. */
 	struct pci_dev *pci_dev;
@@ -1058,7 +1058,7 @@ static inline void put_all_resources(struct comedi_device * dev, unsigned char o
 /*
  *  COMEDI_SUBD_AI instruction;
  */
-static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int n, i;
@@ -1163,7 +1163,7 @@ static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 /*
  *  COMEDI_SUBD_AO instructions;
  */
-static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1191,7 +1191,7 @@ static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1203,7 +1203,7 @@ static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1417,7 +1417,7 @@ static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pci230_ao_inttrig_scan_begin(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int trig_num)
+	struct comedi_subdevice * s, unsigned int trig_num)
 {
 	unsigned long irqflags;
 
@@ -1448,7 +1448,7 @@ static int pci230_ao_inttrig_scan_begin(struct comedi_device * dev,
 	return 1;
 }
 
-static void pci230_ao_start(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ao_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1536,7 +1536,7 @@ static void pci230_ao_start(struct comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pci230_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_inttrig_start(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -1548,7 +1548,7 @@ static int pci230_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice
 	return 1;
 }
 
-static int pci230_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned short daccon;
 	unsigned int range;
@@ -1648,7 +1648,7 @@ static int pci230_ai_check_scan_period(comedi_cmd * cmd)
 	return !err;
 }
 
-static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2035,7 +2035,7 @@ static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 static void pci230_ai_update_fifo_trigger_level(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int scanlen = cmd-&gt;scan_end_arg;
@@ -2078,7 +2078,7 @@ static void pci230_ai_update_fifo_trigger_level(struct comedi_device * dev,
 	}
 }
 
-static int pci230_ai_inttrig_convert(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_inttrig_convert(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	unsigned long irqflags;
@@ -2122,7 +2122,7 @@ static int pci230_ai_inttrig_convert(struct comedi_device * dev, comedi_subdevic
 }
 
 static int pci230_ai_inttrig_scan_begin(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int trig_num)
+	struct comedi_subdevice * s, unsigned int trig_num)
 {
 	unsigned long irqflags;
 	unsigned char zgat;
@@ -2143,7 +2143,7 @@ static int pci230_ai_inttrig_scan_begin(struct comedi_device * dev,
 	return 1;
 }
 
-static void pci230_ai_start(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ai_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	unsigned short conv;
@@ -2280,7 +2280,7 @@ static void pci230_ai_start(struct comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pci230_ai_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_inttrig_start(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -2292,7 +2292,7 @@ static int pci230_ai_inttrig_start(struct comedi_device * dev, comedi_subdevice
 	return 1;
 }
 
-static int pci230_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int i, chan, range, diff;
 	unsigned int res_mask;
@@ -2563,7 +2563,7 @@ static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	unsigned char status_int, valid_status_int;
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long irqflags;
 
 	/* Read interrupt status/enable register. */
@@ -2622,7 +2622,7 @@ static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_handle_ao_nofifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	short data;
 	int i, ret;
@@ -2659,7 +2659,7 @@ static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice
 
 /* Loads DAC FIFO (if using it) from buffer. */
 /* Returns 0 if AO finished due to completion or error, 1 if still going. */
-static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_handle_ao_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -2762,7 +2762,7 @@ static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice *
 	return running;
 }
 
-static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_handle_ai(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int events = 0;
 	unsigned int status_fifo;
@@ -2861,7 +2861,7 @@ static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ao_stop(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	unsigned char intsrc;
@@ -2916,13 +2916,13 @@ static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
 	put_all_resources(dev, OWNER_AOCMD);
 }
 
-static int pci230_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pci230_ao_stop(dev, s);
 	return 0;
 }
 
-static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ai_stop(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	comedi_cmd *cmd;
@@ -2970,7 +2970,7 @@ static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s)
 	put_all_resources(dev, OWNER_AICMD);
 }
 
-static int pci230_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pci230_ai_stop(dev, s);
 	return 0;
diff --git a/drivers/staging/comedi/drivers/c6xdigio.c b/drivers/staging/comedi/drivers/c6xdigio.c
index bf8562b3023f..afe3550fe8f1 100644
--- a/drivers/staging/comedi/drivers/c6xdigio.c
+++ b/drivers/staging/comedi/drivers/c6xdigio.c
@@ -339,14 +339,14 @@ static void C6X_encResetAll(unsigned long baseAddr)
 }
 
 static int c6xdigio_pwmo_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	printk("c6xdigio_pwmo_insn_read %x\n", insn-&gt;n);
 	return insn-&gt;n;
 }
 
 static int c6xdigio_pwmo_insn_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -360,7 +360,7 @@ static int c6xdigio_pwmo_insn_write(struct comedi_device * dev,
 }
 
 //static int c6xdigio_ei_init_insn_read(struct comedi_device *dev,
-//                                 comedi_subdevice *s,
+//                                 struct comedi_subdevice *s,
 //                                 comedi_insn *insn,
 //                                 unsigned int *data)
 //{
@@ -369,7 +369,7 @@ static int c6xdigio_pwmo_insn_write(struct comedi_device * dev,
 //}
 
 //static int c6xdigio_ei_init_insn_write(struct comedi_device *dev,
-//                                 comedi_subdevice *s,
+//                                 struct comedi_subdevice *s,
 //                                 comedi_insn *insn,
 //                                 unsigned int *data)
 //{
@@ -382,7 +382,7 @@ static int c6xdigio_pwmo_insn_write(struct comedi_device * dev,
 //}
 
 static int c6xdigio_ei_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	//  printk("c6xdigio_ei__insn_read %x\n", insn-&gt;n);
 	int n;
@@ -433,7 +433,7 @@ static int c6xdigio_attach(struct comedi_device * dev, comedi_devconfig * it)
 	int result = 0;
 	unsigned long iobase;
 	unsigned int irq;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it-&gt;options[0];
 	printk("comedi%d: c6xdigio: 0x%04lx\n", dev-&gt;minor, iobase);
diff --git a/drivers/staging/comedi/drivers/cb_das16_cs.c b/drivers/staging/comedi/drivers/cb_das16_cs.c
index b45a1771bd0d..ad01884479c0 100644
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -109,22 +109,22 @@ static const comedi_lrange das16cs_ai_range = { 4, {
 };
 
 static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG);
-static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das16cs_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_timer_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_timer_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int get_prodid(struct comedi_device * dev, struct pcmcia_device *link)
@@ -168,7 +168,7 @@ static const das16cs_board *das16cs_probe(struct comedi_device * dev,
 static int das16cs_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pcmcia_device *link;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	int i;
 
@@ -286,7 +286,7 @@ static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -328,12 +328,12 @@ static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int das16cs_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int das16cs_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	return -EINVAL;
 }
 
-static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -489,7 +489,7 @@ static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -535,7 +535,7 @@ static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -552,7 +552,7 @@ static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -572,7 +572,7 @@ static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -610,13 +610,13 @@ static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice
 	return insn-&gt;n;
 }
 
-static int das16cs_timer_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
 }
 
-static int das16cs_timer_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/cb_pcidas.c b/drivers/staging/comedi/drivers/cb_pcidas.c
index 7a3564e51244..aa431466053e 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -449,46 +449,46 @@ static comedi_driver driver_cb_pcidas = {
       detach:cb_pcidas_detach,
 };
 
-static int cb_pcidas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * subdev,
+static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int cb_pcidas_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	unsigned int trig_num);
-static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG);
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status);
-static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int cb_pcidas_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int cb_pcidas_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void cb_pcidas_load_counters(struct comedi_device * dev, unsigned int *ns,
 	int round_flags);
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_trimpot_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dac08_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int dac08_write(struct comedi_device * dev, unsigned int value);
-static int dac08_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int caldac_8800_write(struct comedi_device * dev, unsigned int address,
 	uint8_t value);
@@ -509,7 +509,7 @@ static inline unsigned int cal_enable_bits(struct comedi_device * dev)
  */
 static int cb_pcidas_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int index;
 	int i;
@@ -752,7 +752,7 @@ static int cb_pcidas_detach(struct comedi_device * dev)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int cb_pcidas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -819,7 +819,7 @@ static int ai_config_calibration_source(struct comedi_device * dev, unsigned int
 	return 2;
 }
 
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
@@ -836,7 +836,7 @@ static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output insn for pcidas-1000 and 1200 series
-static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
@@ -861,7 +861,7 @@ static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevic
 }
 
 // analog output insn for pcidas-1602 series
-static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
@@ -892,7 +892,7 @@ static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice
 
 // analog output readback insn
 // XXX loses track of analog output value back after an analog ouput command is executed
-static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
@@ -900,7 +900,7 @@ static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevi
 	return 1;
 }
 
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	uint8_t nvram_data;
@@ -915,7 +915,7 @@ static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -923,7 +923,7 @@ static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return caldac_8800_write(dev, channel, data[0]);
 }
 
-static int caldac_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldac_value[CR_CHAN(insn-&gt;chanspec)];
@@ -952,13 +952,13 @@ static int dac08_write(struct comedi_device * dev, unsigned int value)
 	return 1;
 }
 
-static int dac08_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return dac08_write(dev, data[0]);
 }
 
-static int dac08_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;dac08_value;
@@ -989,7 +989,7 @@ static int cb_pcidas_trimpot_write(struct comedi_device * dev,
 	return 1;
 }
 
-static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -997,7 +997,7 @@ static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return cb_pcidas_trimpot_write(dev, channel, data[0]);
 }
 
-static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -1007,7 +1007,7 @@ static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1162,7 +1162,7 @@ static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s
 	return 0;
 }
 
-static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1249,7 +1249,7 @@ static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1362,7 +1362,7 @@ static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s
 	return 0;
 }
 
-static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1425,7 +1425,7 @@ static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	unsigned int num_bytes, num_points = thisboard-&gt;fifo_size;
@@ -1477,7 +1477,7 @@ static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	int status, s5933_status;
 	int half_fifo = thisboard-&gt;fifo_size / 2;
@@ -1588,7 +1588,7 @@ static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status)
 {
-	comedi_subdevice *s = dev-&gt;write_subdev;
+	struct comedi_subdevice *s = dev-&gt;write_subdev;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int half_fifo = thisboard-&gt;fifo_size / 2;
@@ -1643,7 +1643,7 @@ static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status)
 }
 
 // cancel analog input command
-static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1662,7 +1662,7 @@ static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 // cancel analog output command
-static int cb_pcidas_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 4095381f201e..f1e121110332 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1134,46 +1134,46 @@ static comedi_driver driver_cb_pcidas = {
       detach:detach,
 };
 
-static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * subdev,
+static int ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	unsigned int trig_num);
-static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
-static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dio_callback(int dir, int port, int data, unsigned long arg);
 static int dio_callback_4020(int dir, int port, int data, unsigned long arg);
-static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dio_60xx_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ad8402_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void ad8402_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void check_adc_timing(struct comedi_device * dev, comedi_cmd * cmd);
 static unsigned int get_divisor(unsigned int ns, unsigned int flags);
@@ -1365,7 +1365,7 @@ static void init_plx9080(struct comedi_device * dev)
  */
 static int setup_subdevices(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	void *dio_8255_iobase;
 	int i;
 
@@ -1881,7 +1881,7 @@ static int detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits = 0, n, i;
@@ -2106,7 +2106,7 @@ static int ai_config_master_clock(struct comedi_device * dev, unsigned int * dat
 	return -EINVAL;
 }
 
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
@@ -2128,7 +2128,7 @@ static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2679,7 +2679,7 @@ static inline void load_first_dma_descriptor(struct comedi_device * dev,
 	}
 }
 
-static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -2799,7 +2799,7 @@ static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 // read num_samples from 16 bit wide ai fifo
 static void pio_drain_ai_fifo_16(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i;
@@ -2866,7 +2866,7 @@ static void pio_drain_ai_fifo_16(struct comedi_device * dev)
  */
 static void pio_drain_ai_fifo_32(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i;
@@ -2955,7 +2955,7 @@ static void drain_dma_buffers(struct comedi_device * dev, unsigned int channel)
 void handle_ai_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	uint8_t dma1_status;
@@ -3077,7 +3077,7 @@ static void restart_ao_dma(struct comedi_device * dev)
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
-	comedi_subdevice *s = dev-&gt;write_subdev;
+	struct comedi_subdevice *s = dev-&gt;write_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	uint8_t dma0_status;
@@ -3174,7 +3174,7 @@ void abort_dma(struct comedi_device * dev, unsigned int channel)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, flags);
 }
 
-static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -3194,7 +3194,7 @@ static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -3224,7 +3224,7 @@ static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = priv(dev)-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
@@ -3413,7 +3413,7 @@ static inline int external_ai_queue_in_use(struct comedi_device * dev)
 	return 1;
 }
 
-static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -3438,7 +3438,7 @@ static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -3461,7 +3461,7 @@ static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3577,7 +3577,7 @@ static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writew(0x0, priv(dev)-&gt;main_iobase + DAC_CONTROL0_REG);
 	abort_dma(dev, 0);
@@ -3605,7 +3605,7 @@ static int dio_callback_4020(int dir, int port, int data, unsigned long iobase)
 	}
 }
 
-static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -3618,7 +3618,7 @@ static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] &amp;= 0xf;
@@ -3634,7 +3634,7 @@ static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -3661,7 +3661,7 @@ static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s
 	return 1;
 }
 
-static int dio_60xx_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -3694,7 +3694,7 @@ static void caldac_write(struct comedi_device * dev, unsigned int channel,
 	}
 }
 
-static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3709,7 +3709,7 @@ static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3750,7 +3750,7 @@ static void ad8402_write(struct comedi_device * dev, unsigned int channel,
 }
 
 /* for pci-das6402/16, channel 0 is analog input gain and channel 1 is offset */
-static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3767,7 +3767,7 @@ static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ad8402_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3839,7 +3839,7 @@ static uint16_t read_eeprom(struct comedi_device * dev, uint8_t address)
 	return value;
 }
 
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = read_eeprom(dev, CR_CHAN(insn-&gt;chanspec));
diff --git a/drivers/staging/comedi/drivers/cb_pcidda.c b/drivers/staging/comedi/drivers/cb_pcidda.c
index d433780d5b50..474ffedc6daa 100644
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -234,11 +234,11 @@ typedef struct {
 
 static int cb_pcidda_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int cb_pcidda_detach(struct comedi_device * dev);
-//static int cb_pcidda_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
-static int cb_pcidda_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+//static int cb_pcidda_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int cb_pcidda_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-//static int cb_pcidda_ai_cmd(struct comedi_device *dev,comedi_subdevice *s);
-//static int cb_pcidda_ai_cmdtest(struct comedi_device *dev,comedi_subdevice *s, comedi_cmd *cmd);
+//static int cb_pcidda_ai_cmd(struct comedi_device *dev,struct comedi_subdevice *s);
+//static int cb_pcidda_ai_cmdtest(struct comedi_device *dev,struct comedi_subdevice *s, comedi_cmd *cmd);
 //static int cb_pcidda_ns_to_timer(unsigned int *ns,int round);
 static unsigned int cb_pcidda_serial_in(struct comedi_device * dev);
 static void cb_pcidda_serial_out(struct comedi_device * dev, unsigned int value,
@@ -267,7 +267,7 @@ static comedi_driver driver_cb_pcidda = {
  */
 static int cb_pcidda_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int index;
 
@@ -413,7 +413,7 @@ static int cb_pcidda_detach(struct comedi_device * dev)
  * I will program this later... ;-)
  */
 #if 0
-static int cb_pcidda_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidda_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	printk("cb_pcidda_ai_cmd\n");
 	printk("subdev: %d\n", cmd-&gt;subdev);
@@ -432,7 +432,7 @@ static int cb_pcidda_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 #endif
 
 #if 0
-static int cb_pcidda_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -598,7 +598,7 @@ static int cb_pcidda_ns_to_timer(unsigned int *ns, int round)
 }
 #endif
 
-static int cb_pcidda_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int command;
diff --git a/drivers/staging/comedi/drivers/cb_pcimdas.c b/drivers/staging/comedi/drivers/cb_pcimdas.c
index 09be4e19522e..435bb39e8e46 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -184,11 +184,11 @@ static comedi_driver driver_cb_pcimdas = {
       detach:cb_pcimdas_detach,
 };
 
-static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -199,7 +199,7 @@ static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  */
 static int cb_pcimdas_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int index;
 	//int i;
@@ -372,7 +372,7 @@ static int cb_pcimdas_detach(struct comedi_device * dev)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -437,7 +437,7 @@ static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -465,7 +465,7 @@ static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
diff --git a/drivers/staging/comedi/drivers/cb_pcimdda.c b/drivers/staging/comedi/drivers/cb_pcimdda.c
index eb583bfd648c..2b953c2e1959 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdda.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdda.c
@@ -197,9 +197,9 @@ MODULE_DESCRIPTION("Comedi low-level driver for the Computerboards PCIM-DDA "
 MODULE_LICENSE("GPL");
 COMEDI_PCI_INITCLEANUP_NOMODULE(cb_pcimdda_driver, pci_table);
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*---------------------------------------------------------------------------
@@ -240,7 +240,7 @@ static int probe(struct comedi_device * dev, const comedi_devconfig * it);
  */
 static int attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int err;
 
 /*
@@ -352,7 +352,7 @@ static int detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -391,7 +391,7 @@ static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
    all AO channels update simultaneously.  This is useful for some control
    applications, I would imagine.
 */
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
diff --git a/drivers/staging/comedi/drivers/comedi_bond.c b/drivers/staging/comedi/drivers/comedi_bond.c
index 7d842a2bb5e0..aa6892254f39 100644
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -213,9 +213,9 @@ static comedi_driver driver_bonding = {
       .num_names =	sizeof(bondingBoards) / sizeof(struct BondingBoard),
 };
 
-static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
@@ -226,7 +226,7 @@ static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *
  */
 static int bonding_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	LOG_MSG("comedi%d\n", dev-&gt;minor);
 
@@ -293,7 +293,7 @@ static int bonding_detach(struct comedi_device *dev)
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 #define LSAMPL_BITS (sizeof(unsigned int)*8)
@@ -340,7 +340,7 @@ static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), ret, io_bits = s-&gt;io_bits;
diff --git a/drivers/staging/comedi/drivers/comedi_fc.c b/drivers/staging/comedi/drivers/comedi_fc.c
index 842b250a7c65..8e7ec147285d 100644
--- a/drivers/staging/comedi/drivers/comedi_fc.c
+++ b/drivers/staging/comedi/drivers/comedi_fc.c
@@ -28,7 +28,7 @@
 
 #include "comedi_fc.h"
 
-static void increment_scan_progress(comedi_subdevice *subd,
+static void increment_scan_progress(struct comedi_subdevice *subd,
 				    unsigned int num_bytes)
 {
 	comedi_async *async = subd-&gt;async;
@@ -42,7 +42,7 @@ static void increment_scan_progress(comedi_subdevice *subd,
 }
 
 /* Writes an array of data points to comedi's buffer */
-unsigned int cfc_write_array_to_buffer(comedi_subdevice *subd, void *data,
+unsigned int cfc_write_array_to_buffer(struct comedi_subdevice *subd, void *data,
 				       unsigned int num_bytes)
 {
 	comedi_async *async = subd-&gt;async;
@@ -67,7 +67,7 @@ unsigned int cfc_write_array_to_buffer(comedi_subdevice *subd, void *data,
 }
 EXPORT_SYMBOL(cfc_write_array_to_buffer);
 
-unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd, void *data,
+unsigned int cfc_read_array_from_buffer(struct comedi_subdevice *subd, void *data,
 					unsigned int num_bytes)
 {
 	comedi_async *async = subd-&gt;async;
@@ -85,7 +85,7 @@ unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd, void *data,
 }
 EXPORT_SYMBOL(cfc_read_array_from_buffer);
 
-unsigned int cfc_handle_events(struct comedi_device *dev, comedi_subdevice *subd)
+unsigned int cfc_handle_events(struct comedi_device *dev, struct comedi_subdevice *subd)
 {
 	unsigned int events = subd-&gt;async-&gt;events;
 
diff --git a/drivers/staging/comedi/drivers/comedi_fc.h b/drivers/staging/comedi/drivers/comedi_fc.h
index 4f251cd509e6..494ae3f2aff6 100644
--- a/drivers/staging/comedi/drivers/comedi_fc.h
+++ b/drivers/staging/comedi/drivers/comedi_fc.h
@@ -30,30 +30,30 @@
 #include "../comedidev.h"
 
 /* Writes an array of data points to comedi's buffer */
-extern unsigned int cfc_write_array_to_buffer(comedi_subdevice *subd,
+extern unsigned int cfc_write_array_to_buffer(struct comedi_subdevice *subd,
 					      void *data,
 					      unsigned int num_bytes);
 
-static inline unsigned int cfc_write_to_buffer(comedi_subdevice *subd,
+static inline unsigned int cfc_write_to_buffer(struct comedi_subdevice *subd,
 					       short data)
 {
 	return cfc_write_array_to_buffer(subd, &amp;data, sizeof(data));
 };
 
-static inline unsigned int cfc_write_long_to_buffer(comedi_subdevice *subd,
+static inline unsigned int cfc_write_long_to_buffer(struct comedi_subdevice *subd,
 						    unsigned int data)
 {
 	return cfc_write_array_to_buffer(subd, &amp;data, sizeof(data));
 };
 
-extern unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd,
+extern unsigned int cfc_read_array_from_buffer(struct comedi_subdevice *subd,
 					       void *data,
 					       unsigned int num_bytes);
 
 extern unsigned int cfc_handle_events(struct comedi_device *dev,
-				      comedi_subdevice *subd);
+				      struct comedi_subdevice *subd);
 
-static inline unsigned int cfc_bytes_per_scan(comedi_subdevice *subd)
+static inline unsigned int cfc_bytes_per_scan(struct comedi_subdevice *subd)
 {
 	int num_samples;
 	int bits_per_sample;
diff --git a/drivers/staging/comedi/drivers/comedi_parport.c b/drivers/staging/comedi/drivers/comedi_parport.c
index b432d50df4d4..50790b651cef 100644
--- a/drivers/staging/comedi/drivers/comedi_parport.c
+++ b/drivers/staging/comedi/drivers/comedi_parport.c
@@ -108,7 +108,7 @@ struct parport_private {
 };
 #define devpriv ((struct parport_private *)(dev-&gt;private))
 
-static int parport_insn_a(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_a(struct comedi_device *dev, struct comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -123,7 +123,7 @@ static int parport_insn_a(struct comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_insn_config_a(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_config_a(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -138,7 +138,7 @@ static int parport_insn_config_a(struct comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int parport_insn_b(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_b(struct comedi_device *dev, struct comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -151,7 +151,7 @@ static int parport_insn_b(struct comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_insn_c(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_c(struct comedi_device *dev, struct comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	data[0] &amp;= 0x0f;
@@ -167,7 +167,7 @@ static int parport_insn_c(struct comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_intr_insn(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_intr_insn(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -177,7 +177,7 @@ static int parport_intr_insn(struct comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_intr_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_intr_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_cmd *cmd)
 {
 	int err = 0;
@@ -252,7 +252,7 @@ static int parport_intr_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int parport_intr_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int parport_intr_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	devpriv-&gt;c_data |= 0x10;
 	outb(devpriv-&gt;c_data, dev-&gt;iobase + PARPORT_C);
@@ -262,7 +262,7 @@ static int parport_intr_cmd(struct comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int parport_intr_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int parport_intr_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	printk(KERN_DEBUG "parport_intr_cancel()\n");
 
@@ -277,7 +277,7 @@ static int parport_intr_cancel(struct comedi_device *dev, comedi_subdevice *s)
 static irqreturn_t parport_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 3;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 3;
 
 	if (!devpriv-&gt;enable_irq) {
 		printk(KERN_ERR "comedi_parport: bogus irq, ignored\n");
@@ -296,7 +296,7 @@ static int parport_attach(struct comedi_device *dev, comedi_devconfig *it)
 	int ret;
 	unsigned int irq;
 	unsigned long iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it-&gt;options[0];
 	printk(KERN_INFO "comedi%d: parport: 0x%04lx ", dev-&gt;minor, iobase);
diff --git a/drivers/staging/comedi/drivers/comedi_rt_timer.c b/drivers/staging/comedi/drivers/comedi_rt_timer.c
index 202b04b2e394..76a1cdcfcd1c 100644
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -124,9 +124,9 @@ static inline RTIME nano2count(long long ns)
 
 static int timer_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int timer_detach(struct comedi_device * dev);
-static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num);
-static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_timer = {
       module:THIS_MODULE,
@@ -162,7 +162,7 @@ typedef struct {
 } timer_private;
 #define devpriv ((timer_private *)dev-&gt;private)
 
-static int timer_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int timer_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv-&gt;stop = 1;
 
@@ -209,7 +209,7 @@ inline static int check_conversion_timing(struct comedi_device * dev,
 static int timer_data_read(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	int ret;
 	unsigned int data;
 
@@ -234,7 +234,7 @@ static int timer_data_read(struct comedi_device * dev, comedi_cmd * cmd,
 static int timer_data_write(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
-	comedi_subdevice *s = dev-&gt;write_subdev;
+	struct comedi_subdevice *s = dev-&gt;write_subdev;
 	unsigned int num_bytes;
 	short data;
 	unsigned int long_data;
@@ -269,7 +269,7 @@ static int timer_data_write(struct comedi_device * dev, comedi_cmd * cmd,
 static int timer_dio_read(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	int ret;
 	unsigned int data;
 
@@ -291,7 +291,7 @@ static int timer_dio_read(struct comedi_device * dev, comedi_cmd * cmd,
 static void scan_task_func(comedi_rt_task_context_t d)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	int i, ret;
@@ -361,7 +361,7 @@ static void scan_task_func(comedi_rt_task_context_t d)
 static void timer_task_func(comedi_rt_task_context_t d)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int ret;
 	unsigned long long n;
@@ -396,7 +396,7 @@ static void timer_task_func(comedi_rt_task_context_t d)
 	}
 }
 
-static int timer_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	comedi_insn xinsn = *insn;
@@ -444,7 +444,7 @@ static int cmdtest_helper(comedi_cmd * cmd,
 	return err;
 }
 
-static int timer_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -516,7 +516,7 @@ static int timer_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int timer_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int timer_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int ret;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -567,7 +567,7 @@ static int timer_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -578,7 +578,7 @@ static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return timer_start_cmd(dev, s);
 }
 
-static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -610,7 +610,7 @@ static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s)
 static int timer_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s, *emul_s;
+	struct comedi_subdevice *s, *emul_s;
 	struct comedi_device *emul_dev;
 	/* These should probably be devconfig options[] */
 	const int timer_priority = 4;
diff --git a/drivers/staging/comedi/drivers/comedi_test.c b/drivers/staging/comedi/drivers/comedi_test.c
index 70aeb6088e1b..462d453eb88f 100644
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -107,13 +107,13 @@ static comedi_driver driver_waveform = {
 
 COMEDI_INITCLEANUP(driver_waveform);
 
-static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_cmd *cmd);
-static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
-static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
-static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
+static int waveform_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
+static int waveform_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-static int waveform_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 static short fake_sawtooth(struct comedi_device *dev, unsigned int range,
 			     unsigned long current_time);
@@ -194,7 +194,7 @@ static void waveform_ai_interrupt(unsigned long arg)
 
 static int waveform_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int amplitude = it-&gt;options[0];
 	int period = it-&gt;options[1];
 	int i;
@@ -269,7 +269,7 @@ static int waveform_detach(struct comedi_device *dev)
 	return 0;
 }
 
-static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_cmd *cmd)
 {
 	int err = 0;
@@ -397,7 +397,7 @@ static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int waveform_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -429,7 +429,7 @@ static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int waveform_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	devpriv-&gt;timer_running = 0;
 	del_timer(&amp;devpriv-&gt;timer);
@@ -439,7 +439,7 @@ static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 static short fake_sawtooth(struct comedi_device *dev, unsigned int range_index,
 			     unsigned long current_time)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	unsigned int offset = s-&gt;maxdata / 2;
 	u64 value;
 	const comedi_krange *krange = &amp;s-&gt;range_table-&gt;range[range_index];
@@ -460,7 +460,7 @@ static short fake_sawtooth(struct comedi_device *dev, unsigned int range_index,
 static short fake_squarewave(struct comedi_device *dev, unsigned int range_index,
 			       unsigned long current_time)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	unsigned int offset = s-&gt;maxdata / 2;
 	u64 value;
 	const comedi_krange *krange = &amp;s-&gt;range_table-&gt;range[range_index];
@@ -504,7 +504,7 @@ static short fake_waveform(struct comedi_device *dev, unsigned int channel,
 	return fake_flatline(dev, range, current_time);
 }
 
-static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn-&gt;chanspec);
@@ -515,7 +515,7 @@ static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int waveform_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/contec_pci_dio.c b/drivers/staging/comedi/drivers/contec_pci_dio.c
index 845f97e81280..0b96859cc3bf 100644
--- a/drivers/staging/comedi/drivers/contec_pci_dio.c
+++ b/drivers/staging/comedi/drivers/contec_pci_dio.c
@@ -85,13 +85,13 @@ static comedi_driver driver_contec = {
 };
 
 /* Classic digital IO */
-static int contec_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 #if 0
-static int contec_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 static int contec_ns_to_timer(unsigned int *ns, int round);
@@ -100,7 +100,7 @@ static int contec_ns_to_timer(unsigned int *ns, int round);
 static int contec_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: contec: ", dev-&gt;minor);
 
@@ -179,7 +179,7 @@ static int contec_detach(struct comedi_device * dev)
 }
 
 #if 0
-static int contec_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	printk("contec_cmdtest called\n");
@@ -192,7 +192,7 @@ static int contec_ns_to_timer(unsigned int *ns, int round)
 }
 #endif
 
-static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -212,7 +212,7 @@ static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int contec_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
diff --git a/drivers/staging/comedi/drivers/daqboard2000.c b/drivers/staging/comedi/drivers/daqboard2000.c
index 21bf5d3131b7..9ef655eec40b 100644
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -393,7 +393,7 @@ static void setup_sampling(struct comedi_device * dev, int chan, int gain)
 	writeAcqScanListEntry(dev, word3);
 }
 
-static int daqboard2000_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -450,7 +450,7 @@ static int daqboard2000_ai_insn_read(struct comedi_device * dev, comedi_subdevic
 	return i;
 }
 
-static int daqboard2000_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -463,7 +463,7 @@ static int daqboard2000_ao_insn_read(struct comedi_device * dev, comedi_subdevic
 	return i;
 }
 
-static int daqboard2000_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -720,7 +720,7 @@ static int daqboard2000_8255_cb(int dir, int port, int data,
 static int daqboard2000_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int result = 0;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *card = NULL;
 	void *aux_data;
 	unsigned int aux_len;
diff --git a/drivers/staging/comedi/drivers/das08.c b/drivers/staging/comedi/drivers/das08.c
index 1614a2070aff..a0029dc7e389 100644
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -154,19 +154,19 @@ driver.
 
 /* gainlist same as _pgx_ below */
 
-static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08ao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08ao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void i8254_set_mode_low(unsigned int base, int channel,
 	unsigned int mode);
@@ -512,7 +512,7 @@ MODULE_DEVICE_TABLE(pci, das08_pci_table);
 
 #define TIMEOUT 100000
 
-static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -579,7 +579,7 @@ static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
@@ -588,7 +588,7 @@ static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
@@ -611,7 +611,7 @@ static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
@@ -620,7 +620,7 @@ static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	// null bits we are going to set
@@ -634,7 +634,7 @@ static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -668,7 +668,7 @@ static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
  * a different method to force an update.
  *
  */
-static int das08ao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08ao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -782,7 +782,7 @@ static unsigned int i8254_read_status(struct i8254_struct *st, int channel)
 	return i8254_read_status_low(st-&gt;iobase, chan);
 }
 
-static int das08_counter_read(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
@@ -794,7 +794,7 @@ static int das08_counter_read(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int das08_counter_write(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
@@ -805,7 +805,7 @@ static int das08_counter_write(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int das08_counter_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
@@ -842,7 +842,7 @@ static comedi_driver driver_das08 = {
 
 int das08_common_attach(struct comedi_device * dev, unsigned long iobase)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 
 	// allocate ioports for non-pcmcia, non-pci boards
diff --git a/drivers/staging/comedi/drivers/das16.c b/drivers/staging/comedi/drivers/das16.c
index 07f8856c2c39..94e59a5c6629 100644
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -326,20 +326,20 @@ struct munge_info {
 	unsigned have_byte:1;
 };
 
-static int das16_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s);
-static int das16_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static void das16_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das16_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static void das16_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index);
 
 static void das16_reset(struct comedi_device * dev);
@@ -742,7 +742,7 @@ struct das16_private_struct {
 #define devpriv ((struct das16_private_struct *)(dev-&gt;private))
 #define thisboard ((struct das16_board_struct *)(dev-&gt;board_ptr))
 
-static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0, tmp;
@@ -893,7 +893,7 @@ static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
+static int das16_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -996,7 +996,7 @@ static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das16_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das16_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1031,7 +1031,7 @@ static void das16_reset(struct comedi_device * dev)
 	outb(0, dev-&gt;iobase + DAS16_CNTR_CONTROL);
 }
 
-static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1079,7 +1079,7 @@ static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -1091,7 +1091,7 @@ static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -1111,7 +1111,7 @@ static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1200,7 +1200,7 @@ static int disable_dma_on_even(struct comedi_device * dev)
 static void das16_interrupt(struct comedi_device * dev)
 {
 	unsigned long dma_flags, spin_flags;
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	int num_bytes, residue;
@@ -1368,7 +1368,7 @@ static int das1600_mode_detect(struct comedi_device * dev)
 
 static int das16_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	unsigned int irq;
 	unsigned long iobase;
@@ -1715,7 +1715,7 @@ static unsigned int das16_suggest_transfer_size(struct comedi_device * dev,
 	return size;
 }
 
-static void das16_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void das16_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
diff --git a/drivers/staging/comedi/drivers/das16m1.c b/drivers/staging/comedi/drivers/das16m1.c
index f646eb16d0c9..c337c803ec1e 100644
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -131,19 +131,19 @@ static const comedi_lrange range_das16m1 = { 9,
 		}
 };
 
-static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s);
-static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int das16m1_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das16m1_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static int das16m1_poll(struct comedi_device * dev, comedi_subdevice * s);
+static int das16m1_poll(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t das16m1_interrupt(int irq, void *d PT_REGS_ARG);
 static void das16m1_handler(struct comedi_device * dev, unsigned int status);
 
@@ -200,7 +200,7 @@ static inline short munge_sample(short data)
 	return (data &gt;&gt; 4) &amp; 0xfff;
 }
 
-static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	unsigned int err = 0, tmp, i;
@@ -322,7 +322,7 @@ static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
+static int das16m1_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -385,7 +385,7 @@ static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das16m1_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv-&gt;control_state &amp;= ~INTE &amp; ~PACER_MASK;
 	outb(devpriv-&gt;control_state, dev-&gt;iobase + DAS16M1_INTR_CONTROL);
@@ -393,7 +393,7 @@ static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -430,7 +430,7 @@ static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -442,7 +442,7 @@ static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -462,7 +462,7 @@ static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16m1_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int das16m1_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int status;
@@ -516,7 +516,7 @@ static void munge_sample_array(short * array, unsigned int num_elements)
 
 static void das16m1_handler(struct comedi_device * dev, unsigned int status)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	u16 num_samples;
@@ -637,7 +637,7 @@ static int das16m1_irq_bits(unsigned int irq)
 
 static int das16m1_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	unsigned int irq;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/das1800.c b/drivers/staging/comedi/drivers/das1800.c
index 9fb800fbfc15..5a63a00d1a4c 100644
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -183,29 +183,29 @@ enum {
 static int das1800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das1800_detach(struct comedi_device * dev);
 static int das1800_probe(struct comedi_device * dev);
-static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int das1800_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG);
-static int das1800_ai_poll(struct comedi_device * dev, comedi_subdevice * s);
+static int das1800_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s);
 static void das1800_ai_handler(struct comedi_device * dev);
-static void das1800_handle_dma(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_handle_dma(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int status);
-static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s);
-static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_flush_dma(struct comedi_device * dev, struct comedi_subdevice * s);
+static void das1800_flush_dma_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int channel, uint16_t * buffer);
 static void das1800_handle_fifo_half_full(struct comedi_device * dev,
-	comedi_subdevice * s);
+	struct comedi_subdevice * s);
 static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
-	comedi_subdevice * s);
-static int das1800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+	struct comedi_subdevice * s);
+static int das1800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das1800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int das1800_set_frequency(struct comedi_device * dev);
@@ -592,7 +592,7 @@ static int das1800_init_dma(struct comedi_device * dev, unsigned int dma0,
 
 static int das1800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = it-&gt;options[0];
 	unsigned int irq = it-&gt;options[1];
 	unsigned int dma0 = it-&gt;options[2];
@@ -867,7 +867,7 @@ static int das1800_probe(struct comedi_device * dev)
 	return -1;
 }
 
-static int das1800_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int das1800_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -911,7 +911,7 @@ static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG)
 // the guts of the interrupt handler, that is shared with das1800_ai_poll
 static void das1800_ai_handler(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog input subdevice */
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog input subdevice */
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int status = inb(dev-&gt;iobase + DAS1800_STATUS);
@@ -962,7 +962,7 @@ static void das1800_ai_handler(struct comedi_device * dev)
 	return;
 }
 
-static void das1800_handle_dma(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_handle_dma(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int status)
 {
 	unsigned long flags;
@@ -1023,7 +1023,7 @@ static void munge_data(struct comedi_device * dev, uint16_t * array,
 
 /* Utility function used by das1800_flush_dma() and das1800_handle_dma().
  * Assumes dma lock is held */
-static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_flush_dma_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int channel, uint16_t * buffer)
 {
 	unsigned int num_bytes, num_samples;
@@ -1053,7 +1053,7 @@ static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevi
 
 /* flushes remaining data from board when external trigger has stopped aquisition
  * and we are using dma transfers */
-static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s)
+static void das1800_flush_dma(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	const int dual_dma = devpriv-&gt;irq_dma_bits &amp; DMA_DUAL;
@@ -1084,7 +1084,7 @@ static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 static void das1800_handle_fifo_half_full(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	int numPoints = 0;	/* number of points to read */
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -1103,7 +1103,7 @@ static void das1800_handle_fifo_half_full(struct comedi_device * dev,
 }
 
 static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	short dpnt;
 	int unipolar;
@@ -1126,7 +1126,7 @@ static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
 	return;
 }
 
-static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das1800_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	outb(0x0, dev-&gt;iobase + DAS1800_STATUS);	/* disable conversions */
 	outb(0x0, dev-&gt;iobase + DAS1800_CONTROL_B);	/* disable interrupts and dma */
@@ -1139,7 +1139,7 @@ static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 /* test analog input cmd */
-static int das1800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1489,7 +1489,7 @@ static void program_chanlist(struct comedi_device * dev, comedi_cmd cmd)
 }
 
 // analog input do_cmd
-static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int das1800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int ret;
 	int control_a, control_c;
@@ -1552,7 +1552,7 @@ static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 /* read analog input */
-static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1612,7 +1612,7 @@ static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 /* writes to an analog output channel */
-static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1641,7 +1641,7 @@ static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 /* reads from digital input channels */
-static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -1652,7 +1652,7 @@ static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 /* writes to digital output channels */
-static int das1800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
diff --git a/drivers/staging/comedi/drivers/das6402.c b/drivers/staging/comedi/drivers/das6402.c
index e78d9eb0eb7a..6c0a28cb712c 100644
--- a/drivers/staging/comedi/drivers/das6402.c
+++ b/drivers/staging/comedi/drivers/das6402.c
@@ -116,7 +116,7 @@ typedef struct {
 } das6402_private;
 #define devpriv ((das6402_private *)dev-&gt;private)
 
-static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice * s);
+static void das6402_ai_fifo_dregs(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static void das6402_setcounter(struct comedi_device * dev)
 {
@@ -154,7 +154,7 @@ static void das6402_setcounter(struct comedi_device * dev)
 static irqreturn_t intr_handler(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices;
+	struct comedi_subdevice *s = dev-&gt;subdevices;
 
 	if (!dev-&gt;attached || devpriv-&gt;das6402_ignoreirq) {
 		printk("das6402: BUG: spurious interrupt\n");
@@ -195,7 +195,7 @@ static void das6402_ai_fifo_read(struct comedi_device * dev, short * data, int n
 }
 #endif
 
-static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice * s)
+static void das6402_ai_fifo_dregs(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	while (1) {
 		if (!(inb(dev-&gt;iobase + 8) &amp; 0x01))
@@ -204,7 +204,7 @@ static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice *
 	}
 }
 
-static int das6402_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das6402_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/*
 	 *  This function should reset the board from whatever condition it
@@ -226,7 +226,7 @@ static int das6402_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 #ifdef unused
-static int das6402_ai_mode2(struct comedi_device * dev, comedi_subdevice * s,
+static int das6402_ai_mode2(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	devpriv-&gt;das6402_ignoreirq = 1;
@@ -304,7 +304,7 @@ static int das6402_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned int irq;
 	unsigned long iobase;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	dev-&gt;board_name = "das6402";
 
diff --git a/drivers/staging/comedi/drivers/das800.c b/drivers/staging/comedi/drivers/das800.c
index 73068309ae9c..7833e56b0124 100644
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -244,7 +244,7 @@ typedef struct {
 
 static int das800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das800_detach(struct comedi_device * dev);
-static int das800_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int das800_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_das800 = {
       driver_name:"das800",
@@ -259,14 +259,14 @@ static comedi_driver driver_das800 = {
 static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG);
 static void enable_das800(struct comedi_device * dev);
 static void disable_das800(struct comedi_device * dev);
-static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int das800_probe(struct comedi_device * dev);
 static int das800_set_frequency(struct comedi_device * dev);
@@ -348,7 +348,7 @@ static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG)
 	short i;		/* loop index */
 	short dataPoint = 0;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;read_subdev;	/* analog input subdevice */
+	struct comedi_subdevice *s = dev-&gt;read_subdev;	/* analog input subdevice */
 	comedi_async *async;
 	int status;
 	unsigned long irq_flags;
@@ -443,7 +443,7 @@ static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG)
 
 static int das800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = it-&gt;options[0];
 	unsigned int irq = it-&gt;options[1];
 	unsigned long irq_flags;
@@ -551,7 +551,7 @@ static int das800_detach(struct comedi_device * dev)
 	return 0;
 };
 
-static int das800_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das800_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv-&gt;forever = 0;
 	devpriv-&gt;count = 0;
@@ -584,7 +584,7 @@ static void disable_das800(struct comedi_device * dev)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, irq_flags);
 }
 
-static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -709,7 +709,7 @@ static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s
 	return 0;
 }
 
-static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int das800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int startChan, endChan, scan, gain;
 	int conv_bits;
@@ -788,7 +788,7 @@ static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -842,7 +842,7 @@ static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -855,7 +855,7 @@ static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
diff --git a/drivers/staging/comedi/drivers/dmm32at.c b/drivers/staging/comedi/drivers/dmm32at.c
index 678eb970a034..d710dd652053 100644
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -289,20 +289,20 @@ static comedi_driver driver_dmm32at = {
 };
 
 /* prototypes for driver functions below */
-static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int dmm32at_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dmm32at_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int dmm32at_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dmm32at_ns_to_timer(unsigned int *ns, int round);
 static irqreturn_t dmm32at_isr(int irq, void *d PT_REGS_ARG);
 void dmm32at_setaitimer(struct comedi_device * dev, unsigned int nansec);
@@ -316,7 +316,7 @@ void dmm32at_setaitimer(struct comedi_device * dev, unsigned int nansec);
 static int dmm32at_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned char aihi, ailo, fifostat, aistat, intstat, airback;
 	unsigned long iobase;
 	unsigned int irq;
@@ -497,7 +497,7 @@ static int dmm32at_detach(struct comedi_device * dev)
  * mode.
  */
 
-static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -568,7 +568,7 @@ static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -752,7 +752,7 @@ static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dmm32at_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int i, range;
@@ -822,7 +822,7 @@ static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 
 }
 
-static int dmm32at_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dmm32at_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv-&gt;ai_scans_left = 1;
 	return 0;
@@ -844,7 +844,7 @@ static irqreturn_t dmm32at_isr(int irq, void *d PT_REGS_ARG)
 	intstat = dmm_inb(dev, DMM32AT_INTCLOCK);
 
 	if (intstat &amp; DMM32AT_ADINT) {
-		comedi_subdevice *s = dev-&gt;read_subdev;
+		struct comedi_subdevice *s = dev-&gt;read_subdev;
 		comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
 		for (i = 0; i &lt; cmd-&gt;chanlist_len; i++) {
@@ -893,7 +893,7 @@ static int dmm32at_ns_to_timer(unsigned int *ns, int round)
 	return *ns;
 }
 
-static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -936,7 +936,7 @@ static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -953,7 +953,7 @@ static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char diobits;
@@ -1006,7 +1006,7 @@ static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int dmm32at_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char chanbit;
diff --git a/drivers/staging/comedi/drivers/dt2801.c b/drivers/staging/comedi/drivers/dt2801.c
index 364102436d6e..1f6e4bfa8cd2 100644
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -224,15 +224,15 @@ typedef struct {
 } dt2801_private;
 #define devpriv ((dt2801_private *)dev-&gt;private)
 
-static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /* These are the low-level routines:
@@ -480,7 +480,7 @@ static const comedi_lrange *ai_range_lkup(int type, int opt)
 */
 static int dt2801_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	int board_code, type;
 	int ret = 0;
@@ -605,7 +605,7 @@ static int dt2801_error(struct comedi_device * dev, int stat)
 	return -EIO;
 }
 
-static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int d;
@@ -627,7 +627,7 @@ static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_readback[CR_CHAN(insn-&gt;chanspec)];
@@ -635,7 +635,7 @@ static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dt2801_writecmd(dev, DT_C_WRITE_DAIM);
@@ -647,7 +647,7 @@ static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s
 	return 1;
 }
 
-static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
@@ -671,7 +671,7 @@ static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 	return 2;
 }
 
-static int dt2801_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
diff --git a/drivers/staging/comedi/drivers/dt2811.c b/drivers/staging/comedi/drivers/dt2811.c
index 76c084ca081b..ca2e83f3630f 100644
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -226,15 +226,15 @@ static comedi_driver driver_dt2811 = {
 
 COMEDI_INITCLEANUP(driver_dt2811);
 
-static int dt2811_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 enum { card_2811_pgh, card_2811_pgl };
@@ -314,7 +314,7 @@ static int dt2811_attach(struct comedi_device * dev, comedi_devconfig * it)
 	//unsigned long irqs;
 	//long flags;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
@@ -490,7 +490,7 @@ static int dt2811_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int dt2811_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -541,7 +541,7 @@ int dt2811_adtrig(kdev_t minor, comedi_adtrig * adtrig)
 }
 #endif
 
-static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -559,7 +559,7 @@ static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -574,7 +574,7 @@ static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -585,7 +585,7 @@ static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt2811_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
diff --git a/drivers/staging/comedi/drivers/dt2814.c b/drivers/staging/comedi/drivers/dt2814.c
index 40430b5df69a..f886d1c376ed 100644
--- a/drivers/staging/comedi/drivers/dt2814.c
+++ b/drivers/staging/comedi/drivers/dt2814.c
@@ -81,7 +81,7 @@ typedef struct {
 #define DT2814_TIMEOUT 10
 #define DT2814_MAX_SPEED 100000	/* Arbitrary 10 khz limit */
 
-static int dt2814_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2814_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i, hi, lo;
@@ -132,7 +132,7 @@ static int dt2814_ns_to_timer(unsigned int *ns, unsigned int flags)
 	return i;
 }
 
-static int dt2814_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2814_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -224,7 +224,7 @@ static int dt2814_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int dt2814_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt2814_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int chan;
@@ -247,7 +247,7 @@ static int dt2814_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int i, irq;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
@@ -345,7 +345,7 @@ static irqreturn_t dt2814_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	int lo, hi;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int data;
 
 	if (!dev-&gt;attached) {
diff --git a/drivers/staging/comedi/drivers/dt2815.c b/drivers/staging/comedi/drivers/dt2815.c
index 892fe38d55e6..75b89430be8c 100644
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -106,7 +106,7 @@ static int dt2815_wait_for_status(struct comedi_device * dev, int status)
 	return status;
 }
 
-static int dt2815_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2815_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -119,7 +119,7 @@ static int dt2815_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2815_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2815_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -179,7 +179,7 @@ static int dt2815_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 
 static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	const comedi_lrange *current_range_type, *voltage_range_type;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/dt2817.c b/drivers/staging/comedi/drivers/dt2817.c
index 41aa03d40cdd..5e012856a58e 100644
--- a/drivers/staging/comedi/drivers/dt2817.c
+++ b/drivers/staging/comedi/drivers/dt2817.c
@@ -58,7 +58,7 @@ static comedi_driver driver_dt2817 = {
 
 COMEDI_INITCLEANUP(driver_dt2817);
 
-static int dt2817_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2817_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -96,7 +96,7 @@ static int dt2817_dio_insn_config(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int dt2817_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2817_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int changed;
@@ -134,7 +134,7 @@ static int dt2817_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 static int dt2817_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/dt282x.c b/drivers/staging/comedi/drivers/dt282x.c
index 2c4557faac4a..5da648d2399b 100644
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -411,8 +411,8 @@ COMEDI_INITCLEANUP(driver_dt282x);
 static void free_resources(struct comedi_device * dev);
 static int prep_ai_dma(struct comedi_device * dev, int chan, int size);
 static int prep_ao_dma(struct comedi_device * dev, int chan, int size);
-static int dt282x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dt282x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int dt282x_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dt282x_ns_to_timer(int *nanosec, int round_mode);
 static void dt282x_disable_dma(struct comedi_device * dev);
 
@@ -445,7 +445,7 @@ static void dt282x_ao_dma_interrupt(struct comedi_device * dev)
 	void *ptr;
 	int size;
 	int i;
-	comedi_subdevice *s = dev-&gt;subdevices + 1;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 1;
 
 	update_supcsr(DT2821_CLRDMADNE);
 
@@ -478,7 +478,7 @@ static void dt282x_ai_dma_interrupt(struct comedi_device * dev)
 	int size;
 	int i;
 	int ret;
-	comedi_subdevice *s = dev-&gt;subdevices;
+	struct comedi_subdevice *s = dev-&gt;subdevices;
 
 	update_supcsr(DT2821_CLRDMADNE);
 
@@ -580,8 +580,8 @@ static int prep_ao_dma(struct comedi_device * dev, int dma_index, int n)
 static irqreturn_t dt282x_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
-	comedi_subdevice *s_ao;
+	struct comedi_subdevice *s;
+	struct comedi_subdevice *s_ao;
 	unsigned int supcsr, adcsr, dacsr;
 	int handled = 0;
 
@@ -674,7 +674,7 @@ static void dt282x_load_changain(struct comedi_device * dev, int n,
  *      - preload multiplexer
  *      - trigger conversion and wait for it to finish
  */
-static int dt282x_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -706,7 +706,7 @@ static int dt282x_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt282x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -818,7 +818,7 @@ static int dt282x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int dt282x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int timer;
@@ -887,7 +887,7 @@ static void dt282x_disable_dma(struct comedi_device * dev)
 	}
 }
 
-static int dt282x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dt282x_disable_dma(dev);
 
@@ -937,7 +937,7 @@ static int dt282x_ns_to_timer(int *nanosec, int round_mode)
  *      offset binary if necessary, loads the data into the DAC
  *      data register, and performs the conversion.
  */
-static int dt282x_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao[CR_CHAN(insn-&gt;chanspec)];
@@ -945,7 +945,7 @@ static int dt282x_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt282x_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	short d;
@@ -978,7 +978,7 @@ static int dt282x_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s
 	return 1;
 }
 
-static int dt282x_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1069,7 +1069,7 @@ static int dt282x_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 
 }
 
-static int dt282x_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int x)
 {
 	int size;
@@ -1099,7 +1099,7 @@ static int dt282x_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt282x_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int timer;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -1132,7 +1132,7 @@ static int dt282x_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dt282x_disable_dma(dev);
 
@@ -1145,7 +1145,7 @@ static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt282x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -1159,7 +1159,7 @@ static int dt282x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 	return 2;
 }
 
-static int dt282x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -1244,7 +1244,7 @@ static int dt282x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int i, irq;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	dev-&gt;board_name = this_board-&gt;name;
diff --git a/drivers/staging/comedi/drivers/dt3000.c b/drivers/staging/comedi/drivers/dt3000.c
index 0b015a0d8203..add9b11fa157 100644
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -282,10 +282,10 @@ static comedi_driver driver_dt3000 = {
 
 COMEDI_PCI_INITCLEANUP(driver_dt3000, dt3k_pci_table);
 
-static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s);
+static void dt3k_ai_empty_fifo(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dt3k_ns_to_timer(unsigned int timer_base, unsigned int *arg,
 	unsigned int round_mode);
-static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dt3k_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 #ifdef DEBUG
 static void debug_intr_flags(unsigned int flags);
 #endif
@@ -346,7 +346,7 @@ static int debug_n_ints = 0;
 static irqreturn_t dt3k_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned int status;
 
 	if (!dev-&gt;attached) {
@@ -396,7 +396,7 @@ static void debug_intr_flags(unsigned int flags)
 }
 #endif
 
-static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static void dt3k_ai_empty_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int front;
 	int rear;
@@ -425,7 +425,7 @@ static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s)
 	writew(rear, devpriv-&gt;io_addr + DPR_AD_Buf_Rear);
 }
 
-static int dt3k_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -587,7 +587,7 @@ static int dt3k_ns_to_timer(unsigned int timer_base, unsigned int *nanosec,
 	return (prescale &lt;&lt; 16) | (divider);
 }
 
-static int dt3k_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt3k_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int i;
@@ -655,7 +655,7 @@ static int dt3k_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dt3k_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int ret;
 
@@ -667,7 +667,7 @@ static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt3k_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -685,7 +685,7 @@ static int dt3k_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt3k_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -700,7 +700,7 @@ static int dt3k_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt3k_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -729,7 +729,7 @@ static void dt3k_dio_config(struct comedi_device * dev, int bits)
 	dt3k_send_cmd(dev, CMD_CONFIG);
 }
 
-static int dt3k_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -760,7 +760,7 @@ static int dt3k_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s
 	return insn-&gt;n;
 }
 
-static int dt3k_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -776,7 +776,7 @@ static int dt3k_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt3k_mem_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_mem_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int addr = CR_CHAN(insn-&gt;chanspec);
@@ -799,7 +799,7 @@ static int dt_pci_probe(struct comedi_device * dev, int bus, int slot);
 
 static int dt3000_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 	int ret = 0;
 
diff --git a/drivers/staging/comedi/drivers/dt9812.c b/drivers/staging/comedi/drivers/dt9812.c
index 068ef2f79e5a..3dd357336fa7 100644
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -897,7 +897,7 @@ static void dt9812_comedi_open(struct comedi_device *dev)
 	down(&amp;devpriv-&gt;slot-&gt;mutex);
 	if (devpriv-&gt;slot-&gt;usb) {
 		/* We have an attached device, fill in current range info */
-		comedi_subdevice *s;
+		struct comedi_subdevice *s;
 
 		s = &amp;dev-&gt;subdevices[0];
 		s-&gt;n_chan = 8;
@@ -940,7 +940,7 @@ static void dt9812_comedi_open(struct comedi_device *dev)
 	up(&amp;devpriv-&gt;slot-&gt;mutex);
 }
 
-static int dt9812_di_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_di_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -952,7 +952,7 @@ static int dt9812_di_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_do_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_do_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -970,7 +970,7 @@ static int dt9812_do_winsn(struct comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ai_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -985,7 +985,7 @@ static int dt9812_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -999,7 +999,7 @@ static int dt9812_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -1012,7 +1012,7 @@ static int dt9812_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
 static int dt9812_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	dev-&gt;board_name = "dt9812";
 
diff --git a/drivers/staging/comedi/drivers/fl512.c b/drivers/staging/comedi/drivers/fl512.c
index 20bd47318439..54f2c2a6c51c 100644
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -53,17 +53,17 @@ static comedi_driver driver_fl512 = {
 COMEDI_INITCLEANUP(driver_fl512);
 
 static int fl512_ai_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int fl512_ao_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int fl512_ao_insn_readback(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /*
  * fl512_ai_insn : this is the analog input function
  */
 static int fl512_ai_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned int lo_byte, hi_byte;
@@ -88,7 +88,7 @@ static int fl512_ai_insn(struct comedi_device * dev,
  * fl512_ao_insn : used to write to a DA port n times
  */
 static int fl512_ao_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);	/* get chan to write */
@@ -109,7 +109,7 @@ static int fl512_ao_insn(struct comedi_device * dev,
  * DA port
  */
 static int fl512_ao_insn_readback(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -127,7 +127,7 @@ static int fl512_ao_insn_readback(struct comedi_device * dev,
 static int fl512_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase;
-	comedi_subdevice *s;	/* pointer to the subdevice:
+	struct comedi_subdevice *s;	/* pointer to the subdevice:
 				   Analog in, Analog out, ( not made -&gt;and Digital IO) */
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/gsc_hpdi.c b/drivers/staging/comedi/drivers/gsc_hpdi.c
index 5048255b4a3f..fb91fa1da839 100644
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -55,10 +55,10 @@ support could be added to this driver.
 static int hpdi_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int hpdi_detach(struct comedi_device * dev);
 void abort_dma(struct comedi_device * dev, unsigned int channel);
-static int hpdi_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int hpdi_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int hpdi_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int hpdi_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int hpdi_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int hpdi_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
 static int dio_config_block_size(struct comedi_device * dev, unsigned int * data);
 
@@ -336,7 +336,7 @@ static comedi_driver driver_hpdi = {
 
 COMEDI_PCI_INITCLEANUP(driver_hpdi, hpdi_pci_table);
 
-static int dio_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -437,7 +437,7 @@ static void init_plx9080(struct comedi_device * dev)
  */
 static int setup_subdevices(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (alloc_subdevices(dev, 1) &lt; 0)
 		return -ENOMEM;
@@ -718,7 +718,7 @@ static int dio_config_block_size(struct comedi_device * dev, unsigned int * data
 	return 2;
 }
 
-static int di_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int di_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -818,7 +818,7 @@ static int di_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int hpdi_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int hpdi_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	if (priv(dev)-&gt;dio_config_output) {
@@ -834,7 +834,7 @@ static inline void hpdi_writel(struct comedi_device * dev, uint32_t bits,
 		priv(dev)-&gt;hpdi_iobase + offset);
 }
 
-static int di_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int di_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	uint32_t bits;
 	unsigned long flags;
@@ -887,7 +887,7 @@ static int di_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int hpdi_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int hpdi_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (priv(dev)-&gt;dio_config_output) {
 		return -EINVAL;
@@ -944,7 +944,7 @@ static void drain_dma_buffers(struct comedi_device * dev, unsigned int channel)
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
 	uint32_t hpdi_intr_status, hpdi_board_status;
 	uint32_t plx_status;
@@ -1044,7 +1044,7 @@ void abort_dma(struct comedi_device * dev, unsigned int channel)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, flags);
 }
 
-static int hpdi_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int hpdi_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	hpdi_writel(dev, 0, BOARD_CONTROL_REG);
 
diff --git a/drivers/staging/comedi/drivers/icp_multi.c b/drivers/staging/comedi/drivers/icp_multi.c
index 04152148a106..ee17c6ce838c 100644
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -214,10 +214,10 @@ struct icp_multi_private {
 */
 
 #if 0
-static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static int check_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan);
 #endif
-static void setup_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static void setup_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan);
 static int icp_multi_reset(struct comedi_device *dev);
 
@@ -237,7 +237,7 @@ static int icp_multi_reset(struct comedi_device *dev);
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue input data
 
@@ -245,7 +245,7 @@ static int icp_multi_reset(struct comedi_device *dev);
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ai(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ai(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, timeout;
@@ -356,7 +356,7 @@ static int icp_multi_insn_read_ai(struct comedi_device *dev, comedi_subdevice *s
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -364,7 +364,7 @@ static int icp_multi_insn_read_ai(struct comedi_device *dev, comedi_subdevice *s
 
 ==============================================================================
 */
-static int icp_multi_insn_write_ao(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_write_ao(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan, range, timeout;
@@ -464,7 +464,7 @@ static int icp_multi_insn_write_ao(struct comedi_device *dev, comedi_subdevice *
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -472,7 +472,7 @@ static int icp_multi_insn_write_ao(struct comedi_device *dev, comedi_subdevice *
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ao(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ao(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan;
@@ -497,7 +497,7 @@ static int icp_multi_insn_read_ao(struct comedi_device *dev, comedi_subdevice *s
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -505,7 +505,7 @@ static int icp_multi_insn_read_ao(struct comedi_device *dev, comedi_subdevice *s
 
 ==============================================================================
 */
-static int icp_multi_insn_bits_di(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_bits_di(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	data[1] = readw(devpriv-&gt;io_addr + ICP_MULTI_DI);
@@ -523,7 +523,7 @@ static int icp_multi_insn_bits_di(struct comedi_device *dev, comedi_subdevice *s
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -531,7 +531,7 @@ static int icp_multi_insn_bits_di(struct comedi_device *dev, comedi_subdevice *s
 
 ==============================================================================
 */
-static int icp_multi_insn_bits_do(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_bits_do(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 #ifdef ICP_MULTI_EXTDEBUG
@@ -565,7 +565,7 @@ static int icp_multi_insn_bits_do(struct comedi_device *dev, comedi_subdevice *s
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to counter data
 
@@ -573,7 +573,7 @@ static int icp_multi_insn_bits_do(struct comedi_device *dev, comedi_subdevice *s
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ctr(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ctr(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
@@ -589,7 +589,7 @@ static int icp_multi_insn_read_ctr(struct comedi_device *dev, comedi_subdevice *
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to counter data
 
@@ -597,7 +597,7 @@ static int icp_multi_insn_read_ctr(struct comedi_device *dev, comedi_subdevice *
 
 ==============================================================================
 */
-static int icp_multi_insn_write_ctr(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_write_ctr(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
@@ -680,7 +680,7 @@ static irqreturn_t interrupt_service_icp_multi(int irq, void *d PT_REGS_ARG)
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current sevice structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		unsigned int *chanlist	Pointer to packed channel list
 		unsigned int n_chan	Number of channels to scan
 
@@ -689,7 +689,7 @@ static irqreturn_t interrupt_service_icp_multi(int irq, void *d PT_REGS_ARG)
 
 ==============================================================================
 */
-static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static int check_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int i;
@@ -735,7 +735,7 @@ static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current sevice structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		unsigned int *chanlist	Pointer to packed channel list
 		unsigned int n_chan	Number of channels to scan
 
@@ -743,7 +743,7 @@ static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static void setup_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static void setup_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int i, range, chanprog;
@@ -872,7 +872,7 @@ static int icp_multi_reset(struct comedi_device *dev)
 */
 static int icp_multi_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
 	unsigned int irq;
 	struct pcilst_struct *card = NULL;
diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index 3e7ca4e6b8af..df21bf255d02 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -166,11 +166,11 @@ static comedi_driver driver_pci20xxx = {
       detach:pci20xxx_detach,
 };
 
-static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1);
-static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1);
-static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s);
+static int pci20xxx_dio_init(struct comedi_device * dev, struct comedi_subdevice * s);
 
 /*
   options[0]	Board base address
@@ -204,7 +204,7 @@ static int pci20xxx_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned char i;
 	int ret;
 	int id;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	pci20xxx_subdev_private *sdp;
 
 	if ((ret = alloc_subdevices(dev, 1 + PCI20000_MODULES)) &lt; 0)
@@ -270,9 +270,9 @@ static int pci20xxx_detach(struct comedi_device * dev)
 
 /* pci20006m */
 
-static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static const comedi_lrange *pci20006_range_list[] = {
@@ -281,7 +281,7 @@ static const comedi_lrange *pci20006_range_list[] = {
 	&amp;range_bipolar5,
 };
 
-static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -306,7 +306,7 @@ static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -316,7 +316,7 @@ static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -349,7 +349,7 @@ static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 
 /* PCI20341M */
 
-static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static const int pci20341_timebase[] = { 0x00, 0x00, 0x00, 0x04 };
@@ -366,7 +366,7 @@ static const comedi_lrange *const pci20341_ranges[] = {
 	&amp;range_bipolar0_025,
 };
 
-static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -397,7 +397,7 @@ static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -443,14 +443,14 @@ static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 
 /* native DIO */
 
-static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s);
-static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static void pci20xxx_dio_config(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci20xxx_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /* initialize pci20xxx_private */
-static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s)
+static int pci20xxx_dio_init(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 
 	s-&gt;type = COMEDI_SUBD_DIO;
@@ -469,7 +469,7 @@ static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask, bits;
@@ -494,7 +494,7 @@ static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice
 	return 1;
 }
 
-static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask = data[0];
@@ -524,7 +524,7 @@ static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s)
+static void pci20xxx_dio_config(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned char control_01;
 	unsigned char control_23;
@@ -580,7 +580,7 @@ static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s
 }
 
 #if 0
-static void pci20xxx_do(struct comedi_device * dev, comedi_subdevice * s)
+static void pci20xxx_do(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* XXX if the channel is configured for input, does this
 	   do bad things? */
@@ -593,7 +593,7 @@ static void pci20xxx_do(struct comedi_device * dev, comedi_subdevice * s)
 	writeb((s-&gt;state &gt;&gt; 24) &amp; 0xff, devpriv-&gt;ioaddr + PCI20000_DIO_3);
 }
 
-static unsigned int pci20xxx_di(struct comedi_device * dev, comedi_subdevice * s)
+static unsigned int pci20xxx_di(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* XXX same note as above */
 	unsigned int bits;
diff --git a/drivers/staging/comedi/drivers/jr3_pci.c b/drivers/staging/comedi/drivers/jr3_pci.c
index 0a077486315c..44b5c4ff3648 100644
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -269,7 +269,7 @@ static six_axis_t get_max_full_scales(volatile jr3_channel_t * channel)
 	return result;
 }
 
-static int jr3_pci_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int jr3_pci_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int result;
@@ -523,7 +523,7 @@ static int jr3_download_firmware(struct comedi_device * dev, const u8 * data,
 	return result;
 }
 
-static poll_delay_t jr3_pci_poll_subdevice(comedi_subdevice * s)
+static poll_delay_t jr3_pci_poll_subdevice(struct comedi_subdevice * s)
 {
 	poll_delay_t result = poll_delay_min_max(1000, 2000);
 	jr3_pci_subdev_private *p = s-&gt;private;
diff --git a/drivers/staging/comedi/drivers/ke_counter.c b/drivers/staging/comedi/drivers/ke_counter.c
index d9b8a83343d9..08f09ac19d70 100644
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -100,7 +100,7 @@ COMEDI_PCI_INITCLEANUP(cnt_driver, cnt_pci_table);
 /* This should be used only for resetting the counters; maybe it is better
    to make a special command 'reset'. */
 static int cnt_winsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
@@ -120,7 +120,7 @@ static int cnt_winsn(struct comedi_device * dev,
 /*-- counter read -----------------------------------------------------------*/
 
 static int cnt_rinsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned char a0, a1, a2, a3, a4;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -146,7 +146,7 @@ static int cnt_rinsn(struct comedi_device * dev,
 
 static int cnt_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 	struct pci_dev *pci_device;
 	cnt_board_struct *board;
 	unsigned long io_base;
diff --git a/drivers/staging/comedi/drivers/me4000.c b/drivers/staging/comedi/drivers/me4000.c
index a03661ce34b5..17de86a3988c 100644
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -141,10 +141,10 @@ static int xilinx_download(struct comedi_device *dev);
 static int reset_board(struct comedi_device *dev);
 
 static int me4000_dio_insn_bits(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_dio_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int cnt_reset(struct comedi_device *dev, unsigned int channel);
 
@@ -152,49 +152,49 @@ static int cnt_config(struct comedi_device *dev,
 	unsigned int channel, unsigned int mode);
 
 static int me4000_cnt_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_cnt_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_cnt_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ai_insn_read(struct comedi_device *dev,
-	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data);
 
-static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
+static int me4000_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
 
 static int ai_check_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd);
+	struct comedi_subdevice *s, comedi_cmd *cmd);
 
 static int ai_round_cmd_args(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int *init_ticks,
 	unsigned int *scan_ticks, unsigned int *chan_ticks);
 
 static int ai_prepare(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int init_ticks,
 	unsigned int scan_ticks, unsigned int chan_ticks);
 
 static int ai_write_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd);
+	struct comedi_subdevice *s, comedi_cmd *cmd);
 
 static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG);
 
 static int me4000_ai_do_cmd_test(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd);
+	struct comedi_subdevice *s, comedi_cmd *cmd);
 
-static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s);
+static int me4000_ai_do_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
 
 static int me4000_ao_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ao_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 /*-----------------------------------------------------------------------------
   Meilhaus inline functions
@@ -249,7 +249,7 @@ static const comedi_lrange me4000_ao_range = {
 
 static int me4000_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int result;
 
 	CALL_PDEBUG("In me4000_attach()\n");
@@ -914,7 +914,7 @@ static int me4000_detach(struct comedi_device *dev)
   ===========================================================================*/
 
 static int me4000_ai_insn_read(struct comedi_device *dev,
-	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data)
 {
 
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1037,7 +1037,7 @@ static int me4000_ai_insn_read(struct comedi_device *dev,
 	return 1;
 }
 
-static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int me4000_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	unsigned long tmp;
 
@@ -1055,7 +1055,7 @@ static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 }
 
 static int ai_check_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int aref;
 	int i;
@@ -1136,7 +1136,7 @@ static int ai_check_chanlist(struct comedi_device *dev,
 }
 
 static int ai_round_cmd_args(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int *init_ticks,
 	unsigned int *scan_ticks, unsigned int *chan_ticks)
@@ -1223,7 +1223,7 @@ static void ai_write_timer(struct comedi_device *dev,
 }
 
 static int ai_prepare(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int init_ticks,
 	unsigned int scan_ticks, unsigned int chan_ticks)
@@ -1292,7 +1292,7 @@ static int ai_prepare(struct comedi_device *dev,
 }
 
 static int ai_write_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	unsigned int entry;
 	unsigned int chan;
@@ -1331,7 +1331,7 @@ static int ai_write_chanlist(struct comedi_device *dev,
 	return 0;
 }
 
-static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int me4000_ai_do_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int err;
 	unsigned int init_ticks = 0;
@@ -1376,7 +1376,7 @@ static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s)
  * So I tried to adopt this scheme.
  */
 static int me4000_ai_do_cmd_test(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 
 	unsigned int init_ticks;
@@ -1744,7 +1744,7 @@ static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG)
 {
 	unsigned int tmp;
 	struct comedi_device *dev = dev_id;
-	comedi_subdevice *s = dev-&gt;subdevices;
+	struct comedi_subdevice *s = dev-&gt;subdevices;
 	me4000_ai_context_t *ai_context = &amp;info-&gt;ai_context;
 	int i;
 	int c = 0;
@@ -1904,7 +1904,7 @@ static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG)
   ===========================================================================*/
 
 static int me4000_ao_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1962,7 +1962,7 @@ static int me4000_ao_insn_write(struct comedi_device *dev,
 }
 
 static int me4000_ao_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
@@ -1983,7 +1983,7 @@ static int me4000_ao_insn_read(struct comedi_device *dev,
   ===========================================================================*/
 
 static int me4000_dio_insn_bits(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	CALL_PDEBUG("In me4000_dio_insn_bits()\n");
@@ -2034,7 +2034,7 @@ static int me4000_dio_insn_bits(struct comedi_device *dev,
 }
 
 static int me4000_dio_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	unsigned long tmp;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2216,7 +2216,7 @@ static int cnt_config(struct comedi_device *dev, unsigned int channel,
 }
 
 static int me4000_cnt_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	int err;
@@ -2259,7 +2259,7 @@ static int me4000_cnt_insn_config(struct comedi_device *dev,
 }
 
 static int me4000_cnt_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	unsigned short tmp;
@@ -2306,7 +2306,7 @@ static int me4000_cnt_insn_read(struct comedi_device *dev,
 }
 
 static int me4000_cnt_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	unsigned short tmp;
diff --git a/drivers/staging/comedi/drivers/me_daq.c b/drivers/staging/comedi/drivers/me_daq.c
index 5e48eaaf5f28..084b903d0cd6 100644
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -290,7 +290,7 @@ static inline void sleep(unsigned sec)
  *
  * ------------------------------------------------------------------
  */
-static int me_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int me_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data)
 {
 	int bits;
@@ -326,7 +326,7 @@ static int me_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 }
 
 /* Digital instant input/outputs */
-static int me_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int me_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	unsigned int mask = data[0];
@@ -362,7 +362,7 @@ static int me_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
  */
 
 /* Analog instant input */
-static int me_ai_insn_read(struct comedi_device *dev, comedi_subdevice *subdevice,
+static int me_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *subdevice,
 			   comedi_insn *insn, unsigned int *data)
 {
 	unsigned short value;
@@ -436,7 +436,7 @@ static int me_ai_insn_read(struct comedi_device *dev, comedi_subdevice *subdevic
  */
 
 /* Cancel analog input autoscan */
-static int me_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int me_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	/* disable interrupts */
 
@@ -448,14 +448,14 @@ static int me_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 }
 
 /* Test analog input command */
-static int me_ai_do_cmd_test(struct comedi_device *dev, comedi_subdevice *s,
+static int me_ai_do_cmd_test(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	return 0;
 }
 
 /* Analog input command */
-static int me_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *subdevice)
+static int me_ai_do_cmd(struct comedi_device *dev, struct comedi_subdevice *subdevice)
 {
 	return 0;
 }
@@ -469,7 +469,7 @@ static int me_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *subdevice)
  */
 
 /* Analog instant output */
-static int me_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int me_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	int chan;
@@ -519,7 +519,7 @@ static int me_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 }
 
 /* Analog output readback */
-static int me_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int me_ao_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -634,7 +634,7 @@ static int me_reset(struct comedi_device *dev)
 static int me_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	struct pci_dev *pci_device;
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 	struct me_board *board;
 	resource_size_t plx_regbase_tmp;
 	unsigned long plx_regbase_size_tmp;
diff --git a/drivers/staging/comedi/drivers/mpc624.c b/drivers/staging/comedi/drivers/mpc624.c
index 6bbcdde62ad3..2a30dda24bc4 100644
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -155,12 +155,12 @@ static comedi_driver driver_mpc624 = {
 };
 
 //----------------------------------------------------------------------------
-static int mpc624_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc624_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 //----------------------------------------------------------------------------
 static int mpc624_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
@@ -268,7 +268,7 @@ static int mpc624_detach(struct comedi_device * dev)
 // Timeout 200ms
 #define TIMEOUT 200
 
-static int mpc624_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc624_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
diff --git a/drivers/staging/comedi/drivers/mpc8260cpm.c b/drivers/staging/comedi/drivers/mpc8260cpm.c
index f1f14514ff27..40057a0b8f97 100644
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -55,14 +55,14 @@ static comedi_driver driver_mpc8260cpm = {
 
 COMEDI_INITCLEANUP(driver_mpc8260cpm);
 
-static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int mpc8260cpm_dio_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int mpc8260cpm_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 
 	printk("comedi%d: mpc8260cpm: ", dev-&gt;minor);
@@ -112,7 +112,7 @@ static unsigned long *cpm_pdat(int port)
 	}
 }
 
-static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -155,7 +155,7 @@ static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int mpc8260cpm_dio_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int port;
diff --git a/drivers/staging/comedi/drivers/multiq3.c b/drivers/staging/comedi/drivers/multiq3.c
index 477185b33d72..151d6d4bdde4 100644
--- a/drivers/staging/comedi/drivers/multiq3.c
+++ b/drivers/staging/comedi/drivers/multiq3.c
@@ -98,7 +98,7 @@ struct multiq3_private {
 };
 #define devpriv ((struct multiq3_private *)dev-&gt;private)
 
-static int multiq3_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -134,7 +134,7 @@ static int multiq3_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s
 	return n;
 }
 
-static int multiq3_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -147,7 +147,7 @@ static int multiq3_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s
 	return i;
 }
 
-static int multiq3_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -165,7 +165,7 @@ static int multiq3_ao_insn_write(struct comedi_device * dev, comedi_subdevice *
 	return i;
 }
 
-static int multiq3_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -176,7 +176,7 @@ static int multiq3_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 	return 2;
 }
 
-static int multiq3_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -191,7 +191,7 @@ static int multiq3_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 	return 2;
 }
 
-static int multiq3_encoder_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_encoder_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -240,7 +240,7 @@ static int multiq3_attach(struct comedi_device * dev, comedi_devconfig * it)
 	int result = 0;
 	unsigned long iobase;
 	unsigned int irq;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it-&gt;options[0];
 	printk("comedi%d: multiq3: 0x%04lx ", dev-&gt;minor, iobase);
diff --git a/drivers/staging/comedi/drivers/ni_6527.c b/drivers/staging/comedi/drivers/ni_6527.c
index bb9af22fbc44..453588813293 100644
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -119,7 +119,7 @@ typedef struct {
 
 static int ni6527_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni6527_di_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_di_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -167,7 +167,7 @@ static int ni6527_di_insn_config(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int ni6527_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -180,7 +180,7 @@ static int ni6527_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni6527_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -212,7 +212,7 @@ static int ni6527_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 static irqreturn_t ni6527_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 2;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 2;
 	unsigned int status;
 
 	status = readb(devpriv-&gt;mite-&gt;daq_io_addr + Change_Status);
@@ -230,7 +230,7 @@ static irqreturn_t ni6527_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int ni6527_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -306,7 +306,7 @@ static int ni6527_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni6527_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni6527_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	//comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -319,14 +319,14 @@ static int ni6527_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni6527_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni6527_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writeb(0x00, devpriv-&gt;mite-&gt;daq_io_addr + Master_Interrupt_Control);
 
 	return 0;
 }
 
-static int ni6527_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -336,7 +336,7 @@ static int ni6527_intr_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int ni6527_intr_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -363,7 +363,7 @@ static int ni6527_intr_insn_config(struct comedi_device * dev, comedi_subdevice
 
 static int ni6527_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 
 	printk("comedi%d: ni6527:", dev-&gt;minor);
diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index 347925b4963b..c12dcb6cae60 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -295,7 +295,7 @@ static inline ni_65xx_private *private(struct comedi_device * dev)
 typedef struct {
 	unsigned base_port;
 } ni_65xx_subdevice_private;
-static inline ni_65xx_subdevice_private *sprivate(comedi_subdevice * subdev)
+static inline ni_65xx_subdevice_private *sprivate(struct comedi_subdevice * subdev)
 {
 	return subdev-&gt;private;
 }
@@ -310,7 +310,7 @@ static ni_65xx_subdevice_private *ni_65xx_alloc_subdevice_private(void)
 
 static int ni_65xx_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni_65xx_config_filter(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_config_filter(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned chan = CR_CHAN(insn-&gt;chanspec);
@@ -349,7 +349,7 @@ static int ni_65xx_config_filter(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int ni_65xx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned port;
@@ -388,7 +388,7 @@ static int ni_65xx_dio_insn_config(struct comedi_device * dev, comedi_subdevice
 	return -EINVAL;
 }
 
-static int ni_65xx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel;
@@ -453,7 +453,7 @@ static int ni_65xx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
 static irqreturn_t ni_65xx_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 2;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 2;
 	unsigned int status;
 
 	status = readb(private(dev)-&gt;mite-&gt;daq_io_addr + Change_Status);
@@ -471,7 +471,7 @@ static irqreturn_t ni_65xx_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int ni_65xx_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -547,7 +547,7 @@ static int ni_65xx_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s
 	return 0;
 }
 
-static int ni_65xx_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_65xx_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	//comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -560,7 +560,7 @@ static int ni_65xx_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_65xx_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_65xx_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writeb(0x00,
 		private(dev)-&gt;mite-&gt;daq_io_addr + Master_Interrupt_Control);
@@ -568,7 +568,7 @@ static int ni_65xx_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_65xx_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -578,7 +578,7 @@ static int ni_65xx_intr_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int ni_65xx_intr_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -617,7 +617,7 @@ static int ni_65xx_intr_insn_config(struct comedi_device * dev, comedi_subdevice
 
 static int ni_65xx_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned i;
 	int ret;
 
diff --git a/drivers/staging/comedi/drivers/ni_660x.c b/drivers/staging/comedi/drivers/ni_660x.c
index 531709724b75..3304472d0a76 100644
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -465,17 +465,17 @@ static int ni_660x_set_pfi_routing(struct comedi_device * dev, unsigned chan,
 
 /* Possible instructions for a GPCT */
 static int ni_660x_GPCT_rinsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_GPCT_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_GPCT_winsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* Possible instructions for Digital IO */
 static int ni_660x_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static inline unsigned ni_660x_num_counters(struct comedi_device * dev)
 {
@@ -843,7 +843,7 @@ void ni_660x_release_mite_channel(struct comedi_device * dev, struct ni_gpct *co
 	comedi_spin_unlock_irqrestore(&amp;private(dev)-&gt;mite_channel_lock, flags);
 }
 
-static int ni_660x_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_660x_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int retval;
 
@@ -862,7 +862,7 @@ static int ni_660x_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return retval;
 }
 
-static int ni_660x_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_660x_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	struct ni_gpct *counter = subdev_to_counter(s);
@@ -870,7 +870,7 @@ static int ni_660x_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return ni_tio_cmdtest(counter, cmd);
 }
 
-static int ni_660x_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_660x_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	struct ni_gpct *counter = subdev_to_counter(s);
 	int retval;
@@ -894,7 +894,7 @@ static void set_tio_counterswap(struct comedi_device * dev, int chipset)
 }
 
 static void ni_660x_handle_gpct_interrupt(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	ni_tio_handle_interrupt(subdev_to_counter(s), s);
 	if (s-&gt;async-&gt;events) {
@@ -910,7 +910,7 @@ static void ni_660x_handle_gpct_interrupt(struct comedi_device * dev,
 static irqreturn_t ni_660x_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned i;
 
 	if (dev-&gt;attached == 0)
@@ -923,7 +923,7 @@ static irqreturn_t ni_660x_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int ni_660x_buf_change(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_660x_buf_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -982,7 +982,7 @@ static void ni_660x_free_mite_rings(struct comedi_device * dev)
 
 static int ni_660x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	unsigned i;
 	unsigned global_interrupt_config_bits;
@@ -1120,7 +1120,7 @@ static int ni_660x_detach(struct comedi_device * dev)
 }
 
 static int
-ni_660x_GPCT_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+ni_660x_GPCT_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_rinsn(subdev_to_counter(s), insn, data);
@@ -1147,14 +1147,14 @@ static void init_tio_chip(struct comedi_device * dev, int chipset)
 }
 
 static int
-ni_660x_GPCT_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+ni_660x_GPCT_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_insn_config(subdev_to_counter(s), insn, data);
 }
 
 static int ni_660x_GPCT_winsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_winsn(subdev_to_counter(s), insn, data);
 }
@@ -1187,7 +1187,7 @@ static int ni_660x_find_device(struct comedi_device * dev, int bus, int slot)
 }
 
 static int ni_660x_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -1280,7 +1280,7 @@ static void ni660x_config_filter(struct comedi_device * dev, unsigned pfi_channe
 }
 
 static int ni_660x_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/ni_670x.c b/drivers/staging/comedi/drivers/ni_670x.c
index 4c0cc433312a..0bcbfd1cd5ba 100644
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -124,18 +124,18 @@ static comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 
 static int ni_670x_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	int i;
 
@@ -218,7 +218,7 @@ static int ni_670x_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -244,7 +244,7 @@ static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -256,7 +256,7 @@ static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -278,7 +278,7 @@ static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int ni_670x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ni_at_a2150.c b/drivers/staging/comedi/drivers/ni_at_a2150.c
index bf16e1273825..4ac5313ea43f 100644
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -169,7 +169,7 @@ typedef struct {
 
 static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int a2150_detach(struct comedi_device * dev);
-static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int a2150_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_a2150 = {
       driver_name:"ni_at_a2150",
@@ -179,10 +179,10 @@ static comedi_driver driver_a2150 = {
 };
 
 static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG);
-static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int a2150_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int a2150_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int a2150_get_timing(struct comedi_device * dev, unsigned int *period,
 	int flags);
@@ -213,7 +213,7 @@ static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG)
 	int status;
 	unsigned long flags;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	unsigned int max_points, num_points, residue, leftover;
@@ -324,7 +324,7 @@ static int a2150_probe(struct comedi_device * dev)
 
 static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = it-&gt;options[0];
 	unsigned int irq = it-&gt;options[1];
 	unsigned int dma = it-&gt;options[2];
@@ -470,7 +470,7 @@ static int a2150_detach(struct comedi_device * dev)
 	return 0;
 };
 
-static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int a2150_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	// disable dma on card
 	devpriv-&gt;irq_dma_bits &amp;= ~DMA_INTR_EN_BIT &amp; ~DMA_EN_BIT;
@@ -485,7 +485,7 @@ static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -615,7 +615,7 @@ static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int a2150_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -726,7 +726,7 @@ static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int a2150_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int i, n;
diff --git a/drivers/staging/comedi/drivers/ni_at_ao.c b/drivers/staging/comedi/drivers/ni_at_ao.c
index 6a8d9a5b7bf7..e5083a2111c3 100644
--- a/drivers/staging/comedi/drivers/ni_at_ao.c
+++ b/drivers/staging/comedi/drivers/ni_at_ao.c
@@ -194,22 +194,22 @@ COMEDI_INITCLEANUP(driver_atao);
 
 static void atao_reset(struct comedi_device * dev);
 
-static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int atao_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	int ao_unipolar;
 
@@ -320,7 +320,7 @@ static void atao_reset(struct comedi_device * dev)
 	outw(devpriv-&gt;cfg1, dev-&gt;iobase + ATAO_CFG1);
 }
 
-static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -344,7 +344,7 @@ static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -356,7 +356,7 @@ static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -373,7 +373,7 @@ static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -418,7 +418,7 @@ static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s
  * DACs.  It is not explicitly stated in the manual how to access
  * the caldacs, but we can guess.
  */
-static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -428,7 +428,7 @@ static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s
 	return insn-&gt;n;
 }
 
-static int atao_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bitstring, bit;
diff --git a/drivers/staging/comedi/drivers/ni_atmio16d.c b/drivers/staging/comedi/drivers/ni_atmio16d.c
index 62be3d9ec484..9c59c51863fe 100644
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -126,10 +126,10 @@ static const atmio16_board_t atmio16_boards[] = {
 static int atmio16d_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int atmio16d_detach(struct comedi_device * dev);
 static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG);
-static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int atmio16d_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int atmio16d_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void reset_counters(struct comedi_device * dev);
 static void reset_atmio16d(struct comedi_device * dev);
 
@@ -258,7 +258,7 @@ static void reset_atmio16d(struct comedi_device * dev)
 static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 //      printk("atmio16d_interrupt!\n");
 
@@ -268,7 +268,7 @@ static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0, tmp;
@@ -369,7 +369,7 @@ static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int atmio16d_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int timer, base_clock;
@@ -517,7 +517,7 @@ static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 /* This will cancel a running acquisition operation */
-static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int atmio16d_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	reset_atmio16d(dev);
 
@@ -525,7 +525,7 @@ static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 }
 
 /* Mode 0 is used to get a single conversion on demand */
-static int atmio16d_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
@@ -584,7 +584,7 @@ static int atmio16d_ai_insn_read(struct comedi_device * dev, comedi_subdevice *
 	return i;
 }
 
-static int atmio16d_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -599,7 +599,7 @@ static int atmio16d_ao_insn_read(struct comedi_device * dev, comedi_subdevice *
 	return i;
 }
 
-static int atmio16d_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -634,7 +634,7 @@ static int atmio16d_ao_insn_write(struct comedi_device * dev, comedi_subdevice *
 	return i;
 }
 
-static int atmio16d_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -650,7 +650,7 @@ static int atmio16d_dio_insn_bits(struct comedi_device * dev, comedi_subdevice *
 	return 2;
 }
 
-static int atmio16d_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -710,7 +710,7 @@ static int atmio16d_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned long iobase;
 	int ret;
 
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* make sure the address range is free and allocate it */
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/ni_daq_700.c b/drivers/staging/comedi/drivers/ni_daq_700.c
index a83d0308a67a..8a0a5fa50eee 100644
--- a/drivers/staging/comedi/drivers/ni_daq_700.c
+++ b/drivers/staging/comedi/drivers/ni_daq_700.c
@@ -126,9 +126,9 @@ struct subdev_700_struct {
 #define CALLBACK_FUNC	(((struct subdev_700_struct *)s-&gt;private)-&gt;cb_func)
 #define subdevpriv	((struct subdev_700_struct *)s-&gt;private)
 
-static void do_config(struct comedi_device * dev, comedi_subdevice * s);
+static void do_config(struct comedi_device * dev, struct comedi_subdevice * s);
 
-void subdev_700_interrupt(struct comedi_device * dev, comedi_subdevice * s)
+void subdev_700_interrupt(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	short d;
 
@@ -153,7 +153,7 @@ static int subdev_700_cb(int dir, int port, int data, unsigned long arg)
 	}
 }
 
-static int subdev_700_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -171,7 +171,7 @@ static int subdev_700_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int subdev_700_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -194,12 +194,12 @@ static int subdev_700_insn_config(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static void do_config(struct comedi_device * dev, comedi_subdevice * s)
+static void do_config(struct comedi_device * dev, struct comedi_subdevice * s)
 {				/* use powerup defaults */
 	return;
 }
 
-static int subdev_700_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -274,21 +274,21 @@ static int subdev_700_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int subdev_700_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int subdev_700_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-static int subdev_700_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int subdev_700_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-int subdev_700_init(struct comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
+int subdev_700_init(struct comedi_device * dev, struct comedi_subdevice * s, int (*cb) (int,
 		int, int, unsigned long), unsigned long arg)
 {
 	s-&gt;type = COMEDI_SUBD_DIO;
@@ -317,7 +317,7 @@ int subdev_700_init(struct comedi_device * dev, comedi_subdevice * s, int (*cb)
 	return 0;
 }
 
-int subdev_700_init_irq(struct comedi_device * dev, comedi_subdevice * s,
+int subdev_700_init_irq(struct comedi_device * dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg)
 {
 	int ret;
@@ -335,7 +335,7 @@ int subdev_700_init_irq(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-void subdev_700_cleanup(struct comedi_device * dev, comedi_subdevice * s)
+void subdev_700_cleanup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (s-&gt;private) {
 		if (subdevpriv-&gt;have_irq) {
@@ -352,7 +352,7 @@ EXPORT_SYMBOL(subdev_700_interrupt);
 
 static int dio700_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 #ifdef incomplete
 	unsigned int irq = 0;
diff --git a/drivers/staging/comedi/drivers/ni_daq_dio24.c b/drivers/staging/comedi/drivers/ni_daq_dio24.c
index 98b20304b339..f2c73a4af068 100644
--- a/drivers/staging/comedi/drivers/ni_daq_dio24.c
+++ b/drivers/staging/comedi/drivers/ni_daq_dio24.c
@@ -109,7 +109,7 @@ static comedi_driver driver_dio24 = {
 
 static int dio24_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 #ifdef incomplete
 	unsigned int irq = 0;
diff --git a/drivers/staging/comedi/drivers/ni_labpc.c b/drivers/staging/comedi/drivers/ni_labpc.c
index 53a7783793e3..be528f6c3ab0 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -164,28 +164,28 @@ NI manuals:
 #define COUNTER_B_BASE_REG	0x18
 
 static int labpc_attach(struct comedi_device * dev, comedi_devconfig * it);
-static int labpc_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int labpc_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG);
 static int labpc_drain_fifo(struct comedi_device * dev);
 static void labpc_drain_dma(struct comedi_device * dev);
 static void handle_isa_dma(struct comedi_device * dev);
 static void labpc_drain_dregs(struct comedi_device * dev);
-static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int labpc_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_eeprom_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static unsigned int labpc_suggest_transfer_size(comedi_cmd cmd);
 static void labpc_adc_timing(struct comedi_device * dev, comedi_cmd * cmd);
@@ -462,7 +462,7 @@ static inline int labpc_counter_load(struct comedi_device * dev,
 int labpc_common_attach(struct comedi_device * dev, unsigned long iobase,
 	unsigned int irq, unsigned int dma_chan)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	unsigned long dma_flags, isr_flags;
 	short lsb, msb;
@@ -755,7 +755,7 @@ static void labpc_clear_adc_fifo(const struct comedi_device * dev)
 	devpriv-&gt;read_byte(dev-&gt;iobase + ADC_FIFO_REG);
 }
 
-static int labpc_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int labpc_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -926,7 +926,7 @@ static void labpc_set_ai_scan_period(comedi_cmd * cmd, unsigned int ns)
 	cmd-&gt;scan_begin_arg = ns;
 }
 
-static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1063,7 +1063,7 @@ static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int labpc_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int channel, range, aref;
 	unsigned long irq_flags;
@@ -1312,7 +1312,7 @@ static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 
@@ -1429,7 +1429,7 @@ static int labpc_drain_fifo(struct comedi_device * dev)
 
 static void labpc_drain_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;read_subdev;
+	struct comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
 	int status;
 	unsigned long flags;
@@ -1500,7 +1500,7 @@ static void labpc_drain_dregs(struct comedi_device * dev)
 	labpc_drain_fifo(dev);
 }
 
-static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1586,7 +1586,7 @@ static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output insn
-static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel, range;
@@ -1627,7 +1627,7 @@ static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output readback insn
-static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
@@ -1635,7 +1635,7 @@ static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldac[CR_CHAN(insn-&gt;chanspec)];
@@ -1643,7 +1643,7 @@ static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -1652,7 +1652,7 @@ static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;eeprom_data[CR_CHAN(insn-&gt;chanspec)];
@@ -1660,7 +1660,7 @@ static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int labpc_eeprom_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ni_mio_common.c b/drivers/staging/comedi/drivers/ni_mio_common.c
index f702cc9064ba..29698d995a19 100644
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -193,48 +193,48 @@ static const comedi_lrange *const ni_range_lkup[] = {
 	[ai_gain_6143] = &amp;range_ni_S_ai_6143
 };
 
-static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_cdio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ni_cdio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void handle_cdio_interrupt(struct comedi_device * dev);
-static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdo_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 
-static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_hw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
-static int ni_serial_sw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_sw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
 
-static int ni_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_eeprom_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_eeprom_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int ni_m_series_eeprom_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_pfi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static unsigned ni_old_get_pfi_routing(struct comedi_device * dev, unsigned chan);
 
 static void ni_rtsi_init(struct comedi_device * dev);
-static int ni_rtsi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_rtsi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static void caldac_setup(struct comedi_device * dev, comedi_subdevice * s);
+static void caldac_setup(struct comedi_device * dev, struct comedi_subdevice * s);
 static int ni_read_eeprom(struct comedi_device * dev, int addr);
 
 #ifdef DEBUG_STATUS_A
@@ -248,41 +248,41 @@ static void ni_mio_print_status_b(int status);
 #define ni_mio_print_status_b(a)
 #endif
 
-static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_ai_reset(struct comedi_device * dev, struct comedi_subdevice * s);
 #ifndef PCIDMA
 static void ni_handle_fifo_half_full(struct comedi_device * dev);
-static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_ao_fifo_half_empty(struct comedi_device * dev, struct comedi_subdevice * s);
 #endif
 static void ni_handle_fifo_dregs(struct comedi_device * dev);
-static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 static void ni_load_channelgain_list(struct comedi_device * dev, unsigned int n_chan,
 	unsigned int *list);
 static void shutdown_ai_command(struct comedi_device * dev);
 
-static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 
-static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_ao_reset(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static int ni_8255_callback(int dir, int port, int data, unsigned long arg);
 
-static int ni_gpct_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ni_gpct_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_gpct_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_gpct_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void handle_gpct_interrupt(struct comedi_device * dev,
 	unsigned short counter_index);
 
 static int init_cs5529(struct comedi_device * dev);
 static int cs5529_do_conversion(struct comedi_device * dev, unsigned short *data);
-static int cs5529_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int cs5529_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 #ifdef NI_CS5529_DEBUG
 static unsigned int cs5529_config_read(struct comedi_device * dev,
@@ -291,9 +291,9 @@ static unsigned int cs5529_config_read(struct comedi_device * dev,
 static void cs5529_config_write(struct comedi_device * dev, unsigned int value,
 	unsigned int reg_select_bits);
 
-static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_6143_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_6143_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int ni_set_master_clock(struct comedi_device * dev, unsigned source,
@@ -825,7 +825,7 @@ static irqreturn_t ni_E_interrupt(int irq, void *d PT_REGS_ARG)
 #ifdef PCIDMA
 static void ni_sync_ai_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	unsigned long flags;
 
 	comedi_spin_lock_irqsave(&amp;devpriv-&gt;mite_channel_lock, flags);
@@ -836,7 +836,7 @@ static void ni_sync_ai_dma(struct comedi_device * dev)
 
 static void mite_handle_b_linkc(struct mite_struct *mite, struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
 	unsigned long flags;
 
 	comedi_spin_lock_irqsave(&amp;devpriv-&gt;mite_channel_lock, flags);
@@ -868,7 +868,7 @@ static int ni_ao_wait_for_dma_load(struct comedi_device * dev)
 }
 
 #endif //PCIDMA
-static void ni_handle_eos(struct comedi_device * dev, comedi_subdevice * s)
+static void ni_handle_eos(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (devpriv-&gt;aimode == AIMODE_SCAN) {
 #ifdef PCIDMA
@@ -894,7 +894,7 @@ static void ni_handle_eos(struct comedi_device * dev, comedi_subdevice * s)
 
 static void shutdown_ai_command(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 
 #ifdef PCIDMA
 	ni_ai_drain_dma(dev);
@@ -906,7 +906,7 @@ static void shutdown_ai_command(struct comedi_device * dev)
 	s-&gt;async-&gt;events |= COMEDI_CB_EOA;
 }
 
-static void ni_event(struct comedi_device * dev, comedi_subdevice * s)
+static void ni_event(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (s-&gt;async-&gt;
 		events &amp; (COMEDI_CB_ERROR | COMEDI_CB_OVERFLOW | COMEDI_CB_EOA))
@@ -936,7 +936,7 @@ static void handle_gpct_interrupt(struct comedi_device * dev,
 	unsigned short counter_index)
 {
 #ifdef PCIDMA
-	comedi_subdevice *s = dev-&gt;subdevices + NI_GPCT_SUBDEV(counter_index);
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_GPCT_SUBDEV(counter_index);
 
 	ni_tio_handle_interrupt(&amp;devpriv-&gt;counter_dev-&gt;counters[counter_index],
 		s);
@@ -969,7 +969,7 @@ static void ack_a_interrupt(struct comedi_device * dev, unsigned short a_status)
 static void handle_a_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned ai_mite_status)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 
 	//67xx boards don't have ai subdevice, but their gpct0 might generate an a interrupt
 	if (s-&gt;type == COMEDI_SUBD_UNUSED)
@@ -1101,7 +1101,7 @@ static void ack_b_interrupt(struct comedi_device * dev, unsigned short b_status)
 static void handle_b_interrupt(struct comedi_device * dev, unsigned short b_status,
 	unsigned ao_mite_status)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
 	//unsigned short ack=0;
 #ifdef DEBUG_INTERRUPT
 	rt_printk("ni_mio_common: interrupt: b_status=%04x m1_status=%08x\n",
@@ -1204,7 +1204,7 @@ static void ni_mio_print_status_b(int status)
 
 #ifndef PCIDMA
 
-static void ni_ao_fifo_load(struct comedi_device * dev, comedi_subdevice * s, int n)
+static void ni_ao_fifo_load(struct comedi_device * dev, struct comedi_subdevice * s, int n)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1263,7 +1263,7 @@ static void ni_ao_fifo_load(struct comedi_device * dev, comedi_subdevice * s, in
  *  RT code, as RT code might purposely be running close to the
  *  metal.  Needs to be fixed eventually.
  */
-static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_fifo_half_empty(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int n;
 
@@ -1284,7 +1284,7 @@ static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int ni_ao_prep_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_prep_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int n;
 
@@ -1307,7 +1307,7 @@ static int ni_ao_prep_fifo(struct comedi_device * dev, comedi_subdevice * s)
 	return n;
 }
 
-static void ni_ai_fifo_read(struct comedi_device * dev, comedi_subdevice * s, int n)
+static void ni_ai_fifo_read(struct comedi_device * dev, struct comedi_subdevice * s, int n)
 {
 	comedi_async *async = s-&gt;async;
 	int i;
@@ -1367,7 +1367,7 @@ static void ni_ai_fifo_read(struct comedi_device * dev, comedi_subdevice * s, in
 static void ni_handle_fifo_half_full(struct comedi_device * dev)
 {
 	int n;
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 
 	n = boardtype.ai_fifo_depth / 2;
 
@@ -1416,7 +1416,7 @@ static int ni_ai_drain_dma(struct comedi_device * dev)
 */
 static void ni_handle_fifo_dregs(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	short data[2];
 	u32 dl;
 	short fifo_empty;
@@ -1478,7 +1478,7 @@ static void ni_handle_fifo_dregs(struct comedi_device * dev)
 
 static void get_last_sample_611x(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	short data;
 	u32 dl;
 
@@ -1495,7 +1495,7 @@ static void get_last_sample_611x(struct comedi_device * dev)
 
 static void get_last_sample_6143(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	short data;
 	u32 dl;
 
@@ -1513,7 +1513,7 @@ static void get_last_sample_6143(struct comedi_device * dev)
 	}
 }
 
-static void ni_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void ni_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
@@ -1541,7 +1541,7 @@ static void ni_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 
 static int ni_ai_setup_MITE_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	int retval;
 	unsigned long flags;
 
@@ -1581,7 +1581,7 @@ static int ni_ai_setup_MITE_dma(struct comedi_device * dev)
 
 static int ni_ao_setup_MITE_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
 	int retval;
 	unsigned long flags;
 
@@ -1617,7 +1617,7 @@ static int ni_ao_setup_MITE_dma(struct comedi_device * dev)
    this is pretty harsh for a cancel, but it works...
  */
 
-static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_reset(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	ni_release_ai_mite_channel(dev);
 	/* ai configuration */
@@ -1698,7 +1698,7 @@ static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags = 0;
 	int count;
@@ -1718,7 +1718,7 @@ static int ni_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 	return count;
 }
 
-static int ni_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -2095,7 +2095,7 @@ static unsigned ni_min_ai_scan_period_ns(struct comedi_device * dev,
 	return boardtype.ai_speed * num_channels;
 }
 
-static int ni_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2308,7 +2308,7 @@ static int ni_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int timer;
@@ -2612,7 +2612,7 @@ static int ni_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -2625,10 +2625,10 @@ static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_config_analog_trig(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -2679,7 +2679,7 @@ static int ni_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_config_analog_trig(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int a, b, modebits;
@@ -2777,7 +2777,7 @@ static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice
 }
 
 /* munge data from unsigned to 2's complement for analog output bipolar modes */
-static void ni_ao_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void ni_ao_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
@@ -2801,7 +2801,7 @@ static void ni_ao_munge(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_m_series_ao_config_chanlist(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int chanspec[], unsigned int n_chans,
+	struct comedi_subdevice * s, unsigned int chanspec[], unsigned int n_chans,
 	int timed)
 {
 	unsigned int range;
@@ -2869,7 +2869,7 @@ static int ni_m_series_ao_config_chanlist(struct comedi_device * dev,
 	return invert;
 }
 
-static int ni_old_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_old_ao_config_chanlist(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int chanspec[], unsigned int n_chans)
 {
 	unsigned int range;
@@ -2912,7 +2912,7 @@ static int ni_old_ao_config_chanlist(struct comedi_device * dev, comedi_subdevic
 	return invert;
 }
 
-static int ni_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_config_chanlist(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int chanspec[], unsigned int n_chans, int timed)
 {
 	if (boardtype.reg_type &amp; ni_reg_m_series_mask)
@@ -2921,7 +2921,7 @@ static int ni_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice *
 	else
 		return ni_old_ao_config_chanlist(dev, s, chanspec, n_chans);
 }
-static int ni_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao[CR_CHAN(insn-&gt;chanspec)];
@@ -2929,7 +2929,7 @@ static int ni_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2948,7 +2948,7 @@ static int ni_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ao_insn_write_671x(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_write_671x(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2965,7 +2965,7 @@ static int ni_ao_insn_write_671x(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int ni_ao_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -2991,7 +2991,7 @@ static int ni_ao_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	int ret;
@@ -3062,7 +3062,7 @@ static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int bits;
@@ -3261,7 +3261,7 @@ static int ni_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3384,7 +3384,7 @@ static int ni_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_reset(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	//devpriv-&gt;ao0p=0x0000;
 	//ni_writew(devpriv-&gt;ao0p,AO_Configuration);
@@ -3436,7 +3436,7 @@ static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s)
 
 // digital io
 
-static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3468,7 +3468,7 @@ static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3496,7 +3496,7 @@ static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_m_series_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
 	rt_printk("ni_m_series_dio_insn_config() chan=%d io=%d\n",
@@ -3525,7 +3525,7 @@ static int ni_m_series_dio_insn_config(struct comedi_device * dev,
 	return 1;
 }
 
-static int ni_m_series_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3544,7 +3544,7 @@ static int ni_m_series_dio_insn_bits(struct comedi_device * dev, comedi_subdevic
 	return 2;
 }
 
-static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3653,7 +3653,7 @@ static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_cdio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned cdo_mode_bits = CDO_FIFO_Mode_Bit | CDO_Halt_On_Error_Bit;
@@ -3690,7 +3690,7 @@ static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdo_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 #ifdef PCIDMA
@@ -3736,7 +3736,7 @@ static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return retval;
 }
 
-static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_cdio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	ni_writel(CDO_Disarm_Bit | CDO_Error_Interrupt_Enable_Clear_Bit |
 		CDO_Empty_FIFO_Interrupt_Enable_Clear_Bit |
@@ -3752,7 +3752,7 @@ static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s)
 static void handle_cdio_interrupt(struct comedi_device * dev)
 {
 	unsigned cdio_status;
-	comedi_subdevice *s = dev-&gt;subdevices + NI_DIO_SUBDEV;
+	struct comedi_subdevice *s = dev-&gt;subdevices + NI_DIO_SUBDEV;
 #ifdef PCIDMA
 	unsigned long flags;
 #endif
@@ -3790,7 +3790,7 @@ static void handle_cdio_interrupt(struct comedi_device * dev)
 	ni_event(dev, s);
 }
 
-static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int err = insn-&gt;n;
@@ -3884,7 +3884,7 @@ static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice *
 
 }
 
-static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_hw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in)
 {
 	unsigned int status1;
@@ -3940,7 +3940,7 @@ static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice
 	return err;
 }
 
-static int ni_serial_sw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_sw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in)
 {
 	unsigned char mask, input = 0;
@@ -4004,7 +4004,7 @@ static void mio_common_detach(struct comedi_device * dev)
 		subdev_8255_cleanup(dev, dev-&gt;subdevices + NI_8255_DIO_SUBDEV);
 }
 
-static void init_ao_67xx(struct comedi_device * dev, comedi_subdevice * s)
+static void init_ao_67xx(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int i;
 
@@ -4209,14 +4209,14 @@ static unsigned ni_gpct_read_register(struct ni_gpct *counter,
 }
 
 static int ni_freq_out_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;clock_and_fout &amp; FOUT_Divider_mask;
 	return 1;
 }
 
 static int ni_freq_out_insn_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;clock_and_fout &amp;= ~FOUT_Enable;
 	devpriv-&gt;stc_writew(dev, devpriv-&gt;clock_and_fout,
@@ -4258,7 +4258,7 @@ static void ni_get_freq_out_clock(struct comedi_device * dev, unsigned int * clo
 	}
 }
 
-static int ni_freq_out_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_freq_out_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -4291,7 +4291,7 @@ static int ni_alloc_private(struct comedi_device * dev)
 
 static int ni_E_init(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned j;
 	enum ni_gpct_variant counter_variant;
 
@@ -4623,7 +4623,7 @@ static int ni_8255_callback(int dir, int port, int data, unsigned long arg)
 	presents the EEPROM as a subdevice
 */
 
-static int ni_eeprom_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_eeprom_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = ni_read_eeprom(dev, CR_CHAN(insn-&gt;chanspec));
@@ -4660,7 +4660,7 @@ static int ni_read_eeprom(struct comedi_device * dev, int addr)
 }
 
 static int ni_m_series_eeprom_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;eeprom_buffer[CR_CHAN(insn-&gt;chanspec)];
 
@@ -4674,7 +4674,7 @@ static int ni_get_pwm_config(struct comedi_device * dev, unsigned int * data)
 	return 3;
 }
 
-static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
@@ -4739,7 +4739,7 @@ static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice *
 	return 0;
 }
 
-static int ni_6143_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_6143_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
@@ -4806,7 +4806,7 @@ static void ni_write_caldac(struct comedi_device * dev, int addr, int val);
 /*
 	calibration subdevice
 */
-static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ni_write_caldac(dev, CR_CHAN(insn-&gt;chanspec), data[0]);
@@ -4814,7 +4814,7 @@ static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldacs[CR_CHAN(insn-&gt;chanspec)];
@@ -4845,7 +4845,7 @@ static struct caldac_struct caldacs[] = {
 	[ad8804_debug] = {16, 8, pack_ad8804},
 };
 
-static void caldac_setup(struct comedi_device * dev, comedi_subdevice * s)
+static void caldac_setup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int i, j;
 	int n_dacs;
@@ -5070,28 +5070,28 @@ static void GPCT_Reset(struct comedi_device * dev, int chan)
 
 #endif
 
-static int ni_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_insn_config(counter, insn, data);
 }
 
-static int ni_gpct_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_rinsn(counter, insn, data);
 }
 
-static int ni_gpct_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_winsn(counter, insn, data);
 }
 
-static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_gpct_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int retval;
 #ifdef PCIDMA
@@ -5114,7 +5114,7 @@ static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return retval;
 }
 
-static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 #ifdef PCIDMA
@@ -5126,7 +5126,7 @@ static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 #endif
 }
 
-static int ni_gpct_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_gpct_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 #ifdef PCIDMA
 	struct ni_gpct *counter = s-&gt;private;
@@ -5253,7 +5253,7 @@ static int ni_config_filter(struct comedi_device * dev, unsigned pfi_channel,
 	return 0;
 }
 
-static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if ((boardtype.reg_type &amp; ni_reg_m_series_mask) == 0) {
@@ -5268,7 +5268,7 @@ static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_pfi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan;
@@ -5345,7 +5345,7 @@ static void ni_rtsi_init(struct comedi_device * dev)
 //      devpriv-&gt;stc_writew(dev, 0x0000, RTSI_Board_Register);
 }
 
-static int ni_rtsi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -5626,7 +5626,7 @@ static unsigned ni_get_rtsi_routing(struct comedi_device * dev, unsigned chan)
 	}
 }
 
-static int ni_rtsi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
@@ -5805,7 +5805,7 @@ static int cs5529_do_conversion(struct comedi_device * dev, unsigned short *data
 	return 0;
 }
 
-static int cs5529_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int cs5529_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, retval;
diff --git a/drivers/staging/comedi/drivers/ni_pcidio.c b/drivers/staging/comedi/drivers/ni_pcidio.c
index b236d88e4e4e..79457ecbafbe 100644
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -289,7 +289,7 @@ enum FPGA_Control_Bits {
 
 static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int nidio_detach(struct comedi_device * dev);
-static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_pcidio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_pcidio = {
       driver_name:"ni_pcidio",
@@ -399,14 +399,14 @@ typedef struct {
 } nidio96_private;
 #define devpriv ((nidio96_private *)dev-&gt;private)
 
-static int ni_pcidio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ni_pcidio_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 static int nidio_find_device(struct comedi_device * dev, int bus, int slot);
 static int ni_pcidio_ns_to_timer(int *nanosec, int round_mode);
-static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s);
+static int setup_mite_dma(struct comedi_device * dev, struct comedi_subdevice * s);
 
 #ifdef DEBUG_FLAGS
 static void ni_pcidio_print_flags(unsigned int flags);
@@ -467,7 +467,7 @@ static int nidio96_8255_cb(int dir, int port, int data, unsigned long iobase)
 	}
 }
 
-void ni_pcidio_event(struct comedi_device * dev, comedi_subdevice * s)
+void ni_pcidio_event(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (s-&gt;async-&gt;
 		events &amp; (COMEDI_CB_EOA | COMEDI_CB_ERROR | COMEDI_CB_OVERFLOW))
@@ -480,7 +480,7 @@ void ni_pcidio_event(struct comedi_device * dev, comedi_subdevice * s)
 static irqreturn_t nidio_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices;
+	struct comedi_subdevice *s = dev-&gt;subdevices;
 	comedi_async *async = s-&gt;async;
 	struct mite_struct *mite = devpriv-&gt;mite;
 
@@ -702,7 +702,7 @@ static void debug_int(struct comedi_device * dev)
 }
 #endif
 
-static int ni_pcidio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 1)
@@ -729,7 +729,7 @@ static int ni_pcidio_insn_config(struct comedi_device * dev, comedi_subdevice *
 	return 1;
 }
 
-static int ni_pcidio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -744,7 +744,7 @@ static int ni_pcidio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_pcidio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -876,7 +876,7 @@ static int ni_pcidio_ns_to_timer(int *nanosec, int round_mode)
 	return divider;
 }
 
-static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_pcidio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -986,7 +986,7 @@ static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s)
+static int setup_mite_dma(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int retval;
 
@@ -1002,7 +1002,7 @@ static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -1014,7 +1014,7 @@ static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_pcidio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writeb(0x00,
 		devpriv-&gt;mite-&gt;daq_io_addr + Master_DMA_And_Interrupt_Control);
@@ -1023,7 +1023,7 @@ static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_pcidio_change(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1151,7 +1151,7 @@ static int pci_6534_upload_firmware(struct comedi_device * dev, int options[])
 
 static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	int ret;
 	int n_subdevices;
diff --git a/drivers/staging/comedi/drivers/ni_pcimio.c b/drivers/staging/comedi/drivers/ni_pcimio.c
index cca0383fc775..105dab0758f1 100644
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -1529,15 +1529,15 @@ static uint32_t m_series_stc_readl(struct comedi_device * dev, int reg)
 #include "ni_mio_common.c"
 
 static int pcimio_find_device(struct comedi_device * dev, int bus, int slot);
-static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ai_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ao_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct0_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct1_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_dio_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_dio_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
 
 static void m_series_init_eeprom_buffer(struct comedi_device * dev)
@@ -1727,7 +1727,7 @@ static int pcimio_find_device(struct comedi_device * dev, int bus, int slot)
 	return -EIO;
 }
 
-static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ai_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1739,7 +1739,7 @@ static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ao_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1751,7 +1751,7 @@ static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct0_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1763,7 +1763,7 @@ static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct1_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1775,7 +1775,7 @@ static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_dio_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_dio_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
diff --git a/drivers/staging/comedi/drivers/ni_tio.h b/drivers/staging/comedi/drivers/ni_tio.h
index eb611e1fb34b..97a925999ff9 100644
--- a/drivers/staging/comedi/drivers/ni_tio.h
+++ b/drivers/staging/comedi/drivers/ni_tio.h
@@ -149,13 +149,13 @@ extern int ni_tio_cmd(struct ni_gpct *counter, comedi_async * async);
 extern int ni_tio_cmdtest(struct ni_gpct *counter, comedi_cmd * cmd);
 extern int ni_tio_cancel(struct ni_gpct *counter);
 extern void ni_tio_handle_interrupt(struct ni_gpct *counter,
-	comedi_subdevice * s);
+	struct comedi_subdevice * s);
 extern void ni_tio_set_mite_channel(struct ni_gpct *counter,
 	struct mite_channel *mite_chan);
 extern void ni_tio_acknowledge_and_confirm(struct ni_gpct *counter,
 	int *gate_error, int *tc_error, int *perm_stale_data, int *stale_data);
 
-static inline struct ni_gpct *subdev_to_counter(comedi_subdevice * s)
+static inline struct ni_gpct *subdev_to_counter(struct comedi_subdevice * s)
 {
 	return s-&gt;private;
 }
diff --git a/drivers/staging/comedi/drivers/ni_tiocmd.c b/drivers/staging/comedi/drivers/ni_tiocmd.c
index e28bc754f672..dffaafe9d5fa 100644
--- a/drivers/staging/comedi/drivers/ni_tiocmd.c
+++ b/drivers/staging/comedi/drivers/ni_tiocmd.c
@@ -96,7 +96,7 @@ static void ni_tio_configure_dma(struct ni_gpct *counter, short enable,
 	}
 }
 
-static int ni_tio_input_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_tio_input_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -447,7 +447,7 @@ void ni_tio_acknowledge_and_confirm(struct ni_gpct *counter, int *gate_error,
 	}
 }
 
-void ni_tio_handle_interrupt(struct ni_gpct *counter, comedi_subdevice * s)
+void ni_tio_handle_interrupt(struct ni_gpct *counter, struct comedi_subdevice * s)
 {
 	unsigned gpct_mite_status;
 	unsigned long flags;
diff --git a/drivers/staging/comedi/drivers/pcl711.c b/drivers/staging/comedi/drivers/pcl711.c
index 6542b6fd06f2..4261fcc85adf 100644
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -186,7 +186,7 @@ static irqreturn_t pcl711_interrupt(int irq, void *d PT_REGS_ARG)
 	int lo, hi;
 	int data;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 	if (!dev-&gt;attached) {
 		comedi_error(dev, "spurious interrupt");
@@ -240,7 +240,7 @@ static void pcl711_set_changain(struct comedi_device * dev, int chan)
 	}
 }
 
-static int pcl711_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -279,7 +279,7 @@ static int pcl711_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl711_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int tmp;
@@ -381,7 +381,7 @@ static int pcl711_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcl711_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl711_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int timer1, timer2;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -427,7 +427,7 @@ static int pcl711_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 /*
    analog output
 */
-static int pcl711_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -445,7 +445,7 @@ static int pcl711_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl711_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -460,7 +460,7 @@ static int pcl711_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 /* Digital port read - Untested on 8112 */
-static int pcl711_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -473,7 +473,7 @@ static int pcl711_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 /* Digital port write - Untested on 8112 */
-static int pcl711_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -513,7 +513,7 @@ static int pcl711_attach(struct comedi_device * dev, comedi_devconfig * it)
 	int ret;
 	unsigned long iobase;
 	unsigned int irq;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* claim our I/O space */
 
diff --git a/drivers/staging/comedi/drivers/pcl725.c b/drivers/staging/comedi/drivers/pcl725.c
index afe51b7f4ef1..a2ea3e154bb2 100644
--- a/drivers/staging/comedi/drivers/pcl725.c
+++ b/drivers/staging/comedi/drivers/pcl725.c
@@ -31,7 +31,7 @@ static comedi_driver driver_pcl725 = {
 
 COMEDI_INITCLEANUP(driver_pcl725);
 
-static int pcl725_do_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl725_do_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -48,7 +48,7 @@ static int pcl725_do_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl725_di_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl725_di_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -61,7 +61,7 @@ static int pcl725_di_insn(struct comedi_device * dev, comedi_subdevice * s,
 
 static int pcl725_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/pcl726.c b/drivers/staging/comedi/drivers/pcl726.c
index 373c1a7f2368..23e98550c58b 100644
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -168,7 +168,7 @@ typedef struct {
 } pcl726_private;
 #define devpriv ((pcl726_private *)dev-&gt;private)
 
-static int pcl726_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int hi, lo;
@@ -193,7 +193,7 @@ static int pcl726_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl726_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -205,7 +205,7 @@ static int pcl726_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl726_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -217,7 +217,7 @@ static int pcl726_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl726_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -239,7 +239,7 @@ static int pcl726_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 
 static int pcl726_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	unsigned int iorange;
 	int ret, i;
diff --git a/drivers/staging/comedi/drivers/pcl730.c b/drivers/staging/comedi/drivers/pcl730.c
index 63f38738c47a..974f96cfcf45 100644
--- a/drivers/staging/comedi/drivers/pcl730.c
+++ b/drivers/staging/comedi/drivers/pcl730.c
@@ -55,7 +55,7 @@ static comedi_driver driver_pcl730 = {
 
 COMEDI_INITCLEANUP(driver_pcl730);
 
-static int pcl730_do_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl730_do_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -77,7 +77,7 @@ static int pcl730_do_insn(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl730_di_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl730_di_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -91,7 +91,7 @@ static int pcl730_di_insn(struct comedi_device * dev, comedi_subdevice * s,
 
 static int pcl730_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	unsigned int iorange;
 
diff --git a/drivers/staging/comedi/drivers/pcl812.c b/drivers/staging/comedi/drivers/pcl812.c
index 0c8e03d66594..b678dd6dd73f 100644
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -427,13 +427,13 @@ typedef struct {
 */
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
-static void setup_range_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_range_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int rangechan, char wait);
-static int pcl812_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pcl812_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 /*
 ==============================================================================
 */
-static int pcl812_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -467,7 +467,7 @@ static int pcl812_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int acl8216_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int acl8216_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -503,7 +503,7 @@ static int acl8216_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pcl812_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -523,7 +523,7 @@ static int pcl812_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s
 /*
 ==============================================================================
 */
-static int pcl812_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -539,7 +539,7 @@ static int pcl812_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -554,7 +554,7 @@ static int pcl812_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -591,7 +591,7 @@ static void pcl812_cmdtest_out(int e, comedi_cmd * cmd)
 /*
 ==============================================================================
 */
-static int pcl812_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -770,7 +770,7 @@ static int pcl812_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int divisor1 = 0, divisor2 = 0, i, dma_flags, bytes;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -923,7 +923,7 @@ static irqreturn_t interrupt_pcl812_ai_int(int irq, void *d)
 	char err = 1;
 	unsigned int mask, timeout;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 	s-&gt;async-&gt;events = 0;
 
@@ -980,7 +980,7 @@ static irqreturn_t interrupt_pcl812_ai_int(int irq, void *d)
 /*
 ==============================================================================
 */
-static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice * s,
+static void transfer_from_dma_buf(struct comedi_device * dev, struct comedi_subdevice * s,
 	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	unsigned int i;
@@ -1009,7 +1009,7 @@ static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice *
 static irqreturn_t interrupt_pcl812_ai_dma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned long dma_flags;
 	int len, bufptr;
 	short *ptr;
@@ -1075,7 +1075,7 @@ static irqreturn_t interrupt_pcl812(int irq, void *d PT_REGS_ARG)
 /*
 ==============================================================================
 */
-static int pcl812_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int top1, top2, i;
@@ -1119,7 +1119,7 @@ static int pcl812_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static void setup_range_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_range_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int rangechan, char wait)
 {
 	unsigned char chan_reg = CR_CHAN(rangechan);	// normal board
@@ -1200,7 +1200,7 @@ static void free_resources(struct comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pcl812_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 #ifdef PCL812_EXTDEBUG
 	rt_printk("pcl812 EDBG: BGN: pcl812_ai_cancel(...)\n");
@@ -1269,7 +1269,7 @@ static int pcl812_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned int irq;
 	unsigned int dma;
 	unsigned long pages;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int n_subdevices;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/pcl816.c b/drivers/staging/comedi/drivers/pcl816.c
index 5d8509f45a08..f1282c68d7ef 100644
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -193,13 +193,13 @@ typedef struct {
 #endif
 	int irq_was_now_closed;	// when IRQ finish, there's stored int816_mode for last interrupt
 	int int816_mode;	// who now uses IRQ - 1=AI1 int, 2=AI1 dma, 3=AI3 int, 4AI3 dma
-	comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
+	struct comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
 	int ai_act_scan;	// how many scans we finished
 	unsigned int ai_act_chanlist[16];	// MUX setting for actual AI operations
 	unsigned int ai_act_chanlist_len;	// how long is actual MUX list
 	unsigned int ai_act_chanlist_pos;	// actual position in MUX list
 	unsigned int ai_poll_ptr;	// how many sampes transfer poll
-	comedi_subdevice *sub_ai;	// ptr to AI subdevice
+	struct comedi_subdevice *sub_ai;	// ptr to AI subdevice
 #ifdef unused
 	struct timer_list rtc_irq_timer;	// timer for RTC sanity check
 	unsigned long rtc_freq;	// RTC int freq
@@ -210,23 +210,23 @@ typedef struct {
 ==============================================================================
 */
 static int check_and_setup_channel_list(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int *chanlist, int chanlen);
-static int pcl816_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+	struct comedi_subdevice * s, unsigned int *chanlist, int chanlen);
+static int pcl816_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 #ifdef unused
 static int set_rtc_irq_bit(unsigned char bit);
 #endif
 
-static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pcl816_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
 
 /*
 ==============================================================================
    ANALOG INPUT MODE0, 816 cards, slow version
 */
-static int pcl816_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -281,7 +281,7 @@ static int pcl816_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 static irqreturn_t interrupt_pcl816_ai_mode13_int(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int low, hi;
 	int timeout = 50;	/* wait max 50us */
 
@@ -330,7 +330,7 @@ static irqreturn_t interrupt_pcl816_ai_mode13_int(int irq, void *d)
 ==============================================================================
    analog input dma mode 1 &amp; 3, 816 cards
 */
-static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice * s,
+static void transfer_from_dma_buf(struct comedi_device * dev, struct comedi_subdevice * s,
 	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	int i;
@@ -362,7 +362,7 @@ static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice *
 static irqreturn_t interrupt_pcl816_ai_mode13_dma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int len, bufptr, this_dma_buf;
 	unsigned long dma_flags;
 	short *ptr;
@@ -458,7 +458,7 @@ static void pcl816_cmdtest_out(int e, comedi_cmd * cmd)
 /*
 ==============================================================================
 */
-static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -593,7 +593,7 @@ static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int divisor1 = 0, divisor2 = 0, dma_flags, bytes, dmairq;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -698,7 +698,7 @@ static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pcl816_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int top1, top2, i;
@@ -741,7 +741,7 @@ static int pcl816_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 ==============================================================================
  cancel any mode 1-4 AI
 */
-static int pcl816_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 //  DEBUG(rt_printk("pcl816_ai_cancel()\n");)
 
@@ -861,7 +861,7 @@ start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
  If it's ok, then program scan/gain logic
 */
 static int
-check_and_setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+check_and_setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, int chanlen)
 {
 	unsigned int chansegment[16];
@@ -1018,7 +1018,7 @@ static int pcl816_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned int irq, dma;
 	unsigned long pages;
 	//int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* claim our I/O space */
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/pcl818.c b/drivers/staging/comedi/drivers/pcl818.c
index 156788916b50..d202022c1be6 100644
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -339,7 +339,7 @@ typedef struct {
 	int irq_blocked;	// 1=IRQ now uses any subdev
 	int irq_was_now_closed;	// when IRQ finish, there's stored int818_mode for last interrupt
 	int ai_mode;		// who now uses IRQ - 1=AI1 int, 2=AI1 dma, 3=AI3 int, 4AI3 dma
-	comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
+	struct comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
 	int ai_act_scan;	// how many scans we finished
 	int ai_act_chan;	// actual position in actual scan
 	unsigned int act_chanlist[16];	// MUX setting for actual AI operations
@@ -353,7 +353,7 @@ typedef struct {
 	short *ai_data;	// data buffer
 	unsigned int ai_timer1;	// timers
 	unsigned int ai_timer2;
-	comedi_subdevice *sub_ai;	// ptr to AI subdevice
+	struct comedi_subdevice *sub_ai;	// ptr to AI subdevice
 	unsigned char usefifo;	// 1=use fifo
 	unsigned int ao_readback[2];
 } pcl818_private;
@@ -368,12 +368,12 @@ static const unsigned int muxonechan[] = { 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0
 /*
 ==============================================================================
 */
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen);
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan);
 
-static int pcl818_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pcl818_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 
@@ -387,7 +387,7 @@ static int rtc_setfreq_irq(int freq);
 ==============================================================================
    ANALOG INPUT MODE0, 818 cards, slow version
 */
-static int pcl818_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -434,7 +434,7 @@ static int pcl818_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
    ANALOG OUTPUT MODE0, 818 cards
    only one sample per call is supported
 */
-static int pcl818_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -447,7 +447,7 @@ static int pcl818_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl818_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -470,7 +470,7 @@ static int pcl818_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s
 
    only one sample per call is supported
 */
-static int pcl818_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -488,7 +488,7 @@ static int pcl818_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 
    only one sample per call is supported
 */
-static int pcl818_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -513,7 +513,7 @@ static int pcl818_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 static irqreturn_t interrupt_pcl818_ai_mode13_int(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int low;
 	int timeout = 50;	/* wait max 50us */
 
@@ -566,7 +566,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_int(int irq, void *d)
 static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int i, len, bufptr;
 	unsigned long flags;
 	short *ptr;
@@ -641,7 +641,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 static irqreturn_t interrupt_pcl818_ai_mode13_dma_rtc(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned long tmp;
 	unsigned int top1, top2, i, bufptr;
 	long ofs_dats;
@@ -739,7 +739,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma_rtc(int irq, void *d)
 static irqreturn_t interrupt_pcl818_ai_mode13_fifo(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int i, len, lo;
 
 	outb(0, dev-&gt;iobase + PCL818_FI_INTCLR);	// clear fifo int request
@@ -849,7 +849,7 @@ static irqreturn_t interrupt_pcl818(int irq, void *d PT_REGS_ARG)
 				   because the card doesn't seem to like being reprogrammed
 				   while a DMA transfer is in progress
 				 */
-				comedi_subdevice *s = dev-&gt;subdevices + 0;
+				struct comedi_subdevice *s = dev-&gt;subdevices + 0;
 				devpriv-&gt;ai_mode = devpriv-&gt;irq_was_now_closed;
 				devpriv-&gt;irq_was_now_closed = 0;
 				devpriv-&gt;neverending_ai = 0;
@@ -871,7 +871,7 @@ static irqreturn_t interrupt_pcl818(int irq, void *d PT_REGS_ARG)
    ANALOG INPUT MODE 1 or 3 DMA , 818 cards
 */
 static void pcl818_ai_mode13dma_int(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	unsigned int flags;
 	unsigned int bytes;
@@ -912,7 +912,7 @@ static void pcl818_ai_mode13dma_int(int mode, struct comedi_device * dev,
    ANALOG INPUT MODE 1 or 3 DMA rtc, 818 cards
 */
 static void pcl818_ai_mode13dma_rtc(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	unsigned int flags;
 	short *pole;
@@ -953,7 +953,7 @@ static void pcl818_ai_mode13dma_rtc(int mode, struct comedi_device * dev,
    ANALOG INPUT MODE 1 or 3, 818 cards
 */
 static int pcl818_ai_cmd_mode(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int divisor1, divisor2;
@@ -1063,7 +1063,7 @@ static int pcl818_ai_cmd_mode(int mode, struct comedi_device * dev,
    ANALOG OUTPUT MODE 1 or 3, 818 cards
 */
 #ifdef PCL818_MODE13_AO
-static int pcl818_ao_mode13(int mode, struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode13(int mode, struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	int divisor1, divisor2;
@@ -1116,7 +1116,7 @@ static int pcl818_ao_mode13(int mode, struct comedi_device * dev, comedi_subdevi
 ==============================================================================
    ANALOG OUTPUT MODE 1, 818 cards
 */
-static int pcl818_ao_mode1(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode1(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	return pcl818_ao_mode13(1, dev, s, it);
@@ -1126,7 +1126,7 @@ static int pcl818_ao_mode1(struct comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
    ANALOG OUTPUT MODE 3, 818 cards
 */
-static int pcl818_ao_mode3(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode3(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	return pcl818_ao_mode13(3, dev, s, it);
@@ -1158,7 +1158,7 @@ static void start_pacer(struct comedi_device * dev, int mode, unsigned int divis
  Check if channel list from user is builded correctly
  If it's ok, then program scan/gain logic
 */
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int chansegment[16];
@@ -1214,7 +1214,7 @@ static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	return seglen;
 }
 
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen)
 {
 	int i;
@@ -1251,7 +1251,7 @@ static int check_single_ended(unsigned int port)
 /*
 ==============================================================================
 */
-static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1396,7 +1396,7 @@ static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int retval;
@@ -1435,7 +1435,7 @@ static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 ==============================================================================
  cancel any mode 1-4 AI
 */
-static int pcl818_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl818_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (devpriv-&gt;irq_blocked &gt; 0) {
 		rt_printk("pcl818_ai_cancel()\n");
@@ -1681,7 +1681,7 @@ static int pcl818_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned long iobase;
 	unsigned int irq, dma;
 	unsigned long pages;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if ((ret = alloc_private(dev, sizeof(pcl818_private))) &lt; 0)
 		return ret;	/* Can't alloc mem */
diff --git a/drivers/staging/comedi/drivers/pcm3724.c b/drivers/staging/comedi/drivers/pcm3724.c
index aa4ecddcf2a1..dedf92c6a149 100644
--- a/drivers/staging/comedi/drivers/pcm3724.c
+++ b/drivers/staging/comedi/drivers/pcm3724.c
@@ -115,7 +115,7 @@ static int subdev_8255_cb(int dir, int port, int data, unsigned long arg)
 	}
 }
 
-static int compute_buffer(int config, int devno, comedi_subdevice * s)
+static int compute_buffer(int config, int devno, struct comedi_subdevice * s)
 {
 	/* 1 in io_bits indicates output */
 	if (s-&gt;io_bits &amp; 0x0000ff) {
@@ -142,7 +142,7 @@ static int compute_buffer(int config, int devno, comedi_subdevice * s)
 	return config;
 }
 
-static void do_3724_config(struct comedi_device * dev, comedi_subdevice * s,
+static void do_3724_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	int chanspec)
 {
 	int config;
@@ -176,7 +176,7 @@ static void do_3724_config(struct comedi_device * dev, comedi_subdevice * s,
 	outb(config, port_8255_cfg);
 }
 
-static void enable_chan(struct comedi_device * dev, comedi_subdevice * s, int chanspec)
+static void enable_chan(struct comedi_device * dev, struct comedi_subdevice * s, int chanspec)
 {
 	unsigned int mask;
 	int gatecfg;
@@ -214,7 +214,7 @@ static void enable_chan(struct comedi_device * dev, comedi_subdevice * s, int ch
 }
 
 /* overriding the 8255 insn config */
-static int subdev_3724_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_3724_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
diff --git a/drivers/staging/comedi/drivers/pcm3730.c b/drivers/staging/comedi/drivers/pcm3730.c
index c7d275f1fcbb..e89b3c7ea550 100644
--- a/drivers/staging/comedi/drivers/pcm3730.c
+++ b/drivers/staging/comedi/drivers/pcm3730.c
@@ -39,7 +39,7 @@ static comedi_driver driver_pcm3730 = {
 
 COMEDI_INITCLEANUP(driver_pcm3730);
 
-static int pcm3730_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcm3730_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -54,7 +54,7 @@ static int pcm3730_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 	return 2;
 }
 
-static int pcm3730_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcm3730_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -65,7 +65,7 @@ static int pcm3730_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s
 
 static int pcm3730_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/pcmad.c b/drivers/staging/comedi/drivers/pcmad.c
index 08fe79ab59f3..5cb0e59cb216 100644
--- a/drivers/staging/comedi/drivers/pcmad.c
+++ b/drivers/staging/comedi/drivers/pcmad.c
@@ -92,7 +92,7 @@ COMEDI_INITCLEANUP(driver_pcmad);
 
 #define TIMEOUT	100
 
-static int pcmad_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmad_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -129,7 +129,7 @@ static int pcmad_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 static int pcmad_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
diff --git a/drivers/staging/comedi/drivers/pcmda12.c b/drivers/staging/comedi/drivers/pcmda12.c
index 6a3a22ed726f..32cfc35daee2 100644
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -138,9 +138,9 @@ static comedi_driver driver = {
       num_names:sizeof(pcmda12_boards) / sizeof(pcmda12_board),
 };
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -151,7 +151,7 @@ static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  */
 static int pcmda12_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it-&gt;options[0];
@@ -239,7 +239,7 @@ static void zero_chans(struct comedi_device * dev)
 	inb(LSB_PORT(0));	/* update chans. */
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -281,7 +281,7 @@ static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
    DAC outputs, which makes all AO channels update simultaneously.
    This is useful for some control applications, I would imagine.
 */
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 77f62cddddb3..6af8637880c0 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -139,14 +139,14 @@ Configuration Options:
 #define PAGE_ENAB 2
 #define PAGE_INT_ID 3
 
-typedef int (*comedi_insn_fn_t) (struct comedi_device *, comedi_subdevice *,
+typedef int (*comedi_insn_fn_t) (struct comedi_device *, struct comedi_subdevice *,
 	comedi_insn *, unsigned int *);
 
-static int ai_rinsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ai_rinsn(struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 	unsigned int *);
-static int ao_rinsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ao_rinsn(struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 	unsigned int *);
-static int ao_winsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ao_winsn(struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 	unsigned int *);
 
 /*
@@ -295,16 +295,16 @@ static comedi_driver driver = {
       num_names:sizeof(pcmmio_boards) / sizeof(pcmmio_board),
 };
 
-static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcmmio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG);
-static void pcmmio_stop_intr(struct comedi_device *, comedi_subdevice *);
-static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmmio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static void pcmmio_stop_intr(struct comedi_device *, struct comedi_subdevice *);
+static int pcmmio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmmio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmmio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 /* some helper functions to deal with specifics of this device's registers */
@@ -323,7 +323,7 @@ static void unlock_port(struct comedi_device * dev, int asic, int port);
  */
 static int pcmmio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int sdev_no, chans_left, n_dio_subdevs, n_subdevs, port, asic,
 		thisasic_chanct = 0;
 	unsigned long iobase;
@@ -550,7 +550,7 @@ static int pcmmio_detach(struct comedi_device * dev)
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
@@ -624,7 +624,7 @@ static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s
  * configured by a special insn_config instruction.  chanspec
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
-static int pcmmio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), byte_no = chan / 8, bit_no =
@@ -815,7 +815,7 @@ static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG)
 				spinlock, flags);
 
 			if (triggered) {
-				comedi_subdevice *s;
+				struct comedi_subdevice *s;
 				/* TODO here: dispatch io lines to subdevs with commands.. */
 				printk("PCMMIO DEBUG: got edge detect interrupt %d asic %d which_chans: %06x\n", irq, asic, triggered);
 				for (s = dev-&gt;subdevices + 2;
@@ -917,7 +917,7 @@ static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pcmmio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
+static void pcmmio_stop_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int nports, firstport, asic, port;
 
@@ -936,7 +936,7 @@ static void pcmmio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pcmmio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_start_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (!subpriv-&gt;dio.intr.continuous &amp;&amp; subpriv-&gt;dio.intr.stop_count == 0) {
 		/* An empty acquisition! */
@@ -995,7 +995,7 @@ static int pcmmio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1011,7 +1011,7 @@ static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-pcmmio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
+pcmmio_inttrig_start_intr(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -1037,7 +1037,7 @@ pcmmio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
@@ -1082,7 +1082,7 @@ static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s)
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-pcmmio_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pcmmio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
@@ -1194,7 +1194,7 @@ static int adc_wait_ready(unsigned long iobase)
 }
 
 /* All this is for AI and AO */
-static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -1258,7 +1258,7 @@ static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -1288,7 +1288,7 @@ static int wait_dac_ready(unsigned long iobase)
 	return 1;
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
diff --git a/drivers/staging/comedi/drivers/pcmuio.c b/drivers/staging/comedi/drivers/pcmuio.c
index d2af7082c1e8..6dc42eb047d3 100644
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -253,16 +253,16 @@ static comedi_driver driver = {
       num_names:sizeof(pcmuio_boards) / sizeof(pcmuio_board),
 };
 
-static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcmuio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG);
-static void pcmuio_stop_intr(struct comedi_device *, comedi_subdevice *);
-static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmuio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static void pcmuio_stop_intr(struct comedi_device *, struct comedi_subdevice *);
+static int pcmuio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmuio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmuio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 /* some helper functions to deal with specifics of this device's registers */
@@ -281,7 +281,7 @@ static void unlock_port(struct comedi_device * dev, int asic, int port);
  */
 static int pcmuio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int sdev_no, chans_left, n_subdevs, port, asic, thisasic_chanct = 0;
 	unsigned long iobase;
 	unsigned int irq[MAX_ASICS];
@@ -474,7 +474,7 @@ static int pcmuio_detach(struct comedi_device * dev)
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
@@ -548,7 +548,7 @@ static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s
  * configured by a special insn_config instruction.  chanspec
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
-static int pcmuio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), byte_no = chan / 8, bit_no =
@@ -738,7 +738,7 @@ static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG)
 				spinlock, flags);
 
 			if (triggered) {
-				comedi_subdevice *s;
+				struct comedi_subdevice *s;
 				/* TODO here: dispatch io lines to subdevs with commands.. */
 				printk("PCMUIO DEBUG: got edge detect interrupt %d asic %d which_chans: %06x\n", irq, asic, triggered);
 				for (s = dev-&gt;subdevices;
@@ -837,7 +837,7 @@ static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pcmuio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
+static void pcmuio_stop_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int nports, firstport, asic, port;
 
@@ -856,7 +856,7 @@ static void pcmuio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pcmuio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_start_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (!subpriv-&gt;intr.continuous &amp;&amp; subpriv-&gt;intr.stop_count == 0) {
 		/* An empty acquisition! */
@@ -905,7 +905,7 @@ static int pcmuio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -921,7 +921,7 @@ static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-pcmuio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
+pcmuio_inttrig_start_intr(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -947,7 +947,7 @@ pcmuio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
@@ -992,7 +992,7 @@ static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s)
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-pcmuio_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pcmuio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
diff --git a/drivers/staging/comedi/drivers/poc.c b/drivers/staging/comedi/drivers/poc.c
index 9cd1472a9120..5fc566f4aaa3 100644
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -43,14 +43,14 @@ Configuration options:
 
 static int poc_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int poc_detach(struct comedi_device * dev);
-static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac02_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl733_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcl734_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl734_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 struct boarddef_struct {
@@ -60,11 +60,11 @@ struct boarddef_struct {
 	int type;
 	int n_chan;
 	int n_bits;
-	int (*winsn) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*winsn) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*rinsn) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*rinsn) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insnbits) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insnbits) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
 	const comedi_lrange *range;
 };
@@ -115,7 +115,7 @@ static comedi_driver driver_poc = {
 
 static int poc_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	unsigned int iosize;
 
@@ -170,7 +170,7 @@ static int poc_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan;
@@ -185,7 +185,7 @@ static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 #define DAC02_LSB(a)	(2 * a)
 #define DAC02_MSB(a)	(2 * a + 1)
 
-static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac02_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int temp;
@@ -208,7 +208,7 @@ static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl733_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -222,7 +222,7 @@ static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl734_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl734_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
diff --git a/drivers/staging/comedi/drivers/quatech_daqp_cs.c b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
index cc6a6daa1f9a..a3bfa6465b56 100644
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -87,7 +87,7 @@ typedef struct local_info_t {
 	struct semaphore eos;
 
 	struct comedi_device *dev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int count;
 } local_info_t;
 
@@ -234,7 +234,7 @@ static void hex_dump(char *str, void *ptr, int len)
 
 /* Cancel a running acquisition */
 
-static int daqp_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int daqp_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 
@@ -266,7 +266,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 {
 	local_info_t *local = (local_info_t *) dev_id;
 	struct comedi_device *dev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int loop_limit = 10000;
 	int status;
 
@@ -361,7 +361,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 
 /* One-shot analog data acquisition routine */
 
-static int daqp_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -467,7 +467,7 @@ static int daqp_ns_to_timer(unsigned int *ns, int round)
  * the command passes.
  */
 
-static int daqp_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -593,7 +593,7 @@ static int daqp_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int daqp_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int daqp_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -793,7 +793,7 @@ static int daqp_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 
 /* Single-shot analog output routine */
 
-static int daqp_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -820,7 +820,7 @@ static int daqp_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 
 /* Digital input routine */
 
-static int daqp_di_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_di_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -836,7 +836,7 @@ static int daqp_di_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 
 /* Digital output routine */
 
-static int daqp_do_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_do_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -862,7 +862,7 @@ static int daqp_attach(struct comedi_device * dev, comedi_devconfig * it)
 	local_info_t *local = dev_table[it-&gt;options[0]];
 	tuple_t tuple;
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (it-&gt;options[0] &lt; 0 || it-&gt;options[0] &gt;= MAX_DEV || !local) {
 		printk("comedi%d: No such daqp device %d\n",
diff --git a/drivers/staging/comedi/drivers/rtd520.c b/drivers/staging/comedi/drivers/rtd520.c
index f4b1fc6fa488..405c2040a881 100644
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -690,21 +690,21 @@ static comedi_driver rtd520Driver = {
       detach : rtd_detach,
 };
 
-static int rtd_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ai_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_cmd *cmd);
-static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
-static int rtd_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
-/* static int rtd_ai_poll (struct comedi_device *dev,comedi_subdevice *s); */
+static int rtd_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
+static int rtd_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
+/* static int rtd_ai_poll (struct comedi_device *dev,struct comedi_subdevice *s); */
 static int rtd_ns_to_timer(unsigned int *ns, int roundMode);
 static irqreturn_t rtd_interrupt(int irq, void *d PT_REGS_ARG);
 static int rtd520_probe_fifo_depth(struct comedi_device *dev);
@@ -717,7 +717,7 @@ static int rtd520_probe_fifo_depth(struct comedi_device *dev);
  */
 static int rtd_attach(struct comedi_device *dev, comedi_devconfig *it)
 {				/* board name and options flags */
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int ret;
 	resource_size_t physLas0;	/* configuation */
@@ -1255,7 +1255,7 @@ static int rtd520_probe_fifo_depth(struct comedi_device *dev)
   select, delay, then read.
  */
 static int rtd_ai_rinsn(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int n, ii;
 	int stat;
@@ -1307,7 +1307,7 @@ static int rtd_ai_rinsn(struct comedi_device *dev,
 
   The manual claims that we can do a lword read, but it doesn't work here.
 */
-static int ai_read_n(struct comedi_device *dev, comedi_subdevice *s, int count)
+static int ai_read_n(struct comedi_device *dev, struct comedi_subdevice *s, int count)
 {
 	int ii;
 
@@ -1346,7 +1346,7 @@ static int ai_read_n(struct comedi_device *dev, comedi_subdevice *s, int count)
 /*
   unknown amout of data is waiting in fifo.
 */
-static int ai_read_dregs(struct comedi_device *dev, comedi_subdevice *s)
+static int ai_read_dregs(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	while (RtdFifoStatus(dev) &amp; FS_ADC_NOT_EMPTY) {	/* 1 -&gt; not empty */
 		short sample;
@@ -1434,7 +1434,7 @@ void abort_dma(struct comedi_device *dev, unsigned int channel)
   Process what is in the DMA transfer buffer and pass to comedi
   Note: this is not re-entrant
 */
-static int ai_process_dma(struct comedi_device *dev, comedi_subdevice *s)
+static int ai_process_dma(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int ii, n;
 	s16 *dp;
@@ -1500,7 +1500,7 @@ static irqreturn_t rtd_interrupt(int irq,	/* interrupt number (ignored) */
 	struct comedi_device *dev = d;	/* must be called "dev" for devpriv */
 	u16 status;
 	u16 fifoStatus;
-	comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog in subdevice */
+	struct comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog in subdevice */
 
 	if (!dev-&gt;attached) {
 		return IRQ_NONE;
@@ -1648,7 +1648,7 @@ static irqreturn_t rtd_interrupt(int irq,	/* interrupt number (ignored) */
 /*
   return the number of samples available
 */
-static int rtd_ai_poll(struct comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_poll(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	/* TODO: This needs to mask interrupts, read_dregs, and then re-enable */
 	/* Not sure what to do if DMA is active */
@@ -1666,7 +1666,7 @@ static int rtd_ai_poll(struct comedi_device *dev, comedi_subdevice *s)
 */
 
 static int rtd_ai_cmdtest(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int err = 0;
 	int tmp;
@@ -1870,7 +1870,7 @@ static int rtd_ai_cmdtest(struct comedi_device *dev,
   This is usually done by an interrupt handler.
   Userland gets to the data using read calls.
 */
-static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int timer;
@@ -2067,7 +2067,7 @@ static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 /*
   Stop a running data aquisition.
 */
-static int rtd_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	u16 status;
 
@@ -2136,7 +2136,7 @@ static int rtd_ns_to_timer(unsigned int *ns, int round_mode)
   Output one (or more) analog values to a single port as fast as possible.
 */
 static int rtd_ao_winsn(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2191,7 +2191,7 @@ static int rtd_ao_winsn(struct comedi_device *dev,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int rtd_ao_rinsn(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2214,7 +2214,7 @@ static int rtd_ao_rinsn(struct comedi_device *dev,
  * comedi core can convert between insn_bits and insn_read/write
  */
 static int rtd_dio_insn_bits(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -2241,7 +2241,7 @@ static int rtd_dio_insn_bits(struct comedi_device *dev,
   Configure one bit on a IO port as Input or Output (hence the name :-).
 */
 static int rtd_dio_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/rti800.c b/drivers/staging/comedi/drivers/rti800.c
index 8ec384528181..3525813b9bf3 100644
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -178,7 +178,7 @@ static irqreturn_t rti800_interrupt(int irq, void *dev PT_REGS_ARG)
 // settling delay times in usec for different gains
 static const int gaindelay[] = { 10, 20, 40, 80 };
 
-static int rti800_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
@@ -231,7 +231,7 @@ static int rti800_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti800_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -243,7 +243,7 @@ static int rti800_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti800_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -263,7 +263,7 @@ static int rti800_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s
 	return i;
 }
 
-static int rti800_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -272,7 +272,7 @@ static int rti800_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int rti800_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -312,7 +312,7 @@ static int rti800_attach(struct comedi_device * dev, comedi_devconfig * it)
 	unsigned int irq;
 	unsigned long iobase;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it-&gt;options[0];
 	printk("comedi%d: rti800: 0x%04lx ", dev-&gt;minor, iobase);
diff --git a/drivers/staging/comedi/drivers/rti802.c b/drivers/staging/comedi/drivers/rti802.c
index 843fce9056c8..0985c858cb2f 100644
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -68,7 +68,7 @@ typedef struct {
 
 #define devpriv ((rti802_private *)dev-&gt;private)
 
-static int rti802_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int rti802_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -79,7 +79,7 @@ static int rti802_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti802_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int rti802_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, d;
@@ -98,7 +98,7 @@ static int rti802_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s
 
 static int rti802_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	unsigned long iobase;
 
diff --git a/drivers/staging/comedi/drivers/s526.c b/drivers/staging/comedi/drivers/s526.c
index 7e066a0263cc..51ff5a7e5639 100644
--- a/drivers/staging/comedi/drivers/s526.c
+++ b/drivers/staging/comedi/drivers/s526.c
@@ -245,23 +245,23 @@ static comedi_driver driver_s526 = {
       num_names:sizeof(s526_boards) / sizeof(s526_board),
 };
 
-static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -272,7 +272,7 @@ static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s
  */
 static int s526_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int iobase;
 	int i, n;
 //      short value;
@@ -476,7 +476,7 @@ static int s526_detach(struct comedi_device * dev)
 	return 0;
 }
 
-static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;			// counts the Data
@@ -500,7 +500,7 @@ static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn-&gt;chanspec);	// Unpack chanspec
@@ -725,7 +725,7 @@ static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice *
 	return insn-&gt;n;
 }
 
-static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn-&gt;chanspec);	// Unpack chanspec
@@ -784,7 +784,7 @@ static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
 }
 
 #define ISR_ADC_DONE 0x4
-static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int result = -EINVAL;
@@ -817,7 +817,7 @@ static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -867,7 +867,7 @@ static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -896,7 +896,7 @@ static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -913,7 +913,7 @@ static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -938,7 +938,7 @@ static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index 7a9e4544f00a..4bba963cd537 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -222,40 +222,40 @@ static struct dio_private *dio_private_word[]={
 COMEDI_PCI_INITCLEANUP_NOMODULE(driver_s626, s626_pci_table);
 
 /* ioctl routines */
-static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-/* static int s626_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
-static int s626_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+/* static int s626_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
+static int s626_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
-static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
+static int s626_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_cmd *cmd);
-static int s626_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
-static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
+static int s626_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static int s626_dio_set_irq(struct comedi_device *dev, unsigned int chan);
 static int s626_dio_reset_irq(struct comedi_device *dev, unsigned int gruop,
 	unsigned int mask);
 static int s626_dio_clear_irq(struct comedi_device *dev);
-static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_enc_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static int s626_ns_to_timer(int *nanosec, int round_mode);
 static int s626_ai_load_polllist(uint8_t *ppl, comedi_cmd *cmd);
-static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int trignum);
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG);
 static unsigned int s626_ai_reg_to_uint(int data);
-/* static unsigned int s626_uint_to_reg(comedi_subdevice *s, int data); */
+/* static unsigned int s626_uint_to_reg(struct comedi_subdevice *s, int data); */
 
 /* end ioctl routines */
 
@@ -497,7 +497,7 @@ static int s626_attach(struct comedi_device *dev, comedi_devconfig *it)
 	int ret;
 	resource_size_t resourceStart;
 	dma_addr_t appdma;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pdev;
 
 	if (alloc_private(dev, sizeof(struct s626_private)) &lt; 0)
@@ -964,14 +964,14 @@ static unsigned int s626_ai_reg_to_uint(int data)
 	return tempdata;
 }
 
-/* static unsigned int s626_uint_to_reg(comedi_subdevice *s, int data){ */
+/* static unsigned int s626_uint_to_reg(struct comedi_subdevice *s, int data){ */
 /*   return 0; */
 /* } */
 
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_cmd *cmd;
 	struct enc_private *k;
 	unsigned long flags;
@@ -1503,14 +1503,14 @@ void ResetADC(struct comedi_device *dev, uint8_t *ppl)
 }
 
 /* TO COMPLETE, IF NECESSARY */
-static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
 	return -EINVAL;
 }
 
-/* static int s626_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
+/* static int s626_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
 /* { */
 /*   register uint8_t	i; */
 /*   register int32_t	*readaddr; */
@@ -1540,7 +1540,7 @@ static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 /*   return i; */
 /* } */
 
-static int s626_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t chan = CR_CHAN(insn-&gt;chanspec);
@@ -1654,7 +1654,7 @@ static int s626_ai_load_polllist(uint8_t *ppl, comedi_cmd *cmd)
 	return n;
 }
 
-static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -1673,7 +1673,7 @@ static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 }
 
 /*  TO COMPLETE  */
-static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int s626_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 
 	uint8_t ppl[16];
@@ -1819,7 +1819,7 @@ static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_cmd *cmd)
 {
 	int err = 0;
@@ -2004,7 +2004,7 @@ static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int s626_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int s626_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	/*  Stop RPS program in case it is currently running. */
 	MC_DISABLE(P_MC1, MC1_ERPS1);
@@ -2045,7 +2045,7 @@ static int s626_ns_to_timer(int *nanosec, int round_mode)
 	return divider - 1;
 }
 
-static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2064,7 +2064,7 @@ static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
 	return i;
 }
 
-static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -2084,7 +2084,7 @@ static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 static void s626_dio_init(struct comedi_device *dev)
 {
 	uint16_t group;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/*  Prepare to treat writes to WRCapSel as capture disables. */
 	DEBIwrite(dev, LP_MISC1, MISC1_NOEDCAP);
@@ -2110,7 +2110,7 @@ static void s626_dio_init(struct comedi_device *dev)
  * This allows packed reading/writing of the DIO channels.  The comedi
  * core can convert between insn_bits and insn_read/write */
 
-static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2146,7 +2146,7 @@ static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int s626_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2251,7 +2251,7 @@ static int s626_dio_clear_irq(struct comedi_device *dev)
 /* Now this function initializes the value of the counter (data[0])
    and set the subdevice. To complete with trigger and interrupt
    configuration */
-static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t Setup = (LOADSRC_INDX &lt;&lt; BF_LOADSRC) |	/*  Preload upon */
@@ -2281,7 +2281,7 @@ static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2299,7 +2299,7 @@ static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int s626_enc_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
diff --git a/drivers/staging/comedi/drivers/serial2002.c b/drivers/staging/comedi/drivers/serial2002.c
index d63b657ec0d5..c23a4322c1a8 100644
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -97,15 +97,15 @@ comedi_driver driver_serial2002 = {
       num_names:sizeof(serial2002_boards) / sizeof(serial2002_board),
 };
 
-static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_di_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_do_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 struct serial_data {
@@ -597,7 +597,7 @@ static void serial_2002_open(struct comedi_device * dev)
 				break;
 			}
 			if (c) {
-				comedi_subdevice *s;
+				struct comedi_subdevice *s;
 				const comedi_lrange **range_table_list = NULL;
 				unsigned int *maxdata_list;
 				int j, chan;
@@ -660,7 +660,7 @@ static void serial_2002_close(struct comedi_device * dev)
 	}
 }
 
-static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_di_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -682,7 +682,7 @@ static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_do_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -700,7 +700,7 @@ static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -722,7 +722,7 @@ static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -741,7 +741,7 @@ static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -754,7 +754,7 @@ static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ei_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ei_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -778,7 +778,7 @@ static int serial2002_ei_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 
 static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: serial2002: ", dev-&gt;minor);
 	dev-&gt;board_name = thisboard-&gt;name;
@@ -845,7 +845,7 @@ static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it)
 
 static int serial2002_detach(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 
 	printk("comedi%d: serial2002: remove\n", dev-&gt;minor);
diff --git a/drivers/staging/comedi/drivers/skel.c b/drivers/staging/comedi/drivers/skel.c
index 8252349e3af9..13b14454f59a 100644
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -181,17 +181,17 @@ static comedi_driver driver_skel = {
       num_names:sizeof(skel_boards) / sizeof(skel_board),
 };
 
-static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int skel_ns_to_timer(unsigned int *ns, int round);
 
@@ -203,7 +203,7 @@ static int skel_ns_to_timer(unsigned int *ns, int round);
  */
 static int skel_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: skel: ", dev-&gt;minor);
 
@@ -298,7 +298,7 @@ static int skel_detach(struct comedi_device * dev)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -346,7 +346,7 @@ static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int skel_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -515,7 +515,7 @@ static int skel_ns_to_timer(unsigned int *ns, int round)
 	return *ns;
 }
 
-static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -536,7 +536,7 @@ static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -553,7 +553,7 @@ static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -578,7 +578,7 @@ static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int skel_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ssv_dnp.c b/drivers/staging/comedi/drivers/ssv_dnp.c
index 2cb08849a6bb..db31c2066aec 100644
--- a/drivers/staging/comedi/drivers/ssv_dnp.c
+++ b/drivers/staging/comedi/drivers/ssv_dnp.c
@@ -104,10 +104,10 @@ static comedi_driver driver_dnp = {
 COMEDI_INITCLEANUP(driver_dnp);
 
 static int dnp_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int dnp_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* ------------------------------------------------------------------------- */
 /* Attach is called by comedi core to configure the driver for a particular  */
@@ -118,7 +118,7 @@ static int dnp_dio_insn_config(struct comedi_device * dev,
 static int dnp_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: dnp: ", dev-&gt;minor);
 
@@ -201,7 +201,7 @@ static int dnp_detach(struct comedi_device * dev)
 /* ------------------------------------------------------------------------- */
 
 static int dnp_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if (insn-&gt;n != 2)
@@ -251,7 +251,7 @@ static int dnp_dio_insn_bits(struct comedi_device * dev,
 /* ------------------------------------------------------------------------- */
 
 static int dnp_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	u8 register_buffer;
diff --git a/drivers/staging/comedi/drivers/unioxx5.c b/drivers/staging/comedi/drivers/unioxx5.c
index 90947cf1dbc4..34c44718b522 100644
--- a/drivers/staging/comedi/drivers/unioxx5.c
+++ b/drivers/staging/comedi/drivers/unioxx5.c
@@ -81,14 +81,14 @@ typedef struct unioxx5_subd_priv {
 } unioxx5_subd_priv;
 
 static int unioxx5_attach(struct comedi_device * dev, comedi_devconfig * it);
-static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_write(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_read(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_insn_config(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
 static int unioxx5_detach(struct comedi_device * dev);
-static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
+static int __unioxx5_subdev_init(struct comedi_subdevice * subdev, int subdev_iobase,
 	int minor);
 static int __unioxx5_digital_write(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor);
@@ -156,7 +156,7 @@ static int unioxx5_attach(struct comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_read(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev-&gt;private;
@@ -176,7 +176,7 @@ static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * su
 	return 1;
 }
 
-static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_write(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev-&gt;private;
@@ -197,7 +197,7 @@ static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * s
 }
 
 /* for digital modules only */
-static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_insn_config(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel_offset, flags, channel = CR_CHAN(insn-&gt;chanspec), type;
@@ -250,7 +250,7 @@ static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * su
 static int unioxx5_detach(struct comedi_device * dev)
 {
 	int i;
-	comedi_subdevice *subdev;
+	struct comedi_subdevice *subdev;
 	unioxx5_subd_priv *usp;
 
 	for (i = 0; i &lt; dev-&gt;n_subdevices; i++) {
@@ -264,7 +264,7 @@ static int unioxx5_detach(struct comedi_device * dev)
 }
 
 /* initializing subdevice with given address */
-static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
+static int __unioxx5_subdev_init(struct comedi_subdevice * subdev, int subdev_iobase,
 	int minor)
 {
 	unioxx5_subd_priv *usp;
diff --git a/drivers/staging/comedi/drivers/usbdux.c b/drivers/staging/comedi/drivers/usbdux.c
index c433076c0e47..41872a3a68b2 100644
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -363,7 +363,7 @@ static int usbdux_ai_stop(struct usbduxsub *this_usbduxsub, int do_unlink)
  * This will cancel a running acquisition operation.
  * This is called by comedi but never from inside the driver.
  */
-static int usbdux_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub;
 	int res = 0;
@@ -393,7 +393,7 @@ static void usbduxsub_ai_IsocIrq(struct urb *urb)
 	int i, err, n;
 	struct usbduxsub *this_usbduxsub;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* the context variable points to the subdevice */
 	this_comedidev = urb-&gt;context;
@@ -561,7 +561,7 @@ static int usbdux_ao_stop(struct usbduxsub *this_usbduxsub, int do_unlink)
 }
 
 /* force unlink, is called by comedi */
-static int usbdux_ao_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ao_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int res = 0;
@@ -587,7 +587,7 @@ static void usbduxsub_ao_IsocIrq(struct urb *urb)
 	int8_t *datap;
 	struct usbduxsub *this_usbduxsub;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* the context variable points to the subdevice */
 	this_comedidev = urb-&gt;context;
@@ -896,7 +896,7 @@ static int usbduxsub_submit_OutURBs(struct usbduxsub *usbduxsub)
 	return 0;
 }
 
-static int usbdux_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	int err = 0, tmp, i;
@@ -1116,7 +1116,7 @@ static int receive_dux_commands(struct usbduxsub *this_usbduxsub, int command)
 	return -EFAULT;
 }
 
-static int usbdux_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 			     unsigned int trignum)
 {
 	int ret;
@@ -1160,7 +1160,7 @@ static int usbdux_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int chan, range;
@@ -1276,7 +1276,7 @@ static int usbdux_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 }
 
 /* Mode 0 is used to get a single conversion on demand */
-static int usbdux_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -1337,7 +1337,7 @@ static int usbdux_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 /************************************/
 /* analog out */
 
-static int usbdux_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -1359,7 +1359,7 @@ static int usbdux_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	return i;
 }
 
-static int usbdux_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 	int i, err;
@@ -1409,7 +1409,7 @@ static int usbdux_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 	return i;
 }
 
-static int usbdux_ao_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 			     unsigned int trignum)
 {
 	int ret;
@@ -1450,7 +1450,7 @@ static int usbdux_ao_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_ao_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	int err = 0, tmp;
@@ -1589,7 +1589,7 @@ static int usbdux_ao_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int usbdux_ao_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ao_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int chan, gain;
@@ -1697,7 +1697,7 @@ static int usbdux_ao_cmd(struct comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int usbdux_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1728,7 +1728,7 @@ static int usbdux_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s
 	return insn-&gt;n;
 }
 
-static int usbdux_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 
@@ -1775,7 +1775,7 @@ static int usbdux_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 }
 
 /* reads the 4 counters, only two are used just now */
-static int usbdux_counter_read(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -1809,7 +1809,7 @@ static int usbdux_counter_read(struct comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_counter_write(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -1839,7 +1839,7 @@ static int usbdux_counter_write(struct comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_counter_config(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	/* nothing to do so far */
@@ -1883,7 +1883,7 @@ static int usbdux_pwm_stop(struct usbduxsub *this_usbduxsub, int do_unlink)
 }
 
 /* force unlink - is called by comedi */
-static int usbdux_pwm_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_pwm_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int res = 0;
@@ -1906,7 +1906,7 @@ static void usbduxsub_pwm_irq(struct urb *urb)
 	int ret;
 	struct usbduxsub *this_usbduxsub;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* printk(KERN_DEBUG "PWM: IRQ\n"); */
 
@@ -1996,7 +1996,7 @@ static int usbduxsub_submit_PwmURBs(struct usbduxsub *usbduxsub)
 	return 0;
 }
 
-static int usbdux_pwm_period(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_period(struct comedi_device *dev, struct comedi_subdevice *s,
 			     unsigned int period)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2024,7 +2024,7 @@ static int usbdux_pwm_period(struct comedi_device *dev, comedi_subdevice *s,
 }
 
 /* is called from insn so there's no need to do all the sanity checks */
-static int usbdux_pwm_start(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_pwm_start(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int ret, i;
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2056,7 +2056,7 @@ static int usbdux_pwm_start(struct comedi_device *dev, comedi_subdevice *s)
 }
 
 /* generates the bit pattern for PWM with the optional sign bit */
-static int usbdux_pwm_pattern(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_pattern(struct comedi_device *dev, struct comedi_subdevice *s,
 			      int channel, unsigned int value, unsigned int sign)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2097,7 +2097,7 @@ static int usbdux_pwm_pattern(struct comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_pwm_write(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_write(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2122,7 +2122,7 @@ static int usbdux_pwm_write(struct comedi_device *dev, comedi_subdevice *s,
 				  data[0], 0);
 }
 
-static int usbdux_pwm_read(struct comedi_device *x1, comedi_subdevice *x2,
+static int usbdux_pwm_read(struct comedi_device *x1, struct comedi_subdevice *x2,
 			   comedi_insn *x3, unsigned int *x4)
 {
 	/* not needed */
@@ -2130,7 +2130,7 @@ static int usbdux_pwm_read(struct comedi_device *x1, comedi_subdevice *x2,
 };
 
 /* switches on/off PWM */
-static int usbdux_pwm_config(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_config(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2710,7 +2710,7 @@ static int usbdux_attach(struct comedi_device *dev, comedi_devconfig *it)
 	int i;
 	struct usbduxsub *udev;
 
-	comedi_subdevice *s = NULL;
+	struct comedi_subdevice *s = NULL;
 	dev-&gt;private = NULL;
 
 	down(&amp;start_stop_sem);
diff --git a/drivers/staging/comedi/drivers/usbduxfast.c b/drivers/staging/comedi/drivers/usbduxfast.c
index ff4a546a157a..e141484f11ae 100644
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -284,7 +284,7 @@ static int usbduxfast_ai_stop(struct usbduxfastsub_s *udfs,
  * This will cancel a running acquisition operation.
  * This is called by comedi but never from inside the driver.
  */
-static int usbduxfast_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbduxfast_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxfastsub_s *udfs;
 	int ret;
@@ -319,7 +319,7 @@ static void usbduxfastsub_ai_Irq(struct urb *urb PT_REGS_ARG)
 	int n, err;
 	struct usbduxfastsub_s *udfs;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	uint16_t *p;
 
 	/* sanity checks - is the urb there? */
@@ -578,7 +578,7 @@ int usbduxfastsub_submit_InURBs(struct usbduxfastsub_s *udfs)
 }
 
 static int usbduxfast_ai_cmdtest(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int err = 0, stop_mask = 0;
 	long int steps, tmp;
@@ -720,7 +720,7 @@ static int usbduxfast_ai_cmdtest(struct comedi_device *dev,
 }
 
 static int usbduxfast_ai_inttrig(struct comedi_device *dev,
-	comedi_subdevice *s, unsigned int trignum)
+	struct comedi_subdevice *s, unsigned int trignum)
 {
 	int ret;
 	struct usbduxfastsub_s *udfs = dev-&gt;private;
@@ -771,7 +771,7 @@ static int usbduxfast_ai_inttrig(struct comedi_device *dev,
 #define OUTBASE	(1+0x10)
 #define LOGBASE	(1+0x18)
 
-static int usbduxfast_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int usbduxfast_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int chan, gain, rngmask = 0xff;
@@ -1231,7 +1231,7 @@ static int usbduxfast_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
  * Mode 0 is used to get a single conversion on demand.
  */
 static int usbduxfast_ai_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i, j, n, actual_length;
 	int chan, range, rngmask;
@@ -1720,7 +1720,7 @@ static int usbduxfast_attach(struct comedi_device *dev, comedi_devconfig *it)
 	int ret;
 	int index;
 	int i;
-	comedi_subdevice *s = NULL;
+	struct comedi_subdevice *s = NULL;
 	dev-&gt;private = NULL;
 
 	down(&amp;start_stop_sem);
diff --git a/drivers/staging/comedi/kcomedilib/get.c b/drivers/staging/comedi/kcomedilib/get.c
index 257cf8c25564..8237716a20c6 100644
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -55,7 +55,7 @@ const char *comedi_get_board_name(void * d)
 int comedi_get_subdevice_type(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;type;
 }
@@ -63,7 +63,7 @@ int comedi_get_subdevice_type(void *d, unsigned int subdevice)
 unsigned int comedi_get_subdevice_flags(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;subdev_flags;
 }
@@ -85,7 +85,7 @@ int comedi_find_subdevice_by_type(void *d, int type, unsigned int subd)
 int comedi_get_n_channels(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;n_chan;
 }
@@ -93,7 +93,7 @@ int comedi_get_n_channels(void *d, unsigned int subdevice)
 int comedi_get_len_chanlist(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;len_chanlist;
 }
@@ -102,7 +102,7 @@ unsigned int comedi_get_maxdata(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	if (s-&gt;maxdata_list)
 		return s-&gt;maxdata_list[chan];
@@ -115,7 +115,7 @@ int comedi_get_rangetype(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	int ret;
 
 	if (s-&gt;range_table_list) {
@@ -133,7 +133,7 @@ int comedi_get_rangetype(void *d, unsigned int subdevice,
 int comedi_get_n_ranges(void *d, unsigned int subdevice, unsigned int chan)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	int ret;
 
 	if (s-&gt;range_table_list) {
@@ -152,7 +152,7 @@ int comedi_get_krange(void *d, unsigned int subdevice, unsigned int chan,
 	unsigned int range, comedi_krange *krange)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	const comedi_lrange *lr;
 
 	if (s-&gt;range_table_list) {
@@ -174,7 +174,7 @@ int comedi_get_krange(void *d, unsigned int subdevice, unsigned int chan,
 unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 
 	async = s-&gt;async;
@@ -187,7 +187,7 @@ unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 int comedi_get_buffer_contents(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 	unsigned int num_bytes;
 
@@ -207,7 +207,7 @@ int comedi_set_user_int_count(void *d, unsigned int subdevice,
 	unsigned int buf_user_count)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 	int num_bytes;
 
@@ -228,7 +228,7 @@ int comedi_mark_buffer_read(void *d, unsigned int subdevice,
 	unsigned int num_bytes)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -247,7 +247,7 @@ int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 	unsigned int num_bytes)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 	int bytes_written;
 
@@ -266,7 +266,7 @@ int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 int comedi_get_buffer_size(void *d, unsigned int subdev)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdev;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdev;
 	comedi_async *async;
 
 	if (subdev &gt;= dev-&gt;n_subdevices)
@@ -281,7 +281,7 @@ int comedi_get_buffer_size(void *d, unsigned int subdev)
 int comedi_get_buffer_offset(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
+	struct comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
diff --git a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
index 98ddbb61ac01..928e93500bbf 100644
--- a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
+++ b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
@@ -124,7 +124,7 @@ int comedi_fileno(void *d)
 int comedi_command(void *d, comedi_cmd *cmd)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	unsigned runflags;
 
@@ -164,7 +164,7 @@ int comedi_command(void *d, comedi_cmd *cmd)
 int comedi_command_test(void *d, comedi_cmd *cmd)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (cmd-&gt;subdev &gt;= dev-&gt;n_subdevices)
 		return -ENODEV;
@@ -186,7 +186,7 @@ int comedi_command_test(void *d, comedi_cmd *cmd)
 int comedi_do_insn(void *d, comedi_insn *insn)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 
 	if (insn-&gt;insn &amp; INSN_MASK_SPECIAL) {
@@ -327,7 +327,7 @@ int comedi_do_insn(void *d, comedi_insn *insn)
 int comedi_lock(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long flags;
 	int ret = 0;
 
@@ -370,7 +370,7 @@ int comedi_lock(void *d, unsigned int subdevice)
 int comedi_unlock(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long flags;
 	comedi_async *async;
 	int ret;
@@ -422,7 +422,7 @@ int comedi_unlock(void *d, unsigned int subdevice)
 int comedi_cancel(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -468,7 +468,7 @@ int comedi_register_callback(void *d, unsigned int subdevice,
 	unsigned int mask, int (*cb) (unsigned int, void *), void *arg)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -504,7 +504,7 @@ int comedi_register_callback(void *d, unsigned int subdevice,
 int comedi_poll(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev-&gt;subdevices;
+	struct comedi_subdevice *s = dev-&gt;subdevices;
 	comedi_async *async;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -531,7 +531,7 @@ int comedi_poll(void *d, unsigned int subdevice)
 int comedi_map(void *d, unsigned int subdevice, void *ptr)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
@@ -553,7 +553,7 @@ int comedi_map(void *d, unsigned int subdevice, void *ptr)
 int comedi_unmap(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/range.c b/drivers/staging/comedi/range.c
index 7e069fd2ba5c..98f53df35573 100644
--- a/drivers/staging/comedi/range.c
+++ b/drivers/staging/comedi/range.c
@@ -49,7 +49,7 @@ int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg)
 	comedi_rangeinfo it;
 	int subd, chan;
 	const comedi_lrange *lr;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (copy_from_user(&amp;it, arg, sizeof(comedi_rangeinfo)))
 		return -EFAULT;
@@ -84,7 +84,7 @@ int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg)
 	return 0;
 }
 
-static int aref_invalid(comedi_subdevice *s, unsigned int chanspec)
+static int aref_invalid(struct comedi_subdevice *s, unsigned int chanspec)
 {
 	unsigned int aref;
 
@@ -120,7 +120,7 @@ static int aref_invalid(comedi_subdevice *s, unsigned int chanspec)
    This function checks each element in a channel/gain list to make
    make sure it is valid.
 */
-int check_chanlist(comedi_subdevice *s, int n, unsigned int *chanlist)
+int check_chanlist(struct comedi_subdevice *s, int n, unsigned int *chanlist)
 {
 	int i;
 	int chan;</pre><hr><pre>commit 71b5f4f11971dea972832ad63a994c7e5b45db6b
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:08 2009 -0400

    Staging: comedi: Remove comedi_device typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index 82bb66994e17..c8169e03693f 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -69,29 +69,29 @@ static DEFINE_SPINLOCK(comedi_file_info_table_lock);
 static struct comedi_device_file_info
     *comedi_file_info_table[COMEDI_NUM_MINORS];
 
-static int do_devconfig_ioctl(comedi_device *dev, comedi_devconfig *arg);
-static int do_bufconfig_ioctl(comedi_device *dev, void *arg);
-static int do_devinfo_ioctl(comedi_device *dev, comedi_devinfo *arg,
+static int do_devconfig_ioctl(struct comedi_device *dev, comedi_devconfig *arg);
+static int do_bufconfig_ioctl(struct comedi_device *dev, void *arg);
+static int do_devinfo_ioctl(struct comedi_device *dev, comedi_devinfo *arg,
 			    struct file *file);
-static int do_subdinfo_ioctl(comedi_device *dev, comedi_subdinfo *arg,
+static int do_subdinfo_ioctl(struct comedi_device *dev, comedi_subdinfo *arg,
 			     void *file);
-static int do_chaninfo_ioctl(comedi_device *dev, comedi_chaninfo *arg);
-static int do_bufinfo_ioctl(comedi_device *dev, void *arg);
-static int do_cmd_ioctl(comedi_device *dev, void *arg, void *file);
-static int do_lock_ioctl(comedi_device *dev, unsigned int arg, void *file);
-static int do_unlock_ioctl(comedi_device *dev, unsigned int arg, void *file);
-static int do_cancel_ioctl(comedi_device *dev, unsigned int arg, void *file);
-static int do_cmdtest_ioctl(comedi_device *dev, void *arg, void *file);
-static int do_insnlist_ioctl(comedi_device *dev, void *arg, void *file);
-static int do_insn_ioctl(comedi_device *dev, void *arg, void *file);
-static int do_poll_ioctl(comedi_device *dev, unsigned int subd, void *file);
-
-extern void do_become_nonbusy(comedi_device *dev, comedi_subdevice *s);
-static int do_cancel(comedi_device *dev, comedi_subdevice *s);
+static int do_chaninfo_ioctl(struct comedi_device *dev, comedi_chaninfo *arg);
+static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg);
+static int do_cmd_ioctl(struct comedi_device *dev, void *arg, void *file);
+static int do_lock_ioctl(struct comedi_device *dev, unsigned int arg, void *file);
+static int do_unlock_ioctl(struct comedi_device *dev, unsigned int arg, void *file);
+static int do_cancel_ioctl(struct comedi_device *dev, unsigned int arg, void *file);
+static int do_cmdtest_ioctl(struct comedi_device *dev, void *arg, void *file);
+static int do_insnlist_ioctl(struct comedi_device *dev, void *arg, void *file);
+static int do_insn_ioctl(struct comedi_device *dev, void *arg, void *file);
+static int do_poll_ioctl(struct comedi_device *dev, unsigned int subd, void *file);
+
+extern void do_become_nonbusy(struct comedi_device *dev, comedi_subdevice *s);
+static int do_cancel(struct comedi_device *dev, comedi_subdevice *s);
 
 static int comedi_fasync(int fd, struct file *file, int on);
 
-static int is_device_busy(comedi_device *dev);
+static int is_device_busy(struct comedi_device *dev);
 
 #ifdef HAVE_UNLOCKED_IOCTL
 static long comedi_unlocked_ioctl(struct file *file, unsigned int cmd,
@@ -104,7 +104,7 @@ static int comedi_ioctl(struct inode *inode, struct file *file,
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev;
+	struct comedi_device *dev;
 	int rc;
 
 	if (dev_file_info == NULL || dev_file_info-&gt;device == NULL)
@@ -192,7 +192,7 @@ static int comedi_ioctl(struct inode *inode, struct file *file,
 	writes:
 		none
 */
-static int do_devconfig_ioctl(comedi_device *dev, comedi_devconfig *arg)
+static int do_devconfig_ioctl(struct comedi_device *dev, comedi_devconfig *arg)
 {
 	comedi_devconfig it;
 	int ret;
@@ -272,7 +272,7 @@ static int do_devconfig_ioctl(comedi_device *dev, comedi_devconfig *arg)
 		modified bufconfig at arg
 
 */
-static int do_bufconfig_ioctl(comedi_device *dev, void *arg)
+static int do_bufconfig_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufconfig bc;
 	comedi_async *async;
@@ -360,7 +360,7 @@ static int do_bufconfig_ioctl(comedi_device *dev, void *arg)
 		devinfo structure
 
 */
-static int do_devinfo_ioctl(comedi_device *dev, comedi_devinfo *arg,
+static int do_devinfo_ioctl(struct comedi_device *dev, comedi_devinfo *arg,
 			    struct file *file)
 {
 	comedi_devinfo devinfo;
@@ -410,7 +410,7 @@ static int do_devinfo_ioctl(comedi_device *dev, comedi_devinfo *arg,
 		array of subdevice info structures at arg
 
 */
-static int do_subdinfo_ioctl(comedi_device *dev, comedi_subdinfo *arg,
+static int do_subdinfo_ioctl(struct comedi_device *dev, comedi_subdinfo *arg,
 			     void *file)
 {
 	int ret, i;
@@ -490,7 +490,7 @@ static int do_subdinfo_ioctl(comedi_device *dev, comedi_subdinfo *arg,
 		arrays at elements of chaninfo structure
 
 */
-static int do_chaninfo_ioctl(comedi_device *dev, comedi_chaninfo *arg)
+static int do_chaninfo_ioctl(struct comedi_device *dev, comedi_chaninfo *arg)
 {
 	comedi_subdevice *s;
 	comedi_chaninfo it;
@@ -554,7 +554,7 @@ static int do_chaninfo_ioctl(comedi_device *dev, comedi_chaninfo *arg)
     modified bufinfo at arg
 
   */
-static int do_bufinfo_ioctl(comedi_device *dev, void *arg)
+static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufinfo bi;
 	comedi_subdevice *s;
@@ -607,7 +607,7 @@ static int do_bufinfo_ioctl(comedi_device *dev, void *arg)
 	return 0;
 }
 
-static int parse_insn(comedi_device *dev, comedi_insn *insn, unsigned int *data,
+static int parse_insn(struct comedi_device *dev, comedi_insn *insn, unsigned int *data,
 		      void *file);
 /*
  * 	COMEDI_INSNLIST
@@ -626,7 +626,7 @@ static int parse_insn(comedi_device *dev, comedi_insn *insn, unsigned int *data,
  */
 /* arbitrary limits */
 #define MAX_SAMPLES 256
-static int do_insnlist_ioctl(comedi_device *dev, void *arg, void *file)
+static int do_insnlist_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_insnlist insnlist;
 	comedi_insn *insns = NULL;
@@ -757,7 +757,7 @@ static int check_insn_config_length(comedi_insn *insn, unsigned int *data)
 	return -EINVAL;
 }
 
-static int parse_insn(comedi_device *dev, comedi_insn *insn, unsigned int *data,
+static int parse_insn(struct comedi_device *dev, comedi_insn *insn, unsigned int *data,
 		      void *file)
 {
 	comedi_subdevice *s;
@@ -917,7 +917,7 @@ static int parse_insn(comedi_device *dev, comedi_insn *insn, unsigned int *data,
  * 	writes:
  * 		data (for reads)
  */
-static int do_insn_ioctl(comedi_device *dev, void *arg, void *file)
+static int do_insn_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_insn insn;
 	unsigned int *data = NULL;
@@ -975,7 +975,7 @@ static int do_insn_ioctl(comedi_device *dev, void *arg, void *file)
 		modified cmd structure at arg
 
 */
-static int do_cmd_ioctl(comedi_device *dev, void *arg, void *file)
+static int do_cmd_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
 	comedi_subdevice *s;
@@ -1129,7 +1129,7 @@ static int do_cmd_ioctl(comedi_device *dev, void *arg, void *file)
 		modified cmd structure at arg
 
 */
-static int do_cmdtest_ioctl(comedi_device *dev, void *arg, void *file)
+static int do_cmdtest_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
 	comedi_subdevice *s;
@@ -1227,7 +1227,7 @@ static int do_cmdtest_ioctl(comedi_device *dev, void *arg, void *file)
 
 */
 
-static int do_lock_ioctl(comedi_device *dev, unsigned int arg, void *file)
+static int do_lock_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
 	int ret = 0;
 	unsigned long flags;
@@ -1271,7 +1271,7 @@ static int do_lock_ioctl(comedi_device *dev, unsigned int arg, void *file)
 	This function isn't protected by the semaphore, since
 	we already own the lock.
 */
-static int do_unlock_ioctl(comedi_device *dev, unsigned int arg, void *file)
+static int do_unlock_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
 	comedi_subdevice *s;
 
@@ -1311,7 +1311,7 @@ static int do_unlock_ioctl(comedi_device *dev, unsigned int arg, void *file)
 		nothing
 
 */
-static int do_cancel_ioctl(comedi_device *dev, unsigned int arg, void *file)
+static int do_cancel_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
 	comedi_subdevice *s;
 
@@ -1347,7 +1347,7 @@ static int do_cancel_ioctl(comedi_device *dev, unsigned int arg, void *file)
 		nothing
 
 */
-static int do_poll_ioctl(comedi_device *dev, unsigned int arg, void *file)
+static int do_poll_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
 	comedi_subdevice *s;
 
@@ -1370,7 +1370,7 @@ static int do_poll_ioctl(comedi_device *dev, unsigned int arg, void *file)
 	return -EINVAL;
 }
 
-static int do_cancel(comedi_device *dev, comedi_subdevice *s)
+static int do_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	int ret = 0;
 
@@ -1385,7 +1385,7 @@ static int do_cancel(comedi_device *dev, comedi_subdevice *s)
 void comedi_unmap(struct vm_area_struct *area)
 {
 	comedi_async *async;
-	comedi_device *dev;
+	struct comedi_device *dev;
 
 	async = area-&gt;vm_private_data;
 	dev = async-&gt;subdevice-&gt;device;
@@ -1404,7 +1404,7 @@ static int comedi_mmap(struct file *file, struct vm_area_struct *vma)
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev = dev_file_info-&gt;device;
+	struct comedi_device *dev = dev_file_info-&gt;device;
 	comedi_async *async = NULL;
 	unsigned long start = vma-&gt;vm_start;
 	unsigned long size;
@@ -1480,7 +1480,7 @@ static unsigned int comedi_poll(struct file *file, poll_table *wait)
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev = dev_file_info-&gt;device;
+	struct comedi_device *dev = dev_file_info-&gt;device;
 	comedi_subdevice *read_subdev;
 	comedi_subdevice *write_subdev;
 
@@ -1530,7 +1530,7 @@ static ssize_t comedi_write(struct file *file, const char *buf, size_t nbytes,
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev = dev_file_info-&gt;device;
+	struct comedi_device *dev = dev_file_info-&gt;device;
 
 	if (!dev-&gt;attached) {
 		DPRINTK("no driver configured on comedi%i\n", dev-&gt;minor);
@@ -1632,7 +1632,7 @@ static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
 	const unsigned minor = iminor(file-&gt;f_dentry-&gt;d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev = dev_file_info-&gt;device;
+	struct comedi_device *dev = dev_file_info-&gt;device;
 
 	if (!dev-&gt;attached) {
 		DPRINTK("no driver configured on comedi%i\n", dev-&gt;minor);
@@ -1733,7 +1733,7 @@ static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
 /*
    This function restores a subdevice to an idle state.
  */
-void do_become_nonbusy(comedi_device *dev, comedi_subdevice *s)
+void do_become_nonbusy(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_async *async = s-&gt;async;
 
@@ -1760,7 +1760,7 @@ static int comedi_open(struct inode *inode, struct file *file)
 	const unsigned minor = iminor(inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev = dev_file_info ? dev_file_info-&gt;device : NULL;
+	struct comedi_device *dev = dev_file_info ? dev_file_info-&gt;device : NULL;
 
 	if (dev == NULL) {
 		DPRINTK("invalid minor number\n");
@@ -1832,7 +1832,7 @@ static int comedi_close(struct inode *inode, struct file *file)
 	const unsigned minor = iminor(inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_device *dev = dev_file_info-&gt;device;
+	struct comedi_device *dev = dev_file_info-&gt;device;
 	comedi_subdevice *s = NULL;
 	int i;
 
@@ -1871,7 +1871,7 @@ static int comedi_fasync(int fd, struct file *file, int on)
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
 
-	comedi_device *dev = dev_file_info-&gt;device;
+	struct comedi_device *dev = dev_file_info-&gt;device;
 
 	return fasync_helper(fd, file, on, &amp;dev-&gt;async_queue);
 }
@@ -2000,13 +2000,13 @@ static void __exit comedi_cleanup(void)
 module_init(comedi_init);
 module_exit(comedi_cleanup);
 
-void comedi_error(const comedi_device *dev, const char *s)
+void comedi_error(const struct comedi_device *dev, const char *s)
 {
 	rt_printk("comedi%d: %s: %s\n", dev-&gt;minor, dev-&gt;driver-&gt;driver_name,
 		  s);
 }
 
-void comedi_event(comedi_device *dev, comedi_subdevice *s)
+void comedi_event(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_async *async = s-&gt;async;
 	unsigned runflags = 0;
@@ -2089,7 +2089,7 @@ unsigned comedi_get_subdevice_runflags(comedi_subdevice *s)
 	return runflags;
 }
 
-static int is_device_busy(comedi_device *dev)
+static int is_device_busy(struct comedi_device *dev)
 {
 	comedi_subdevice *s;
 	int i;
@@ -2108,15 +2108,15 @@ static int is_device_busy(comedi_device *dev)
 	return 0;
 }
 
-void comedi_device_init(comedi_device *dev)
+void comedi_device_init(struct comedi_device *dev)
 {
-	memset(dev, 0, sizeof(comedi_device));
+	memset(dev, 0, sizeof(struct comedi_device));
 	spin_lock_init(&amp;dev-&gt;spinlock);
 	mutex_init(&amp;dev-&gt;mutex);
 	dev-&gt;minor = -1;
 }
 
-void comedi_device_cleanup(comedi_device *dev)
+void comedi_device_cleanup(struct comedi_device *dev)
 {
 	if (dev == NULL)
 		return;
@@ -2136,7 +2136,7 @@ int comedi_alloc_board_minor(struct device *hardware_device)
 	info = kzalloc(sizeof(struct comedi_device_file_info), GFP_KERNEL);
 	if (info == NULL)
 		return -ENOMEM;
-	info-&gt;device = kzalloc(sizeof(comedi_device), GFP_KERNEL);
+	info-&gt;device = kzalloc(sizeof(struct comedi_device), GFP_KERNEL);
 	if (info-&gt;device == NULL) {
 		kfree(info);
 		return -ENOMEM;
@@ -2180,7 +2180,7 @@ void comedi_free_board_minor(unsigned minor)
 	comedi_spin_unlock_irqrestore(&amp;comedi_file_info_table_lock, flags);
 
 	if (info) {
-		comedi_device *dev = info-&gt;device;
+		struct comedi_device *dev = info-&gt;device;
 		if (dev) {
 			if (dev-&gt;class_dev) {
 				device_destroy(comedi_class,
@@ -2193,7 +2193,7 @@ void comedi_free_board_minor(unsigned minor)
 	}
 }
 
-int comedi_alloc_subdevice_minor(comedi_device *dev, comedi_subdevice *s)
+int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s)
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
diff --git a/drivers/staging/comedi/comedi_rt.h b/drivers/staging/comedi/comedi_rt.h
index baeaa495b0a7..169ca963312a 100644
--- a/drivers/staging/comedi/comedi_rt.h
+++ b/drivers/staging/comedi/comedi_rt.h
@@ -58,12 +58,12 @@
 
 int comedi_request_irq(unsigned int irq, irqreturn_t(*handler) (int,
 		void *PT_REGS_ARG), unsigned long flags, const char *device,
-		comedi_device *dev_id);
-void comedi_free_irq(unsigned int irq, comedi_device *dev_id);
+		struct comedi_device *dev_id);
+void comedi_free_irq(unsigned int irq, struct comedi_device *dev_id);
 void comedi_rt_init(void);
 void comedi_rt_cleanup(void);
-int comedi_switch_to_rt(comedi_device *dev);
-void comedi_switch_to_non_rt(comedi_device *dev);
+int comedi_switch_to_rt(struct comedi_device *dev);
+void comedi_switch_to_non_rt(struct comedi_device *dev);
 void comedi_rt_pend_wakeup(wait_queue_head_t *q);
 extern int rt_pend_call(void (*func) (int arg1, void *arg2), int arg1,
 	void *arg2);
diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index 372a1ba808d6..e0035f3e9287 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,7 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_device_struct comedi_device;
 typedef struct comedi_subdevice_struct comedi_subdevice;
 typedef struct comedi_async_struct comedi_async;
 typedef struct comedi_driver_struct comedi_driver;
@@ -133,7 +132,7 @@ typedef struct device device_create_result_type;
 	device_create(cs, ((parent) ? (parent) : (device)), devt, drvdata, fmt)
 
 struct comedi_subdevice_struct {
-	comedi_device *device;
+	struct comedi_device *device;
 	int type;
 	int n_chan;
 	volatile int subdev_flags;
@@ -163,27 +162,27 @@ struct comedi_subdevice_struct {
 
 	unsigned int *chanlist;	/* driver-owned chanlist (not used) */
 
-	int (*insn_read) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_read) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_write) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_write) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_bits) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_bits) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_config) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_config) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
 
-	int (*do_cmd) (comedi_device *, comedi_subdevice *);
-	int (*do_cmdtest) (comedi_device *, comedi_subdevice *, comedi_cmd *);
-	int (*poll) (comedi_device *, comedi_subdevice *);
-	int (*cancel) (comedi_device *, comedi_subdevice *);
-	/* int (*do_lock)(comedi_device *,comedi_subdevice *); */
-	/* int (*do_unlock)(comedi_device *,comedi_subdevice *); */
+	int (*do_cmd) (struct comedi_device *, comedi_subdevice *);
+	int (*do_cmdtest) (struct comedi_device *, comedi_subdevice *, comedi_cmd *);
+	int (*poll) (struct comedi_device *, comedi_subdevice *);
+	int (*cancel) (struct comedi_device *, comedi_subdevice *);
+	/* int (*do_lock)(struct comedi_device *,comedi_subdevice *); */
+	/* int (*do_unlock)(struct comedi_device *,comedi_subdevice *); */
 
 	/* called when the buffer changes */
-	int (*buf_change) (comedi_device *dev, comedi_subdevice *s,
+	int (*buf_change) (struct comedi_device *dev, comedi_subdevice *s,
 		unsigned long new_size);
 
-	void (*munge) (comedi_device *dev, comedi_subdevice *s, void *data,
+	void (*munge) (struct comedi_device *dev, comedi_subdevice *s, void *data,
 		unsigned int num_bytes, unsigned int start_chan_index);
 	enum dma_data_direction async_dma_dir;
 
@@ -238,7 +237,7 @@ struct comedi_async_struct {
 	int (*cb_func) (unsigned int flags, void *);
 	void *cb_arg;
 
-	int (*inttrig) (comedi_device *dev, comedi_subdevice *s,
+	int (*inttrig) (struct comedi_device *dev, comedi_subdevice *s,
 			unsigned int x);
 };
 
@@ -247,8 +246,8 @@ struct comedi_driver_struct {
 
 	const char *driver_name;
 	struct module *module;
-	int (*attach) (comedi_device *, comedi_devconfig *);
-	int (*detach) (comedi_device *);
+	int (*attach) (struct comedi_device *, comedi_devconfig *);
+	int (*detach) (struct comedi_device *);
 
 	/* number of elements in board_name and board_id arrays */
 	unsigned int num_names;
@@ -257,7 +256,7 @@ struct comedi_driver_struct {
 	int offset;
 };
 
-struct comedi_device_struct {
+struct comedi_device {
 	int use_count;
 	comedi_driver *driver;
 	void *private;
@@ -289,12 +288,12 @@ struct comedi_device_struct {
 
 	struct fasync_struct *async_queue;
 
-	void (*open) (comedi_device *dev);
-	void (*close) (comedi_device *dev);
+	void (*open) (struct comedi_device *dev);
+	void (*close) (struct comedi_device *dev);
 };
 
 struct comedi_device_file_info {
-	comedi_device *device;
+	struct comedi_device *device;
 	comedi_subdevice *read_subdevice;
 	comedi_subdevice *write_subdevice;
 };
@@ -309,8 +308,8 @@ static const int comedi_debug;
  * function prototypes
  */
 
-void comedi_event(comedi_device *dev, comedi_subdevice *s);
-void comedi_error(const comedi_device *dev, const char *s);
+void comedi_event(struct comedi_device *dev, comedi_subdevice *s);
+void comedi_error(const struct comedi_device *dev, const char *s);
 
 /* we can expand the number of bits used to encode devices/subdevices into
  the minor number soon, after more distros support &gt; 8 bit minor numbers
@@ -344,17 +343,17 @@ static inline comedi_subdevice *comedi_get_write_subdevice(
 	return info-&gt;device-&gt;write_subdev;
 }
 
-void comedi_device_detach(comedi_device *dev);
-int comedi_device_attach(comedi_device *dev, comedi_devconfig *it);
+void comedi_device_detach(struct comedi_device *dev);
+int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it);
 int comedi_driver_register(comedi_driver *);
 int comedi_driver_unregister(comedi_driver *);
 
 void init_polling(void);
 void cleanup_polling(void);
-void start_polling(comedi_device *);
-void stop_polling(comedi_device *);
+void start_polling(struct comedi_device *);
+void stop_polling(struct comedi_device *);
 
-int comedi_buf_alloc(comedi_device *dev, comedi_subdevice *s, unsigned long
+int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s, unsigned long
 	new_size);
 
 #ifdef CONFIG_PROC_FS
@@ -383,12 +382,12 @@ enum subdevice_runflags {
    various internal comedi functions
  */
 
-int do_rangeinfo_ioctl(comedi_device *dev, comedi_rangeinfo *arg);
+int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg);
 int check_chanlist(comedi_subdevice *s, int n, unsigned int *chanlist);
 void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
 	unsigned bits);
 unsigned comedi_get_subdevice_runflags(comedi_subdevice *s);
-int insn_inval(comedi_device *dev, comedi_subdevice *s,
+int insn_inval(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 
 /* range stuff */
@@ -422,7 +421,7 @@ struct comedi_lrange_struct {
 
 /* some silly little inline functions */
 
-static inline int alloc_subdevices(comedi_device *dev,
+static inline int alloc_subdevices(struct comedi_device *dev,
 				   unsigned int num_subdevices)
 {
 	unsigned i;
@@ -441,7 +440,7 @@ static inline int alloc_subdevices(comedi_device *dev,
 	return 0;
 }
 
-static inline int alloc_private(comedi_device *dev, int size)
+static inline int alloc_private(struct comedi_device *dev, int size)
 {
 	dev-&gt;private = kzalloc(size, GFP_KERNEL);
 	if (!dev-&gt;private)
@@ -459,7 +458,7 @@ static inline unsigned int bytes_per_sample(const comedi_subdevice *subd)
 
 /* must be used in attach to set dev-&gt;hw_dev if you wish to dma directly
 into comedi's buffer */
-static inline void comedi_set_hw_dev(comedi_device *dev, struct device *hw_dev)
+static inline void comedi_set_hw_dev(struct comedi_device *dev, struct device *hw_dev)
 {
 	if (dev-&gt;hw_dev)
 		put_device(dev-&gt;hw_dev);
@@ -524,7 +523,7 @@ static inline void *comedi_aux_data(int options[], int n)
 
 int comedi_alloc_board_minor(struct device *hardware_device);
 void comedi_free_board_minor(unsigned minor);
-int comedi_alloc_subdevice_minor(comedi_device *dev, comedi_subdevice *s);
+int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s);
 void comedi_free_subdevice_minor(comedi_subdevice *s);
 int comedi_pci_auto_config(struct pci_dev *pcidev, const char *board_name);
 void comedi_pci_auto_unconfig(struct pci_dev *pcidev);
diff --git a/drivers/staging/comedi/drivers.c b/drivers/staging/comedi/drivers.c
index 49834ebfcb19..f0eb7341d9ab 100644
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -47,13 +47,13 @@
 #include &lt;asm/io.h&gt;
 #include &lt;asm/system.h&gt;
 
-static int postconfig(comedi_device *dev);
-static int insn_rw_emulate_bits(comedi_device *dev, comedi_subdevice *s,
+static int postconfig(struct comedi_device *dev);
+static int insn_rw_emulate_bits(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static void *comedi_recognize(comedi_driver * driv, const char *name);
 static void comedi_report_boards(comedi_driver *driv);
-static int poll_invalid(comedi_device *dev, comedi_subdevice *s);
-int comedi_buf_alloc(comedi_device *dev, comedi_subdevice *s,
+static int poll_invalid(struct comedi_device *dev, comedi_subdevice *s);
+int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned long new_size);
 
 comedi_driver *comedi_drivers;
@@ -63,7 +63,7 @@ int comedi_modprobe(int minor)
 	return -EINVAL;
 }
 
-static void cleanup_device(comedi_device *dev)
+static void cleanup_device(struct comedi_device *dev)
 {
 	int i;
 	comedi_subdevice *s;
@@ -95,7 +95,7 @@ static void cleanup_device(comedi_device *dev)
 	comedi_set_hw_dev(dev, NULL);
 }
 
-static void __comedi_device_detach(comedi_device *dev)
+static void __comedi_device_detach(struct comedi_device *dev)
 {
 	dev-&gt;attached = 0;
 	if (dev-&gt;driver) {
@@ -106,14 +106,14 @@ static void __comedi_device_detach(comedi_device *dev)
 	cleanup_device(dev);
 }
 
-void comedi_device_detach(comedi_device *dev)
+void comedi_device_detach(struct comedi_device *dev)
 {
 	if (!dev-&gt;attached)
 		return;
 	__comedi_device_detach(dev);
 }
 
-int comedi_device_attach(comedi_device *dev, comedi_devconfig *it)
+int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	comedi_driver *driv;
 	int ret;
@@ -196,7 +196,7 @@ int comedi_driver_unregister(comedi_driver *driver)
 	/* check for devices using this driver */
 	for (i = 0; i &lt; COMEDI_NUM_BOARD_MINORS; i++) {
 		struct comedi_device_file_info *dev_file_info = comedi_get_device_file_info(i);
-		comedi_device *dev;
+		struct comedi_device *dev;
 
 		if(dev_file_info == NULL) continue;
 		dev = dev_file_info-&gt;device;
@@ -224,7 +224,7 @@ int comedi_driver_unregister(comedi_driver *driver)
 	return -EINVAL;
 }
 
-static int postconfig(comedi_device *dev)
+static int postconfig(struct comedi_device *dev)
 {
 	int i;
 	comedi_subdevice *s;
@@ -331,18 +331,18 @@ void comedi_report_boards(comedi_driver *driv)
 		printk(" %s\n", driv-&gt;driver_name);
 }
 
-static int poll_invalid(comedi_device *dev, comedi_subdevice *s)
+static int poll_invalid(struct comedi_device *dev, comedi_subdevice *s)
 {
 	return -EINVAL;
 }
 
-int insn_inval(comedi_device *dev, comedi_subdevice *s,
+int insn_inval(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return -EINVAL;
 }
 
-static int insn_rw_emulate_bits(comedi_device *dev, comedi_subdevice *s,
+static int insn_rw_emulate_bits(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	comedi_insn new_insn;
@@ -412,7 +412,7 @@ static inline unsigned long kvirt_to_kva(unsigned long adr)
 	return kva;
 }
 
-int comedi_buf_alloc(comedi_device *dev, comedi_subdevice *s,
+int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned long new_size)
 {
 	comedi_async *async = s-&gt;async;
diff --git a/drivers/staging/comedi/drivers/8255.c b/drivers/staging/comedi/drivers/8255.c
index b90bd1275f99..3355468266a2 100644
--- a/drivers/staging/comedi/drivers/8255.c
+++ b/drivers/staging/comedi/drivers/8255.c
@@ -105,8 +105,8 @@ struct subdev_8255_struct {
 #define CALLBACK_FUNC	(((struct subdev_8255_struct *)s-&gt;private)-&gt;cb_func)
 #define subdevpriv	((struct subdev_8255_struct *)s-&gt;private)
 
-static int dev_8255_attach(comedi_device * dev, comedi_devconfig * it);
-static int dev_8255_detach(comedi_device * dev);
+static int dev_8255_attach(struct comedi_device *dev, comedi_devconfig * it);
+static int dev_8255_detach(struct comedi_device *dev);
 static comedi_driver driver_8255 = {
       driver_name:"8255",
       module:THIS_MODULE,
@@ -116,9 +116,9 @@ static comedi_driver driver_8255 = {
 
 COMEDI_INITCLEANUP(driver_8255);
 
-static void do_config(comedi_device * dev, comedi_subdevice * s);
+static void do_config(struct comedi_device *dev, comedi_subdevice * s);
 
-void subdev_8255_interrupt(comedi_device * dev, comedi_subdevice * s)
+void subdev_8255_interrupt(struct comedi_device *dev, comedi_subdevice * s)
 {
 	short d;
 
@@ -143,7 +143,7 @@ static int subdev_8255_cb(int dir, int port, int data, unsigned long arg)
 	}
 }
 
-static int subdev_8255_insn(comedi_device * dev, comedi_subdevice * s,
+static int subdev_8255_insn(struct comedi_device *dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -168,7 +168,7 @@ static int subdev_8255_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int subdev_8255_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int subdev_8255_insn_config(struct comedi_device *dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -205,7 +205,7 @@ static int subdev_8255_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static void do_config(comedi_device * dev, comedi_subdevice * s)
+static void do_config(struct comedi_device *dev, comedi_subdevice * s)
 {
 	int config;
 
@@ -222,7 +222,7 @@ static void do_config(comedi_device * dev, comedi_subdevice * s)
 	CALLBACK_FUNC(1, _8255_CR, config, CALLBACK_ARG);
 }
 
-static int subdev_8255_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int subdev_8255_cmdtest(struct comedi_device *dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -297,21 +297,21 @@ static int subdev_8255_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int subdev_8255_cmd(comedi_device * dev, comedi_subdevice * s)
+static int subdev_8255_cmd(struct comedi_device *dev, comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-static int subdev_8255_cancel(comedi_device * dev, comedi_subdevice * s)
+static int subdev_8255_cancel(struct comedi_device *dev, comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-int subdev_8255_init(comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
+int subdev_8255_init(struct comedi_device *dev, comedi_subdevice * s, int (*cb) (int,
 		int, int, unsigned long), unsigned long arg)
 {
 	s-&gt;type = COMEDI_SUBD_DIO;
@@ -340,7 +340,7 @@ int subdev_8255_init(comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
 	return 0;
 }
 
-int subdev_8255_init_irq(comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init_irq(struct comedi_device *dev, comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg)
 {
 	int ret;
@@ -358,7 +358,7 @@ int subdev_8255_init_irq(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-void subdev_8255_cleanup(comedi_device * dev, comedi_subdevice * s)
+void subdev_8255_cleanup(struct comedi_device *dev, comedi_subdevice * s)
 {
 	if (s-&gt;private) {
 		if (subdevpriv-&gt;have_irq) {
@@ -374,7 +374,7 @@ void subdev_8255_cleanup(comedi_device * dev, comedi_subdevice * s)
 
  */
 
-static int dev_8255_attach(comedi_device * dev, comedi_devconfig * it)
+static int dev_8255_attach(struct comedi_device *dev, comedi_devconfig * it)
 {
 	int ret;
 	unsigned long iobase;
@@ -416,7 +416,7 @@ static int dev_8255_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int dev_8255_detach(comedi_device * dev)
+static int dev_8255_detach(struct comedi_device *dev)
 {
 	int i;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/8255.h b/drivers/staging/comedi/drivers/8255.h
index 69a2a72595c6..6837cf83c10b 100644
--- a/drivers/staging/comedi/drivers/8255.h
+++ b/drivers/staging/comedi/drivers/8255.h
@@ -28,16 +28,16 @@
 
 #if defined(CONFIG_COMEDI_8255) || defined(CONFIG_COMEDI_8255_MODULE)
 
-int subdev_8255_init(comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init(struct comedi_device * dev, comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg);
-int subdev_8255_init_irq(comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init_irq(struct comedi_device * dev, comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg);
-void subdev_8255_cleanup(comedi_device * dev, comedi_subdevice * s);
-void subdev_8255_interrupt(comedi_device * dev, comedi_subdevice * s);
+void subdev_8255_cleanup(struct comedi_device * dev, comedi_subdevice * s);
+void subdev_8255_interrupt(struct comedi_device * dev, comedi_subdevice * s);
 
 #else
 
-static inline int subdev_8255_init(comedi_device * dev, comedi_subdevice * s,
+static inline int subdev_8255_init(struct comedi_device * dev, comedi_subdevice * s,
 	void *x, unsigned long y)
 {
 	printk("8255 support not configured -- disabling subdevice\n");
@@ -47,7 +47,7 @@ static inline int subdev_8255_init(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static inline void subdev_8255_cleanup(comedi_device * dev,
+static inline void subdev_8255_cleanup(struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 }
diff --git a/drivers/staging/comedi/drivers/acl7225b.c b/drivers/staging/comedi/drivers/acl7225b.c
index aeaf30dea300..4c6ad8ab5b61 100644
--- a/drivers/staging/comedi/drivers/acl7225b.c
+++ b/drivers/staging/comedi/drivers/acl7225b.c
@@ -22,8 +22,8 @@ Devices: [Adlink] ACL-7225b (acl7225b), [ICP] P16R16DIO (p16r16dio)
 #define ACL7225_DI_LO  2	/* Digital input low byte (DI0-DI7) */
 #define ACL7225_DI_HI  3	/* Digital input high byte (DI8-DI15) */
 
-static int acl7225b_attach(comedi_device * dev, comedi_devconfig * it);
-static int acl7225b_detach(comedi_device * dev);
+static int acl7225b_attach(struct comedi_device *dev, comedi_devconfig * it);
+static int acl7225b_detach(struct comedi_device *dev);
 
 typedef struct {
 	const char *name;	// driver name
@@ -50,7 +50,7 @@ static comedi_driver driver_acl7225b = {
 
 COMEDI_INITCLEANUP(driver_acl7225b);
 
-static int acl7225b_do_insn(comedi_device * dev, comedi_subdevice * s,
+static int acl7225b_do_insn(struct comedi_device *dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -71,7 +71,7 @@ static int acl7225b_do_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int acl7225b_di_insn(comedi_device * dev, comedi_subdevice * s,
+static int acl7225b_di_insn(struct comedi_device *dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -83,7 +83,7 @@ static int acl7225b_di_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int acl7225b_attach(comedi_device * dev, comedi_devconfig * it)
+static int acl7225b_attach(struct comedi_device *dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int iobase, iorange;
@@ -138,7 +138,7 @@ static int acl7225b_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int acl7225b_detach(comedi_device * dev)
+static int acl7225b_detach(struct comedi_device *dev)
 {
 	printk("comedi%d: acl7225b: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
index 20450ba03504..73357d1196ce 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
@@ -32,7 +32,7 @@
 |                                BYTE_   b_InputClockLevel,                  |
 |                                BYTE_   b_OutputLevel,                      |
 |                                BYTE_   b_HardwareGateLevel)
-INT i_InsnConfig_InitTimer(comedi_device *dev,comedi_subdevice *s,
+INT i_InsnConfig_InitTimer(struct comedi_device *dev,comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)
 |
 +----------------------------------------------------------------------------+
@@ -219,7 +219,7 @@ INT i_InsnConfig_InitTimer(comedi_device *dev,comedi_subdevice *s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTimer(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitTimer(struct comedi_device * dev, comedi_subdevice * s,
 				   comedi_insn * insn, unsigned int * data)
 {
 
@@ -406,7 +406,7 @@ INT i_APCI1710_InsnConfigInitTimer(comedi_device * dev, comedi_subdevice * s,
 |                                BYTE_ b_ModulNbr,                           |
 |                                BYTE_ b_TimerNbr,                           |
 |                                BYTE_ b_InterruptEnable)
-INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                |
 +----------------------------------------------------------------------------+
 | Task              : Enable OR Disable the Timer (b_TimerNbr) from selected module     |
@@ -448,7 +448,7 @@ i_ReturnValue=insn-&gt;n;
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device * dev,
+INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device * dev,
 					   comedi_subdevice * s,
 					   comedi_insn * insn, unsigned int * data)
 {
@@ -561,7 +561,7 @@ INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device * dev,
 |                                       (BYTE_     b_BoardHandle,            |
 |                                        BYTE_     b_ModulNbr,               |
 |                                        PULONG_ pul_TimerValueArray)
-INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev,comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)        |
 +----------------------------------------------------------------------------+
 | Task              : Return the all timer values from selected timer        |
@@ -590,7 +590,7 @@ INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev,comedi_subdevice *s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data)
 {
 	INT i_ReturnValue = 0;
@@ -668,7 +668,7 @@ INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev, comedi_subdevice *s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT i_APCI1710_InsnBitsTimer(comedi_device *dev,
+| Function Name     :INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev,
 comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read write functions for Timer                                          |
@@ -681,7 +681,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsTimer(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsTimer(struct comedi_device * dev, comedi_subdevice * s,
 			     comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_BitsType;
@@ -760,7 +760,7 @@ INT i_APCI1710_InsnBitsTimer(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ReadTimerValue(comedi_device * dev,
+INT i_APCI1710_ReadTimerValue(struct comedi_device * dev,
 			      BYTE b_ModulNbr, BYTE b_TimerNbr,
 			      PULONG pul_TimerValue)
 {
@@ -848,7 +848,7 @@ INT i_APCI1710_ReadTimerValue(comedi_device * dev,
 	   +----------------------------------------------------------------------------+
 	 */
 
-INT i_APCI1710_GetTimerOutputLevel(comedi_device * dev,
+INT i_APCI1710_GetTimerOutputLevel(struct comedi_device * dev,
 				   BYTE b_ModulNbr, BYTE b_TimerNbr,
 				   PBYTE pb_OutputLevel)
 {
@@ -927,7 +927,7 @@ INT i_APCI1710_GetTimerOutputLevel(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetTimerProgressStatus(comedi_device *dev,
+INT i_APCI1710_GetTimerProgressStatus(struct comedi_device *dev,
 				      BYTE b_ModulNbr, BYTE b_TimerNbr,
 				      PBYTE pb_TimerStatus)
 {
@@ -1006,7 +1006,7 @@ INT i_APCI1710_GetTimerProgressStatus(comedi_device *dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_WriteTimerValue(comedi_device * dev,
+INT i_APCI1710_WriteTimerValue(struct comedi_device * dev,
 			       BYTE b_ModulNbr, BYTE b_TimerNbr,
 			       ULONG ul_WriteValue)
 {
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
index 80ee66233ec6..c17ac8ce251c 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
@@ -34,40 +34,40 @@
 /*
  * 82X54 TIMER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTimer(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitTimer(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device *dev,
+INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,
 					   comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 
 /*
  * 82X54 READ FUNCTION
  */
-INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsTimer(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 /*
  * 82X54 READ &amp; WRITE FUNCTION
  */
-INT i_APCI1710_ReadTimerValue(comedi_device *dev,
+INT i_APCI1710_ReadTimerValue(struct comedi_device *dev,
 			      BYTE b_ModulNbr, BYTE b_TimerNbr,
 			      PULONG pul_TimerValue);
 
-INT i_APCI1710_GetTimerOutputLevel(comedi_device *dev,
+INT i_APCI1710_GetTimerOutputLevel(struct comedi_device *dev,
 				   BYTE b_ModulNbr, BYTE b_TimerNbr,
 				   PBYTE pb_OutputLevel);
 
-INT i_APCI1710_GetTimerProgressStatus(comedi_device *dev,
+INT i_APCI1710_GetTimerProgressStatus(struct comedi_device *dev,
 				      BYTE b_ModulNbr, BYTE b_TimerNbr,
 				      PBYTE pb_TimerStatus);
 
 /*
  * 82X54 WRITE FUNCTION
  */
-INT i_APCI1710_WriteTimerValue(comedi_device *dev,
+INT i_APCI1710_WriteTimerValue(struct comedi_device *dev,
 			       BYTE b_ModulNbr, BYTE b_TimerNbr,
 			       ULONG ul_WriteValue);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
index 25242871d470..75361fbaeefd 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
@@ -131,7 +131,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitChrono(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitChrono(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -790,7 +790,7 @@ INT i_APCI1710_InsnConfigInitChrono(comedi_device * dev, comedi_subdevice * s,
 |                                                BYTE_ b_ModulNbr,           |
 |                                                BYTE_ b_CycleMode,          |
 |                                                BYTE_ b_InterruptEnable)
-INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device *dev,
+INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device *dev,
 comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
 +----------------------------------------------------------------------------+
 | Task              : Enable the chronometer from selected module            |
@@ -840,7 +840,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device * dev,
+INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -1077,7 +1077,7 @@ INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnReadChrono(comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnReadChrono(struct comedi_device *dev,comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read  functions for Timer                                     |
@@ -1090,7 +1090,7 @@ comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadChrono(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadChrono(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ReadType;
@@ -1194,7 +1194,7 @@ INT i_APCI1710_InsnReadChrono(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetChronoProgressStatus(comedi_device * dev,
+INT i_APCI1710_GetChronoProgressStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_ChronoStatus)
 {
 	INT i_ReturnValue = 0;
@@ -1355,7 +1355,7 @@ INT i_APCI1710_GetChronoProgressStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ReadChronoValue(comedi_device * dev,
+INT i_APCI1710_ReadChronoValue(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	UINT ui_TimeOut, PBYTE pb_ChronoStatus, PULONG pul_ChronoValue)
 {
@@ -1619,7 +1619,7 @@ INT i_APCI1710_ReadChronoValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ConvertChronoValue(comedi_device * dev,
+INT i_APCI1710_ConvertChronoValue(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	ULONG ul_ChronoValue,
 	PULONG pul_Hour,
@@ -1757,7 +1757,7 @@ INT i_APCI1710_ConvertChronoValue(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(comedi_device *dev,comedi_subdevice *s,
+| Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                    |
 +----------------------------------------------------------------------------+
 | Task              : Sets the output witch has been passed with the         |
@@ -1876,7 +1876,7 @@ INT i_APCI1710_ConvertChronoValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsChronoDigitalIO(comedi_device * dev,
+INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
index 9f6d0f003de4..ca4f5e117d5b 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
@@ -35,10 +35,10 @@
 /*
  * CHRONOMETER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitChrono(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitChrono(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device *dev,
+INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
@@ -46,18 +46,18 @@ INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device *dev,
 /*
  * CHRONOMETER READ FUNCTION
  */
-INT i_APCI1710_InsnReadChrono(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadChrono(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_GetChronoProgressStatus(comedi_device *dev,
+INT i_APCI1710_GetChronoProgressStatus(struct comedi_device *dev,
 				       BYTE b_ModulNbr, PBYTE pb_ChronoStatus);
 
-INT i_APCI1710_ReadChronoValue(comedi_device *dev,
+INT i_APCI1710_ReadChronoValue(struct comedi_device *dev,
 			       BYTE b_ModulNbr,
 			       UINT ui_TimeOut, PBYTE pb_ChronoStatus,
 			       PULONG pul_ChronoValue);
 
-INT i_APCI1710_ConvertChronoValue(comedi_device *dev,
+INT i_APCI1710_ConvertChronoValue(struct comedi_device *dev,
 				  BYTE b_ModulNbr,
 				  ULONG ul_ChronoValue,
 				  PULONG pul_Hour,
@@ -69,6 +69,6 @@ INT i_APCI1710_ConvertChronoValue(comedi_device *dev,
 /*
  * CHRONOMETER DIGITAL INPUT OUTPUT FUNCTION
  */
-INT i_APCI1710_InsnBitsChronoDigitalIO(comedi_device *dev,
+INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,
 				       comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
index 87dba6a83d83..586a897a633c 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
@@ -61,7 +61,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     : INT i_APCI1710_InsnConfigDigitalIO(comedi_device *dev, |
+| Function Name     : INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, |
 |						comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 +----------------------------------------------------------------------------+
 | Task              : Configure the digital I/O operating mode from selected |
@@ -99,7 +99,7 @@ Activates and deactivates the digital output memory.
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigDigitalIO(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ModulNbr, b_ChannelAMode, b_ChannelBMode;
@@ -247,7 +247,7 @@ INT i_APCI1710_InsnConfigDigitalIO(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 
-|INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device *dev,comedi_subdevice
+|INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device *dev,comedi_subdevice
 *s,	comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
@@ -293,7 +293,7 @@ INT i_APCI1710_InsnConfigDigitalIO(comedi_device * dev, comedi_subdevice * s,
 //                                             BYTE_    b_InputChannel,
 //
 //                                             PBYTE_  pb_ChannelStatus)
-INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device * dev,
+INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -481,7 +481,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device * dev,
 //_INT_   i_APCI1710_SetDigitalIOChlOn    (BYTE_ b_BoardHandle,
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_OutputChannel)
-INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device * dev,
+INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -676,7 +676,7 @@ INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 
-|INT i_APCI1710_InsnBitsDigitalIOPortOnOff(comedi_device *dev,comedi_subdevice
+|INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device *dev,comedi_subdevice
 	*s,	comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 | Task              : write:
@@ -728,7 +728,7 @@ INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device * dev,
 //_INT_   i_APCI1710_SetDigitalIOPortOn   (BYTE_ b_BoardHandle,
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_PortValue)
-INT i_APCI1710_InsnBitsDigitalIOPortOnOff(comedi_device * dev,
+INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
index 76dbf0840889..846e9000651b 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
@@ -27,20 +27,20 @@
 /*
  * DIGITAL I/O INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigDigitalIO(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
  * INPUT OUTPUT  FUNCTIONS
  */
-INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device *dev,
+INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device *dev,
+INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsDigitalIOPortOnOff(comedi_device *dev,
+INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
index 5ad6abff41a5..b8b4dedb0940 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
@@ -61,7 +61,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 
 /*
 +----------------------------------------------------------------------------+
-| INT	i_APCI1710_InsnConfigINCCPT(comedi_device *dev,comedi_subdevice *s,
+| INT	i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev,comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
@@ -75,7 +75,7 @@ comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigINCCPT(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigINCCPT(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ConfigType;
@@ -299,7 +299,7 @@ INT i_APCI1710_InsnConfigINCCPT(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InitCounter(comedi_device * dev,
+INT i_APCI1710_InitCounter(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_CounterRange,
 	BYTE b_FirstCounterModus,
@@ -545,7 +545,7 @@ INT i_APCI1710_InitCounter(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_CounterAutoTest(comedi_device * dev, PBYTE pb_TestStatus)
+INT i_APCI1710_CounterAutoTest(struct comedi_device * dev, PBYTE pb_TestStatus)
 {
 	BYTE b_ModulCpt = 0;
 	INT i_ReturnValue = 0;
@@ -708,7 +708,7 @@ INT i_APCI1710_CounterAutoTest(comedi_device * dev, PBYTE pb_TestStatus)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InitIndex(comedi_device * dev,
+INT i_APCI1710_InitIndex(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_ReferenceAction,
 	BYTE b_IndexOperation, BYTE b_AutoMode, BYTE b_InterruptEnable)
@@ -1152,7 +1152,7 @@ INT i_APCI1710_InitIndex(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InitReference(comedi_device * dev,
+INT i_APCI1710_InitReference(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_ReferenceLevel)
 {
 	INT i_ReturnValue = 0;
@@ -1277,7 +1277,7 @@ INT i_APCI1710_InitReference(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InitExternalStrobe(comedi_device * dev,
+INT i_APCI1710_InitExternalStrobe(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_ExternalStrobe, BYTE b_ExternalStrobeLevel)
 {
 	INT i_ReturnValue = 0;
@@ -1391,7 +1391,7 @@ INT i_APCI1710_InitExternalStrobe(comedi_device * dev,
 	   +----------------------------------------------------------------------------+
 	 */
 
-INT i_APCI1710_InitCompareLogic(comedi_device * dev,
+INT i_APCI1710_InitCompareLogic(struct comedi_device * dev,
 	BYTE b_ModulNbr, UINT ui_CompareValue)
 {
 	INT i_ReturnValue = 0;
@@ -1487,7 +1487,7 @@ INT i_APCI1710_InitCompareLogic(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InitFrequencyMeasurement(comedi_device * dev,
+INT i_APCI1710_InitFrequencyMeasurement(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_PCIInputClock,
 	BYTE b_TimingUnity,
@@ -2002,7 +2002,7 @@ INT i_APCI1710_InitFrequencyMeasurement(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnBitsINCCPT(comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev,comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Set &amp; Clear Functions for INC_CPT                                          |
@@ -2015,7 +2015,7 @@ comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsINCCPT(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsINCCPT(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_BitsType;
@@ -2091,7 +2091,7 @@ INT i_APCI1710_InsnBitsINCCPT(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ClearCounterValue(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_ClearCounterValue(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -2151,7 +2151,7 @@ INT i_APCI1710_ClearCounterValue(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ClearAllCounterValue(comedi_device * dev)
+INT i_APCI1710_ClearAllCounterValue(struct comedi_device * dev)
 {
 	BYTE b_ModulCpt = 0;
 	INT i_ReturnValue = 0;
@@ -2297,7 +2297,7 @@ INT i_APCI1710_ClearAllCounterValue(comedi_device * dev)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_SetInputFilter(comedi_device * dev,
+INT i_APCI1710_SetInputFilter(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_PCIInputClock, BYTE b_Filter)
 {
 	INT i_ReturnValue = 0;
@@ -2561,7 +2561,7 @@ INT i_APCI1710_SetInputFilter(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_LatchCounter(comedi_device * dev,
+INT i_APCI1710_LatchCounter(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_LatchReg)
 {
 	INT i_ReturnValue = 0;
@@ -2658,7 +2658,7 @@ INT i_APCI1710_LatchCounter(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_SetIndexAndReferenceSource(comedi_device * dev,
+INT i_APCI1710_SetIndexAndReferenceSource(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_SourceSelection)
 {
 	INT i_ReturnValue = 0;
@@ -2795,7 +2795,7 @@ INT i_APCI1710_SetIndexAndReferenceSource(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_SetDigitalChlOn(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_SetDigitalChlOn(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -2875,7 +2875,7 @@ INT i_APCI1710_SetDigitalChlOn(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_SetDigitalChlOff(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_SetDigitalChlOff(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -2939,7 +2939,7 @@ INT i_APCI1710_SetDigitalChlOff(comedi_device * dev, BYTE b_ModulNbr)
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Enable Disable functions for INC_CPT                                       |
@@ -2951,7 +2951,7 @@ comedi_insn *insn,unsigned int *data)                   |
 | Return Value      :
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1710_InsnWriteINCCPT(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWriteINCCPT(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_WriteType;
@@ -3047,7 +3047,7 @@ INT i_APCI1710_InsnWriteINCCPT(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_EnableLatchInterrupt(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_EnableLatchInterrupt(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -3133,7 +3133,7 @@ INT i_APCI1710_EnableLatchInterrupt(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_DisableLatchInterrupt(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_DisableLatchInterrupt(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -3231,7 +3231,7 @@ INT i_APCI1710_DisableLatchInterrupt(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_Write16BitCounterValue(comedi_device * dev,
+INT i_APCI1710_Write16BitCounterValue(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_SelectedCounter, UINT ui_WriteValue)
 {
 	INT i_ReturnValue = 0;
@@ -3316,7 +3316,7 @@ INT i_APCI1710_Write16BitCounterValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_Write32BitCounterValue(comedi_device * dev,
+INT i_APCI1710_Write32BitCounterValue(struct comedi_device * dev,
 	BYTE b_ModulNbr, ULONG ul_WriteValue)
 {
 	INT i_ReturnValue = 0;
@@ -3383,7 +3383,7 @@ INT i_APCI1710_Write32BitCounterValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_EnableIndex(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_EnableIndex(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 	ULONG ul_InterruptLatchReg;
@@ -3481,7 +3481,7 @@ INT i_APCI1710_EnableIndex(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_DisableIndex(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_DisableIndex(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -3580,7 +3580,7 @@ INT i_APCI1710_DisableIndex(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_EnableCompareLogic(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_EnableCompareLogic(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -3680,7 +3680,7 @@ INT i_APCI1710_EnableCompareLogic(comedi_device * dev, BYTE b_ModulNbr)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_DisableCompareLogic(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_DisableCompareLogic(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -3789,7 +3789,7 @@ INT i_APCI1710_DisableCompareLogic(comedi_device * dev, BYTE b_ModulNbr)
 	   +----------------------------------------------------------------------------+
 	 */
 
-INT i_APCI1710_EnableFrequencyMeasurement(comedi_device * dev,
+INT i_APCI1710_EnableFrequencyMeasurement(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_InterruptEnable)
 {
 	INT i_ReturnValue = 0;
@@ -3936,7 +3936,7 @@ INT i_APCI1710_EnableFrequencyMeasurement(comedi_device * dev,
 	   +----------------------------------------------------------------------------+
 	 */
 
-INT i_APCI1710_DisableFrequencyMeasurement(comedi_device * dev, BYTE b_ModulNbr)
+INT i_APCI1710_DisableFrequencyMeasurement(struct comedi_device * dev, BYTE b_ModulNbr)
 {
 	INT i_ReturnValue = 0;
 
@@ -4037,7 +4037,7 @@ INT i_APCI1710_DisableFrequencyMeasurement(comedi_device * dev, BYTE b_ModulNbr)
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read and Get functions for INC_CPT                                       |
@@ -4049,7 +4049,7 @@ comedi_insn *insn,unsigned int *data)                   |
 | Return Value      :
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1710_InsnReadINCCPT(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadINCCPT(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ReadType;
@@ -4193,7 +4193,7 @@ INT i_APCI1710_InsnReadINCCPT(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ReadLatchRegisterStatus(comedi_device * dev,
+INT i_APCI1710_ReadLatchRegisterStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_LatchReg, PBYTE pb_LatchStatus)
 {
 	INT i_ReturnValue = 0;
@@ -4280,7 +4280,7 @@ INT i_APCI1710_ReadLatchRegisterStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_ReadLatchRegisterValue(comedi_device * dev,
+INT i_APCI1710_ReadLatchRegisterValue(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_LatchReg, PULONG pul_LatchValue)
 {
 	INT i_ReturnValue = 0;
@@ -4364,7 +4364,7 @@ INT i_APCI1710_ReadLatchRegisterValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_Read16BitCounterValue(comedi_device * dev,
+INT i_APCI1710_Read16BitCounterValue(struct comedi_device * dev,
 	BYTE b_ModulNbr, BYTE b_SelectedCounter, PUINT pui_CounterValue)
 {
 	INT i_ReturnValue = 0;
@@ -4459,7 +4459,7 @@ INT i_APCI1710_Read16BitCounterValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_Read32BitCounterValue(comedi_device * dev,
+INT i_APCI1710_Read32BitCounterValue(struct comedi_device * dev,
 	BYTE b_ModulNbr, PULONG pul_CounterValue)
 {
 	INT i_ReturnValue = 0;
@@ -4535,7 +4535,7 @@ INT i_APCI1710_Read32BitCounterValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetIndexStatus(comedi_device * dev,
+INT i_APCI1710_GetIndexStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_IndexStatus)
 {
 	INT i_ReturnValue = 0;
@@ -4619,7 +4619,7 @@ INT i_APCI1710_GetIndexStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetReferenceStatus(comedi_device * dev,
+INT i_APCI1710_GetReferenceStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_ReferenceStatus)
 {
 	INT i_ReturnValue = 0;
@@ -4703,7 +4703,7 @@ INT i_APCI1710_GetReferenceStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetUASStatus(comedi_device * dev,
+INT i_APCI1710_GetUASStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_UASStatus)
 {
 	INT i_ReturnValue = 0;
@@ -4771,7 +4771,7 @@ INT i_APCI1710_GetUASStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetCBStatus(comedi_device * dev,
+INT i_APCI1710_GetCBStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_CBStatus)
 {
 	INT i_ReturnValue = 0;
@@ -4853,7 +4853,7 @@ INT i_APCI1710_GetCBStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_Get16BitCBStatus(comedi_device * dev,
+INT i_APCI1710_Get16BitCBStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_CBStatusCounter0, PBYTE pb_CBStatusCounter1)
 {
 	INT i_ReturnValue = 0;
@@ -4966,7 +4966,7 @@ INT i_APCI1710_Get16BitCBStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetUDStatus(comedi_device * dev,
+INT i_APCI1710_GetUDStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_UDStatus)
 {
 	INT i_ReturnValue = 0;
@@ -5040,7 +5040,7 @@ INT i_APCI1710_GetUDStatus(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetInterruptUDLatchedStatus(comedi_device * dev,
+INT i_APCI1710_GetInterruptUDLatchedStatus(struct comedi_device * dev,
 	BYTE b_ModulNbr, PBYTE pb_UDStatus)
 {
 	INT i_ReturnValue = 0;
@@ -5145,7 +5145,7 @@ INT i_APCI1710_GetInterruptUDLatchedStatus(comedi_device * dev,
 	   +----------------------------------------------------------------------------+
 	 */
 
-INT i_APCI1710_ReadFrequencyMeasurement(comedi_device * dev,
+INT i_APCI1710_ReadFrequencyMeasurement(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	PBYTE pb_Status, PBYTE pb_UDStatus, PULONG pul_ReadValue)
 {
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
index 8abcaa4a971c..a4189aeecaad 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
@@ -132,22 +132,22 @@
 #define APCI1710_INCCPT_DISABLEFREQUENCYMEASUREMENT		409
 
 /************ Main Functions *************/
-INT i_APCI1710_InsnConfigINCCPT(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnBitsINCCPT(comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev, comedi_subdevice * s,
 			      comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnWriteINCCPT(comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev, comedi_subdevice * s,
 			       comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnReadINCCPT(comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadINCCPT(struct comedi_device *dev, comedi_subdevice * s,
 			      comedi_insn *insn, unsigned int * data);
 
 /*********** Supplementary Functions********/
 
 /* INSN CONFIG */
-INT i_APCI1710_InitCounter(comedi_device *dev,
+INT i_APCI1710_InitCounter(struct comedi_device *dev,
 			   BYTE b_ModulNbr,
 			   BYTE b_CounterRange,
 			   BYTE b_FirstCounterModus,
@@ -155,25 +155,25 @@ INT i_APCI1710_InitCounter(comedi_device *dev,
 			   BYTE b_SecondCounterModus,
 			   BYTE b_SecondCounterOption);
 
-INT i_APCI1710_CounterAutoTest(comedi_device *dev, PBYTE pb_TestStatus);
+INT i_APCI1710_CounterAutoTest(struct comedi_device *dev, PBYTE pb_TestStatus);
 
-INT i_APCI1710_InitIndex(comedi_device *dev,
+INT i_APCI1710_InitIndex(struct comedi_device *dev,
 			 BYTE b_ModulNbr,
 			 BYTE b_ReferenceAction,
 			 BYTE b_IndexOperation, BYTE b_AutoMode,
 			 BYTE b_InterruptEnable);
 
-INT i_APCI1710_InitReference(comedi_device *dev,
+INT i_APCI1710_InitReference(struct comedi_device *dev,
 			     BYTE b_ModulNbr, BYTE b_ReferenceLevel);
 
-INT i_APCI1710_InitExternalStrobe(comedi_device *dev,
+INT i_APCI1710_InitExternalStrobe(struct comedi_device *dev,
 				  BYTE b_ModulNbr, BYTE b_ExternalStrobe,
 				  BYTE b_ExternalStrobeLevel);
 
-INT i_APCI1710_InitCompareLogic(comedi_device *dev,
+INT i_APCI1710_InitCompareLogic(struct comedi_device *dev,
 				BYTE b_ModulNbr, UINT ui_CompareValue);
 
-INT i_APCI1710_InitFrequencyMeasurement(comedi_device *dev,
+INT i_APCI1710_InitFrequencyMeasurement(struct comedi_device *dev,
 					BYTE b_ModulNbr,
 					BYTE b_PCIInputClock,
 					BYTE b_TimingUnity,
@@ -181,91 +181,91 @@ INT i_APCI1710_InitFrequencyMeasurement(comedi_device *dev,
 					PULONG pul_RealTimingInterval);
 
 /* INSN BITS */
-INT i_APCI1710_ClearCounterValue(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_ClearCounterValue(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_ClearAllCounterValue(comedi_device *dev);
+INT i_APCI1710_ClearAllCounterValue(struct comedi_device *dev);
 
-INT i_APCI1710_SetInputFilter(comedi_device *dev,
+INT i_APCI1710_SetInputFilter(struct comedi_device *dev,
 			      BYTE b_ModulNbr, BYTE b_PCIInputClock,
 			      BYTE b_Filter);
 
-INT i_APCI1710_LatchCounter(comedi_device *dev,
+INT i_APCI1710_LatchCounter(struct comedi_device *dev,
 			    BYTE b_ModulNbr, BYTE b_LatchReg);
 
-INT i_APCI1710_SetIndexAndReferenceSource(comedi_device *dev,
+INT i_APCI1710_SetIndexAndReferenceSource(struct comedi_device *dev,
 					  BYTE b_ModulNbr,
 					  BYTE b_SourceSelection);
 
-INT i_APCI1710_SetDigitalChlOn(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_SetDigitalChlOn(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_SetDigitalChlOff(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_SetDigitalChlOff(struct comedi_device *dev, BYTE b_ModulNbr);
 
 /* INSN WRITE */
-INT i_APCI1710_EnableLatchInterrupt(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_EnableLatchInterrupt(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_DisableLatchInterrupt(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_DisableLatchInterrupt(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_Write16BitCounterValue(comedi_device *dev,
+INT i_APCI1710_Write16BitCounterValue(struct comedi_device *dev,
 				      BYTE b_ModulNbr, BYTE b_SelectedCounter,
 				      UINT ui_WriteValue);
 
-INT i_APCI1710_Write32BitCounterValue(comedi_device *dev,
+INT i_APCI1710_Write32BitCounterValue(struct comedi_device *dev,
 				      BYTE b_ModulNbr, ULONG ul_WriteValue);
 
-INT i_APCI1710_EnableIndex(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_EnableIndex(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_DisableIndex(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_DisableIndex(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_EnableCompareLogic(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_EnableCompareLogic(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_DisableCompareLogic(comedi_device *dev, BYTE b_ModulNbr);
+INT i_APCI1710_DisableCompareLogic(struct comedi_device *dev, BYTE b_ModulNbr);
 
-INT i_APCI1710_EnableFrequencyMeasurement(comedi_device *dev,
+INT i_APCI1710_EnableFrequencyMeasurement(struct comedi_device *dev,
 					  BYTE b_ModulNbr,
 					  BYTE b_InterruptEnable);
 
-INT i_APCI1710_DisableFrequencyMeasurement(comedi_device *dev,
+INT i_APCI1710_DisableFrequencyMeasurement(struct comedi_device *dev,
 					   BYTE b_ModulNbr);
 
 /* INSN READ */
-INT i_APCI1710_ReadLatchRegisterStatus(comedi_device *dev,
+INT i_APCI1710_ReadLatchRegisterStatus(struct comedi_device *dev,
 				       BYTE b_ModulNbr, BYTE b_LatchReg,
 				       PBYTE pb_LatchStatus);
 
-INT i_APCI1710_ReadLatchRegisterValue(comedi_device *dev,
+INT i_APCI1710_ReadLatchRegisterValue(struct comedi_device *dev,
 				      BYTE b_ModulNbr, BYTE b_LatchReg,
 				      PULONG pul_LatchValue);
 
-INT i_APCI1710_Read16BitCounterValue(comedi_device *dev,
+INT i_APCI1710_Read16BitCounterValue(struct comedi_device *dev,
 				     BYTE b_ModulNbr, BYTE b_SelectedCounter,
 				     PUINT pui_CounterValue);
 
-INT i_APCI1710_Read32BitCounterValue(comedi_device *dev,
+INT i_APCI1710_Read32BitCounterValue(struct comedi_device *dev,
 				     BYTE b_ModulNbr, PULONG pul_CounterValue);
 
-INT i_APCI1710_GetIndexStatus(comedi_device *dev,
+INT i_APCI1710_GetIndexStatus(struct comedi_device *dev,
 			      BYTE b_ModulNbr, PBYTE pb_IndexStatus);
 
-INT i_APCI1710_GetReferenceStatus(comedi_device *dev,
+INT i_APCI1710_GetReferenceStatus(struct comedi_device *dev,
 				  BYTE b_ModulNbr, PBYTE pb_ReferenceStatus);
 
-INT i_APCI1710_GetUASStatus(comedi_device *dev,
+INT i_APCI1710_GetUASStatus(struct comedi_device *dev,
 			    BYTE b_ModulNbr, PBYTE pb_UASStatus);
 
-INT i_APCI1710_GetCBStatus(comedi_device *dev,
+INT i_APCI1710_GetCBStatus(struct comedi_device *dev,
 			   BYTE b_ModulNbr, PBYTE pb_CBStatus);
 
-INT i_APCI1710_Get16BitCBStatus(comedi_device *dev,
+INT i_APCI1710_Get16BitCBStatus(struct comedi_device *dev,
 				BYTE b_ModulNbr, PBYTE pb_CBStatusCounter0,
 				PBYTE pb_CBStatusCounter1);
 
-INT i_APCI1710_GetUDStatus(comedi_device *dev,
+INT i_APCI1710_GetUDStatus(struct comedi_device *dev,
 			   BYTE b_ModulNbr, PBYTE pb_UDStatus);
 
-INT i_APCI1710_GetInterruptUDLatchedStatus(comedi_device *dev,
+INT i_APCI1710_GetInterruptUDLatchedStatus(struct comedi_device *dev,
 					   BYTE b_ModulNbr, PBYTE pb_UDStatus);
 
-INT i_APCI1710_ReadFrequencyMeasurement(comedi_device *dev,
+INT i_APCI1710_ReadFrequencyMeasurement(struct comedi_device *dev,
 					BYTE b_ModulNbr,
 					PBYTE pb_Status, PBYTE pb_UDStatus,
 					PULONG pul_ReadValue);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
index d6101c9a998a..e557e6c40cf6 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
@@ -123,7 +123,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitPulseEncoder(comedi_device * dev,
+INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -414,7 +414,7 @@ INT i_APCI1710_InsnConfigInitPulseEncoder(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device * dev,
+INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -708,7 +708,7 @@ INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device * dev,
 
    						 PBYTE_ pb_Status)
 						 */
-INT i_APCI1710_InsnBitsReadWritePulseEncoder(comedi_device * dev,
+INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -834,7 +834,7 @@ INT i_APCI1710_InsnBitsReadWritePulseEncoder(comedi_device * dev,
 	return (i_ReturnValue);
 }
 
-INT i_APCI1710_InsnReadInterruptPulseEncoder(comedi_device * dev,
+INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
index c901a317fc61..1dbdc39f96e0 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
@@ -21,11 +21,11 @@
 #define APCI1710_PULSEENCODER_READ	0
 #define APCI1710_PULSEENCODER_WRITE	1
 
-INT i_APCI1710_InsnConfigInitPulseEncoder(comedi_device *dev,
+INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device *dev,
+INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device *dev,
 						  comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
@@ -33,7 +33,7 @@ INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device *dev,
 /*
  * READ PULSE ENCODER FUNCTIONS
  */
-INT i_APCI1710_InsnReadInterruptPulseEncoder(comedi_device *dev,
+INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
@@ -41,7 +41,7 @@ INT i_APCI1710_InsnReadInterruptPulseEncoder(comedi_device *dev,
 /*
  * WRITE PULSE ENCODER FUNCTIONS
  */
-INT i_APCI1710_InsnBitsReadWritePulseEncoder(comedi_device *dev,
+INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
index 9a2dd408f38f..178d773563a1 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
@@ -57,7 +57,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT i_APCI1710_InsnConfigPWM(comedi_device *dev,
+| Function Name     :INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev,
 comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Init and Get Pwm Initialisation                    |
@@ -70,7 +70,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigPWM(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigPWM(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ConfigType;
@@ -179,7 +179,7 @@ INT i_APCI1710_InsnConfigPWM(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InitPWM(comedi_device * dev,
+INT i_APCI1710_InitPWM(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_PWM,
 	BYTE b_ClockSelection,
@@ -1534,7 +1534,7 @@ INT i_APCI1710_InitPWM(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_GetPWMInitialisation(comedi_device * dev,
+INT i_APCI1710_GetPWMInitialisation(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_PWM,
 	PBYTE pb_TimingUnit,
@@ -1670,7 +1670,7 @@ INT i_APCI1710_GetPWMInitialisation(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT i_APCI1710_InsnWritePWM(comedi_device *dev,
+| Function Name     :INT i_APCI1710_InsnWritePWM(struct comedi_device *dev,
 comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Enable Disable and Set New Timing                  |
@@ -1683,7 +1683,7 @@ comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWritePWM(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWritePWM(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_WriteType;
@@ -1806,7 +1806,7 @@ INT i_APCI1710_InsnWritePWM(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_EnablePWM(comedi_device * dev,
+INT i_APCI1710_EnablePWM(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_PWM,
 	BYTE b_StartLevel,
@@ -2062,7 +2062,7 @@ INT i_APCI1710_EnablePWM(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_DisablePWM(comedi_device * dev, BYTE b_ModulNbr, BYTE b_PWM)
+INT i_APCI1710_DisablePWM(struct comedi_device * dev, BYTE b_ModulNbr, BYTE b_PWM)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -2189,7 +2189,7 @@ INT i_APCI1710_DisablePWM(comedi_device * dev, BYTE b_ModulNbr, BYTE b_PWM)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_SetNewPWMTiming(comedi_device * dev,
+INT i_APCI1710_SetNewPWMTiming(struct comedi_device * dev,
 	BYTE b_ModulNbr,
 	BYTE b_PWM, BYTE b_TimingUnit, ULONG ul_LowTiming, ULONG ul_HighTiming)
 {
@@ -3460,7 +3460,7 @@ INT i_APCI1710_SetNewPWMTiming(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadGetPWMStatus(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -3561,7 +3561,7 @@ INT i_APCI1710_InsnReadGetPWMStatus(comedi_device * dev, comedi_subdevice * s,
 	return (i_ReturnValue);
 }
 
-INT i_APCI1710_InsnBitsReadPWMInterrupt(comedi_device * dev,
+INT i_APCI1710_InsnBitsReadPWMInterrupt(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;s_InterruptParameters.
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
index 1f40d00b10e6..0c10b1e8fab4 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
@@ -26,10 +26,10 @@
 #define APCI1710_PWM_ENABLE		1
 #define APCI1710_PWM_NEWTIMING		2
 
-INT i_APCI1710_InsnConfigPWM(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InitPWM(comedi_device *dev,
+INT i_APCI1710_InitPWM(struct comedi_device *dev,
 		       BYTE b_ModulNbr,
 		       BYTE b_PWM,
 		       BYTE b_ClockSelection,
@@ -38,7 +38,7 @@ INT i_APCI1710_InitPWM(comedi_device *dev,
 		       ULONG ul_HighTiming,
 		       PULONG pul_RealLowTiming, PULONG pul_RealHighTiming);
 
-INT i_APCI1710_GetPWMInitialisation(comedi_device *dev,
+INT i_APCI1710_GetPWMInitialisation(struct comedi_device *dev,
 				    BYTE b_ModulNbr,
 				    BYTE b_PWM,
 				    PBYTE pb_TimingUnit,
@@ -50,10 +50,10 @@ INT i_APCI1710_GetPWMInitialisation(comedi_device *dev,
 				    PBYTE pb_ExternGate,
 				    PBYTE pb_InterruptEnable, PBYTE pb_Enable);
 
-INT i_APCI1710_InsnWritePWM(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnWritePWM(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_EnablePWM(comedi_device *dev,
+INT i_APCI1710_EnablePWM(struct comedi_device *dev,
 			 BYTE b_ModulNbr,
 			 BYTE b_PWM,
 			 BYTE b_StartLevel,
@@ -61,16 +61,16 @@ INT i_APCI1710_EnablePWM(comedi_device *dev,
 			 BYTE b_StopLevel, BYTE b_ExternGate,
 			 BYTE b_InterruptEnable);
 
-INT i_APCI1710_SetNewPWMTiming(comedi_device *dev,
+INT i_APCI1710_SetNewPWMTiming(struct comedi_device *dev,
 			       BYTE b_ModulNbr,
 			       BYTE b_PWM, BYTE b_TimingUnit,
 			       ULONG ul_LowTiming, ULONG ul_HighTiming);
 
-INT i_APCI1710_DisablePWM(comedi_device *dev, BYTE b_ModulNbr, BYTE b_PWM);
+INT i_APCI1710_DisablePWM(struct comedi_device *dev, BYTE b_ModulNbr, BYTE b_PWM);
 
-INT i_APCI1710_InsnReadGetPWMStatus(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsReadPWMInterrupt(comedi_device *dev,
+INT i_APCI1710_InsnBitsReadPWMInterrupt(struct comedi_device *dev,
 					comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
index 650b5752e61a..de2b158698f6 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
@@ -133,7 +133,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitSSI(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitSSI(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -362,7 +362,7 @@ INT i_APCI1710_InsnConfigInitSSI(comedi_device * dev, comedi_subdevice * s,
 |                                BYTE_     b_SelectedSSI,                    |
 |                                PULONG_ pul_Position,                       |
 |                                PULONG_ pul_TurnCpt)
- INT i_APCI1710_ReadSSIValue(comedi_device *dev,comedi_subdevice *s,
+ INT i_APCI1710_ReadSSIValue(struct comedi_device *dev,comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                       |
 +----------------------------------------------------------------------------+
 | Task              :
@@ -400,7 +400,7 @@ pul_Position	=	(PULONG) &amp;data[0];
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadSSIValue(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadSSIValue(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -735,7 +735,7 @@ INT i_APCI1710_InsnReadSSIValue(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsSSIDigitalIO(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
index a0ad47d2f7a8..2a631b8163c4 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
@@ -33,11 +33,11 @@
 /*
  * SSI INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitSSI(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitSSI(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnReadSSIValue(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadSSIValue(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsSSIDigitalIO(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
index 09d5a2fadee6..a9cad8066a54 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
@@ -130,7 +130,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTorCounter(comedi_device * dev,
+INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -987,7 +987,7 @@ INT i_APCI1710_InsnConfigInitTorCounter(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWriteEnableDisableTorCounter(comedi_device * dev,
+INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -1460,7 +1460,7 @@ INT i_APCI1710_InsnWriteEnableDisableTorCounter(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadGetTorCounterInitialisation(comedi_device * dev,
+INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -1700,7 +1700,7 @@ INT i_APCI1710_InsnReadGetTorCounterInitialisation(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(comedi_device * dev,
+INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
index a4807de42441..80d100a9bc92 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
@@ -35,23 +35,23 @@
 /*
  * TOR_COUNTER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTorCounter(comedi_device *dev,
+INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device *dev,
 					comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnWriteEnableDisableTorCounter(comedi_device *dev,
+INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device *dev,
 						comedi_subdevice *s,
 						comedi_insn *insn,
 						unsigned int *data);
 
-INT i_APCI1710_InsnReadGetTorCounterInitialisation(comedi_device *dev,
+INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device *dev,
 						   comedi_subdevice *s,
 						   comedi_insn *insn,
 						   unsigned int *data);
 /*
  * TOR_COUNTER READ FUNCTION
  */
-INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(comedi_device *dev,
+INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(struct comedi_device *dev,
 							   comedi_subdevice *s,
 							   comedi_insn *insn,
 							   unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
index 0a40f46442e9..9932fc1fa55f 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
@@ -100,7 +100,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTTLIO(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -406,7 +406,7 @@ APCI1710_TTL_READCHANNEL
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsReadTTLIO(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -655,7 +655,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device * dev,
+INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -792,7 +792,7 @@ INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device * dev,
 |                               (BYTE_           b_BoardHandle,              |
 |                                BYTE_           b_ModulNbr,                 |
 |                                BYTE_           b_OutputChannel)
-INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)           |
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets  the output witch has been passed with the         |
@@ -825,7 +825,7 @@ INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device *dev,comedi_subdevice *s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device * dev,
+INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
index 8993ac642736..d0bde4bb809a 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
@@ -24,21 +24,21 @@
 /*
  * TTL INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTTLIO(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL INPUT FUNCTION
  */
-INT i_APCI1710_InsnBitsReadTTLIO(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device *dev,
+INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL OUTPUT FUNCTIONS
  */
-INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device *dev,
+INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.c b/drivers/staging/comedi/drivers/addi-data/addi_common.c
index 4cd552568ac3..1e091eca8019 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.c
@@ -2541,7 +2541,7 @@ COMEDI_PCI_INITCLEANUP(driver_addi, addi_apci_tbl);
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :static int i_ADDI_Attach(comedi_device *dev,            |
+| Function name     :static int i_ADDI_Attach(struct comedi_device *dev,            |
 |										comedi_devconfig *it)        |
 |                                        									 |
 +----------------------------------------------------------------------------+
@@ -2550,7 +2550,7 @@ COMEDI_PCI_INITCLEANUP(driver_addi, addi_apci_tbl);
 |  			 This function does all the initializations and memory   |
 |			 allocation of data structures for the driver.	         |
 +----------------------------------------------------------------------------+
-| Input Parameters  :comedi_device *dev										 |
+| Input Parameters  :struct comedi_device *dev										 |
 |                    comedi_devconfig *it									 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -2559,7 +2559,7 @@ COMEDI_PCI_INITCLEANUP(driver_addi, addi_apci_tbl);
 +----------------------------------------------------------------------------+
 */
 
-static int i_ADDI_Attach(comedi_device * dev, comedi_devconfig * it)
+static int i_ADDI_Attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret, pages, i, n_subdevices;
@@ -2909,7 +2909,7 @@ static int i_ADDI_Attach(comedi_device * dev, comedi_devconfig * it)
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : static int i_ADDI_Detach(comedi_device *dev)           |
+| Function name     : static int i_ADDI_Detach(struct comedi_device *dev)           |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -2917,7 +2917,7 @@ static int i_ADDI_Attach(comedi_device * dev, comedi_devconfig * it)
 |			  Free the DMA buffers, unregister irq.				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -2926,7 +2926,7 @@ static int i_ADDI_Attach(comedi_device * dev, comedi_devconfig * it)
 +----------------------------------------------------------------------------+
 */
 
-static int i_ADDI_Detach(comedi_device * dev)
+static int i_ADDI_Detach(struct comedi_device * dev)
 {
 
 	if (dev-&gt;private) {
@@ -2976,14 +2976,14 @@ static int i_ADDI_Detach(comedi_device * dev)
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : static int i_ADDI_Reset(comedi_device *dev)			 |
+| Function name     : static int i_ADDI_Reset(struct comedi_device *dev)			 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Disables all interrupts, Resets digital output to low, |
 |				Set all analog output to low						 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -2992,7 +2992,7 @@ static int i_ADDI_Detach(comedi_device * dev)
 +----------------------------------------------------------------------------+
 */
 
-static int i_ADDI_Reset(comedi_device * dev)
+static int i_ADDI_Reset(struct comedi_device * dev)
 {
 
 	this_board-&gt;i_hwdrv_Reset(dev);
@@ -3020,7 +3020,7 @@ static int i_ADDI_Reset(comedi_device * dev)
 
 static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	this_board-&gt;v_hwdrv_Interrupt(irq, d);
 	return IRQ_RETVAL(1);
 }
@@ -3029,14 +3029,14 @@ static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 /*
 +----------------------------------------------------------------------------+
 | Function name     :                                                        |
-|INT i_ADDIDATA_InsnReadEeprom(comedi_device *dev,comedi_subdevice *s,
+|INT i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev,comedi_subdevice *s,
 							comedi_insn *insn,unsigned int *data)
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Read 256 words from EEPROM          				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  :(comedi_device *dev,comedi_subdevice *s,
+| Input Parameters  :(struct comedi_device *dev,comedi_subdevice *s,
 			comedi_insn *insn,unsigned int *data) 						 |
 |                     														 |
 |                                                 					         |
@@ -3046,7 +3046,7 @@ static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 +----------------------------------------------------------------------------+
 */
 
-static int i_ADDIDATA_InsnReadEeprom(comedi_device * dev, comedi_subdevice * s,
+static int i_ADDIDATA_InsnReadEeprom(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	WORD w_Data;
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.h b/drivers/staging/comedi/drivers/addi-data/addi_common.h
index ca7c5cb4dac6..9f3aa717b403 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -112,108 +112,108 @@ typedef struct {
 
 	/* interrupt and reset */
 	void (*v_hwdrv_Interrupt)(int irq, void *d);
-	int (*i_hwdrv_Reset)(comedi_device *dev);
+	int (*i_hwdrv_Reset)(struct comedi_device *dev);
 
 	/* Subdevice functions */
 
 	/* ANALOG INPUT */
-	int (*i_hwdrv_InsnConfigAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_InsnConfigAnalogInput)(struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
-	int (*i_hwdrv_InsnReadAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_InsnReadAnalogInput)(struct comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
-	int (*i_hwdrv_InsnWriteAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_InsnWriteAnalogInput)(struct comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
-	int (*i_hwdrv_InsnBitsAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_InsnBitsAnalogInput)(struct comedi_device *dev,
 					   comedi_subdevice *s,
 					   comedi_insn *insn,
 					   unsigned int *data);
-	int (*i_hwdrv_CommandTestAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_CommandTestAnalogInput)(struct comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_cmd *cmd);
-	int (*i_hwdrv_CommandAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_CommandAnalogInput)(struct comedi_device *dev,
 					  comedi_subdevice *s);
-	int (*i_hwdrv_CancelAnalogInput)(comedi_device *dev,
+	int (*i_hwdrv_CancelAnalogInput)(struct comedi_device *dev,
 					 comedi_subdevice *s);
 
 	/* Analog Output */
-	int (*i_hwdrv_InsnConfigAnalogOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnConfigAnalogOutput)(struct comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
-	int (*i_hwdrv_InsnWriteAnalogOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnWriteAnalogOutput)(struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
-	int (*i_hwdrv_InsnBitsAnalogOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnBitsAnalogOutput)(struct comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 
 	/* Digital Input */
-	int (*i_hwdrv_InsnConfigDigitalInput) (comedi_device *dev,
+	int (*i_hwdrv_InsnConfigDigitalInput) (struct comedi_device *dev,
 					       comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
-	int (*i_hwdrv_InsnReadDigitalInput) (comedi_device *dev,
+	int (*i_hwdrv_InsnReadDigitalInput) (struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
-	int (*i_hwdrv_InsnWriteDigitalInput) (comedi_device *dev,
+	int (*i_hwdrv_InsnWriteDigitalInput) (struct comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
-	int (*i_hwdrv_InsnBitsDigitalInput) (comedi_device *dev,
+	int (*i_hwdrv_InsnBitsDigitalInput) (struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
 	/* Digital Output */
-	int (*i_hwdrv_InsnConfigDigitalOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnConfigDigitalOutput)(struct comedi_device *dev,
 					       comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
-	int (*i_hwdrv_InsnWriteDigitalOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnWriteDigitalOutput)(struct comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
-	int (*i_hwdrv_InsnBitsDigitalOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnBitsDigitalOutput)(struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
-	int (*i_hwdrv_InsnReadDigitalOutput)(comedi_device *dev,
+	int (*i_hwdrv_InsnReadDigitalOutput)(struct comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
 	/* TIMER */
-	int (*i_hwdrv_InsnConfigTimer)(comedi_device *dev,
+	int (*i_hwdrv_InsnConfigTimer)(struct comedi_device *dev,
 				       comedi_subdevice *s,
 				       comedi_insn *insn, unsigned int *data);
-	int (*i_hwdrv_InsnWriteTimer)(comedi_device *dev,
+	int (*i_hwdrv_InsnWriteTimer)(struct comedi_device *dev,
 				      comedi_subdevice *s, comedi_insn *insn,
 				      unsigned int *data);
-	int (*i_hwdrv_InsnReadTimer)(comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdrv_InsnReadTimer)(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-	int (*i_hwdrv_InsnBitsTimer)(comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdrv_InsnBitsTimer)(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
 	/* TTL IO */
-	int (*i_hwdr_ConfigInitTTLIO)(comedi_device *dev,
+	int (*i_hwdr_ConfigInitTTLIO)(struct comedi_device *dev,
 				      comedi_subdevice *s, comedi_insn *insn,
 				      unsigned int *data);
-	int (*i_hwdr_ReadTTLIOBits)(comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdr_ReadTTLIOBits)(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-	int (*i_hwdr_ReadTTLIOAllPortValue)(comedi_device *dev,
+	int (*i_hwdr_ReadTTLIOAllPortValue)(struct comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
-	int (*i_hwdr_WriteTTLIOChlOnOff)(comedi_device *dev,
+	int (*i_hwdr_WriteTTLIOChlOnOff)(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 } boardtype;
@@ -456,10 +456,10 @@ typedef struct {
 static unsigned short pci_list_builded;	/* set to 1 when list of card is known */
 
 /* Function declarations */
-static int i_ADDI_Attach(comedi_device *dev, comedi_devconfig *it);
-static int i_ADDI_Detach(comedi_device *dev);
-static int i_ADDI_Reset(comedi_device *dev);
+static int i_ADDI_Attach(struct comedi_device *dev, comedi_devconfig *it);
+static int i_ADDI_Detach(struct comedi_device *dev);
+static int i_ADDI_Reset(struct comedi_device *dev);
 
 static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG);
-static int i_ADDIDATA_InsnReadEeprom(comedi_device *dev, comedi_subdevice *s,
+static int i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_eeprom.c b/drivers/staging/comedi/drivers/addi-data/addi_eeprom.c
index b8fa5c9071a6..bf83af20f489 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_eeprom.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_eeprom.c
@@ -121,7 +121,7 @@ typedef struct {
 		/*****************************************/
 
 INT i_EepromReadMainHeader(WORD w_PCIBoardEepromAddress,
-	PCHAR pc_PCIChipInformation, comedi_device * dev);
+	PCHAR pc_PCIChipInformation, struct comedi_device *dev);
 
 INT i_EepromReadDigitalInputHeader(WORD w_PCIBoardEepromAddress,
 	PCHAR pc_PCIChipInformation, WORD w_Address,
@@ -787,7 +787,7 @@ VOID v_EepromCs76Read(DWORD dw_Address, WORD w_offset, PWORD pw_Value)
 /*
 +----------------------------------------------------------------------------+
 | Function Name  : INT i_EepromReadMainHeader(WORD w_PCIBoardEepromAddress,  |
-|				PCHAR 	pc_PCIChipInformation,comedi_device *dev)    |
+|				PCHAR 	pc_PCIChipInformation,struct comedi_device *dev)    |
 +----------------------------------------------------------------------------+
 | Task              : Read from eeprom Main Header                           |
 +----------------------------------------------------------------------------+
@@ -795,7 +795,7 @@ VOID v_EepromCs76Read(DWORD dw_Address, WORD w_offset, PWORD pw_Value)
 |																	 |
 |		      PCHAR pc_PCIChipInformation  : PCI Chip Type.          |
 |																	 |
-|			  comedi_device *dev		   : comedi device structure |
+|			  struct comedi_device *dev		   : comedi device structure |
 |											 pointer				 |
 +----------------------------------------------------------------------------+
 | Output Parameters : -                                                      |
@@ -805,7 +805,7 @@ VOID v_EepromCs76Read(DWORD dw_Address, WORD w_offset, PWORD pw_Value)
 */
 
 INT i_EepromReadMainHeader(WORD w_PCIBoardEepromAddress,
-	PCHAR pc_PCIChipInformation, comedi_device * dev)
+	PCHAR pc_PCIChipInformation, struct comedi_device *dev)
 {
 	WORD w_Temp, i, w_Count = 0;
 	UINT ui_Temp;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
index e18d085bbd6b..7d6a6e05cdbc 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
@@ -56,7 +56,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 #include "APCI1710_Pwm.c"
 #include "APCI1710_INCCPT.c"
 
-void i_ADDI_AttachPCI1710(comedi_device * dev)
+void i_ADDI_AttachPCI1710(struct comedi_device * dev)
 {
 	comedi_subdevice *s;
 	int ret = 0;
@@ -195,11 +195,11 @@ void i_ADDI_AttachPCI1710(comedi_device * dev)
 	s-&gt;insn_bits = i_APCI1710_InsnBitsINCCPT;
 }
 
-int i_APCI1710_Reset(comedi_device * dev);
+int i_APCI1710_Reset(struct comedi_device * dev);
 VOID v_APCI1710_Interrupt(int irq, void *d);
 //for 1710
 
-int i_APCI1710_Reset(comedi_device * dev)
+int i_APCI1710_Reset(struct comedi_device * dev)
 {
 	int ret;
 	DWORD dw_Dummy;
@@ -249,7 +249,7 @@ int i_APCI1710_Reset(comedi_device * dev)
 
 VOID v_APCI1710_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	BYTE b_ModuleCpt = 0;
 	BYTE b_InterruptFlag = 0;
 	BYTE b_PWMCpt = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
index 4a4356550a6c..599c7c3b68f7 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
@@ -58,12 +58,12 @@ INT i_Flag = 1;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ConfigTimerWatchdog                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -109,7 +109,7 @@ INT i_Flag = 1;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ConfigTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;
@@ -254,12 +254,12 @@ INT i_APCI035_ConfigTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_StartStopWriteTimerWatchdog              |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , or Watchdog  |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |					                                                 |
@@ -278,7 +278,7 @@ INT i_APCI035_ConfigTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 |					                                                 |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device * dev,
+INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Command = 0;
@@ -367,12 +367,12 @@ INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadTimerWatchdog                        |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -391,7 +391,7 @@ INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ReadTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;	// Status register
@@ -427,12 +427,12 @@ INT i_APCI035_ReadTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI035_ConfigAnalogInput                        |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Input Subdevice                  |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
@@ -447,7 +447,7 @@ INT i_APCI035_ReadTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;tsk_Current = current;
@@ -466,12 +466,12 @@ INT i_APCI035_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadAnalogInput                          |
-|			          (comedi_device *dev,comedi_subdevice *s,       |
+|			          (struct comedi_device *dev,comedi_subdevice *s,       |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel			         |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To read       |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -484,7 +484,7 @@ INT i_APCI035_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_CommandRegister = 0;
@@ -506,7 +506,7 @@ INT i_APCI035_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   :  int i_APCI035_Reset(comedi_device *dev)			     |
+| Function   Name   :  int i_APCI035_Reset(struct comedi_device *dev)			     |
 |					                                                         |
 +----------------------------------------------------------------------------+
 | Task              :Resets the registers of the card                        |
@@ -519,7 +519,7 @@ INT i_APCI035_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                                 |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_Reset(comedi_device * dev)
+INT i_APCI035_Reset(struct comedi_device * dev)
 {
 	INT i_Count = 0;
 	for (i_Count = 1; i_Count &lt;= 4; i_Count++) {
@@ -550,7 +550,7 @@ INT i_APCI035_Reset(comedi_device * dev)
 */
 static void v_APCI035_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	UINT ui_StatusRegister1 = 0;
 	UINT ui_StatusRegister2 = 0;
 	UINT ui_ReadCommand = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
index 0e4ec157ad3a..c0330d8a3137 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
@@ -101,23 +101,23 @@ comedi_lrange range_apci035_ai = { 8, {
 
 /* TIMER */
 /* timer value is passed as u seconds */
-INT i_APCI035_ConfigTimerWatchdog(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ConfigTimerWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device *dev,
+INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
-INT i_APCI035_ReadTimerWatchdog(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ReadTimerWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
 /* Temperature Related Defines (Analog Input Subdevice) */
 
-INT i_APCI035_ConfigAnalogInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
-INT i_APCI035_ReadAnalogInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
 /* Interrupt */
 static void v_APCI035_Interrupt(int irq, void *d);
 
 /* Reset functions */
-INT i_APCI035_Reset(comedi_device *dev);
+INT i_APCI035_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
index 5f65d1d4baab..bdfe5e95eb61 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
@@ -59,12 +59,12 @@ UINT ui_InterruptStatus = 0;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ConfigDigitalInput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -84,7 +84,7 @@ UINT ui_InterruptStatus = 0;
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
@@ -128,12 +128,12 @@ INT i_APCI1032_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_Read1DigitalInput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -144,7 +144,7 @@ INT i_APCI1032_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1032_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -166,12 +166,12 @@ INT i_APCI1032_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ReadMoreDigitalInput                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To be Read    |
 |                      UINT *data             : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -183,7 +183,7 @@ INT i_APCI1032_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
@@ -245,7 +245,7 @@ INT i_APCI1032_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 */
 static VOID v_APCI1032_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	UINT ui_Temp;
 	//disable the interrupt
@@ -262,11 +262,11 @@ static VOID v_APCI1032_Interrupt(int irq, void *d)
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI1032_Reset(comedi_device *dev)               |                                                       |
+| Function   Name   : int i_APCI1032_Reset(struct comedi_device *dev)               |                                                       |
 +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev
+| Input Parameters  : struct comedi_device *dev
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -275,7 +275,7 @@ static VOID v_APCI1032_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_Reset(comedi_device * dev)
+INT i_APCI1032_Reset(struct comedi_device * dev)
 {
 	outl(0x0, devpriv-&gt;iobase + APCI1032_DIGITAL_IP_IRQ);	//disable the interrupts
 	inl(devpriv-&gt;iobase + APCI1032_DIGITAL_IP_INTERRUPT_STATUS);	//Reset the interrupt status register
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
index 51abd4f073de..cb96ff1778c5 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
@@ -47,17 +47,17 @@
 //DI
 // for di read
 
-INT i_APCI1032_ConfigDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_ConfigDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1032_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1032_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
 
 static VOID v_APCI1032_Interrupt(int irq, void *d);
 //Reset
-INT i_APCI1032_Reset(comedi_device *dev);
+INT i_APCI1032_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
index 33885c55be9d..9a786c9060b6 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
@@ -61,7 +61,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 /*
   +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalInputEvent                 |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : An event can be generated for each port.               |
@@ -70,7 +70,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 |                     (port 2). An interrupt is generated when one or both   |
 |                     events have occurred                                   |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data     : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -137,7 +137,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_ConfigDigitalInputEvent(comedi_device * dev,
+INT i_APCI1500_ConfigDigitalInputEvent(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_PatternPolarity = 0, i_PatternTransition = 0, i_PatternMask = 0;
@@ -500,12 +500,12 @@ INT i_APCI1500_ConfigDigitalInputEvent(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopInputEvent                     |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :  Allows or disallows a port event                      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
 |                     unsigned int *data          : Data Pointer to read status  |
                       data[0]                 :0 Start input event
@@ -519,7 +519,7 @@ INT i_APCI1500_ConfigDigitalInputEvent(comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_StartStopInputEvent(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i_Event1InterruptStatus = 0, i_Event2InterruptStatus =
@@ -768,12 +768,12 @@ int i_APCI1500_StartStopInputEvent(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_Initialisation                          |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -784,7 +784,7 @@ int i_APCI1500_StartStopInputEvent(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1500_Initialisation(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_Initialisation(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i_DummyRead = 0;
@@ -937,12 +937,12 @@ INT i_APCI1500_Initialisation(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadMoreDigitalInput                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To be Read    |
 |                      UINT *data             : Data Pointer
                       data[0]                 : 0 Read a single channel
@@ -957,7 +957,7 @@ INT i_APCI1500_Initialisation(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[1];
@@ -1015,14 +1015,14 @@ INT i_APCI1500_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalOutputErrorInterrupt
-                      (comedi_device *dev,comedi_subdevice *s comedi_insn
+                      (struct comedi_device *dev,comedi_subdevice *s comedi_insn
                       *insn,unsigned int *data)                                  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital output memory and the digital
                       output error interrupt                                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
@@ -1040,7 +1040,7 @@ INT i_APCI1500_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device * dev,
+int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
@@ -1050,12 +1050,12 @@ int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_WriteDigitalOutput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To Write      |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -1067,7 +1067,7 @@ int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	static UINT ui_Temp = 0;
@@ -1220,7 +1220,7 @@ INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data         : Data Pointer to read status                                                       data[0]                : 2     APCI1500_1_8_KHZ
@@ -1261,7 +1261,7 @@ INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device * dev,
+int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_TimerCounterMode, i_MasterConfiguration;
@@ -1835,12 +1835,12 @@ int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopTriggerTimerCounterWatchdog      |
-|				(comedi_device *dev,comedi_subdevice *s,
+|				(struct comedi_device *dev,comedi_subdevice *s,
                          comedi_insn *insn,unsigned int *data);                  |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop or trigger the timer counter or Watchdog  |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev     : Driver handle                 |
+| Input Parameters  : struct comedi_device *dev     : Driver handle                 |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data         : Data Pointer to read status   |
@@ -1860,7 +1860,7 @@ int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device * dev,
+int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
@@ -2160,12 +2160,12 @@ int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadCounterTimerWatchdog                |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -2182,7 +2182,7 @@ int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1500_ReadCounterTimerWatchdog(comedi_device * dev,
+int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
@@ -2351,12 +2351,12 @@ int i_APCI1500_ReadCounterTimerWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ReadInterruptMask                      |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read the interrupt mask                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -2370,7 +2370,7 @@ int i_APCI1500_ReadCounterTimerWatchdog(comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ReadInterruptMask(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = i_InterruptMask;
@@ -2382,12 +2382,12 @@ int i_APCI1500_ReadInterruptMask(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ConfigureInterrupt                     |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the interrupt registers                     |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer                 |
@@ -2401,7 +2401,7 @@ int i_APCI1500_ReadInterruptMask(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ConfigureInterrupt(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_ConfigureInterrupt(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status;
@@ -2579,7 +2579,7 @@ int i_APCI1500_ConfigureInterrupt(comedi_device * dev, comedi_subdevice * s,
 static VOID v_APCI1500_Interrupt(int irq, void *d)
 {
 
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	UINT ui_InterruptStatus = 0;
 	int i_RegValue = 0;
 	i_InterruptMask = 0;
@@ -2809,11 +2809,11 @@ static VOID v_APCI1500_Interrupt(int irq, void *d)
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI1500_Reset(comedi_device *dev)               |                                                       |
+| Function   Name   : int i_APCI1500_Reset(struct comedi_device *dev)               |                                                       |
 +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev
+| Input Parameters  : struct comedi_device *dev
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -2822,7 +2822,7 @@ static VOID v_APCI1500_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_Reset(comedi_device * dev)
+INT i_APCI1500_Reset(struct comedi_device * dev)
 {
 	int i_DummyRead = 0;
 	i_TimerCounter1Init = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
index f1519e70cfbc..dc3f3ea78b0f 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
@@ -116,50 +116,50 @@ enum {
 };
 
  /*----------DIGITAL INPUT----------------*/
-static int i_APCI1500_Initialisation(comedi_device *dev, comedi_subdevice *s,
+static int i_APCI1500_Initialisation(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-static int i_APCI1500_ConfigDigitalInputEvent(comedi_device *dev,
+static int i_APCI1500_ConfigDigitalInputEvent(struct comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 
-static int i_APCI1500_StartStopInputEvent(comedi_device *dev,
+static int i_APCI1500_StartStopInputEvent(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
-static int i_APCI1500_ReadMoreDigitalInput(comedi_device *dev,
+static int i_APCI1500_ReadMoreDigitalInput(struct comedi_device *dev,
 					   comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 
 /*----------	DIGITAL OUTPUT------------*/
-static int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device *dev,
+static int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device *dev,
 							comedi_subdevice *s,
 							comedi_insn *insn,
 							unsigned int *data);
-static int i_APCI1500_WriteDigitalOutput(comedi_device *dev,
+static int i_APCI1500_WriteDigitalOutput(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*----------TIMER----------------*/
-static int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device *dev,
+static int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device *dev,
 						 comedi_subdevice *s,
 						 comedi_insn *insn,
 						 unsigned int *data);
-static int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device *dev,
+static int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device *dev,
 							   comedi_subdevice *s,
 							   comedi_insn *insn,
 							   unsigned int *data);
-static int i_APCI1500_ReadCounterTimerWatchdog(comedi_device *dev,
+static int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device *dev,
 					       comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
-static int i_APCI1500_ReadInterruptMask(comedi_device *dev,
+static int i_APCI1500_ReadInterruptMask(struct comedi_device *dev,
 					comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 /*----------INTERRUPT HANDLER------*/
 static void v_APCI1500_Interrupt(int irq, void *d);
-static int i_APCI1500_ConfigureInterrupt(comedi_device *dev,
+static int i_APCI1500_ConfigureInterrupt(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 /*----------RESET---------------*/
-static int i_APCI1500_Reset(comedi_device *dev);
+static int i_APCI1500_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
index 5be566eda898..5ad419b9fa8e 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
@@ -56,12 +56,12 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_Read1DigitalInput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |		       comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1516_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -96,12 +96,12 @@ INT i_APCI1516_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadMoreDigitalInput                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                      unsigned int *data         : Data Pointer to read status  |
@@ -114,7 +114,7 @@ INT i_APCI1516_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -148,13 +148,13 @@ INT i_APCI1516_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI1516_ConfigDigitalOutput (comedi_device *dev,
+| Function   Name   : int i_APCI1516_ConfigDigitalOutput (struct comedi_device *dev,
                     comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
@@ -171,7 +171,7 @@ INT i_APCI1516_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1516_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
@@ -181,12 +181,12 @@ int i_APCI1516_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_WriteDigitalOutput                      |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                      unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                    unsigned int *data           : Data Pointer to read status  |
@@ -199,7 +199,7 @@ int i_APCI1516_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -341,12 +341,12 @@ INT i_APCI1516_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadDigitalOutput                       |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -359,7 +359,7 @@ INT i_APCI1516_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -400,13 +400,13 @@ INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI1516_ConfigWatchdog(comedi_device *dev,
+| Function   Name   : int i_APCI1516_ConfigWatchdog(struct comedi_device *dev,
                       comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                     |
@@ -419,7 +419,7 @@ INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1516_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -447,12 +447,12 @@ int i_APCI1516_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI1516_StartStopWriteWatchdog                  |
-    |                           (comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
-    | Input Parameters  : comedi_device *dev      : Driver handle                |
+    | Input Parameters  : struct comedi_device *dev      : Driver handle                |
     |                     comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
@@ -465,7 +465,7 @@ int i_APCI1516_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI1516_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -492,12 +492,12 @@ int i_APCI1516_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadWatchdog                            |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -510,7 +510,7 @@ int i_APCI1516_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1516_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = inw(devpriv-&gt;i_IobaseAddon + APCI1516_WATCHDOG_STATUS) &amp; 0x1;
@@ -519,11 +519,11 @@ int i_APCI1516_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI1516_Reset(comedi_device *dev)               |                                                                                                          |
+| Function   Name   : int i_APCI1516_Reset(struct comedi_device *dev)               |                                                                                                          |
 +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev
+| Input Parameters  : struct comedi_device *dev
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -532,7 +532,7 @@ int i_APCI1516_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_Reset(comedi_device * dev)
+INT i_APCI1516_Reset(struct comedi_device * dev)
 {
 	outw(0x0, devpriv-&gt;iobase + APCI1516_DIGITAL_OP);	//RESETS THE DIGITAL OUTPUTS
 	outw(0x0, devpriv-&gt;i_IobaseAddon + APCI1516_WATCHDOG_ENABLEDISABLE);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
index 176e4785819e..b166257775ce 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
@@ -38,27 +38,27 @@
 // Hardware Layer  functions for Apci1516
 
 //Digital Input
-INT i_APCI1516_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
-int i_APCI1516_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-int i_APCI1516_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI1516_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI1516_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 //reset
-INT i_APCI1516_Reset(comedi_device *dev);
+INT i_APCI1516_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
index cb7510930626..44b4965d8ecc 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
@@ -62,12 +62,12 @@ UINT ui_InterruptData, ui_Type;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalInput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -86,7 +86,7 @@ UINT ui_InterruptData, ui_Type;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;tsk_Current = current;
@@ -131,12 +131,12 @@ INT i_APCI1564_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_Read1DigitalInput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -147,7 +147,7 @@ INT i_APCI1564_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -171,12 +171,12 @@ INT i_APCI1564_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadMoreDigitalInput                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To be Read    |
 |                      UINT *data             : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -187,7 +187,7 @@ INT i_APCI1564_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
@@ -233,12 +233,12 @@ INT i_APCI1564_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalOutput                     |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -255,7 +255,7 @@ INT i_APCI1564_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
@@ -296,12 +296,12 @@ INT i_APCI1564_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_WriteDigitalOutput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To Write      |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -312,7 +312,7 @@ INT i_APCI1564_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -470,12 +470,12 @@ INT i_APCI1564_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadDigitalOutput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To read       |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -486,7 +486,7 @@ INT i_APCI1564_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -537,12 +537,12 @@ INT i_APCI1564_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigTimerCounterWatchdog              |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -564,7 +564,7 @@ INT i_APCI1564_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device * dev,
+INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
@@ -695,12 +695,12 @@ INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_StartStopWriteTimerCounterWatchdog      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -718,7 +718,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
+INT i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
@@ -795,12 +795,12 @@ INT i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadTimerCounterWatchdog                |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -813,7 +813,7 @@ INT i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadTimerCounterWatchdog(comedi_device * dev,
+INT i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
@@ -878,7 +878,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI1564_ReadInterruptStatus                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
@@ -892,7 +892,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1564_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
+int i_APCI1564_ReadInterruptStatus(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
@@ -918,7 +918,7 @@ int i_APCI1564_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
 */
 static VOID v_APCI1564_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	UINT ui_DO, ui_DI;
 	UINT ui_Timer;
 	UINT ui_C1, ui_C2, ui_C3, ui_C4;
@@ -1068,11 +1068,11 @@ static VOID v_APCI1564_Interrupt(int irq, void *d)
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI1564_Reset(comedi_device *dev)               |                                                       |
+| Function   Name   : int i_APCI1564_Reset(struct comedi_device *dev)               |                                                       |
 +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev
+| Input Parameters  : struct comedi_device *dev
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -1081,7 +1081,7 @@ static VOID v_APCI1564_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1564_Reset(comedi_device * dev)
+INT i_APCI1564_Reset(struct comedi_device * dev)
 {
 	outl(0x0, devpriv-&gt;i_IobaseAmcc + APCI1564_DIGITAL_IP_IRQ);	//disable the interrupts
 	inl(devpriv-&gt;i_IobaseAmcc + APCI1564_DIGITAL_IP_INTERRUPT_STATUS);	//Reset the interrupt status register
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
index 914231f2edb6..4b40da7879de 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
@@ -82,33 +82,33 @@
 
 //DI
 // for di read
-INT i_APCI1564_ConfigDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ConfigDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 //DO
-int i_APCI1564_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI1564_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-int i_APCI1564_ReadInterruptStatus(comedi_device *dev, comedi_subdevice *s,
+int i_APCI1564_ReadInterruptStatus(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device *dev,
+INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
-int i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device *dev,
+int i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device *dev,
 						  comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
-int i_APCI1564_ReadTimerCounterWatchdog(comedi_device *dev,
+int i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device *dev,
 					comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
@@ -116,4 +116,4 @@ int i_APCI1564_ReadTimerCounterWatchdog(comedi_device *dev,
 static VOID v_APCI1564_Interrupt(int irq, void *d);
 
 // RESET
-INT i_APCI1564_Reset(comedi_device *dev);
+INT i_APCI1564_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
index 0955fdf31cd1..74b0bd484bde 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
@@ -58,7 +58,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI16XX_InsnConfigInitTTLIO                   |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -90,7 +90,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnConfigInitTTLIO(comedi_device * dev,
+int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -251,7 +251,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI16XX_InsnBitsReadTTLIO                   |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -283,7 +283,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnBitsReadTTLIO(comedi_device * dev,
+int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -411,7 +411,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI16XX_InsnReadTTLIOAllPortValue               |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -430,7 +430,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device * dev,
+int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Command = (BYTE) CR_AREF(insn-&gt;chanspec);
@@ -536,7 +536,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI16XX_InsnBitsWriteTTLIO                  |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -570,7 +570,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnBitsWriteTTLIO(comedi_device * dev,
+int i_APCI16XX_InsnBitsWriteTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -763,10 +763,10 @@ int i_APCI16XX_InsnBitsWriteTTLIO(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI2200_Reset(comedi_device *dev)               |                                                         +----------------------------------------------------------------------------+
+| Function   Name   : int i_APCI2200_Reset(struct comedi_device *dev)               |                                                         +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev                                     |
+| Input Parameters  : struct comedi_device *dev                                     |
 +----------------------------------------------------------------------------+
 | Output Parameters : -                                                      |
 +----------------------------------------------------------------------------+
@@ -774,7 +774,7 @@ int i_APCI16XX_InsnBitsWriteTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_Reset(comedi_device * dev)
+int i_APCI16XX_Reset(struct comedi_device * dev)
 {
 	return 0;
 }
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
index 6e8d09407807..9f8f2b752431 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
@@ -62,7 +62,7 @@ static const comedi_lrange range_apci16xx_ttl = { 12,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnConfigInitTTLIO(comedi_device *dev,
+int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device *dev,
 				   comedi_subdevice *s, comedi_insn *insn,
 				   unsigned int *data);
 
@@ -72,11 +72,11 @@ int i_APCI16XX_InsnConfigInitTTLIO(comedi_device *dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnBitsReadTTLIO(comedi_device *dev,
+int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device *dev,
 				 comedi_subdevice *s, comedi_insn *insn,
 				 unsigned int *data);
 
-int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device *dev,
+int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
@@ -86,9 +86,9 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device *dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI16XX_InsnBitsWriteTTLIO(comedi_device *dev,
+int i_APCI16XX_InsnBitsWriteTTLIO(struct comedi_device *dev,
 				  comedi_subdevice *s, comedi_insn *insn,
 				  unsigned int *data);
 
-int i_APCI16XX_Reset(comedi_device *dev);
+int i_APCI16XX_Reset(struct comedi_device *dev);
 #endif
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
index fd4ae6abbb3f..dcb837dee3b1 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
@@ -56,12 +56,12 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigDigitalOutput                     |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -75,7 +75,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
@@ -95,12 +95,12 @@ int i_APCI2016_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_WriteDigitalOutput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To Write      |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -111,7 +111,7 @@ int i_APCI2016_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_NoOfChannel;
@@ -250,12 +250,12 @@ int i_APCI2016_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_BitsDigitalOutput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To read       |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -266,7 +266,7 @@ int i_APCI2016_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_BitsDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -320,12 +320,12 @@ int i_APCI2016_BitsDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigWatchdog                          |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -337,7 +337,7 @@ int i_APCI2016_BitsDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -363,12 +363,12 @@ int i_APCI2016_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_StartStopWriteWatchdog                  |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Watchdog                              |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -380,7 +380,7 @@ int i_APCI2016_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -409,12 +409,12 @@ int i_APCI2016_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ReadWatchdog                            |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -427,7 +427,7 @@ int i_APCI2016_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2016_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	udelay(5);
@@ -437,11 +437,11 @@ int i_APCI2016_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI2016_Reset(comedi_device *dev)               |                                                       |
+| Function   Name   : int i_APCI2016_Reset(struct comedi_device *dev)               |                                                       |
 +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev
+| Input Parameters  : struct comedi_device *dev
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -450,7 +450,7 @@ int i_APCI2016_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2016_Reset(comedi_device * dev)
+INT i_APCI2016_Reset(struct comedi_device * dev)
 {
 	outw(0x0, devpriv-&gt;iobase + APCI2016_DIGITAL_OP);	// Resets the digital output channels
 	outw(0x0, devpriv-&gt;i_IobaseAddon + APCI2016_WATCHDOG_ENABLEDISABLE);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
index 3ca52e9eca5a..765de4212ed0 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
@@ -40,25 +40,25 @@
 // Hardware Layer  functions for Apci2016
 
 //DO
-int i_APCI2016_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_BitsDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_BitsDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 
-int i_APCI2016_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
@@ -67,4 +67,4 @@ int i_APCI2016_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
 
  //VOID v_APCI2016_Interrupt(int irq, void *d);
 // RESET
-INT i_APCI2016_Reset(comedi_device *dev);
+INT i_APCI2016_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
index 4345dda7f99d..b536667398cf 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
@@ -57,12 +57,12 @@ UINT ui_InterruptData, ui_Type;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ConfigDigitalOutput                     |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -79,7 +79,7 @@ UINT ui_InterruptData, ui_Type;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2032_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
@@ -117,12 +117,12 @@ int i_APCI2032_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_WriteDigitalOutput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To Write      |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -134,7 +134,7 @@ int i_APCI2032_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2032_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -296,12 +296,12 @@ INT i_APCI2032_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadDigitalOutput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To read       |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -313,7 +313,7 @@ INT i_APCI2032_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -368,7 +368,7 @@ INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                                                                             |
@@ -380,7 +380,7 @@ INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI2032_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -403,12 +403,12 @@ INT i_APCI2032_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2032_StartStopWriteWatchdog                  |
-    |                           (comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
-    | Input Parameters  : comedi_device *dev      : Driver handle                |
+    | Input Parameters  : struct comedi_device *dev      : Driver handle                |
     |                     comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
@@ -421,7 +421,7 @@ INT i_APCI2032_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI2032_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -448,12 +448,12 @@ int i_APCI2032_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadWatchdog                            |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -466,7 +466,7 @@ int i_APCI2032_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -495,7 +495,7 @@ int i_APCI2032_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 */
 void v_APCI2032_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	unsigned int ui_DO;
 
 	ui_DO = inl(devpriv-&gt;iobase + APCI2032_DIGITAL_OP_IRQ) &amp; 0x1;	//Check if VCC OR CC interrupt has occured.
@@ -530,7 +530,7 @@ void v_APCI2032_Interrupt(int irq, void *d)
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI2032_ReadInterruptStatus                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
@@ -544,7 +544,7 @@ void v_APCI2032_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ReadInterruptStatus(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
@@ -553,7 +553,7 @@ int i_APCI2032_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   :  int i_APCI2032_Reset(comedi_device *dev)			     |
+| Function   Name   :  int i_APCI2032_Reset(struct comedi_device *dev)			     |
 |					                                                 |
 +----------------------------------------------------------------------------+
 | Task              :Resets the registers of the card                        |
@@ -567,7 +567,7 @@ int i_APCI2032_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_Reset(comedi_device * dev)
+int i_APCI2032_Reset(struct comedi_device * dev)
 {
 	devpriv-&gt;b_DigitalOutputRegister = 0;
 	ui_Type = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
index 7d858af87979..8ceefb07d503 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
@@ -55,22 +55,22 @@
 // Hardware Layer  functions for Apci2032
 
 //DO
-int i_APCI2032_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI2032_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI2032_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-int i_APCI2032_ReadInterruptStatus(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ReadInterruptStatus(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-INT i_APCI2032_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI2032_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI2032_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
@@ -78,4 +78,4 @@ int i_APCI2032_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
 void v_APCI2032_Interrupt(int irq, void *d);
 
 //Reset functions
-int i_APCI2032_Reset(comedi_device *dev);
+int i_APCI2032_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
index d61dfd1d1eab..b297f6f96089 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
@@ -56,12 +56,12 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_Read1DigitalInput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |		       comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI2200_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -94,12 +94,12 @@ INT i_APCI2200_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadMoreDigitalInput                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                      unsigned int *data         : Data Pointer to read status  |
@@ -112,7 +112,7 @@ INT i_APCI2200_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -146,13 +146,13 @@ INT i_APCI2200_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI2200_ConfigDigitalOutput (comedi_device *dev,
+| Function   Name   : int i_APCI2200_ConfigDigitalOutput (struct comedi_device *dev,
                     comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
@@ -169,7 +169,7 @@ INT i_APCI2200_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
@@ -179,12 +179,12 @@ int i_APCI2200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_WriteDigitalOutput                      |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                      unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                    unsigned int *data           : Data Pointer to read status  |
@@ -197,7 +197,7 @@ int i_APCI2200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -336,12 +336,12 @@ INT i_APCI2200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadDigitalOutput                       |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -354,7 +354,7 @@ INT i_APCI2200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -399,13 +399,13 @@ INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI2200_ConfigWatchdog(comedi_device *dev,
+| Function   Name   : int i_APCI2200_ConfigWatchdog(struct comedi_device *dev,
                       comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                                                                             |
@@ -418,7 +418,7 @@ INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2200_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -446,12 +446,12 @@ int i_APCI2200_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2200_StartStopWriteWatchdog                  |
-    |                           (comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
-    | Input Parameters  : comedi_device *dev      : Driver handle                |
+    | Input Parameters  : struct comedi_device *dev      : Driver handle                |
     |                     comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
@@ -464,7 +464,7 @@ int i_APCI2200_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI2200_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -491,12 +491,12 @@ int i_APCI2200_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadWatchdog                            |
-|			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
-| Input Parameters  :   comedi_device *dev      : Driver handle              |
+| Input Parameters  :   struct comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
@@ -509,7 +509,7 @@ int i_APCI2200_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2200_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] =
@@ -520,11 +520,11 @@ int i_APCI2200_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI2200_Reset(comedi_device *dev)               |                                                                                                          |
+| Function   Name   : int i_APCI2200_Reset(struct comedi_device *dev)               |                                                                                                          |
 +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev
+| Input Parameters  : struct comedi_device *dev
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -533,7 +533,7 @@ int i_APCI2200_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_Reset(comedi_device * dev)
+INT i_APCI2200_Reset(struct comedi_device * dev)
 {
 	outw(0x0, devpriv-&gt;iobase + APCI2200_DIGITAL_OP);	//RESETS THE DIGITAL OUTPUTS
 	outw(0x0,
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
index 59fc451e71c7..ab1bb309767a 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
@@ -36,26 +36,26 @@
 // Hardware Layer  functions for Apci2200
 
 //Digital Input
-INT i_APCI2200_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
-int i_APCI2200_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
-int i_APCI2200_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI2200_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI2200_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 //reset
-INT i_APCI2200_Reset(comedi_device *dev);
+INT i_APCI2200_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
index 45445e675f72..6aaab8cf3c1a 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
@@ -57,14 +57,14 @@ static UINT ui_Temp = 0;
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnConfigAnalogInput(comedi_device *dev,|
+| Function name     :int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev,|
 |  comedi_subdevice *s,comedi_insn *insn,unsigned int *data)					 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Calls card specific function  					     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data      					         		 |
@@ -74,7 +74,7 @@ static UINT ui_Temp = 0;
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT i;
@@ -124,7 +124,7 @@ int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnReadAnalogInput(comedi_device *dev,  |
+| Function name     :int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev,  |
 |			comedi_subdevice *s,comedi_insn *insn, unsigned int *data)	 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -135,7 +135,7 @@ int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 |			  time 10 microsec.					      				 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data     									 |
@@ -145,7 +145,7 @@ int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	USHORT us_ConvertTiming, us_TmpValue, i;
@@ -393,14 +393,14 @@ int i_APCI3120_InsnReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_StopCyclicAcquisition(comedi_device *dev,|
+| Function name     :int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev,|
 | 											     comedi_subdevice *s)|
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Stops Cyclic acquisition  						     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -409,7 +409,7 @@ int i_APCI3120_InsnReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevice * s)
 {
 	// Disable A2P Fifo write and AMWEN signal
 	outw(0, devpriv-&gt;i_IobaseAddon + 4);
@@ -459,7 +459,7 @@ int i_APCI3120_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_CommandTestAnalogInput(comedi_device *dev|
+| Function name     :int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev|
 |			,comedi_subdevice *s,comedi_cmd *cmd)					 |
 |                                        									 |
 +----------------------------------------------------------------------------+
@@ -467,7 +467,7 @@ int i_APCI3120_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
 |                       acquisition  						     			 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_cmd *cmd              					         |
 +----------------------------------------------------------------------------+
@@ -476,7 +476,7 @@ int i_APCI3120_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -616,7 +616,7 @@ int i_APCI3120_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : int i_APCI3120_CommandAnalogInput(comedi_device *dev,  |
+| Function name     : int i_APCI3120_CommandAnalogInput(struct comedi_device *dev,  |
 |												comedi_subdevice *s) |
 |                                        									 |
 +----------------------------------------------------------------------------+
@@ -624,7 +624,7 @@ int i_APCI3120_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
 |                     Determines the mode 1 or 2.						     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     														 |
 +----------------------------------------------------------------------------+
@@ -633,7 +633,7 @@ int i_APCI3120_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CommandAnalogInput(comedi_device * dev, comedi_subdevice * s)
+int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -690,7 +690,7 @@ int i_APCI3120_CommandAnalogInput(comedi_device * dev, comedi_subdevice * s)
 /*
 +----------------------------------------------------------------------------+
 | Function name     :  int i_APCI3120_CyclicAnalogInput(int mode,            |
-|		 	   comedi_device * dev,comedi_subdevice * s)			 |
+|		 	   struct comedi_device * dev,comedi_subdevice * s)			 |
 +----------------------------------------------------------------------------+
 | Task              : This is used for analog input cyclic acquisition       |
 |			  Performs the command operations.                       |
@@ -707,7 +707,7 @@ int i_APCI3120_CommandAnalogInput(comedi_device * dev, comedi_subdevice * s)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CyclicAnalogInput(int mode, comedi_device * dev,
+int i_APCI3120_CyclicAnalogInput(int mode, struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	BYTE b_Tmp;
@@ -1202,14 +1202,14 @@ int i_APCI3120_CyclicAnalogInput(int mode, comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : int i_APCI3120_Reset(comedi_device *dev)               |
+| Function name     : int i_APCI3120_Reset(struct comedi_device *dev)               |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Hardware reset function   						     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : 	comedi_device *dev									 |
+| Input Parameters  : 	struct comedi_device *dev									 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -1218,7 +1218,7 @@ int i_APCI3120_CyclicAnalogInput(int mode, comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_Reset(comedi_device * dev)
+int i_APCI3120_Reset(struct comedi_device * dev)
 {
 	unsigned int i;
 	unsigned short us_TmpValue;
@@ -1274,7 +1274,7 @@ int i_APCI3120_Reset(comedi_device * dev)
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : int i_APCI3120_SetupChannelList(comedi_device * dev,   |
+| Function name     : int i_APCI3120_SetupChannelList(struct comedi_device * dev,   |
 |                     comedi_subdevice * s, int n_chan,unsigned int *chanlist|
 |			  ,char check)											 |
 |                                            						         |
@@ -1285,7 +1285,7 @@ int i_APCI3120_Reset(comedi_device * dev)
 |list is ok or not.												     		 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device * dev									 |
+| Input Parameters  : struct comedi_device * dev									 |
 |                     comedi_subdevice * s									 |
 |                     int n_chan                   					         |
 			  unsigned int *chanlist
@@ -1296,7 +1296,7 @@ int i_APCI3120_Reset(comedi_device * dev)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_SetupChannelList(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_SetupChannelList(struct comedi_device * dev, comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, char check)
 {
 	unsigned int i;		//, differencial=0, bipolar=0;
@@ -1344,14 +1344,14 @@ int i_APCI3120_SetupChannelList(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :	int i_APCI3120_ExttrigEnable(comedi_device * dev)    |
+| Function name     :	int i_APCI3120_ExttrigEnable(struct comedi_device * dev)    |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : 	Enable the external trigger						     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : 	comedi_device * dev									 |
+| Input Parameters  : 	struct comedi_device * dev									 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -1360,7 +1360,7 @@ int i_APCI3120_SetupChannelList(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_ExttrigEnable(comedi_device * dev)
+int i_APCI3120_ExttrigEnable(struct comedi_device * dev)
 {
 
 	devpriv-&gt;us_OutputRegister |= APCI3120_ENABLE_EXT_TRIGGER;
@@ -1370,13 +1370,13 @@ int i_APCI3120_ExttrigEnable(comedi_device * dev)
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : 	int i_APCI3120_ExttrigDisable(comedi_device * dev)   |
+| Function name     : 	int i_APCI3120_ExttrigDisable(struct comedi_device * dev)   |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : 	Disables the external trigger					     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : 	comedi_device * dev									 |
+| Input Parameters  : 	struct comedi_device * dev									 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -1385,7 +1385,7 @@ int i_APCI3120_ExttrigEnable(comedi_device * dev)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_ExttrigDisable(comedi_device * dev)
+int i_APCI3120_ExttrigDisable(struct comedi_device * dev)
 {
 	devpriv-&gt;us_OutputRegister &amp;= ~APCI3120_ENABLE_EXT_TRIGGER;
 	outw(devpriv-&gt;us_OutputRegister, dev-&gt;iobase + APCI3120_WR_ADDRESS);
@@ -1421,7 +1421,7 @@ int i_APCI3120_ExttrigDisable(comedi_device * dev)
 
 void v_APCI3120_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	USHORT int_daq;
 
 	unsigned int int_amcc, ui_Check, i;
@@ -1612,7 +1612,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InterruptHandleEos(comedi_device *dev)   |
+| Function name     :int i_APCI3120_InterruptHandleEos(struct comedi_device *dev)   |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -1621,7 +1621,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 |				to Comedi buffer.		 							 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -1630,7 +1630,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-/*int i_APCI3120_InterruptHandleEos(comedi_device *dev)
+/*int i_APCI3120_InterruptHandleEos(struct comedi_device *dev)
 {
        int n_chan,i;
        short *data;
@@ -1654,7 +1654,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
          }
  	return 0;
 }*/
-int i_APCI3120_InterruptHandleEos(comedi_device * dev)
+int i_APCI3120_InterruptHandleEos(struct comedi_device * dev)
 {
 	int n_chan, i;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
@@ -1698,7 +1698,7 @@ int i_APCI3120_InterruptHandleEos(comedi_device * dev)
 
 void v_APCI3120_InterruptDma(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned int next_dma_buf, samplesinbuf;
 	unsigned long low_word, high_word, var;
@@ -1886,7 +1886,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 |				 Comedi buffer  									 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     short *dma											 |
 |                     short *data,int n          					         |
@@ -1896,7 +1896,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-/*void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n)
+/*void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n)
 {
 	int i,j,m;
 
@@ -1925,7 +1925,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 
 }
 */
-void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
+void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device * dev,
 	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	devpriv-&gt;ui_AiActualScan +=
@@ -1944,14 +1944,14 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnConfigTimer(comedi_device *dev,          |
+| Function name     :int i_APCI3120_InsnConfigTimer(struct comedi_device *dev,          |
 |	comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              :Configure Timer 2  								     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -1967,7 +1967,7 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -2092,13 +2092,13 @@ int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnWriteTimer(comedi_device *dev,           |
+| Function name     :int i_APCI3120_InsnWriteTimer(struct comedi_device *dev,           |
 |                    comedi_subdevice *s, comedi_insn *insn,unsigned int *data)  |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :    To start and stop the timer		                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data                                         |
@@ -2118,7 +2118,7 @@ int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -2283,14 +2283,14 @@ int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     : int i_APCI3120_InsnReadTimer(comedi_device *dev,           |
+| Function name     : int i_APCI3120_InsnReadTimer(struct comedi_device *dev,           |
 |		comedi_subdevice *s,comedi_insn *insn, unsigned int *data) 		 |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : read the Timer value 				                 	 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : 	comedi_device *dev									 |
+| Input Parameters  : 	struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -2304,7 +2304,7 @@ int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
 |                    													     |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnReadTimer(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Tmp;
@@ -2360,7 +2360,7 @@ int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnReadDigitalInput(comedi_device *dev,     |
+| Function name     :int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev,     |
 |			comedi_subdevice *s, comedi_insn *insn,unsigned int *data)   |
 |                                        									 |
 |                                            						         |
@@ -2368,7 +2368,7 @@ int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
 | Task              : Reads the value of the specified  Digital input channel|
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -2378,7 +2378,7 @@ int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
+int i_APCI3120_InsnReadDigitalInput(struct comedi_device * dev, comedi_subdevice
 	* s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Chan, ui_TmpValue;
@@ -2403,7 +2403,7 @@ int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnBitsDigitalInput(comedi_device *dev, |
+| Function name     :int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, |
 |comedi_subdevice *s, comedi_insn *insn,unsigned int *data)                      |
 |                                        									 |
 +----------------------------------------------------------------------------+
@@ -2411,7 +2411,7 @@ int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
 |   value is returned in data[0]											 |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -2420,7 +2420,7 @@ int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
 |                    													     |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
@@ -2442,14 +2442,14 @@ int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
 */
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnConfigDigitalOutput(comedi_device    |
+| Function name     :int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device    |
 | *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)				 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :Configure the output memory ON or OFF				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  :comedi_device *dev									 	 |
+| Input Parameters  :struct comedi_device *dev									 	 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -2459,7 +2459,7 @@ int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
+int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
@@ -2485,14 +2485,14 @@ int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnBitsDigitalOutput(comedi_device *dev,    |
+| Function name     :int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev,    |
 |		comedi_subdevice *s, comedi_insn *insn,unsigned int *data) 		 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : write diatal output port							     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -2505,7 +2505,7 @@ int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
+int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev, comedi_subdevice
 	* s, comedi_insn * insn, unsigned int * data)
 {
 	if ((data[0] &gt; this_board-&gt;i_DoMaxdata) || (data[0] &lt; 0)) {
@@ -2536,14 +2536,14 @@ int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnWriteDigitalOutput(comedi_device *dev,|
+| Function name     :int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev,|
 |comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			             |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Write digiatl output								     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev								 	 |
+| Input Parameters  : struct comedi_device *dev								 	 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
@@ -2556,7 +2556,7 @@ int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
+int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device * dev, comedi_subdevice
 	* s, comedi_insn * insn, unsigned int * data)
 {
 
@@ -2617,14 +2617,14 @@ int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
 
 /*
 +----------------------------------------------------------------------------+
-| Function name     :int i_APCI3120_InsnWriteAnalogOutput(comedi_device *dev,|
+| Function name     :int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev,|
 |comedi_subdevice *s, comedi_insn *insn,unsigned int *data)			             |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Write  analog output   							     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev									 |
+| Input Parameters  : struct comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data  										 |
@@ -2634,7 +2634,7 @@ int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteAnalogOutput(comedi_device * dev, comedi_subdevice
+int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device * dev, comedi_subdevice
 	* s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Range, ui_Channel;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
index 591061743c74..ee346f6d0ba1 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
@@ -178,64 +178,64 @@ typedef struct {
 // Function Declaration For APCI-3120
 
 // Internal functions
-int i_APCI3120_SetupChannelList(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_SetupChannelList(struct comedi_device *dev, comedi_subdevice *s,
 				int n_chan, unsigned int *chanlist, char check);
-int i_APCI3120_ExttrigEnable(comedi_device *dev);
-int i_APCI3120_ExttrigDisable(comedi_device *dev);
-int i_APCI3120_StopCyclicAcquisition(comedi_device *dev, comedi_subdevice *s);
-int i_APCI3120_Reset(comedi_device *dev);
-int i_APCI3120_CyclicAnalogInput(int mode, comedi_device *dev,
+int i_APCI3120_ExttrigEnable(struct comedi_device *dev);
+int i_APCI3120_ExttrigDisable(struct comedi_device *dev);
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_Reset(struct comedi_device *dev);
+int i_APCI3120_CyclicAnalogInput(int mode, struct comedi_device *dev,
 				 comedi_subdevice *s);
 // Interrupt functions
 void v_APCI3120_Interrupt(int irq, void *d);
-//UPDATE-0.7.57-&gt;0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n);
-void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,
+//UPDATE-0.7.57-&gt;0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n);
+void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,
 					   comedi_subdevice *s,
 					   short *dma_buffer,
 					   unsigned int num_samples);
-int i_APCI3120_InterruptHandleEos(comedi_device *dev);
+int i_APCI3120_InterruptHandleEos(struct comedi_device *dev);
 void v_APCI3120_InterruptDma(int irq, void *d);
 
 // TIMER
 
-int i_APCI3120_InsnConfigTimer(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnConfigTimer(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnWriteTimer(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteTimer(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadTimer(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadTimer(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
 
-int i_APCI3120_InsnBitsDigitalInput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadDigitalInput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 //DO
-//int i_APCI3120_WriteDigitalOutput(comedi_device *dev, BYTE data);
-int i_APCI3120_InsnConfigDigitalOutput(comedi_device *dev,
+//int i_APCI3120_WriteDigitalOutput(struct comedi_device *dev, BYTE data);
+int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device *dev,
 				       comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
-int i_APCI3120_InsnBitsDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnWriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
 
 //AO
-//int i_APCI3120_Write1AnalogValue(comedi_device *dev,UINT ui_Range,UINT ui_Channel,UINT data );
-int i_APCI3120_InsnWriteAnalogOutput(comedi_device *dev, comedi_subdevice *s,
+//int i_APCI3120_Write1AnalogValue(struct comedi_device *dev,UINT ui_Range,UINT ui_Channel,UINT data );
+int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
 //AI HArdware layer
 
-int i_APCI3120_InsnConfigAnalogInput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadAnalogInput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-int i_APCI3120_CommandTestAnalogInput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_cmd *cmd);
-int i_APCI3120_CommandAnalogInput(comedi_device *dev, comedi_subdevice *s);
-//int i_APCI3120_CancelAnalogInput(comedi_device *dev, comedi_subdevice *s);
-int i_APCI3120_StopCyclicAcquisition(comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_CommandAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
+//int i_APCI3120_CancelAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
index 83868d8f1c5f..f07e0b1cf8f8 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
@@ -453,7 +453,7 @@ VOID v_GetAPCI3200EepromCalibrationValue(DWORD dw_PCIBoardEepromAddress,
 	}
 }
 
-INT i_APCI3200_GetChannelCalibrationValue(comedi_device * dev,
+INT i_APCI3200_GetChannelCalibrationValue(struct comedi_device * dev,
 	unsigned int ui_Channel_num, unsigned int * CJCCurrentSource,
 	unsigned int * ChannelCurrentSource, unsigned int * ChannelGainFactor)
 {
@@ -530,12 +530,12 @@ INT i_APCI3200_GetChannelCalibrationValue(comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalInput                       |
-  |			  (comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT ui_NoOfChannels    : No Of Channels To read  for Port
   Channel Numberfor single channel
   |                     UINT data[0]            : 0: Read single channel
@@ -550,7 +550,7 @@ INT i_APCI3200_GetChannelCalibrationValue(comedi_device * dev,
   +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3200_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0;
@@ -592,12 +592,12 @@ INT i_APCI3200_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ConfigDigitalOutput                     |
-  |			  (comedi_device *dev,comedi_subdevice *s,				 |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,				 |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Digital Output Subdevice.               |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev : Driver handle                     |
+  | Input Parameters  : struct comedi_device *dev : Driver handle                     |
   |			  data[0]  :1  Memory enable
   0  Memory Disable
   +----------------------------------------------------------------------------+
@@ -608,7 +608,7 @@ INT i_APCI3200_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
   |																	 |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -629,12 +629,12 @@ int i_APCI3200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_WriteDigitalOutput                      |
-  |			  (comedi_device *dev,comedi_subdevice *s,				 |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,				 |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : writes To the digital Output Subdevice                 |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
@@ -653,7 +653,7 @@ int i_APCI3200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0, ui_Temp1 = 0;
@@ -746,12 +746,12 @@ INT i_APCI3200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalOutput                       |
-  |			  (comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT ui_NoOfChannels    : No Of Channels To read       |
   |                     UINT *data              : Data Pointer to read status  |
   data[0]                 :0 read single channel
@@ -766,7 +766,7 @@ INT i_APCI3200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -807,12 +807,12 @@ INT i_APCI3200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : INT i_APCI3200_ConfigAnalogInput                       |
-  |			  (comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Analog Input Subdevice                  |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
@@ -874,7 +874,7 @@ INT i_APCI3200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -1334,12 +1334,12 @@ INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadAnalogInput                         |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT ui_NoOfChannels    : No Of Channels To read       |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
@@ -1361,7 +1361,7 @@ INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_DummyValue = 0;
@@ -1633,12 +1633,12 @@ INT i_APCI3200_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_Read1AnalogInputChannel                 |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT ui_NoOfChannel    : Channel No to read            |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
@@ -1651,7 +1651,7 @@ INT i_APCI3200_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_Read1AnalogInputChannel(comedi_device * dev,
+INT i_APCI3200_Read1AnalogInputChannel(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_EOC = 0;
@@ -1759,12 +1759,12 @@ INT i_APCI3200_Read1AnalogInputChannel(comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationOffsetValue              |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration offset  value  of the selected channel|
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
   | Output Parameters :	--													 |
@@ -1776,7 +1776,7 @@ INT i_APCI3200_Read1AnalogInputChannel(comedi_device * dev,
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ReadCalibrationOffsetValue(comedi_device * dev, UINT * data)
+int i_APCI3200_ReadCalibrationOffsetValue(struct comedi_device * dev, UINT * data)
 {
 	UINT ui_Temp = 0, ui_EOC = 0;
 	UINT ui_CommandRegister = 0;
@@ -1895,12 +1895,12 @@ int i_APCI3200_ReadCalibrationOffsetValue(comedi_device * dev, UINT * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationGainValue                |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration gain  value  of the selected channel  |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
   | Output Parameters :	--													 |
@@ -1912,7 +1912,7 @@ int i_APCI3200_ReadCalibrationOffsetValue(comedi_device * dev, UINT * data)
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ReadCalibrationGainValue(comedi_device * dev, UINT * data)
+int i_APCI3200_ReadCalibrationGainValue(struct comedi_device * dev, UINT * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2030,12 +2030,12 @@ int i_APCI3200_ReadCalibrationGainValue(comedi_device * dev, UINT * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCValue                            |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC  value  of the selected channel               |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
   | Output Parameters :	--													 |
@@ -2048,7 +2048,7 @@ int i_APCI3200_ReadCalibrationGainValue(comedi_device * dev, UINT * data)
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_ReadCJCValue(comedi_device * dev, unsigned int * data)
+int i_APCI3200_ReadCJCValue(struct comedi_device * dev, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2150,12 +2150,12 @@ int i_APCI3200_ReadCJCValue(comedi_device * dev, unsigned int * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCCalOffset                        |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration offset  value  of the selected channel
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
   | Output Parameters :	--													 |
@@ -2167,7 +2167,7 @@ int i_APCI3200_ReadCJCValue(comedi_device * dev, unsigned int * data)
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, unsigned int * data)
+int i_APCI3200_ReadCJCCalOffset(struct comedi_device * dev, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2265,12 +2265,12 @@ int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, unsigned int * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCGainValue                        |
-  |			          (comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration gain value
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     UINT ui_NoOfChannels    : No Of Channels To read       |
   |                     UINT *data              : Data Pointer to read status  |
   +----------------------------------------------------------------------------+
@@ -2283,7 +2283,7 @@ int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, unsigned int * data)
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ReadCJCCalGain(comedi_device * dev, unsigned int * data)
+int i_APCI3200_ReadCJCCalGain(struct comedi_device * dev, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2375,12 +2375,12 @@ int i_APCI3200_ReadCJCCalGain(comedi_device * dev, unsigned int * data)
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnBits_AnalogInput_Test               |
-  |			  (comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Tests the Selected Anlog Input Channel                 |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
@@ -2404,7 +2404,7 @@ int i_APCI3200_ReadCJCCalGain(comedi_device * dev, unsigned int * data)
   +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device * dev,
+INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Configuration = 0;
@@ -2510,12 +2510,12 @@ INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device * dev,
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnWriteReleaseAnalogInput             |
-  |			  (comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              :  Resets the channels                                                      |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev      : Driver handle                |
+  | Input Parameters  : struct comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer
@@ -2529,7 +2529,7 @@ INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device * dev,
   +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device * dev,
+INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	i_APCI3200_Reset(dev);
@@ -2538,7 +2538,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device * dev,
 
 /*
   +----------------------------------------------------------------------------+
-  | Function name     :int i_APCI3200_CommandTestAnalogInput(comedi_device *dev|
+  | Function name     :int i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev|
   |			,comedi_subdevice *s,comedi_cmd *cmd)			         |
   |                                        									 |
   +----------------------------------------------------------------------------+
@@ -2546,7 +2546,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device * dev,
   |                       acquisition  						     			 |
   |                     										                 |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev									 |
+  | Input Parameters  : struct comedi_device *dev									 |
   |                     comedi_subdevice *s									 |
   |                     comedi_cmd *cmd              					         |
   |                     										                 |
@@ -2560,7 +2560,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device * dev,
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 
@@ -2748,14 +2748,14 @@ int i_APCI3200_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
 
 /*
   +----------------------------------------------------------------------------+
-  | Function name     :int i_APCI3200_StopCyclicAcquisition(comedi_device *dev,|
+  | Function name     :int i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev,|
   | 											     comedi_subdevice *s)|
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Stop the  acquisition  						     |
   |                     										                 |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev									 |
+  | Input Parameters  : struct comedi_device *dev									 |
   |                     comedi_subdevice *s									 |
   |                                                 					         |
   +----------------------------------------------------------------------------+
@@ -2764,7 +2764,7 @@ int i_APCI3200_CommandTestAnalogInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
+int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevice * s)
 {
 	UINT ui_Configuration = 0;
 	//i_InterruptFlag=0;
@@ -2796,7 +2796,7 @@ int i_APCI3200_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
 
 /*
   +----------------------------------------------------------------------------+
-  | Function name     : int i_APCI3200_CommandAnalogInput(comedi_device *dev,  |
+  | Function name     : int i_APCI3200_CommandAnalogInput(struct comedi_device *dev,  |
   |												comedi_subdevice *s) |
   |                                        									 |
   +----------------------------------------------------------------------------+
@@ -2804,7 +2804,7 @@ int i_APCI3200_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
   |                     Determines the mode 1 or 2.						     |
   |                     										                 |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev									 |
+  | Input Parameters  : struct comedi_device *dev									 |
   |                     comedi_subdevice *s									 |
   |                     														 |
   |                     														 |
@@ -2814,7 +2814,7 @@ int i_APCI3200_StopCyclicAcquisition(comedi_device * dev, comedi_subdevice * s)
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_CommandAnalogInput(comedi_device * dev, comedi_subdevice * s)
+int i_APCI3200_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	UINT ui_Configuration = 0;
@@ -2987,7 +2987,7 @@ int i_APCI3200_CommandAnalogInput(comedi_device * dev, comedi_subdevice * s)
 
 /*
   +----------------------------------------------------------------------------+
-  | Function   Name   :  int i_APCI3200_Reset(comedi_device *dev)			     |
+  | Function   Name   :  int i_APCI3200_Reset(struct comedi_device *dev)			     |
   |							                                         |
   +----------------------------------------------------------------------------+
   | Task              :Resets the registers of the card                        |
@@ -3001,7 +3001,7 @@ int i_APCI3200_CommandAnalogInput(comedi_device * dev, comedi_subdevice * s)
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_Reset(comedi_device * dev)
+int i_APCI3200_Reset(struct comedi_device * dev)
 {
 	INT i_Temp;
 	DWORD dw_Dummy;
@@ -3059,7 +3059,7 @@ int i_APCI3200_Reset(comedi_device * dev)
 */
 void v_APCI3200_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	UINT ui_StatusRegister = 0;
 	UINT ui_ChannelNumber = 0;
 	INT i_CalibrationFlag = 0;
@@ -3482,7 +3482,7 @@ void v_APCI3200_Interrupt(int irq, void *d)
 
 /*
   +----------------------------------------------------------------------------+
-  | Function name     :int i_APCI3200_InterruptHandleEos(comedi_device *dev)   |
+  | Function name     :int i_APCI3200_InterruptHandleEos(struct comedi_device *dev)   |
   |                                        									 |
   |                                            						         |
   +----------------------------------------------------------------------------+
@@ -3491,7 +3491,7 @@ void v_APCI3200_Interrupt(int irq, void *d)
   |				to Comedi buffer.		 							 |
   |                     										                 |
   +----------------------------------------------------------------------------+
-  | Input Parameters  : comedi_device *dev									 |
+  | Input Parameters  : struct comedi_device *dev									 |
   |                     														 |
   |                                                 					         |
   +----------------------------------------------------------------------------+
@@ -3499,7 +3499,7 @@ void v_APCI3200_Interrupt(int irq, void *d)
   |                    													     |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_InterruptHandleEos(comedi_device * dev)
+int i_APCI3200_InterruptHandleEos(struct comedi_device * dev)
 {
 	UINT ui_StatusRegister = 0;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
index 09445d5f673e..fbb658eff531 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
@@ -154,34 +154,34 @@ typedef struct {
 
 //AI
 
-INT i_APCI3200_ConfigAnalogInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_ConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_ReadAnalogInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_ReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device *dev,
+INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device *dev,
 					   comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device *dev,
+INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device *dev,
 					 comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_StopCyclicAcquisition(comedi_device *dev, comedi_subdevice *s);
-INT i_APCI3200_InterruptHandleEos(comedi_device *dev);
-INT i_APCI3200_CommandTestAnalogInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+INT i_APCI3200_InterruptHandleEos(struct comedi_device *dev);
+INT i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
 				      comedi_cmd *cmd);
-INT i_APCI3200_CommandAnalogInput(comedi_device *dev, comedi_subdevice *s);
-INT i_APCI3200_ReadDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_CommandAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
+INT i_APCI3200_ReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3200_Interrupt(int irq, void *d);
-int i_APCI3200_InterruptHandleEos(comedi_device *dev);
+int i_APCI3200_InterruptHandleEos(struct comedi_device *dev);
 //Reset functions
-INT i_APCI3200_Reset(comedi_device *dev);
+INT i_APCI3200_Reset(struct comedi_device *dev);
 
-int i_APCI3200_ReadCJCCalOffset(comedi_device *dev, unsigned int *data);
-int i_APCI3200_ReadCJCValue(comedi_device *dev, unsigned int *data);
-int i_APCI3200_ReadCalibrationGainValue(comedi_device *dev, UINT *data);
-int i_APCI3200_ReadCalibrationOffsetValue(comedi_device *dev, UINT *data);
-int i_APCI3200_Read1AnalogInputChannel(comedi_device *dev,
+int i_APCI3200_ReadCJCCalOffset(struct comedi_device *dev, unsigned int *data);
+int i_APCI3200_ReadCJCValue(struct comedi_device *dev, unsigned int *data);
+int i_APCI3200_ReadCalibrationGainValue(struct comedi_device *dev, UINT *data);
+int i_APCI3200_ReadCalibrationOffsetValue(struct comedi_device *dev, UINT *data);
+int i_APCI3200_Read1AnalogInputChannel(struct comedi_device *dev,
 				       comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
-int i_APCI3200_ReadCJCCalGain(comedi_device *dev, unsigned int *data);
+int i_APCI3200_ReadCJCCalGain(struct comedi_device *dev, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
index 8f5bc0132a62..352e630a603a 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
@@ -56,12 +56,12 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalInput                    |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To read       |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3501_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -99,12 +99,12 @@ INT i_APCI3501_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigDigitalOutput                     |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -121,7 +121,7 @@ INT i_APCI3501_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3501_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -142,12 +142,12 @@ int i_APCI3501_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteDigitalOutput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : writes To the digital Output Subdevice                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
@@ -161,7 +161,7 @@ int i_APCI3501_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -232,12 +232,12 @@ INT i_APCI3501_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalOutput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     UINT ui_NoOfChannels    : No Of Channels To read       |
 |                     UINT *data              : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -248,7 +248,7 @@ INT i_APCI3501_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -275,12 +275,12 @@ INT i_APCI3501_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigAnalogOutput                      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Output Subdevice                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
@@ -298,7 +298,7 @@ INT i_APCI3501_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ConfigAnalogOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	outl(data[0],
@@ -316,12 +316,12 @@ INT i_APCI3501_ConfigAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteAnalogOutput                       |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes To the Selected Anlog Output Channel            |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev      : Driver handle                |
+| Input Parameters  : struct comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
@@ -336,7 +336,7 @@ INT i_APCI3501_ConfigAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_WriteAnalogOutput(comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0, ul_Channel_no, ul_Polarity, ul_DAC_Ready = 0;;
@@ -386,12 +386,12 @@ INT i_APCI3501_WriteAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigTimerCounterWatchdog              |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -410,7 +410,7 @@ INT i_APCI3501_WriteAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device * dev,
+INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
@@ -489,12 +489,12 @@ INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_StartStopWriteTimerCounterWatchdog      |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -511,7 +511,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
+int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
@@ -592,12 +592,12 @@ int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadTimerCounterWatchdog                |
-|			  (comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev : Driver handle                     |
+| Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     UINT *data         : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
@@ -613,7 +613,7 @@ int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3501_ReadTimerCounterWatchdog(comedi_device * dev,
+int i_APCI3501_ReadTimerCounterWatchdog(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
@@ -640,7 +640,7 @@ int i_APCI3501_ReadTimerCounterWatchdog(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   :  int i_APCI3501_Reset(comedi_device *dev)			     |
+| Function   Name   :  int i_APCI3501_Reset(struct comedi_device *dev)			     |
 |					                                                 |
 +----------------------------------------------------------------------------+
 | Task              :Resets the registers of the card                        |
@@ -654,7 +654,7 @@ int i_APCI3501_ReadTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3501_Reset(comedi_device * dev)
+int i_APCI3501_Reset(struct comedi_device * dev)
 {
 	int i_Count = 0, i_temp = 0;
 	ULONG ul_Command1 = 0, ul_Polarity, ul_DAC_Ready = 0;
@@ -708,7 +708,7 @@ int i_APCI3501_Reset(comedi_device * dev)
 void v_APCI3501_Interrupt(int irq, void *d)
 {
 	int i_temp;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	unsigned int ui_Timer_AOWatchdog;
 	unsigned long ul_Command1;
 	// Disable Interrupt
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
index aeb7f032884f..a7dd01e5e57a 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
@@ -55,40 +55,40 @@ comedi_lrange range_apci3501_ao = { 2, {
 // Hardware Layer  functions for Apci3501
 
 //AO
-INT i_APCI3501_ConfigAnalogOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ConfigAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_WriteAnalogOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_WriteAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
-//INT i_APCI3501_ReadDigitalInput(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+//INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
 
-INT i_APCI3501_ReadDigitalInput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
 //DO
-int i_APCI3501_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+int i_APCI3501_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device *dev,
+INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device *dev,
 					  comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
-int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device *dev,
+int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device *dev,
 						  comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
-int i_APCI3501_ReadTimerCounterWatchdog(comedi_device *dev,
+int i_APCI3501_ReadTimerCounterWatchdog(struct comedi_device *dev,
 					comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3501_Interrupt(int irq, void *d);
 
 //Reset functions
-int i_APCI3501_Reset(comedi_device *dev);
+int i_APCI3501_Reset(struct comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
index 7a78c99405b2..44ca298f75ba 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
@@ -55,7 +55,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_TestConversionStarted                 |
-|                          (comedi_device    *dev)                           |
+|                          (struct comedi_device    *dev)                           |
 +----------------------------------------------------------------------------+
 | Task                Test if any conversion started                         |
 +----------------------------------------------------------------------------+
@@ -68,7 +68,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_TestConversionStarted(comedi_device * dev)
+int i_APCI3XXX_TestConversionStarted(struct comedi_device * dev)
 {
 	if ((readl((void *)(devpriv-&gt;dw_AiBase + 8)) &amp; 0x80000UL) == 0x80000UL) {
 		return (1);
@@ -80,7 +80,7 @@ int i_APCI3XXX_TestConversionStarted(comedi_device * dev)
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_AnalogInputConfigOperatingMode        |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -105,7 +105,7 @@ int i_APCI3XXX_TestConversionStarted(comedi_device * dev)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_AnalogInputConfigOperatingMode(comedi_device * dev,
+int i_APCI3XXX_AnalogInputConfigOperatingMode(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -274,7 +274,7 @@ int i_APCI3XXX_AnalogInputConfigOperatingMode(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnConfigAnalogInput                 |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -295,7 +295,7 @@ int i_APCI3XXX_AnalogInputConfigOperatingMode(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnConfigAnalogInput(comedi_device * dev,
+int i_APCI3XXX_InsnConfigAnalogInput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -332,7 +332,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnReadAnalogInput                   |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -355,7 +355,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnReadAnalogInput(comedi_device * dev,
+int i_APCI3XXX_InsnReadAnalogInput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -606,7 +606,7 @@ int i_APCI3XXX_InsnReadAnalogInput(comedi_device * dev,
 
 void v_APCI3XXX_Interrupt(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	BYTE b_CopyCpt = 0;
 	DWORD dw_Status = 0;
 
@@ -663,7 +663,7 @@ void v_APCI3XXX_Interrupt(int irq, void *d)
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnWriteAnalogOutput                 |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -684,7 +684,7 @@ void v_APCI3XXX_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnWriteAnalogOutput(comedi_device * dev,
+int i_APCI3XXX_InsnWriteAnalogOutput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Range = (BYTE) CR_RANGE(insn-&gt;chanspec);
@@ -769,7 +769,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnConfigInitTTLIO                   |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -791,7 +791,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnConfigInitTTLIO(comedi_device * dev,
+int i_APCI3XXX_InsnConfigInitTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -900,7 +900,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI3XXX_InsnBitsTTLIO                       |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -919,7 +919,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnBitsTTLIO(comedi_device * dev,
+int i_APCI3XXX_InsnBitsTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1057,7 +1057,7 @@ int i_APCI3XXX_InsnBitsTTLIO(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI3XXX_InsnReadTTLIO                           |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -1074,7 +1074,7 @@ int i_APCI3XXX_InsnBitsTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnReadTTLIO(comedi_device * dev,
+int i_APCI3XXX_InsnReadTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -1169,7 +1169,7 @@ int i_APCI3XXX_InsnReadTTLIO(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI3XXX_InsnWriteTTLIO                      |
-|                          (comedi_device    *dev,                           |
+|                          (struct comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
@@ -1187,7 +1187,7 @@ int i_APCI3XXX_InsnReadTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnWriteTTLIO(comedi_device * dev,
+int i_APCI3XXX_InsnWriteTTLIO(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1281,7 +1281,7 @@ int i_APCI3XXX_InsnWriteTTLIO(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnReadDigitalInput                     |
-|                                          (comedi_device *dev,              |
+|                                          (struct comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
@@ -1298,7 +1298,7 @@ int i_APCI3XXX_InsnWriteTTLIO(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnReadDigitalInput(comedi_device * dev,
+int i_APCI3XXX_InsnReadDigitalInput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1340,7 +1340,7 @@ int i_APCI3XXX_InsnReadDigitalInput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnBitsDigitalInput                     |
-|                                          (comedi_device *dev,              |
+|                                          (struct comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
@@ -1356,7 +1356,7 @@ int i_APCI3XXX_InsnReadDigitalInput(comedi_device * dev,
 |                    -101 : Data size error                                  |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3XXX_InsnBitsDigitalInput(comedi_device * dev,
+int i_APCI3XXX_InsnBitsDigitalInput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1391,7 +1391,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnBitsDigitalOutput                    |
-|                                          (comedi_device *dev,              |
+|                                          (struct comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
@@ -1409,7 +1409,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(comedi_device * dev,
 |                    -101 : Data size error                                  |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3XXX_InsnBitsDigitalOutput(comedi_device * dev,
+int i_APCI3XXX_InsnBitsDigitalOutput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1487,7 +1487,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnWriteDigitalOutput                   |
-|                                          (comedi_device *dev,              |
+|                                          (struct comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
@@ -1505,7 +1505,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnWriteDigitalOutput(comedi_device * dev,
+int i_APCI3XXX_InsnWriteDigitalOutput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1563,7 +1563,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnReadDigitalOutput                    |
-|                                          (comedi_device *dev,              |
+|                                          (struct comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
@@ -1580,7 +1580,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_InsnReadDigitalOutput(comedi_device * dev,
+int i_APCI3XXX_InsnReadDigitalOutput(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
@@ -1627,10 +1627,10 @@ int i_APCI3XXX_InsnReadDigitalOutput(comedi_device * dev,
 
 /*
 +----------------------------------------------------------------------------+
-| Function   Name   : int i_APCI3XXX_Reset(comedi_device *dev)               |                                                         +----------------------------------------------------------------------------+
+| Function   Name   : int i_APCI3XXX_Reset(struct comedi_device *dev)               |                                                         +----------------------------------------------------------------------------+
 | Task              :resets all the registers                                |
 +----------------------------------------------------------------------------+
-| Input Parameters  : comedi_device *dev                                     |
+| Input Parameters  : struct comedi_device *dev                                     |
 +----------------------------------------------------------------------------+
 | Output Parameters : -                                                      |
 +----------------------------------------------------------------------------+
@@ -1638,7 +1638,7 @@ int i_APCI3XXX_InsnReadDigitalOutput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3XXX_Reset(comedi_device * dev)
+int i_APCI3XXX_Reset(struct comedi_device * dev)
 {
 	unsigned char b_Cpt = 0;
 
diff --git a/drivers/staging/comedi/drivers/adl_pci6208.c b/drivers/staging/comedi/drivers/adl_pci6208.c
index 65fe959fc53b..20aa52943fad 100644
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -106,8 +106,8 @@ typedef struct {
 
 #define devpriv ((pci6208_private *)dev-&gt;private)
 
-static int pci6208_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci6208_detach(comedi_device * dev);
+static int pci6208_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci6208_detach(struct comedi_device * dev);
 
 #define pci6208_board_nbr \
 	(sizeof(pci6208_boards) / sizeof(pci6208_board))
@@ -121,19 +121,19 @@ static comedi_driver driver_pci6208 = {
 
 COMEDI_PCI_INITCLEANUP(driver_pci6208, pci6208_pci_table);
 
-static int pci6208_find_device(comedi_device * dev, int bus, int slot);
+static int pci6208_find_device(struct comedi_device * dev, int bus, int slot);
 static int
 pci6208_pci_setup(struct pci_dev *pci_dev, unsigned long *io_base_ptr,
 	int dev_minor);
 
 /*read/write functions*/
-static int pci6208_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-//static int pci6208_dio_insn_bits(comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_bits(struct comedi_device *dev,comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data);
-//static int pci6208_dio_insn_config(comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_config(struct comedi_device *dev,comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data);
 
 /*
@@ -142,7 +142,7 @@ static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pci6208_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci6208_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int retval;
@@ -205,7 +205,7 @@ static int pci6208_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pci6208_detach(comedi_device * dev)
+static int pci6208_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pci6208: remove\n", dev-&gt;minor);
 
@@ -219,7 +219,7 @@ static int pci6208_detach(comedi_device * dev)
 	return 0;
 }
 
-static int pci6208_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i = 0, Data_Read;
@@ -244,7 +244,7 @@ static int pci6208_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -261,7 +261,7 @@ static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-//static int pci6208_dio_insn_bits(comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_bits(struct comedi_device *dev,comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data)
 //{
 //      if(insn-&gt;n!=2)return -EINVAL;
@@ -285,7 +285,7 @@ static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 //      return 2;
 //}
 
-//static int pci6208_dio_insn_config(comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_config(struct comedi_device *dev,comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data)
 //{
 //      int chan=CR_CHAN(insn-&gt;chanspec);
@@ -305,7 +305,7 @@ static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 //      return 1;
 //}
 
-static int pci6208_find_device(comedi_device * dev, int bus, int slot)
+static int pci6208_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct pci_dev *pci_dev;
 	int i;
diff --git a/drivers/staging/comedi/drivers/adl_pci7296.c b/drivers/staging/comedi/drivers/adl_pci7296.c
index ddd3e2d8848a..9c9d3f47f503 100644
--- a/drivers/staging/comedi/drivers/adl_pci7296.c
+++ b/drivers/staging/comedi/drivers/adl_pci7296.c
@@ -63,8 +63,8 @@ typedef struct {
 
 #define devpriv ((adl_pci7296_private *)dev-&gt;private)
 
-static int adl_pci7296_attach(comedi_device * dev, comedi_devconfig * it);
-static int adl_pci7296_detach(comedi_device * dev);
+static int adl_pci7296_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int adl_pci7296_detach(struct comedi_device * dev);
 static comedi_driver driver_adl_pci7296 = {
       driver_name:"adl_pci7296",
       module:THIS_MODULE,
@@ -72,7 +72,7 @@ static comedi_driver driver_adl_pci7296 = {
       detach:adl_pci7296_detach,
 };
 
-static int adl_pci7296_attach(comedi_device * dev, comedi_devconfig * it)
+static int adl_pci7296_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	comedi_subdevice *s;
@@ -148,7 +148,7 @@ static int adl_pci7296_attach(comedi_device * dev, comedi_devconfig * it)
 	return -EIO;
 }
 
-static int adl_pci7296_detach(comedi_device * dev)
+static int adl_pci7296_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pci7432: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/adl_pci7432.c b/drivers/staging/comedi/drivers/adl_pci7432.c
index 4e54d08d2e37..75208720b175 100644
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -58,8 +58,8 @@ typedef struct {
 
 #define devpriv ((adl_pci7432_private *)dev-&gt;private)
 
-static int adl_pci7432_attach(comedi_device * dev, comedi_devconfig * it);
-static int adl_pci7432_detach(comedi_device * dev);
+static int adl_pci7432_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int adl_pci7432_detach(struct comedi_device * dev);
 static comedi_driver driver_adl_pci7432 = {
       driver_name:"adl_pci7432",
       module:THIS_MODULE,
@@ -69,15 +69,15 @@ static comedi_driver driver_adl_pci7432 = {
 
 /* Digital IO */
 
-static int adl_pci7432_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci7432_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*            */
 
-static int adl_pci7432_attach(comedi_device * dev, comedi_devconfig * it)
+static int adl_pci7432_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	comedi_subdevice *s;
@@ -150,7 +150,7 @@ static int adl_pci7432_attach(comedi_device * dev, comedi_devconfig * it)
 	return -EIO;
 }
 
-static int adl_pci7432_detach(comedi_device * dev)
+static int adl_pci7432_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pci7432: remove\n", dev-&gt;minor);
 
@@ -164,7 +164,7 @@ static int adl_pci7432_detach(comedi_device * dev)
 	return 0;
 }
 
-static int adl_pci7432_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_do_insn_bits called\n");
@@ -184,7 +184,7 @@ static int adl_pci7432_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci7432_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_di_insn_bits called\n");
diff --git a/drivers/staging/comedi/drivers/adl_pci8164.c b/drivers/staging/comedi/drivers/adl_pci8164.c
index 9d5c9875a06b..4cb3dc2e13bd 100644
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -70,8 +70,8 @@ typedef struct {
 
 #define devpriv ((adl_pci8164_private *)dev-&gt;private)
 
-static int adl_pci8164_attach(comedi_device * dev, comedi_devconfig * it);
-static int adl_pci8164_detach(comedi_device * dev);
+static int adl_pci8164_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int adl_pci8164_detach(struct comedi_device * dev);
 static comedi_driver driver_adl_pci8164 = {
       driver_name:"adl_pci8164",
       module:THIS_MODULE,
@@ -79,31 +79,31 @@ static comedi_driver driver_adl_pci8164 = {
       detach:adl_pci8164_detach,
 };
 
-static int adl_pci8164_insn_read_msts(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_ssts(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_buf0(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_buf1(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_cmd(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_otp(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_buf0(comedi_device * dev,
+static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_buf1(comedi_device * dev,
+static int adl_pci8164_insn_write_buf1(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_attach(comedi_device * dev, comedi_devconfig * it)
+static int adl_pci8164_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	comedi_subdevice *s;
@@ -194,7 +194,7 @@ static int adl_pci8164_attach(comedi_device * dev, comedi_devconfig * it)
 	return -EIO;
 }
 
-static int adl_pci8164_detach(comedi_device * dev)
+static int adl_pci8164_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pci8164: remove\n", dev-&gt;minor);
 
@@ -208,7 +208,7 @@ static int adl_pci8164_detach(comedi_device * dev)
 	return 0;
 }
 
-static int adl_pci8164_insn_read_msts(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -245,7 +245,7 @@ static int adl_pci8164_insn_read_msts(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci8164_insn_read_ssts(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -282,7 +282,7 @@ static int adl_pci8164_insn_read_ssts(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci8164_insn_read_buf0(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -319,7 +319,7 @@ static int adl_pci8164_insn_read_buf0(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci8164_insn_read_buf1(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -357,7 +357,7 @@ static int adl_pci8164_insn_read_buf1(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci8164_insn_write_cmd(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int axis, axis_reg;
@@ -395,7 +395,7 @@ static int adl_pci8164_insn_write_cmd(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci8164_insn_write_otp(comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -433,7 +433,7 @@ static int adl_pci8164_insn_write_otp(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int adl_pci8164_insn_write_buf0(comedi_device * dev,
+static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -471,7 +471,7 @@ static int adl_pci8164_insn_write_buf0(comedi_device * dev,
 	return 2;
 }
 
-static int adl_pci8164_insn_write_buf1(comedi_device * dev,
+static int adl_pci8164_insn_write_buf1(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index 1b9e9740a4c7..53eb696c06ad 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -265,9 +265,9 @@ Configuration options:
 // Function prototypes
 //
 
-static int pci9111_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci9111_detach(comedi_device * dev);
-static void pci9111_ai_munge(comedi_device * dev, comedi_subdevice * s,
+static int pci9111_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci9111_detach(struct comedi_device * dev);
+static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index);
 
 static const comedi_lrange pci9111_hr_ai_range = {
@@ -415,7 +415,7 @@ static void plx9050_interrupt_control(unsigned long io_base,
 // 8254 timer
 //
 
-static void pci9111_timer_set(comedi_device * dev)
+static void pci9111_timer_set(struct comedi_device * dev)
 {
 	pci9111_8254_control_set(PCI9111_8254_COUNTER_0 |
 		PCI9111_8254_READ_LOAD_LSB_MSB |
@@ -441,7 +441,7 @@ typedef enum {
 	external
 } pci9111_trigger_sources;
 
-static void pci9111_trigger_source_set(comedi_device * dev,
+static void pci9111_trigger_source_set(struct comedi_device * dev,
 	pci9111_trigger_sources source)
 {
 	int flags;
@@ -465,7 +465,7 @@ static void pci9111_trigger_source_set(comedi_device * dev,
 	pci9111_trigger_and_autoscan_set(flags);
 }
 
-static void pci9111_pretrigger_set(comedi_device * dev, bool pretrigger)
+static void pci9111_pretrigger_set(struct comedi_device * dev, bool pretrigger)
 {
 	int flags;
 
@@ -477,7 +477,7 @@ static void pci9111_pretrigger_set(comedi_device * dev, bool pretrigger)
 	pci9111_trigger_and_autoscan_set(flags);
 }
 
-static void pci9111_autoscan_set(comedi_device * dev, bool autoscan)
+static void pci9111_autoscan_set(struct comedi_device * dev, bool autoscan)
 {
 	int flags;
 
@@ -499,7 +499,7 @@ typedef enum {
 	irq_on_external_trigger
 } pci9111_ISC1_sources;
 
-static void pci9111_interrupt_source_set(comedi_device * dev,
+static void pci9111_interrupt_source_set(struct comedi_device * dev,
 	pci9111_ISC0_sources irq_0_source, pci9111_ISC1_sources irq_1_source)
 {
 	int flags;
@@ -527,7 +527,7 @@ static void pci9111_interrupt_source_set(comedi_device * dev,
 
 #undef AI_DO_CMD_DEBUG
 
-static int pci9111_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pci9111_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	// Disable interrupts
 
@@ -557,7 +557,7 @@ static int pci9111_ai_cancel(comedi_device * dev, comedi_subdevice * s)
   if (!src || tmp != src) error++
 
 static int
-pci9111_ai_do_cmd_test(comedi_device * dev,
+pci9111_ai_do_cmd_test(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int tmp;
@@ -758,7 +758,7 @@ pci9111_ai_do_cmd_test(comedi_device * dev,
 // Analog input command
 //
 
-static int pci9111_ai_do_cmd(comedi_device * dev, comedi_subdevice * subdevice)
+static int pci9111_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * subdevice)
 {
 	comedi_cmd *async_cmd = &amp;subdevice-&gt;async-&gt;cmd;
 
@@ -881,7 +881,7 @@ static int pci9111_ai_do_cmd(comedi_device * dev, comedi_subdevice * subdevice)
 	return 0;
 }
 
-static void pci9111_ai_munge(comedi_device * dev, comedi_subdevice * s,
+static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
@@ -911,7 +911,7 @@ static void pci9111_ai_munge(comedi_device * dev, comedi_subdevice * s,
 
 static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 {
-	comedi_device *dev = p_device;
+	struct comedi_device *dev = p_device;
 	comedi_subdevice *subdevice = dev-&gt;read_subdev;
 	comedi_async *async;
 	unsigned long irq_flags;
@@ -1071,7 +1071,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 
 #undef AI_INSN_DEBUG
 
-static int pci9111_ai_insn_read(comedi_device * dev,
+static int pci9111_ai_insn_read(struct comedi_device * dev,
 	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	int resolution =
@@ -1131,7 +1131,7 @@ static int pci9111_ai_insn_read(comedi_device * dev,
 //
 
 static int
-pci9111_ao_insn_write(comedi_device * dev,
+pci9111_ao_insn_write(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1148,7 +1148,7 @@ pci9111_ao_insn_write(comedi_device * dev,
 // Analog output readback
 //
 
-static int pci9111_ao_insn_read(comedi_device * dev,
+static int pci9111_ao_insn_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1170,7 +1170,7 @@ static int pci9111_ao_insn_read(comedi_device * dev,
 // Digital inputs
 //
 
-static int pci9111_di_insn_bits(comedi_device * dev,
+static int pci9111_di_insn_bits(struct comedi_device * dev,
 	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -1185,7 +1185,7 @@ static int pci9111_di_insn_bits(comedi_device * dev,
 // Digital outputs
 //
 
-static int pci9111_do_insn_bits(comedi_device * dev,
+static int pci9111_do_insn_bits(struct comedi_device * dev,
 	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -1218,7 +1218,7 @@ static int pci9111_do_insn_bits(comedi_device * dev,
 // Reset device
 //
 
-static int pci9111_reset(comedi_device * dev)
+static int pci9111_reset(struct comedi_device * dev)
 {
 	// Set trigger source to software
 
@@ -1246,7 +1246,7 @@ static int pci9111_reset(comedi_device * dev)
 //      - Declare device driver capability
 //
 
-static int pci9111_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci9111_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *subdevice;
 	unsigned long io_base, io_range, lcr_io_base, lcr_io_range;
@@ -1420,7 +1420,7 @@ static int pci9111_attach(comedi_device * dev, comedi_devconfig * it)
 // Detach
 //
 
-static int pci9111_detach(comedi_device * dev)
+static int pci9111_detach(struct comedi_device * dev)
 {
 	// Reset device
 
diff --git a/drivers/staging/comedi/drivers/adl_pci9118.c b/drivers/staging/comedi/drivers/adl_pci9118.c
index 9dc30b282973..c352e37d97ae 100644
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -178,8 +178,8 @@ static const comedi_lrange range_pci9118hg = { 8, {
 
 #define PCI9118_BIPOLAR_RANGES	4	/* used for test on mixture of BIP/UNI ranges */
 
-static int pci9118_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci9118_detach(comedi_device * dev);
+static int pci9118_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci9118_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// board name
@@ -288,7 +288,7 @@ typedef struct {
 	unsigned char cnt0_users;	// bit field of 8254 CNT0 users (0-unused, 1-AO, 2-DI, 3-DO)
 	unsigned char exttrg_users;	// bit field of external trigger users (0-AI, 1-AO, 2-DI, 3-DO)
 	unsigned int cnt0_divisor;	// actual CNT0 divisor
-	void (*int_ai_func) (comedi_device *, comedi_subdevice *, unsigned short, unsigned int, unsigned short);	// ptr to actual interrupt AI function
+	void (*int_ai_func) (struct comedi_device *, comedi_subdevice *, unsigned short, unsigned int, unsigned short);	// ptr to actual interrupt AI function
 	unsigned char ai16bits;	// =1 16 bit card
 	unsigned char usedma;	// =1 use DMA transfer and not INT
 	unsigned char useeoshandle;	// =1 change WAKE_EOS DMA transfer to fit on every second
@@ -308,18 +308,18 @@ typedef struct {
 ==============================================================================
 */
 
-static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int frontadd, int backadd);
-static int setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int rot, int frontadd, int backadd,
 	int usedma, char eoshandle);
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
-static int pci9118_reset(comedi_device * dev);
-static int pci9118_exttrg_add(comedi_device * dev, unsigned char source);
-static int pci9118_exttrg_del(comedi_device * dev, unsigned char source);
-static int pci9118_ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static void pci9118_calc_divisors(char mode, comedi_device * dev,
+static int pci9118_reset(struct comedi_device * dev);
+static int pci9118_exttrg_add(struct comedi_device * dev, unsigned char source);
+static int pci9118_exttrg_del(struct comedi_device * dev, unsigned char source);
+static int pci9118_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void pci9118_calc_divisors(char mode, struct comedi_device * dev,
 	comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
 	unsigned int flags, int chans, unsigned int *div1, unsigned int *div2,
 	char usessh, unsigned int chnsshfront);
@@ -327,7 +327,7 @@ static void pci9118_calc_divisors(char mode, comedi_device * dev,
 /*
 ==============================================================================
 */
-static int pci9118_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -377,7 +377,7 @@ static int pci9118_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci9118_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chanreg, ch;
@@ -400,7 +400,7 @@ static int pci9118_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci9118_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -415,7 +415,7 @@ static int pci9118_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci9118_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inl(dev-&gt;iobase + PCI9118_DI) &amp; 0xf;
@@ -426,7 +426,7 @@ static int pci9118_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci9118_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -442,7 +442,7 @@ static int pci9118_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static void interrupt_pci9118_ai_mode4_switch(comedi_device * dev)
+static void interrupt_pci9118_ai_mode4_switch(struct comedi_device * dev)
 {
 	devpriv-&gt;AdFunctionReg =
 		AdFunction_PDTrg | AdFunction_PETrg | AdFunction_AM;
@@ -456,7 +456,7 @@ static void interrupt_pci9118_ai_mode4_switch(comedi_device * dev)
 	outl(devpriv-&gt;AdFunctionReg, dev-&gt;iobase + PCI9118_ADFUNC);
 }
 
-static unsigned int defragment_dma_buffer(comedi_device * dev,
+static unsigned int defragment_dma_buffer(struct comedi_device * dev,
 	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int i = 0, j = 0;
@@ -480,7 +480,7 @@ static unsigned int defragment_dma_buffer(comedi_device * dev,
 /*
 ==============================================================================
 */
-static unsigned int move_block_from_dma(comedi_device * dev,
+static unsigned int move_block_from_dma(struct comedi_device * dev,
 	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int num_bytes;
@@ -501,7 +501,7 @@ static unsigned int move_block_from_dma(comedi_device * dev,
 /*
 ==============================================================================
 */
-static char pci9118_decode_error_status(comedi_device * dev,
+static char pci9118_decode_error_status(struct comedi_device * dev,
 	comedi_subdevice * s, unsigned char m)
 {
 	if (m &amp; 0x100) {
@@ -531,7 +531,7 @@ static char pci9118_decode_error_status(comedi_device * dev,
 	return 0;
 }
 
-static void pci9118_ai_munge(comedi_device * dev, comedi_subdevice * s,
+static void pci9118_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
@@ -551,7 +551,7 @@ static void pci9118_ai_munge(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static void interrupt_pci9118_ai_onesample(comedi_device * dev,
+static void interrupt_pci9118_ai_onesample(struct comedi_device * dev,
 	comedi_subdevice * s, unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
@@ -598,7 +598,7 @@ static void interrupt_pci9118_ai_onesample(comedi_device * dev,
 /*
 ==============================================================================
 */
-static void interrupt_pci9118_ai_dma(comedi_device * dev, comedi_subdevice * s,
+static void interrupt_pci9118_ai_dma(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
@@ -676,7 +676,7 @@ static void interrupt_pci9118_ai_dma(comedi_device * dev, comedi_subdevice * s,
 */
 static irqreturn_t interrupt_pci9118(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	unsigned int int_daq = 0, int_amcc, int_adstat;
 
 	if (!dev-&gt;attached)
@@ -727,7 +727,7 @@ static irqreturn_t interrupt_pci9118(int irq, void *d PT_REGS_ARG)
 /*
 ==============================================================================
 */
-static int pci9118_ai_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != devpriv-&gt;ai_inttrig_start)
@@ -751,7 +751,7 @@ static int pci9118_ai_inttrig(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci9118_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pci9118_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1009,7 +1009,7 @@ static int pci9118_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int Compute_and_setup_dma(comedi_device * dev)
+static int Compute_and_setup_dma(struct comedi_device * dev)
 {
 	unsigned int dmalen0, dmalen1, i;
 
@@ -1163,7 +1163,7 @@ static int Compute_and_setup_dma(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci9118_ai_docmd_sampl(comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_docmd_sampl(struct comedi_device * dev, comedi_subdevice * s)
 {
 	DPRINTK("adl_pci9118 EDBG: BGN: pci9118_ai_docmd_sampl(%d,) [%d]\n",
 		dev-&gt;minor, devpriv-&gt;ai_do);
@@ -1216,7 +1216,7 @@ static int pci9118_ai_docmd_sampl(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static int pci9118_ai_docmd_dma(comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_docmd_dma(struct comedi_device * dev, comedi_subdevice * s)
 {
 	DPRINTK("adl_pci9118 EDBG: BGN: pci9118_ai_docmd_dma(%d,) [%d,%d]\n",
 		dev-&gt;minor, devpriv-&gt;ai_do, devpriv-&gt;usedma);
@@ -1287,7 +1287,7 @@ static int pci9118_ai_docmd_dma(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static int pci9118_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int addchans = 0;
@@ -1486,7 +1486,7 @@ static int pci9118_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int frontadd, int backadd)
 {
 	unsigned int i, differencial = 0, bipolar = 0;
@@ -1537,7 +1537,7 @@ static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int rot, int frontadd, int backadd,
 	int usedma, char useeos)
 {
@@ -1651,7 +1651,7 @@ static int setup_channel_list(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
   calculate 8254 divisors if they are used for dual timing
 */
-static void pci9118_calc_divisors(char mode, comedi_device * dev,
+static void pci9118_calc_divisors(char mode, struct comedi_device * dev,
 	comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
 	unsigned int flags, int chans, unsigned int *div1, unsigned int *div2,
 	char usessh, unsigned int chnsshfront)
@@ -1710,7 +1710,7 @@ static void pci9118_calc_divisors(char mode, comedi_device * dev,
 /*
 ==============================================================================
 */
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2)
 {
 	outl(0x74, dev-&gt;iobase + PCI9118_CNTCTRL);
@@ -1729,7 +1729,7 @@ static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
 /*
 ==============================================================================
 */
-static int pci9118_exttrg_add(comedi_device * dev, unsigned char source)
+static int pci9118_exttrg_add(struct comedi_device * dev, unsigned char source)
 {
 	if (source &gt; 3)
 		return -1;	// incorrect source
@@ -1743,7 +1743,7 @@ static int pci9118_exttrg_add(comedi_device * dev, unsigned char source)
 /*
 ==============================================================================
 */
-static int pci9118_exttrg_del(comedi_device * dev, unsigned char source)
+static int pci9118_exttrg_del(struct comedi_device * dev, unsigned char source)
 {
 	if (source &gt; 3)
 		return -1;	// incorrect source
@@ -1760,7 +1760,7 @@ static int pci9118_exttrg_del(comedi_device * dev, unsigned char source)
 /*
 ==============================================================================
 */
-static int pci9118_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (devpriv-&gt;usedma)
 		outl(inl(devpriv-&gt;iobase_a + AMCC_OP_REG_MCSR) &amp; (~EN_A2P_TRANSFERS), devpriv-&gt;iobase_a + AMCC_OP_REG_MCSR);	// stop DMA
@@ -1795,7 +1795,7 @@ static int pci9118_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static int pci9118_reset(comedi_device * dev)
+static int pci9118_reset(struct comedi_device * dev)
 {
 	devpriv-&gt;IntControlReg = 0;
 	devpriv-&gt;exttrg_users = 0;
@@ -1835,7 +1835,7 @@ static int pci9118_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci9118_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci9118_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret, pages, i;
@@ -2071,7 +2071,7 @@ static int pci9118_attach(comedi_device * dev, comedi_devconfig * it)
 /*
 ==============================================================================
 */
-static int pci9118_detach(comedi_device * dev)
+static int pci9118_detach(struct comedi_device * dev)
 {
 	if (dev-&gt;private) {
 		if (devpriv-&gt;valid)
diff --git a/drivers/staging/comedi/drivers/adq12b.c b/drivers/staging/comedi/drivers/adq12b.c
index f32e55921b5f..295b667a381a 100644
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -162,8 +162,8 @@ typedef struct{
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int adq12b_attach(comedi_device *dev,comedi_devconfig *it);
-static int adq12b_detach(comedi_device *dev);
+static int adq12b_attach(struct comedi_device *dev,comedi_devconfig *it);
+static int adq12b_detach(struct comedi_device *dev);
 static comedi_driver driver_adq12b={
         driver_name:    "adq12b",
         module:         THIS_MODULE,
@@ -174,9 +174,9 @@ static comedi_driver driver_adq12b={
         num_names:      sizeof(adq12b_boards) / sizeof(adq12b_board),
 };
 
-static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
-static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
-static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -184,7 +184,7 @@ static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_in
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int adq12b_attach(comedi_device *dev,comedi_devconfig *it)
+static int adq12b_attach(struct comedi_device *dev,comedi_devconfig *it)
 {
         comedi_subdevice *s;
         unsigned long iobase;
@@ -297,7 +297,7 @@ static int adq12b_attach(comedi_device *dev,comedi_devconfig *it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int adq12b_detach(comedi_device *dev)
+static int adq12b_detach(struct comedi_device *dev)
 {
         if (dev-&gt;iobase)
           release_region(dev-&gt;iobase, ADQ12B_SIZE);
@@ -314,7 +314,7 @@ static int adq12b_detach(comedi_device *dev)
  * mode.
  */
 
-static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
+static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 {
         int n, i;
         int range, channel;
@@ -357,7 +357,7 @@ static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *i
 }
 
 
-static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
+static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
 
         /* only bits 0-4 have information about digital inputs */
@@ -367,7 +367,7 @@ static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_i
 }
 
 
-static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
+static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
         int channel;
 
diff --git a/drivers/staging/comedi/drivers/adv_pci1710.c b/drivers/staging/comedi/drivers/adv_pci1710.c
index e482e602ba9e..75d915310e01 100644
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -182,8 +182,8 @@ static const comedi_lrange range_pci171x_da = { 2, {
 	}
 };
 
-static int pci1710_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci1710_detach(comedi_device * dev);
+static int pci1710_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci1710_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// board name
@@ -304,14 +304,14 @@ typedef struct {
 ==============================================================================
 */
 
-static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan);
-static void setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen);
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
-static int pci1710_reset(comedi_device * dev);
-static int pci171x_ai_cancel(comedi_device * dev, comedi_subdevice * s);
+static int pci1710_reset(struct comedi_device * dev);
+static int pci171x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
 
 static const unsigned int muxonechan[] = { 0x0000, 0x0101, 0x0202, 0x0303, 0x0404, 0x0505, 0x0606, 0x0707,	// used for gain list programming
 	0x0808, 0x0909, 0x0a0a, 0x0b0b, 0x0c0c, 0x0d0d, 0x0e0e, 0x0f0f,
@@ -322,7 +322,7 @@ static const unsigned int muxonechan[] = { 0x0000, 0x0101, 0x0202, 0x0303, 0x040
 /*
 ==============================================================================
 */
-static int pci171x_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, timeout;
@@ -390,7 +390,7 @@ static int pci171x_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan, range, ofs;
@@ -421,7 +421,7 @@ static int pci171x_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -436,7 +436,7 @@ static int pci171x_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inw(dev-&gt;iobase + PCI171x_DI);
@@ -447,7 +447,7 @@ static int pci171x_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -463,7 +463,7 @@ static int pci171x_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_read(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_counter_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int msb, lsb, ccntrl;
@@ -485,7 +485,7 @@ static int pci171x_insn_counter_read(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_write(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_counter_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	uint msb, lsb, ccntrl, status;
@@ -512,7 +512,7 @@ static int pci171x_insn_counter_write(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_config(comedi_device * dev,
+static int pci171x_insn_counter_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef unused
@@ -548,7 +548,7 @@ static int pci171x_insn_counter_config(comedi_device * dev,
 /*
 ==============================================================================
 */
-static int pci1720_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
+static int pci1720_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, rangereg, chan;
@@ -576,7 +576,7 @@ static int pci1720_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
 */
 static void interrupt_pci1710_every_sample(void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int m;
 #ifdef PCI171x_PARANOIDCHECK
@@ -659,7 +659,7 @@ static void interrupt_pci1710_every_sample(void *d)
 /*
 ==============================================================================
 */
-static int move_block_from_fifo(comedi_device * dev, comedi_subdevice * s,
+static int move_block_from_fifo(struct comedi_device * dev, comedi_subdevice * s,
 	int n, int turn)
 {
 	int i, j;
@@ -707,7 +707,7 @@ static int move_block_from_fifo(comedi_device * dev, comedi_subdevice * s,
 */
 static void interrupt_pci1710_half_fifo(void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int m, samplesinbuf;
 
@@ -762,7 +762,7 @@ static void interrupt_pci1710_half_fifo(void *d)
 */
 static irqreturn_t interrupt_service_pci1710(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	DPRINTK("adv_pci1710 EDBG: BGN: interrupt_service_pci1710(%d,...)\n",
 		irq);
@@ -801,7 +801,7 @@ static irqreturn_t interrupt_service_pci1710(int irq, void *d PT_REGS_ARG)
 /*
 ==============================================================================
 */
-static int pci171x_ai_docmd_and_mode(int mode, comedi_device * dev,
+static int pci171x_ai_docmd_and_mode(int mode, struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	unsigned int divisor1, divisor2;
@@ -900,7 +900,7 @@ static void pci171x_cmdtest_out(int e, comedi_cmd * cmd)
 /*
 ==============================================================================
 */
-static int pci171x_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pci171x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1065,7 +1065,7 @@ static int pci171x_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci171x_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pci171x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -1104,7 +1104,7 @@ static int pci171x_ai_cmd(comedi_device * dev, comedi_subdevice * s)
  If it's ok, then program scan/gain logic.
  This works for all cards.
 */
-static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int chansegment[32];
@@ -1163,7 +1163,7 @@ static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
 	return seglen;
 }
 
-static void setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen)
 {
 	unsigned int i, range, chanprog;
@@ -1200,7 +1200,7 @@ static void setup_channel_list(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: start_pacer(%d,%u,%u)\n", mode,
@@ -1220,7 +1220,7 @@ static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
 /*
 ==============================================================================
 */
-static int pci171x_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pci171x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: pci171x_ai_cancel(...)\n");
 
@@ -1249,7 +1249,7 @@ static int pci171x_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static int pci171x_reset(comedi_device * dev)
+static int pci171x_reset(struct comedi_device * dev)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: pci171x_reset(...)\n");
 	outw(0x30, dev-&gt;iobase + PCI171x_CNTCTRL);
@@ -1279,7 +1279,7 @@ static int pci171x_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci1720_reset(comedi_device * dev)
+static int pci1720_reset(struct comedi_device * dev)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: pci1720_reset(...)\n");
 	outb(Syncont_SC0, dev-&gt;iobase + PCI1720_SYNCONT);	// set synchronous output mode
@@ -1301,7 +1301,7 @@ static int pci1720_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci1710_reset(comedi_device * dev)
+static int pci1710_reset(struct comedi_device * dev)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: pci1710_reset(...)\n");
 	switch (this_board-&gt;cardtype) {
@@ -1316,7 +1316,7 @@ static int pci1710_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci1710_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci1710_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
@@ -1540,7 +1540,7 @@ static int pci1710_attach(comedi_device * dev, comedi_devconfig * it)
 /*
 ==============================================================================
 */
-static int pci1710_detach(comedi_device * dev)
+static int pci1710_detach(struct comedi_device * dev)
 {
 
 	if (dev-&gt;private) {
diff --git a/drivers/staging/comedi/drivers/adv_pci1723.c b/drivers/staging/comedi/drivers/adv_pci1723.c
index 46b70942ac85..e69c2e358139 100644
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -143,8 +143,8 @@ MODULE_DEVICE_TABLE(pci, pci1723_pci_table);
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pci1723_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci1723_detach(comedi_device * dev);
+static int pci1723_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci1723_detach(struct comedi_device * dev);
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
@@ -175,7 +175,7 @@ typedef struct {
 /*
  *   the pci1723 card reset;
  */
-static int pci1723_reset(comedi_device * dev)
+static int pci1723_reset(struct comedi_device * dev)
 {
 	int i;
 	DPRINTK("adv_pci1723 EDBG: BGN: pci1723_reset(...)\n");
@@ -202,7 +202,7 @@ static int pci1723_reset(comedi_device * dev)
 	return 0;
 }
 
-static int pci1723_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
+static int pci1723_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -218,7 +218,7 @@ static int pci1723_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
 /*
   analog data output;
 */
-static int pci1723_ao_write_winsn(comedi_device * dev, comedi_subdevice * s,
+static int pci1723_ao_write_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -238,7 +238,7 @@ static int pci1723_ao_write_winsn(comedi_device * dev, comedi_subdevice * s,
 /*
   digital i/o config/query
 */
-static int pci1723_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pci1723_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -278,7 +278,7 @@ static int pci1723_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 /*
   digital i/o bits read/write
 */
-static int pci1723_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pci1723_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -294,7 +294,7 @@ static int pci1723_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
  * Attach is called by the Comedi core to configure the driver
  * for a pci1723 board.
  */
-static int pci1723_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci1723_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
@@ -439,7 +439,7 @@ static int pci1723_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pci1723_detach(comedi_device * dev)
+static int pci1723_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pci1723: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/adv_pci_dio.c b/drivers/staging/comedi/drivers/adv_pci_dio.c
index 25ddbc86fb33..18e778e398bf 100644
--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -183,8 +183,8 @@ typedef enum {
 
 #define OMBCMD_RETRY	0x03	/* 3 times try request before error */
 
-static int pci_dio_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci_dio_detach(comedi_device * dev);
+static int pci_dio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci_dio_detach(struct comedi_device * dev);
 
 typedef struct {
 	int chans;		// num of chans
@@ -357,7 +357,7 @@ static pci_dio_private *pci_priv = NULL;	/* list of allocated cards */
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_di_b(comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_di_b(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -374,7 +374,7 @@ static int pci_dio_insn_bits_di_b(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_di_w(comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_di_w(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -390,7 +390,7 @@ static int pci_dio_insn_bits_di_w(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_do_b(comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_do_b(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -411,7 +411,7 @@ static int pci_dio_insn_bits_do_b(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_do_w(comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_do_w(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
@@ -432,7 +432,7 @@ static int pci_dio_insn_bits_do_w(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci1760_unchecked_mbxrequest(comedi_device * dev,
+static int pci1760_unchecked_mbxrequest(struct comedi_device * dev,
 	unsigned char *omb, unsigned char *imb, int repeats)
 {
 	int cnt, tout, ok = 0;
@@ -460,7 +460,7 @@ static int pci1760_unchecked_mbxrequest(comedi_device * dev,
 	return -ETIME;
 }
 
-static int pci1760_clear_imb2(comedi_device * dev)
+static int pci1760_clear_imb2(struct comedi_device * dev)
 {
 	unsigned char omb[4] = { 0x0, 0x0, CMD_ClearIMB2, 0x0 };
 	unsigned char imb[4];
@@ -470,7 +470,7 @@ static int pci1760_clear_imb2(comedi_device * dev)
 	return pci1760_unchecked_mbxrequest(dev, omb, imb, OMBCMD_RETRY);
 }
 
-static int pci1760_mbxrequest(comedi_device * dev,
+static int pci1760_mbxrequest(struct comedi_device * dev,
 	unsigned char *omb, unsigned char *imb)
 {
 	if (omb[2] == CMD_ClearIMB2) {
@@ -490,7 +490,7 @@ static int pci1760_mbxrequest(comedi_device * dev,
 /*
 ==============================================================================
 */
-static int pci1760_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inb(dev-&gt;iobase + IMB3);
@@ -501,7 +501,7 @@ static int pci1760_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci1760_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
@@ -528,7 +528,7 @@ static int pci1760_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci1760_insn_cnt_read(comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_cnt_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret, n;
@@ -552,7 +552,7 @@ static int pci1760_insn_cnt_read(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci1760_insn_cnt_write(comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_cnt_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
@@ -590,7 +590,7 @@ static int pci1760_insn_cnt_write(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci1760_reset(comedi_device * dev)
+static int pci1760_reset(struct comedi_device * dev)
 {
 	int i;
 	unsigned char omb[4] = { 0x00, 0x00, 0x00, 0x00 };
@@ -667,7 +667,7 @@ static int pci1760_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci_dio_reset(comedi_device * dev)
+static int pci_dio_reset(struct comedi_device * dev)
 {
 	DPRINTK("adv_pci_dio EDBG: BGN: pci171x_reset(...)\n");
 
@@ -750,7 +750,7 @@ static int pci_dio_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pci1760_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci1760_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int subdev = 0;
@@ -802,7 +802,7 @@ static int pci1760_attach(comedi_device * dev, comedi_devconfig * it)
 /*
 ==============================================================================
 */
-static int pci_dio_add_di(comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_add_di(struct comedi_device * dev, comedi_subdevice * s,
 	const diosubd_data * d, int subdev)
 {
 	s-&gt;type = COMEDI_SUBD_DI;
@@ -829,7 +829,7 @@ static int pci_dio_add_di(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pci_dio_add_do(comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_add_do(struct comedi_device * dev, comedi_subdevice * s,
 	const diosubd_data * d, int subdev)
 {
 	s-&gt;type = COMEDI_SUBD_DO;
@@ -857,7 +857,7 @@ static int pci_dio_add_do(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int CheckAndAllocCard(comedi_device * dev, comedi_devconfig * it,
+static int CheckAndAllocCard(struct comedi_device * dev, comedi_devconfig * it,
 	struct pci_dev *pcidev)
 {
 	pci_dio_private *pr, *prev;
@@ -883,7 +883,7 @@ static int CheckAndAllocCard(comedi_device * dev, comedi_devconfig * it,
 /*
 ==============================================================================
 */
-static int pci_dio_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci_dio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret, subdev, n_subdevices, i, j;
@@ -1011,7 +1011,7 @@ static int pci_dio_attach(comedi_device * dev, comedi_devconfig * it)
 /*
 ==============================================================================
 */
-static int pci_dio_detach(comedi_device * dev)
+static int pci_dio_detach(struct comedi_device * dev)
 {
 	int i, j;
 	comedi_subdevice *s;
diff --git a/drivers/staging/comedi/drivers/aio_aio12_8.c b/drivers/staging/comedi/drivers/aio_aio12_8.c
index 3a326f6e3205..37d13d68089e 100644
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -88,7 +88,7 @@ typedef struct {
 
 #define devpriv	((aio12_8_private *) dev-&gt;private)
 
-static int aio_aio12_8_ai_read(comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ai_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -122,7 +122,7 @@ static int aio_aio12_8_ai_read(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int aio_aio12_8_ao_read(comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ao_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -133,7 +133,7 @@ static int aio_aio12_8_ao_read(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int aio_aio12_8_ao_write(comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ao_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -161,7 +161,7 @@ static const comedi_lrange range_aio_aio12_8 = {
 		}
 };
 
-static int aio_aio12_8_attach(comedi_device * dev, comedi_devconfig * it)
+static int aio_aio12_8_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase;
 	comedi_subdevice *s;
@@ -205,7 +205,7 @@ static int aio_aio12_8_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int aio_aio12_8_detach(comedi_device * dev)
+static int aio_aio12_8_detach(struct comedi_device * dev)
 {
 	subdev_8255_cleanup(dev, &amp;dev-&gt;subdevices[2]);
 	if (dev-&gt;iobase)
diff --git a/drivers/staging/comedi/drivers/aio_iiro_16.c b/drivers/staging/comedi/drivers/aio_iiro_16.c
index 2da86744bc00..88f8e188e0c9 100644
--- a/drivers/staging/comedi/drivers/aio_iiro_16.c
+++ b/drivers/staging/comedi/drivers/aio_iiro_16.c
@@ -67,9 +67,9 @@ typedef struct {
 
 #define	devpriv	((aio_iiro_16_private *) dev-&gt;private)
 
-static int aio_iiro_16_attach(comedi_device * dev, comedi_devconfig * it);
+static int aio_iiro_16_attach(struct comedi_device * dev, comedi_devconfig * it);
 
-static int aio_iiro_16_detach(comedi_device * dev);
+static int aio_iiro_16_detach(struct comedi_device * dev);
 
 static comedi_driver driver_aio_iiro_16 = {
       driver_name:"aio_iiro_16",
@@ -81,13 +81,13 @@ static comedi_driver driver_aio_iiro_16 = {
       num_names:sizeof(aio_iiro_16_boards) / sizeof(aio_iiro_16_board),
 };
 
-static int aio_iiro_16_dio_insn_bits_read(comedi_device * dev,
+static int aio_iiro_16_dio_insn_bits_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int aio_iiro_16_dio_insn_bits_write(comedi_device * dev,
+static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int aio_iiro_16_attach(comedi_device * dev, comedi_devconfig * it)
+static int aio_iiro_16_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase;
 	comedi_subdevice *s;
@@ -132,7 +132,7 @@ static int aio_iiro_16_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int aio_iiro_16_detach(comedi_device * dev)
+static int aio_iiro_16_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: aio_iiro_16: remove\n", dev-&gt;minor);
 
@@ -142,7 +142,7 @@ static int aio_iiro_16_detach(comedi_device * dev)
 	return 0;
 }
 
-static int aio_iiro_16_dio_insn_bits_write(comedi_device * dev,
+static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -161,7 +161,7 @@ static int aio_iiro_16_dio_insn_bits_write(comedi_device * dev,
 	return 2;
 }
 
-static int aio_iiro_16_dio_insn_bits_read(comedi_device * dev,
+static int aio_iiro_16_dio_insn_bits_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
diff --git a/drivers/staging/comedi/drivers/amplc_dio200.c b/drivers/staging/comedi/drivers/amplc_dio200.c
index 8c8e58f71ec6..642071a92971 100644
--- a/drivers/staging/comedi/drivers/amplc_dio200.c
+++ b/drivers/staging/comedi/drivers/amplc_dio200.c
@@ -436,7 +436,7 @@ MODULE_DEVICE_TABLE(pci, dio200_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 #ifdef CONFIG_COMEDI_PCI
 	struct pci_dev *pci_dev;	/* PCI device */
@@ -473,8 +473,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int dio200_attach(comedi_device * dev, comedi_devconfig * it);
-static int dio200_detach(comedi_device * dev);
+static int dio200_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dio200_detach(struct comedi_device * dev);
 static comedi_driver driver_amplc_dio200 = {
       driver_name:DIO200_DRIVER_NAME,
       module:THIS_MODULE,
@@ -497,7 +497,7 @@ COMEDI_INITCLEANUP(driver_amplc_dio200);
  */
 #ifdef CONFIG_COMEDI_PCI
 static int
-dio200_find_pci(comedi_device * dev, int bus, int slot,
+dio200_find_pci(struct comedi_device * dev, int bus, int slot,
 	struct pci_dev **pci_dev_p)
 {
 	struct pci_dev *pci_dev = NULL;
@@ -572,7 +572,7 @@ dio200_request_region(unsigned minor, unsigned long from, unsigned long extent)
  * 'insn_bits' function for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
@@ -591,7 +591,7 @@ dio200_subdev_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
 /*
  * Called to stop acquisition for an 'INTERRUPT' subdevice.
  */
-static void dio200_stop_intr(comedi_device * dev, comedi_subdevice * s)
+static void dio200_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -605,7 +605,7 @@ static void dio200_stop_intr(comedi_device * dev, comedi_subdevice * s)
 /*
  * Called to start acquisition for an 'INTERRUPT' subdevice.
  */
-static int dio200_start_intr(comedi_device * dev, comedi_subdevice * s)
+static int dio200_start_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned int n;
 	unsigned isn_bits;
@@ -641,7 +641,7 @@ static int dio200_start_intr(comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_inttrig_start_intr(comedi_device * dev, comedi_subdevice * s,
+dio200_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	dio200_subdev_intr *subpriv;
@@ -671,7 +671,7 @@ dio200_inttrig_start_intr(comedi_device * dev, comedi_subdevice * s,
  * This is called from the interrupt service routine to handle a read
  * scan on an 'INTERRUPT' subdevice.
  */
-static int dio200_handle_read_intr(comedi_device * dev, comedi_subdevice * s)
+static int dio200_handle_read_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 	unsigned triggered;
@@ -783,7 +783,7 @@ static int dio200_handle_read_intr(comedi_device * dev, comedi_subdevice * s)
 /*
  * 'cancel' function for an 'INTERRUPT' subdevice.
  */
-static int dio200_subdev_intr_cancel(comedi_device * dev, comedi_subdevice * s)
+static int dio200_subdev_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 	unsigned long flags;
@@ -801,7 +801,7 @@ static int dio200_subdev_intr_cancel(comedi_device * dev, comedi_subdevice * s)
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -907,7 +907,7 @@ dio200_subdev_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int dio200_subdev_intr_cmd(comedi_device * dev, comedi_subdevice * s)
+static int dio200_subdev_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	dio200_subdev_intr *subpriv = s-&gt;private;
@@ -953,7 +953,7 @@ static int dio200_subdev_intr_cmd(comedi_device * dev, comedi_subdevice * s)
  * This function initializes an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_init(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_init(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long iobase, unsigned valid_isns, int has_int_sce)
 {
 	dio200_subdev_intr *subpriv;
@@ -998,7 +998,7 @@ dio200_subdev_intr_init(comedi_device * dev, comedi_subdevice * s,
  * This function cleans up an 'INTERRUPT' subdevice.
  */
 static void
-dio200_subdev_intr_cleanup(comedi_device * dev, comedi_subdevice * s)
+dio200_subdev_intr_cleanup(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -1012,7 +1012,7 @@ dio200_subdev_intr_cleanup(comedi_device * dev, comedi_subdevice * s)
  */
 static irqreturn_t dio200_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	int handled;
 
 	if (!dev-&gt;attached) {
@@ -1033,7 +1033,7 @@ static irqreturn_t dio200_interrupt(int irq, void *d PT_REGS_ARG)
  * Handle 'insn_read' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_read(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
@@ -1048,7 +1048,7 @@ dio200_subdev_8254_read(comedi_device * dev, comedi_subdevice * s,
  * Handle 'insn_write' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_write(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
@@ -1142,7 +1142,7 @@ dio200_get_clock_src(dio200_subdev_8254 * subpriv, unsigned int counter_number,
  * Handle 'insn_config' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_config(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
@@ -1194,7 +1194,7 @@ dio200_subdev_8254_config(comedi_device * dev, comedi_subdevice * s,
  * offset is the offset to the 8254 chip.
  */
 static int
-dio200_subdev_8254_init(comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_init(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long iobase, unsigned offset, int has_clk_gat_sce)
 {
 	dio200_subdev_8254 *subpriv;
@@ -1247,7 +1247,7 @@ dio200_subdev_8254_init(comedi_device * dev, comedi_subdevice * s,
  * This function cleans up an '8254' counter subdevice.
  */
 static void
-dio200_subdev_8254_cleanup(comedi_device * dev, comedi_subdevice * s)
+dio200_subdev_8254_cleanup(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -1262,7 +1262,7 @@ dio200_subdev_8254_cleanup(comedi_device * dev, comedi_subdevice * s)
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int dio200_attach(comedi_device * dev, comedi_devconfig * it)
+static int dio200_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = 0;
@@ -1429,7 +1429,7 @@ static int dio200_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int dio200_detach(comedi_device * dev)
+static int dio200_detach(struct comedi_device * dev)
 {
 	const dio200_layout *layout;
 	unsigned n;
diff --git a/drivers/staging/comedi/drivers/amplc_pc236.c b/drivers/staging/comedi/drivers/amplc_pc236.c
index 8d3fb69176ca..adbd79421d4d 100644
--- a/drivers/staging/comedi/drivers/amplc_pc236.c
+++ b/drivers/staging/comedi/drivers/amplc_pc236.c
@@ -147,7 +147,7 @@ MODULE_DEVICE_TABLE(pci, pc236_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 #ifdef CONFIG_COMEDI_PCI
 	/* PCI device */
@@ -165,8 +165,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pc236_attach(comedi_device * dev, comedi_devconfig * it);
-static int pc236_detach(comedi_device * dev);
+static int pc236_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pc236_detach(struct comedi_device * dev);
 static comedi_driver driver_amplc_pc236 = {
       driver_name:PC236_DRIVER_NAME,
       module:THIS_MODULE,
@@ -185,15 +185,15 @@ COMEDI_INITCLEANUP(driver_amplc_pc236);
 
 static int pc236_request_region(unsigned minor, unsigned long from,
 	unsigned long extent);
-static void pc236_intr_disable(comedi_device * dev);
-static void pc236_intr_enable(comedi_device * dev);
-static int pc236_intr_check(comedi_device * dev);
-static int pc236_intr_insn(comedi_device * dev, comedi_subdevice * s,
+static void pc236_intr_disable(struct comedi_device * dev);
+static void pc236_intr_enable(struct comedi_device * dev);
+static int pc236_intr_check(struct comedi_device * dev);
+static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pc236_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pc236_intr_cmd(comedi_device * dev, comedi_subdevice * s);
-static int pc236_intr_cancel(comedi_device * dev, comedi_subdevice * s);
+static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG);
 
 /*
@@ -202,7 +202,7 @@ static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG);
  */
 #ifdef CONFIG_COMEDI_PCI
 static int
-pc236_find_pci(comedi_device * dev, int bus, int slot,
+pc236_find_pci(struct comedi_device * dev, int bus, int slot,
 	struct pci_dev **pci_dev_p)
 {
 	struct pci_dev *pci_dev = NULL;
@@ -264,7 +264,7 @@ pc236_find_pci(comedi_device * dev, int bus, int slot,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pc236_attach(comedi_device * dev, comedi_devconfig * it)
+static int pc236_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = 0;
@@ -405,7 +405,7 @@ static int pc236_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pc236_detach(comedi_device * dev)
+static int pc236_detach(struct comedi_device * dev)
 {
 	printk(KERN_DEBUG "comedi%d: %s: detach\n", dev-&gt;minor,
 		PC236_DRIVER_NAME);
@@ -459,7 +459,7 @@ static int pc236_request_region(unsigned minor, unsigned long from,
  * configured on subdevice 1) and to physically disable the interrupt
  * (not possible on the PC36AT, except by removing the IRQ jumper!).
  */
-static void pc236_intr_disable(comedi_device * dev)
+static void pc236_intr_disable(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -477,7 +477,7 @@ static void pc236_intr_disable(comedi_device * dev)
  * configured on subdevice 1) and to physically enable the interrupt
  * (not possible on the PC36AT, except by (re)connecting the IRQ jumper!).
  */
-static void pc236_intr_enable(comedi_device * dev)
+static void pc236_intr_enable(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -497,7 +497,7 @@ static void pc236_intr_enable(comedi_device * dev)
  * interrupt.
  * Returns 0 if the interrupt should be ignored.
  */
-static int pc236_intr_check(comedi_device * dev)
+static int pc236_intr_check(struct comedi_device * dev)
 {
 	int retval = 0;
 	unsigned long flags;
@@ -528,7 +528,7 @@ static int pc236_intr_check(comedi_device * dev)
  * Input from subdevice 1.
  * Copied from the comedi_parport driver.
  */
-static int pc236_intr_insn(comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = 0;
@@ -539,7 +539,7 @@ static int pc236_intr_insn(comedi_device * dev, comedi_subdevice * s,
  * Subdevice 1 command test.
  * Copied from the comedi_parport driver.
  */
-static int pc236_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -617,7 +617,7 @@ static int pc236_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
 /*
  * Subdevice 1 command.
  */
-static int pc236_intr_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	pc236_intr_enable(dev);
 
@@ -627,7 +627,7 @@ static int pc236_intr_cmd(comedi_device * dev, comedi_subdevice * s)
 /*
  * Subdevice 1 cancel command.
  */
-static int pc236_intr_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	pc236_intr_disable(dev);
 
@@ -640,7 +640,7 @@ static int pc236_intr_cancel(comedi_device * dev, comedi_subdevice * s)
  */
 static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 1;
 	int handled;
 
diff --git a/drivers/staging/comedi/drivers/amplc_pc263.c b/drivers/staging/comedi/drivers/amplc_pc263.c
index 4c23b018ce5e..5f4c7e28102b 100644
--- a/drivers/staging/comedi/drivers/amplc_pc263.c
+++ b/drivers/staging/comedi/drivers/amplc_pc263.c
@@ -116,7 +116,7 @@ MODULE_DEVICE_TABLE(pci, pc263_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 #ifdef CONFIG_COMEDI_PCI
 typedef struct {
 	/* PCI device. */
@@ -132,8 +132,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pc263_attach(comedi_device * dev, comedi_devconfig * it);
-static int pc263_detach(comedi_device * dev);
+static int pc263_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pc263_detach(struct comedi_device * dev);
 static comedi_driver driver_amplc_pc263 = {
       driver_name:PC263_DRIVER_NAME,
       module:THIS_MODULE,
@@ -146,9 +146,9 @@ static comedi_driver driver_amplc_pc263 = {
 
 static int pc263_request_region(unsigned minor, unsigned long from,
 	unsigned long extent);
-static int pc263_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pc263_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -157,7 +157,7 @@ static int pc263_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
  */
 #ifdef CONFIG_COMEDI_PCI
 static int
-pc263_find_pci(comedi_device * dev, int bus, int slot,
+pc263_find_pci(struct comedi_device * dev, int bus, int slot,
 	struct pci_dev **pci_dev_p)
 {
 	struct pci_dev *pci_dev = NULL;
@@ -219,7 +219,7 @@ pc263_find_pci(comedi_device * dev, int bus, int slot,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pc263_attach(comedi_device * dev, comedi_devconfig * it)
+static int pc263_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = 0;
@@ -337,7 +337,7 @@ static int pc263_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pc263_detach(comedi_device * dev)
+static int pc263_detach(struct comedi_device * dev)
 {
 	printk(KERN_DEBUG "comedi%d: %s: detach\n", dev-&gt;minor,
 		PC263_DRIVER_NAME);
@@ -387,7 +387,7 @@ static int pc263_request_region(unsigned minor, unsigned long from,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pc263_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -412,7 +412,7 @@ static int pc263_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pc263_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 1)
diff --git a/drivers/staging/comedi/drivers/amplc_pci224.c b/drivers/staging/comedi/drivers/amplc_pci224.c
index b936ccf9bb4d..afb110a868e2 100644
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -397,7 +397,7 @@ MODULE_DEVICE_TABLE(pci, pci224_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	struct pci_dev *pci_dev;	/* PCI device */
 	const unsigned short *hwrange;
@@ -426,8 +426,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pci224_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci224_detach(comedi_device * dev);
+static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci224_detach(struct comedi_device * dev);
 static comedi_driver driver_amplc_pci224 = {
       driver_name:DRIVER_NAME,
       module:THIS_MODULE,
@@ -444,7 +444,7 @@ COMEDI_PCI_INITCLEANUP(driver_amplc_pci224, pci224_pci_table);
  * Called from the 'insn_write' function to perform a single write.
  */
 static void
-pci224_ao_set_data(comedi_device * dev, int chan, int range, unsigned int data)
+pci224_ao_set_data(struct comedi_device * dev, int chan, int range, unsigned int data)
 {
 	unsigned short mangled;
 
@@ -477,7 +477,7 @@ pci224_ao_set_data(comedi_device * dev, int chan, int range, unsigned int data)
  * 'insn_write' function for AO subdevice.
  */
 static int
-pci224_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+pci224_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -504,7 +504,7 @@ pci224_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
  * command.
  */
 static int
-pci224_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+pci224_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -532,7 +532,7 @@ pci224_cascade_ns_to_timer(int osc_base, unsigned int *d1, unsigned int *d2,
 /*
  * Kills a command running on the AO subdevice.
  */
-static void pci224_ao_stop(comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -572,7 +572,7 @@ static void pci224_ao_stop(comedi_device * dev, comedi_subdevice * s)
 /*
  * Handles start of acquisition for the AO subdevice.
  */
-static void pci224_ao_start(comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_start(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
@@ -599,7 +599,7 @@ static void pci224_ao_start(comedi_device * dev, comedi_subdevice * s)
 /*
  * Handles interrupts from the DAC FIFO.
  */
-static void pci224_ao_handle_fifo(comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_handle_fifo(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int num_scans;
@@ -728,7 +728,7 @@ static void pci224_ao_handle_fifo(comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition on AO subdevice.
  */
 static int
-pci224_ao_inttrig_start(comedi_device * dev, comedi_subdevice * s,
+pci224_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -748,7 +748,7 @@ pci224_ao_inttrig_start(comedi_device * dev, comedi_subdevice * s,
  * 'do_cmdtest' function for AO subdevice.
  */
 static int
-pci224_ao_cmdtest(comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pci224_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
@@ -1015,7 +1015,7 @@ pci224_ao_cmdtest(comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
 /*
  * 'do_cmd' function for AO subdevice.
  */
-static int pci224_ao_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pci224_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int range;
@@ -1172,7 +1172,7 @@ static int pci224_ao_cmd(comedi_device * dev, comedi_subdevice * s)
 /*
  * 'cancel' function for AO subdevice.
  */
-static int pci224_ao_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pci224_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	pci224_ao_stop(dev, s);
 	return 0;
@@ -1182,7 +1182,7 @@ static int pci224_ao_cancel(comedi_device * dev, comedi_subdevice * s)
  * 'munge' data for AO command.
  */
 static void
-pci224_ao_munge(comedi_device * dev, comedi_subdevice * s, void *data,
+pci224_ao_munge(struct comedi_device * dev, comedi_subdevice * s, void *data,
 	unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
@@ -1214,7 +1214,7 @@ pci224_ao_munge(comedi_device * dev, comedi_subdevice * s, void *data,
  */
 static irqreturn_t pci224_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = &amp;dev-&gt;subdevices[0];
 	comedi_cmd *cmd;
 	unsigned char intstat, valid_intstat;
@@ -1264,7 +1264,7 @@ static irqreturn_t pci224_interrupt(int irq, void *d PT_REGS_ARG)
  * bus and slot.
  */
 static int
-pci224_find_pci(comedi_device * dev, int bus, int slot,
+pci224_find_pci(struct comedi_device * dev, int bus, int slot,
 	struct pci_dev **pci_dev_p)
 {
 	struct pci_dev *pci_dev = NULL;
@@ -1323,7 +1323,7 @@ pci224_find_pci(comedi_device * dev, int bus, int slot,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pci224_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	struct pci_dev *pci_dev;
@@ -1503,7 +1503,7 @@ static int pci224_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pci224_detach(comedi_device * dev)
+static int pci224_detach(struct comedi_device * dev)
 {
 	printk(KERN_DEBUG "comedi%d: %s: detach\n", dev-&gt;minor, DRIVER_NAME);
 
diff --git a/drivers/staging/comedi/drivers/amplc_pci230.c b/drivers/staging/comedi/drivers/amplc_pci230.c
index 4463e9803e08..c66a840085f7 100644
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -515,7 +515,7 @@ MODULE_DEVICE_TABLE(pci, pci230_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 struct pci230_private {
 	struct pci_dev *pci_dev;
 	spinlock_t isr_spinlock;	/* Interrupt spin lock */
@@ -601,8 +601,8 @@ static const unsigned char pci230_ao_bipolar[2] = { 0, 1 };
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pci230_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci230_detach(comedi_device * dev);
+static int pci230_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci230_detach(struct comedi_device * dev);
 static comedi_driver driver_amplc_pci230 = {
       driver_name:"amplc_pci230",
       module:THIS_MODULE,
@@ -615,32 +615,32 @@ static comedi_driver driver_amplc_pci230 = {
 
 COMEDI_PCI_INITCLEANUP(driver_amplc_pci230, pci230_pci_table);
 
-static int pci230_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci230_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci230_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static void pci230_ct_setup_ns_mode(comedi_device * dev, unsigned int ct,
+static void pci230_ct_setup_ns_mode(struct comedi_device * dev, unsigned int ct,
 	unsigned int mode, uint64_t ns, unsigned int round);
 static void pci230_ns_to_single_timer(unsigned int *ns, unsigned int round);
-static void pci230_cancel_ct(comedi_device * dev, unsigned int ct);
+static void pci230_cancel_ct(struct comedi_device * dev, unsigned int ct);
 static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG);
-static int pci230_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pci230_ao_cmd(comedi_device * dev, comedi_subdevice * s);
-static int pci230_ao_cancel(comedi_device * dev, comedi_subdevice * s);
-static void pci230_ao_stop(comedi_device * dev, comedi_subdevice * s);
-static void pci230_handle_ao_nofifo(comedi_device * dev, comedi_subdevice * s);
-static int pci230_handle_ao_fifo(comedi_device * dev, comedi_subdevice * s);
-static int pci230_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pci230_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s);
+static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice * s);
+static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice * s);
+static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pci230_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int pci230_ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static void pci230_ai_stop(comedi_device * dev, comedi_subdevice * s);
-static void pci230_handle_ai(comedi_device * dev, comedi_subdevice * s);
+static int pci230_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pci230_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s);
+static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s);
 
-static short pci230_ai_read(comedi_device * dev)
+static short pci230_ai_read(struct comedi_device * dev)
 {
 	/* Read sample. */
 	short data = (short) inw(dev-&gt;iobase + PCI230_ADCDATA);
@@ -658,7 +658,7 @@ static short pci230_ai_read(comedi_device * dev)
 	return data;
 }
 
-static inline unsigned short pci230_ao_mangle_datum(comedi_device * dev,
+static inline unsigned short pci230_ao_mangle_datum(struct comedi_device * dev,
 	short datum)
 {
 	/* If a bipolar range was specified, mangle it (straight binary-&gt;twos
@@ -674,7 +674,7 @@ static inline unsigned short pci230_ao_mangle_datum(comedi_device * dev,
 	return (unsigned short)datum;
 }
 
-static inline void pci230_ao_write_nofifo(comedi_device * dev, short datum,
+static inline void pci230_ao_write_nofifo(struct comedi_device * dev, short datum,
 	unsigned int chan)
 {
 	/* Store unmangled datum to be read back later. */
@@ -685,7 +685,7 @@ static inline void pci230_ao_write_nofifo(comedi_device * dev, short datum,
 			? PCI230_DACOUT1 : PCI230_DACOUT2));
 }
 
-static inline void pci230_ao_write_fifo(comedi_device * dev, short datum,
+static inline void pci230_ao_write_fifo(struct comedi_device * dev, short datum,
 	unsigned int chan)
 {
 	/* Store unmangled datum to be read back later. */
@@ -702,7 +702,7 @@ static inline void pci230_ao_write_fifo(comedi_device * dev, short datum,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pci230_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci230_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase1, iobase2;
@@ -959,7 +959,7 @@ static int pci230_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pci230_detach(comedi_device * dev)
+static int pci230_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: amplc_pci230: remove\n", dev-&gt;minor);
 
@@ -982,7 +982,7 @@ static int pci230_detach(comedi_device * dev)
 	return 0;
 }
 
-static int get_resources(comedi_device * dev, unsigned int res_mask,
+static int get_resources(struct comedi_device * dev, unsigned int res_mask,
 	unsigned char owner)
 {
 	int ok;
@@ -1018,13 +1018,13 @@ static int get_resources(comedi_device * dev, unsigned int res_mask,
 	return ok;
 }
 
-static inline int get_one_resource(comedi_device * dev, unsigned int resource,
+static inline int get_one_resource(struct comedi_device * dev, unsigned int resource,
 	unsigned char owner)
 {
 	return get_resources(dev, (1U &lt;&lt; resource), owner);
 }
 
-static void put_resources(comedi_device * dev, unsigned int res_mask,
+static void put_resources(struct comedi_device * dev, unsigned int res_mask,
 	unsigned char owner)
 {
 	unsigned int i;
@@ -1044,13 +1044,13 @@ static void put_resources(comedi_device * dev, unsigned int res_mask,
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;res_spinlock, irqflags);
 }
 
-static inline void put_one_resource(comedi_device * dev, unsigned int resource,
+static inline void put_one_resource(struct comedi_device * dev, unsigned int resource,
 	unsigned char owner)
 {
 	put_resources(dev, (1U &lt;&lt; resource), owner);
 }
 
-static inline void put_all_resources(comedi_device * dev, unsigned char owner)
+static inline void put_all_resources(struct comedi_device * dev, unsigned char owner)
 {
 	put_resources(dev, (1U &lt;&lt; NUM_RESOURCES) - 1, owner);
 }
@@ -1058,7 +1058,7 @@ static inline void put_all_resources(comedi_device * dev, unsigned char owner)
 /*
  *  COMEDI_SUBD_AI instruction;
  */
-static int pci230_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int n, i;
@@ -1163,7 +1163,7 @@ static int pci230_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 /*
  *  COMEDI_SUBD_AO instructions;
  */
-static int pci230_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1191,7 +1191,7 @@ static int pci230_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int pci230_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1203,7 +1203,7 @@ static int pci230_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int pci230_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1416,7 +1416,7 @@ static int pci230_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pci230_ao_inttrig_scan_begin(comedi_device * dev,
+static int pci230_ao_inttrig_scan_begin(struct comedi_device * dev,
 	comedi_subdevice * s, unsigned int trig_num)
 {
 	unsigned long irqflags;
@@ -1448,7 +1448,7 @@ static int pci230_ao_inttrig_scan_begin(comedi_device * dev,
 	return 1;
 }
 
-static void pci230_ao_start(comedi_device * dev, comedi_subdevice * s)
+static void pci230_ao_start(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1536,7 +1536,7 @@ static void pci230_ao_start(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pci230_ao_inttrig_start(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -1548,7 +1548,7 @@ static int pci230_ao_inttrig_start(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pci230_ao_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pci230_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned short daccon;
 	unsigned int range;
@@ -1648,7 +1648,7 @@ static int pci230_ai_check_scan_period(comedi_cmd * cmd)
 	return !err;
 }
 
-static int pci230_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2034,7 +2034,7 @@ static int pci230_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static void pci230_ai_update_fifo_trigger_level(comedi_device * dev,
+static void pci230_ai_update_fifo_trigger_level(struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -2078,7 +2078,7 @@ static void pci230_ai_update_fifo_trigger_level(comedi_device * dev,
 	}
 }
 
-static int pci230_ai_inttrig_convert(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_inttrig_convert(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	unsigned long irqflags;
@@ -2121,7 +2121,7 @@ static int pci230_ai_inttrig_convert(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pci230_ai_inttrig_scan_begin(comedi_device * dev,
+static int pci230_ai_inttrig_scan_begin(struct comedi_device * dev,
 	comedi_subdevice * s, unsigned int trig_num)
 {
 	unsigned long irqflags;
@@ -2143,7 +2143,7 @@ static int pci230_ai_inttrig_scan_begin(comedi_device * dev,
 	return 1;
 }
 
-static void pci230_ai_start(comedi_device * dev, comedi_subdevice * s)
+static void pci230_ai_start(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	unsigned short conv;
@@ -2280,7 +2280,7 @@ static void pci230_ai_start(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pci230_ai_inttrig_start(comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -2292,7 +2292,7 @@ static int pci230_ai_inttrig_start(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pci230_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pci230_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned int i, chan, range, diff;
 	unsigned int res_mask;
@@ -2532,7 +2532,7 @@ static void pci230_ns_to_single_timer(unsigned int *ns, unsigned int round)
 	return;
 }
 
-static void pci230_ct_setup_ns_mode(comedi_device * dev, unsigned int ct,
+static void pci230_ct_setup_ns_mode(struct comedi_device * dev, unsigned int ct,
 	unsigned int mode, uint64_t ns, unsigned int round)
 {
 	unsigned int clk_src;
@@ -2551,7 +2551,7 @@ static void pci230_ct_setup_ns_mode(comedi_device * dev, unsigned int ct,
 	i8254_write(devpriv-&gt;iobase1 + PCI230_Z2_CT_BASE, 0, ct, count);
 }
 
-static void pci230_cancel_ct(comedi_device * dev, unsigned int ct)
+static void pci230_cancel_ct(struct comedi_device * dev, unsigned int ct)
 {
 	i8254_set_mode(devpriv-&gt;iobase1 + PCI230_Z2_CT_BASE, 0, ct,
 		I8254_MODE1);
@@ -2562,7 +2562,7 @@ static void pci230_cancel_ct(comedi_device * dev, unsigned int ct)
 static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	unsigned char status_int, valid_status_int;
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	unsigned long irqflags;
 
@@ -2622,7 +2622,7 @@ static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pci230_handle_ao_nofifo(comedi_device * dev, comedi_subdevice * s)
+static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice * s)
 {
 	short data;
 	int i, ret;
@@ -2659,7 +2659,7 @@ static void pci230_handle_ao_nofifo(comedi_device * dev, comedi_subdevice * s)
 
 /* Loads DAC FIFO (if using it) from buffer. */
 /* Returns 0 if AO finished due to completion or error, 1 if still going. */
-static int pci230_handle_ao_fifo(comedi_device * dev, comedi_subdevice * s)
+static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -2762,7 +2762,7 @@ static int pci230_handle_ao_fifo(comedi_device * dev, comedi_subdevice * s)
 	return running;
 }
 
-static void pci230_handle_ai(comedi_device * dev, comedi_subdevice * s)
+static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned int events = 0;
 	unsigned int status_fifo;
@@ -2861,7 +2861,7 @@ static void pci230_handle_ai(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static void pci230_ao_stop(comedi_device * dev, comedi_subdevice * s)
+static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	unsigned char intsrc;
@@ -2916,13 +2916,13 @@ static void pci230_ao_stop(comedi_device * dev, comedi_subdevice * s)
 	put_all_resources(dev, OWNER_AOCMD);
 }
 
-static int pci230_ao_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pci230_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	pci230_ao_stop(dev, s);
 	return 0;
 }
 
-static void pci230_ai_stop(comedi_device * dev, comedi_subdevice * s)
+static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	comedi_cmd *cmd;
@@ -2970,7 +2970,7 @@ static void pci230_ai_stop(comedi_device * dev, comedi_subdevice * s)
 	put_all_resources(dev, OWNER_AICMD);
 }
 
-static int pci230_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pci230_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	pci230_ai_stop(dev, s);
 	return 0;
diff --git a/drivers/staging/comedi/drivers/c6xdigio.c b/drivers/staging/comedi/drivers/c6xdigio.c
index 5837770ac5b2..bf8562b3023f 100644
--- a/drivers/staging/comedi/drivers/c6xdigio.c
+++ b/drivers/staging/comedi/drivers/c6xdigio.c
@@ -97,8 +97,8 @@ union encvaluetype {
 
 #define C6XDIGIO_TIME_OUT 20
 
-static int c6xdigio_attach(comedi_device * dev, comedi_devconfig * it);
-static int c6xdigio_detach(comedi_device * dev);
+static int c6xdigio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int c6xdigio_detach(struct comedi_device * dev);
 comedi_driver driver_c6xdigio = {
       driver_name:"c6xdigio",
       module:THIS_MODULE,
@@ -338,14 +338,14 @@ static void C6X_encResetAll(unsigned long baseAddr)
 	}
 }
 
-static int c6xdigio_pwmo_insn_read(comedi_device * dev,
+static int c6xdigio_pwmo_insn_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	printk("c6xdigio_pwmo_insn_read %x\n", insn-&gt;n);
 	return insn-&gt;n;
 }
 
-static int c6xdigio_pwmo_insn_write(comedi_device * dev,
+static int c6xdigio_pwmo_insn_write(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -359,7 +359,7 @@ static int c6xdigio_pwmo_insn_write(comedi_device * dev,
 	return i;
 }
 
-//static int c6xdigio_ei_init_insn_read(comedi_device *dev,
+//static int c6xdigio_ei_init_insn_read(struct comedi_device *dev,
 //                                 comedi_subdevice *s,
 //                                 comedi_insn *insn,
 //                                 unsigned int *data)
@@ -368,7 +368,7 @@ static int c6xdigio_pwmo_insn_write(comedi_device * dev,
 //  return insn-&gt;n;
 //}
 
-//static int c6xdigio_ei_init_insn_write(comedi_device *dev,
+//static int c6xdigio_ei_init_insn_write(struct comedi_device *dev,
 //                                 comedi_subdevice *s,
 //                                 comedi_insn *insn,
 //                                 unsigned int *data)
@@ -381,7 +381,7 @@ static int c6xdigio_pwmo_insn_write(comedi_device * dev,
 //  return insn-&gt;n;
 //}
 
-static int c6xdigio_ei_insn_read(comedi_device * dev,
+static int c6xdigio_ei_insn_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	//  printk("c6xdigio_ei__insn_read %x\n", insn-&gt;n);
@@ -395,7 +395,7 @@ static int c6xdigio_ei_insn_read(comedi_device * dev,
 	return n;
 }
 
-static void board_init(comedi_device * dev)
+static void board_init(struct comedi_device * dev)
 {
 
 	//printk("Inside board_init\n");
@@ -405,7 +405,7 @@ static void board_init(comedi_device * dev)
 
 }
 
-//static void board_halt(comedi_device *dev) {
+//static void board_halt(struct comedi_device *dev) {
 //  C6X_pwmInit(dev-&gt;iobase);
 //}
 
@@ -428,7 +428,7 @@ static struct pnp_driver c6xdigio_pnp_driver = {
 	.id_table = c6xdigio_pnp_tbl,
 };
 
-static int c6xdigio_attach(comedi_device * dev, comedi_devconfig * it)
+static int c6xdigio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int result = 0;
 	unsigned long iobase;
@@ -497,7 +497,7 @@ static int c6xdigio_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int c6xdigio_detach(comedi_device * dev)
+static int c6xdigio_detach(struct comedi_device * dev)
 {
 //  board_halt(dev);  // may not need this
 
diff --git a/drivers/staging/comedi/drivers/cb_das16_cs.c b/drivers/staging/comedi/drivers/cb_das16_cs.c
index 827954971c1a..b45a1771bd0d 100644
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -89,8 +89,8 @@ typedef struct {
 } das16cs_private;
 #define devpriv ((das16cs_private *)dev-&gt;private)
 
-static int das16cs_attach(comedi_device * dev, comedi_devconfig * it);
-static int das16cs_detach(comedi_device * dev);
+static int das16cs_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int das16cs_detach(struct comedi_device * dev);
 static comedi_driver driver_das16cs = {
       driver_name:"cb_das16_cs",
       module:THIS_MODULE,
@@ -109,25 +109,25 @@ static const comedi_lrange das16cs_ai_range = { 4, {
 };
 
 static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG);
-static int das16cs_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int das16cs_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16cs_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_timer_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_timer_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int get_prodid(comedi_device * dev, struct pcmcia_device *link)
+static int get_prodid(struct comedi_device * dev, struct pcmcia_device *link)
 {
 	tuple_t tuple;
 	u_short buf[128];
@@ -146,7 +146,7 @@ static int get_prodid(comedi_device * dev, struct pcmcia_device *link)
 	return prodid;
 }
 
-static const das16cs_board *das16cs_probe(comedi_device * dev,
+static const das16cs_board *das16cs_probe(struct comedi_device * dev,
 	struct pcmcia_device *link)
 {
 	int id;
@@ -165,7 +165,7 @@ static const das16cs_board *das16cs_probe(comedi_device * dev,
 	return NULL;
 }
 
-static int das16cs_attach(comedi_device * dev, comedi_devconfig * it)
+static int das16cs_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pcmcia_device *link;
 	comedi_subdevice *s;
@@ -265,7 +265,7 @@ static int das16cs_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int das16cs_detach(comedi_device * dev)
+static int das16cs_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: das16cs: remove\n", dev-&gt;minor);
 
@@ -278,7 +278,7 @@ static int das16cs_detach(comedi_device * dev)
 
 static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	//comedi_device *dev = d;
+	//struct comedi_device *dev = d;
 	return IRQ_HANDLED;
 }
 
@@ -286,7 +286,7 @@ static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int das16cs_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -328,12 +328,12 @@ static int das16cs_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int das16cs_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int das16cs_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	return -EINVAL;
 }
 
-static int das16cs_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -489,7 +489,7 @@ static int das16cs_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das16cs_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -535,7 +535,7 @@ static int das16cs_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int das16cs_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -552,7 +552,7 @@ static int das16cs_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int das16cs_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -572,7 +572,7 @@ static int das16cs_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16cs_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -610,13 +610,13 @@ static int das16cs_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int das16cs_timer_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
 }
 
-static int das16cs_timer_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/cb_pcidas.c b/drivers/staging/comedi/drivers/cb_pcidas.c
index c98fb6de3d41..7a3564e51244 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -398,7 +398,7 @@ MODULE_DEVICE_TABLE(pci, cb_pcidas_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	/* would be useful for a PCI device */
 	struct pci_dev *pci_dev;
@@ -440,8 +440,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int cb_pcidas_attach(comedi_device * dev, comedi_devconfig * it);
-static int cb_pcidas_detach(comedi_device * dev);
+static int cb_pcidas_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int cb_pcidas_detach(struct comedi_device * dev);
 static comedi_driver driver_cb_pcidas = {
       driver_name:"cb_pcidas",
       module:THIS_MODULE,
@@ -449,56 +449,56 @@ static comedi_driver driver_cb_pcidas = {
       detach:cb_pcidas_detach,
 };
 
-static int cb_pcidas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_nofifo_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_fifo_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int cb_pcidas_ao_cmd(comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ao_inttrig(comedi_device * dev, comedi_subdevice * subdev,
+static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * subdev,
 	unsigned int trig_num);
-static int cb_pcidas_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG);
-static void handle_ao_interrupt(comedi_device * dev, unsigned int status);
-static int cb_pcidas_cancel(comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ao_cancel(comedi_device * dev, comedi_subdevice * s);
-static void cb_pcidas_load_counters(comedi_device * dev, unsigned int *ns,
+static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status);
+static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int cb_pcidas_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void cb_pcidas_load_counters(struct comedi_device * dev, unsigned int *ns,
 	int round_flags);
-static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int caldac_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int trimpot_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_trimpot_write(comedi_device * dev, unsigned int channel,
+static int cb_pcidas_trimpot_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int trimpot_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dac08_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int dac08_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dac08_write(comedi_device * dev, unsigned int value);
-static int dac08_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int dac08_write(struct comedi_device * dev, unsigned int value);
+static int dac08_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_8800_write(comedi_device * dev, unsigned int address,
+static int caldac_8800_write(struct comedi_device * dev, unsigned int address,
 	uint8_t value);
-static int trimpot_7376_write(comedi_device * dev, uint8_t value);
-static int trimpot_8402_write(comedi_device * dev, unsigned int channel,
+static int trimpot_7376_write(struct comedi_device * dev, uint8_t value);
+static int trimpot_8402_write(struct comedi_device * dev, unsigned int channel,
 	uint8_t value);
-static int nvram_read(comedi_device * dev, unsigned int address,
+static int nvram_read(struct comedi_device * dev, unsigned int address,
 	uint8_t * data);
 
-static inline unsigned int cal_enable_bits(comedi_device * dev)
+static inline unsigned int cal_enable_bits(struct comedi_device * dev)
 {
 	return CAL_EN_BIT | CAL_SRC_BITS(devpriv-&gt;calibration_source);
 }
@@ -507,7 +507,7 @@ static inline unsigned int cal_enable_bits(comedi_device * dev)
  * Attach is called by the Comedi core to configure the driver
  * for a particular board.
  */
-static int cb_pcidas_attach(comedi_device * dev, comedi_devconfig * it)
+static int cb_pcidas_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	struct pci_dev *pcidev;
@@ -718,7 +718,7 @@ static int cb_pcidas_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int cb_pcidas_detach(comedi_device * dev)
+static int cb_pcidas_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: cb_pcidas: remove\n", dev-&gt;minor);
 
@@ -752,7 +752,7 @@ static int cb_pcidas_detach(comedi_device * dev)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int cb_pcidas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -804,7 +804,7 @@ static int cb_pcidas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int ai_config_calibration_source(comedi_device * dev, unsigned int * data)
+static int ai_config_calibration_source(struct comedi_device * dev, unsigned int * data)
 {
 	static const int num_calibration_sources = 8;
 	unsigned int source = data[1];
@@ -819,7 +819,7 @@ static int ai_config_calibration_source(comedi_device * dev, unsigned int * data
 	return 2;
 }
 
-static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
@@ -836,7 +836,7 @@ static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output insn for pcidas-1000 and 1200 series
-static int cb_pcidas_ao_nofifo_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
@@ -861,7 +861,7 @@ static int cb_pcidas_ao_nofifo_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output insn for pcidas-1602 series
-static int cb_pcidas_ao_fifo_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
@@ -892,7 +892,7 @@ static int cb_pcidas_ao_fifo_winsn(comedi_device * dev, comedi_subdevice * s,
 
 // analog output readback insn
 // XXX loses track of analog output value back after an analog ouput command is executed
-static int cb_pcidas_ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
@@ -900,7 +900,7 @@ static int cb_pcidas_ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	uint8_t nvram_data;
@@ -915,7 +915,7 @@ static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int caldac_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -923,7 +923,7 @@ static int caldac_write_insn(comedi_device * dev, comedi_subdevice * s,
 	return caldac_8800_write(dev, channel, data[0]);
 }
 
-static int caldac_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int caldac_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldac_value[CR_CHAN(insn-&gt;chanspec)];
@@ -932,7 +932,7 @@ static int caldac_read_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* 1602/16 pregain offset */
-static int dac08_write(comedi_device * dev, unsigned int value)
+static int dac08_write(struct comedi_device * dev, unsigned int value)
 {
 	if (devpriv-&gt;dac08_value == value)
 		return 1;
@@ -952,13 +952,13 @@ static int dac08_write(comedi_device * dev, unsigned int value)
 	return 1;
 }
 
-static int dac08_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int dac08_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return dac08_write(dev, data[0]);
 }
 
-static int dac08_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int dac08_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;dac08_value;
@@ -966,7 +966,7 @@ static int dac08_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int cb_pcidas_trimpot_write(comedi_device * dev,
+static int cb_pcidas_trimpot_write(struct comedi_device * dev,
 	unsigned int channel, unsigned int value)
 {
 	if (devpriv-&gt;trimpot_value[channel] == value)
@@ -989,7 +989,7 @@ static int cb_pcidas_trimpot_write(comedi_device * dev,
 	return 1;
 }
 
-static int trimpot_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -997,7 +997,7 @@ static int trimpot_write_insn(comedi_device * dev, comedi_subdevice * s,
 	return cb_pcidas_trimpot_write(dev, channel, data[0]);
 }
 
-static int trimpot_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -1007,7 +1007,7 @@ static int trimpot_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int cb_pcidas_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1162,7 +1162,7 @@ static int cb_pcidas_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int cb_pcidas_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1249,7 +1249,7 @@ static int cb_pcidas_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int cb_pcidas_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1362,7 +1362,7 @@ static int cb_pcidas_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int cb_pcidas_ao_cmd(comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1425,7 +1425,7 @@ static int cb_pcidas_ao_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int cb_pcidas_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	unsigned int num_bytes, num_points = thisboard-&gt;fifo_size;
@@ -1476,7 +1476,7 @@ static int cb_pcidas_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
 
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	int status, s5933_status;
@@ -1586,7 +1586,7 @@ static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void handle_ao_interrupt(comedi_device * dev, unsigned int status)
+static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status)
 {
 	comedi_subdevice *s = dev-&gt;write_subdev;
 	comedi_async *async = s-&gt;async;
@@ -1643,7 +1643,7 @@ static void handle_ao_interrupt(comedi_device * dev, unsigned int status)
 }
 
 // cancel analog input command
-static int cb_pcidas_cancel(comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1662,7 +1662,7 @@ static int cb_pcidas_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 // cancel analog output command
-static int cb_pcidas_ao_cancel(comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1679,7 +1679,7 @@ static int cb_pcidas_ao_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static void cb_pcidas_load_counters(comedi_device * dev, unsigned int *ns,
+static void cb_pcidas_load_counters(struct comedi_device * dev, unsigned int *ns,
 	int rounding_flags)
 {
 	i8253_cascade_ns_to_timer_2div(TIMER_BASE, &amp;(devpriv-&gt;divisor1),
@@ -1692,7 +1692,7 @@ static void cb_pcidas_load_counters(comedi_device * dev, unsigned int *ns,
 		devpriv-&gt;divisor2, 2);
 }
 
-static void write_calibration_bitstream(comedi_device * dev,
+static void write_calibration_bitstream(struct comedi_device * dev,
 	unsigned int register_bits, unsigned int bitstream,
 	unsigned int bitstream_length)
 {
@@ -1709,7 +1709,7 @@ static void write_calibration_bitstream(comedi_device * dev,
 	}
 }
 
-static int caldac_8800_write(comedi_device * dev, unsigned int address,
+static int caldac_8800_write(struct comedi_device * dev, unsigned int address,
 	uint8_t value)
 {
 	static const int num_caldac_channels = 8;
@@ -1739,7 +1739,7 @@ static int caldac_8800_write(comedi_device * dev, unsigned int address,
 	return 1;
 }
 
-static int trimpot_7376_write(comedi_device * dev, uint8_t value)
+static int trimpot_7376_write(struct comedi_device * dev, uint8_t value)
 {
 	static const int bitstream_length = 7;
 	unsigned int bitstream = value &amp; 0x7f;
@@ -1762,7 +1762,7 @@ static int trimpot_7376_write(comedi_device * dev, uint8_t value)
 /* For 1602/16 only
  * ch 0 : adc gain
  * ch 1 : adc postgain offset */
-static int trimpot_8402_write(comedi_device * dev, unsigned int channel,
+static int trimpot_8402_write(struct comedi_device * dev, unsigned int channel,
 	uint8_t value)
 {
 	static const int bitstream_length = 10;
@@ -1798,7 +1798,7 @@ static int wait_for_nvram_ready(unsigned long s5933_base_addr)
 	return -1;
 }
 
-static int nvram_read(comedi_device * dev, unsigned int address, uint8_t * data)
+static int nvram_read(struct comedi_device * dev, unsigned int address, uint8_t * data)
 {
 	unsigned long iobase = devpriv-&gt;s5933_config;
 
diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 4b1afce04d92..4095381f201e 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1044,12 +1044,12 @@ static DEFINE_PCI_DEVICE_TABLE(pcidas64_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, pcidas64_pci_table);
 
-static inline pcidas64_board *board(const comedi_device * dev)
+static inline pcidas64_board *board(const struct comedi_device * dev)
 {
 	return (pcidas64_board *) dev-&gt;board_ptr;
 }
 
-static inline unsigned short se_diff_bit_6xxx(comedi_device * dev,
+static inline unsigned short se_diff_bit_6xxx(struct comedi_device * dev,
 	int use_differential)
 {
 	if ((board(dev)-&gt;layout == LAYOUT_64XX &amp;&amp; !use_differential) ||
@@ -1114,7 +1114,7 @@ typedef struct {
 /* inline function that makes it easier to
  * access the private structure.
  */
-static inline pcidas64_private *priv(comedi_device * dev)
+static inline pcidas64_private *priv(struct comedi_device * dev)
 {
 	return dev-&gt;private;
 }
@@ -1125,8 +1125,8 @@ static inline pcidas64_private *priv(comedi_device * dev)
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int attach(comedi_device * dev, comedi_devconfig * it);
-static int detach(comedi_device * dev);
+static int attach(struct comedi_device * dev, comedi_devconfig * it);
+static int detach(struct comedi_device * dev);
 static comedi_driver driver_cb_pcidas = {
       driver_name:"cb_pcidas64",
       module:THIS_MODULE,
@@ -1134,73 +1134,73 @@ static comedi_driver driver_cb_pcidas = {
       detach:detach,
 };
 
-static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
+static int ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ao_cmd(comedi_device * dev, comedi_subdevice * s);
-static int ao_inttrig(comedi_device * dev, comedi_subdevice * subdev,
+static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * subdev,
 	unsigned int trig_num);
-static int ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
-static int ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static int ao_cancel(comedi_device * dev, comedi_subdevice * s);
+static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static int dio_callback(int dir, int port, int data, unsigned long arg);
 static int dio_callback_4020(int dir, int port, int data, unsigned long arg);
-static int di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dio_60xx_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dio_60xx_wbits(comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int calib_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int calib_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ad8402_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int ad8402_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static void ad8402_write(comedi_device * dev, unsigned int channel,
+static void ad8402_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int ad8402_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static void check_adc_timing(comedi_device * dev, comedi_cmd * cmd);
+static void check_adc_timing(struct comedi_device * dev, comedi_cmd * cmd);
 static unsigned int get_divisor(unsigned int ns, unsigned int flags);
-static void i2c_write(comedi_device * dev, unsigned int address,
+static void i2c_write(struct comedi_device * dev, unsigned int address,
 	const uint8_t * data, unsigned int length);
-static void caldac_write(comedi_device * dev, unsigned int channel,
+static void caldac_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int caldac_8800_write(comedi_device * dev, unsigned int address,
+static int caldac_8800_write(struct comedi_device * dev, unsigned int address,
 	uint8_t value);
-//static int dac_1590_write(comedi_device *dev, unsigned int dac_a, unsigned int dac_b);
-static int caldac_i2c_write(comedi_device * dev, unsigned int caldac_channel,
+//static int dac_1590_write(struct comedi_device *dev, unsigned int dac_a, unsigned int dac_b);
+static int caldac_i2c_write(struct comedi_device * dev, unsigned int caldac_channel,
 	unsigned int value);
-static void abort_dma(comedi_device * dev, unsigned int channel);
-static void disable_plx_interrupts(comedi_device * dev);
-static int set_ai_fifo_size(comedi_device * dev, unsigned int num_samples);
-static unsigned int ai_fifo_size(comedi_device * dev);
-static int set_ai_fifo_segment_length(comedi_device * dev,
+static void abort_dma(struct comedi_device * dev, unsigned int channel);
+static void disable_plx_interrupts(struct comedi_device * dev);
+static int set_ai_fifo_size(struct comedi_device * dev, unsigned int num_samples);
+static unsigned int ai_fifo_size(struct comedi_device * dev);
+static int set_ai_fifo_segment_length(struct comedi_device * dev,
 	unsigned int num_entries);
-static void disable_ai_pacing(comedi_device * dev);
-static void disable_ai_interrupts(comedi_device * dev);
-static void enable_ai_interrupts(comedi_device * dev, const comedi_cmd * cmd);
+static void disable_ai_pacing(struct comedi_device * dev);
+static void disable_ai_interrupts(struct comedi_device * dev);
+static void enable_ai_interrupts(struct comedi_device * dev, const comedi_cmd * cmd);
 static unsigned int get_ao_divisor(unsigned int ns, unsigned int flags);
-static void load_ao_dma(comedi_device * dev, const comedi_cmd * cmd);
+static void load_ao_dma(struct comedi_device * dev, const comedi_cmd * cmd);
 
 COMEDI_PCI_INITCLEANUP(driver_cb_pcidas, pcidas64_pci_table);
 
-static unsigned int ai_range_bits_6xxx(const comedi_device * dev,
+static unsigned int ai_range_bits_6xxx(const struct comedi_device * dev,
 	unsigned int range_index)
 {
 	const comedi_krange *range =
@@ -1244,7 +1244,7 @@ static unsigned int ai_range_bits_6xxx(const comedi_device * dev,
 	return bits;
 }
 
-static unsigned int hw_revision(const comedi_device * dev,
+static unsigned int hw_revision(const struct comedi_device * dev,
 	uint16_t hw_status_bits)
 {
 	if (board(dev)-&gt;layout == LAYOUT_4020)
@@ -1253,7 +1253,7 @@ static unsigned int hw_revision(const comedi_device * dev,
 	return (hw_status_bits &gt;&gt; 12) &amp; 0xf;
 }
 
-static void set_dac_range_bits(comedi_device * dev, volatile uint16_t * bits,
+static void set_dac_range_bits(struct comedi_device * dev, volatile uint16_t * bits,
 	unsigned int channel, unsigned int range)
 {
 	unsigned int code = board(dev)-&gt;ao_range_code[range];
@@ -1273,7 +1273,7 @@ static inline int ao_cmd_is_supported(const pcidas64_board * board)
 }
 
 // initialize plx9080 chip
-static void init_plx9080(comedi_device * dev)
+static void init_plx9080(struct comedi_device * dev)
 {
 	uint32_t bits;
 	void *plx_iobase = priv(dev)-&gt;plx9080_iobase;
@@ -1363,7 +1363,7 @@ static void init_plx9080(comedi_device * dev)
 
 /* Allocate and initialize the subdevice structures.
  */
-static int setup_subdevices(comedi_device * dev)
+static int setup_subdevices(struct comedi_device * dev)
 {
 	comedi_subdevice *s;
 	void *dio_8255_iobase;
@@ -1526,14 +1526,14 @@ static int setup_subdevices(comedi_device * dev)
 	return 0;
 }
 
-static void disable_plx_interrupts(comedi_device * dev)
+static void disable_plx_interrupts(struct comedi_device * dev)
 {
 	priv(dev)-&gt;plx_intcsr_bits = 0;
 	writel(priv(dev)-&gt;plx_intcsr_bits,
 		priv(dev)-&gt;plx9080_iobase + PLX_INTRCS_REG);
 }
 
-static void init_stc_registers(comedi_device * dev)
+static void init_stc_registers(struct comedi_device * dev)
 {
 	uint16_t bits;
 	unsigned long flags;
@@ -1575,7 +1575,7 @@ static void init_stc_registers(comedi_device * dev)
 	disable_ai_pacing(dev);
 };
 
-int alloc_and_init_dma_members(comedi_device * dev)
+int alloc_and_init_dma_members(struct comedi_device * dev)
 {
 	int i;
 
@@ -1661,7 +1661,7 @@ int alloc_and_init_dma_members(comedi_device * dev)
 	return 0;
 }
 
-static inline void warn_external_queue(comedi_device * dev)
+static inline void warn_external_queue(struct comedi_device * dev)
 {
 	comedi_error(dev,
 		"AO command and AI external channel queue cannot be used simultaneously.");
@@ -1673,7 +1673,7 @@ static inline void warn_external_queue(comedi_device * dev)
  * Attach is called by the Comedi core to configure the driver
  * for a particular board.
  */
-static int attach(comedi_device * dev, comedi_devconfig * it)
+static int attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	int index;
@@ -1821,7 +1821,7 @@ static int attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int detach(comedi_device * dev)
+static int detach(struct comedi_device * dev)
 {
 	unsigned int i;
 
@@ -1881,7 +1881,7 @@ static int detach(comedi_device * dev)
 	return 0;
 }
 
-static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits = 0, n, i;
@@ -2018,7 +2018,7 @@ static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int ai_config_calibration_source(comedi_device * dev, unsigned int * data)
+static int ai_config_calibration_source(struct comedi_device * dev, unsigned int * data)
 {
 	unsigned int source = data[1];
 	int num_calibration_sources;
@@ -2038,7 +2038,7 @@ static int ai_config_calibration_source(comedi_device * dev, unsigned int * data
 	return 2;
 }
 
-static int ai_config_block_size(comedi_device * dev, unsigned int * data)
+static int ai_config_block_size(struct comedi_device * dev, unsigned int * data)
 {
 	int fifo_size;
 	const hw_fifo_info_t *const fifo = board(dev)-&gt;ai_fifo;
@@ -2065,7 +2065,7 @@ static int ai_config_block_size(comedi_device * dev, unsigned int * data)
 	return 2;
 }
 
-static int ai_config_master_clock_4020(comedi_device * dev, unsigned int * data)
+static int ai_config_master_clock_4020(struct comedi_device * dev, unsigned int * data)
 {
 	unsigned int divisor = data[4];
 	int retval = 0;
@@ -2091,7 +2091,7 @@ static int ai_config_master_clock_4020(comedi_device * dev, unsigned int * data)
 }
 
 // XXX could add support for 60xx series
-static int ai_config_master_clock(comedi_device * dev, unsigned int * data)
+static int ai_config_master_clock(struct comedi_device * dev, unsigned int * data)
 {
 
 	switch (board(dev)-&gt;layout) {
@@ -2106,7 +2106,7 @@ static int ai_config_master_clock(comedi_device * dev, unsigned int * data)
 	return -EINVAL;
 }
 
-static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
@@ -2128,7 +2128,7 @@ static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2324,7 +2324,7 @@ static int use_hw_sample_counter(comedi_cmd * cmd)
 		return 0;
 }
 
-static void setup_sample_counters(comedi_device * dev, comedi_cmd * cmd)
+static void setup_sample_counters(struct comedi_device * dev, comedi_cmd * cmd)
 {
 	if (cmd-&gt;stop_src == TRIG_COUNT) {
 		// set software count
@@ -2341,7 +2341,7 @@ static void setup_sample_counters(comedi_device * dev, comedi_cmd * cmd)
 	}
 }
 
-static inline unsigned int dma_transfer_size(comedi_device * dev)
+static inline unsigned int dma_transfer_size(struct comedi_device * dev)
 {
 	unsigned int num_samples;
 
@@ -2354,7 +2354,7 @@ static inline unsigned int dma_transfer_size(comedi_device * dev)
 	return num_samples;
 }
 
-static void disable_ai_pacing(comedi_device * dev)
+static void disable_ai_pacing(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -2371,7 +2371,7 @@ static void disable_ai_pacing(comedi_device * dev)
 		priv(dev)-&gt;main_iobase + ADC_CONTROL0_REG);
 }
 
-static void disable_ai_interrupts(comedi_device * dev)
+static void disable_ai_interrupts(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -2387,7 +2387,7 @@ static void disable_ai_interrupts(comedi_device * dev)
 	DEBUG_PRINT("intr enable bits 0x%x\n", priv(dev)-&gt;intr_enable_bits);
 }
 
-static void enable_ai_interrupts(comedi_device * dev, const comedi_cmd * cmd)
+static void enable_ai_interrupts(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	uint32_t bits;
 	unsigned long flags;
@@ -2408,14 +2408,14 @@ static void enable_ai_interrupts(comedi_device * dev, const comedi_cmd * cmd)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, flags);
 }
 
-static uint32_t ai_convert_counter_6xxx(const comedi_device * dev,
+static uint32_t ai_convert_counter_6xxx(const struct comedi_device * dev,
 	const comedi_cmd * cmd)
 {
 	// supposed to load counter with desired divisor minus 3
 	return cmd-&gt;convert_arg / TIMER_BASE - 3;
 }
 
-static uint32_t ai_scan_counter_6xxx(comedi_device * dev, comedi_cmd * cmd)
+static uint32_t ai_scan_counter_6xxx(struct comedi_device * dev, comedi_cmd * cmd)
 {
 	uint32_t count;
 	// figure out how long we need to delay at end of scan
@@ -2435,7 +2435,7 @@ static uint32_t ai_scan_counter_6xxx(comedi_device * dev, comedi_cmd * cmd)
 	return count - 3;
 }
 
-static uint32_t ai_convert_counter_4020(comedi_device * dev, comedi_cmd * cmd)
+static uint32_t ai_convert_counter_4020(struct comedi_device * dev, comedi_cmd * cmd)
 {
 	unsigned int divisor;
 
@@ -2456,7 +2456,7 @@ static uint32_t ai_convert_counter_4020(comedi_device * dev, comedi_cmd * cmd)
 	return divisor - 2;
 }
 
-static void select_master_clock_4020(comedi_device * dev,
+static void select_master_clock_4020(struct comedi_device * dev,
 	const comedi_cmd * cmd)
 {
 	// select internal/external master clock
@@ -2475,7 +2475,7 @@ static void select_master_clock_4020(comedi_device * dev,
 		priv(dev)-&gt;main_iobase + HW_CONFIG_REG);
 }
 
-static void select_master_clock(comedi_device * dev, const comedi_cmd * cmd)
+static void select_master_clock(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	switch (board(dev)-&gt;layout) {
 	case LAYOUT_4020:
@@ -2486,7 +2486,7 @@ static void select_master_clock(comedi_device * dev, const comedi_cmd * cmd)
 	}
 }
 
-static inline void dma_start_sync(comedi_device * dev, unsigned int channel)
+static inline void dma_start_sync(struct comedi_device * dev, unsigned int channel)
 {
 	unsigned long flags;
 
@@ -2503,7 +2503,7 @@ static inline void dma_start_sync(comedi_device * dev, unsigned int channel)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, flags);
 }
 
-static void set_ai_pacing(comedi_device * dev, comedi_cmd * cmd)
+static void set_ai_pacing(struct comedi_device * dev, comedi_cmd * cmd)
 {
 	uint32_t convert_counter = 0, scan_counter = 0;
 
@@ -2550,7 +2550,7 @@ static int use_internal_queue_6xxx(const comedi_cmd * cmd)
 	return 1;
 }
 
-static int setup_channel_queue(comedi_device * dev, const comedi_cmd * cmd)
+static int setup_channel_queue(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	unsigned short bits;
 	int i;
@@ -2652,7 +2652,7 @@ static int setup_channel_queue(comedi_device * dev, const comedi_cmd * cmd)
 	return 0;
 }
 
-static inline void load_first_dma_descriptor(comedi_device * dev,
+static inline void load_first_dma_descriptor(struct comedi_device * dev,
 	unsigned int dma_channel, unsigned int descriptor_bits)
 {
 	/* The transfer size, pci address, and local address registers
@@ -2679,7 +2679,7 @@ static inline void load_first_dma_descriptor(comedi_device * dev,
 	}
 }
 
-static int ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -2797,7 +2797,7 @@ static int ai_cmd(comedi_device * dev, comedi_subdevice * s)
 }
 
 // read num_samples from 16 bit wide ai fifo
-static void pio_drain_ai_fifo_16(comedi_device * dev)
+static void pio_drain_ai_fifo_16(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
@@ -2864,7 +2864,7 @@ static void pio_drain_ai_fifo_16(comedi_device * dev)
  * dma transfers (it only supports the use of pio for draining the last remaining
  * points from the fifo when a data aquisition operation has completed).
  */
-static void pio_drain_ai_fifo_32(comedi_device * dev)
+static void pio_drain_ai_fifo_32(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
@@ -2898,7 +2898,7 @@ static void pio_drain_ai_fifo_32(comedi_device * dev)
 }
 
 // empty fifo
-static void pio_drain_ai_fifo(comedi_device * dev)
+static void pio_drain_ai_fifo(struct comedi_device * dev)
 {
 	if (board(dev)-&gt;layout == LAYOUT_4020) {
 		pio_drain_ai_fifo_32(dev);
@@ -2906,7 +2906,7 @@ static void pio_drain_ai_fifo(comedi_device * dev)
 		pio_drain_ai_fifo_16(dev);
 }
 
-static void drain_dma_buffers(comedi_device * dev, unsigned int channel)
+static void drain_dma_buffers(struct comedi_device * dev, unsigned int channel)
 {
 	comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	uint32_t next_transfer_addr;
@@ -2952,7 +2952,7 @@ static void drain_dma_buffers(comedi_device * dev, unsigned int channel)
 	 * unused buffer) */
 }
 
-void handle_ai_interrupt(comedi_device * dev, unsigned short status,
+void handle_ai_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -3006,7 +3006,7 @@ void handle_ai_interrupt(comedi_device * dev, unsigned short status,
 	cfc_handle_events(dev, s);
 }
 
-static inline unsigned int prev_ao_dma_index(comedi_device * dev)
+static inline unsigned int prev_ao_dma_index(struct comedi_device * dev)
 {
 	unsigned int buffer_index;
 
@@ -3017,7 +3017,7 @@ static inline unsigned int prev_ao_dma_index(comedi_device * dev)
 	return buffer_index;
 }
 
-static int last_ao_dma_load_completed(comedi_device * dev)
+static int last_ao_dma_load_completed(struct comedi_device * dev)
 {
 	unsigned int buffer_index;
 	unsigned int transfer_address;
@@ -3036,7 +3036,7 @@ static int last_ao_dma_load_completed(comedi_device * dev)
 	return 1;
 }
 
-static int ao_stopped_by_error(comedi_device * dev, const comedi_cmd * cmd)
+static int ao_stopped_by_error(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	if (cmd-&gt;stop_src == TRIG_NONE)
 		return 1;
@@ -3049,7 +3049,7 @@ static int ao_stopped_by_error(comedi_device * dev, const comedi_cmd * cmd)
 	return 0;
 }
 
-static inline int ao_dma_needs_restart(comedi_device * dev,
+static inline int ao_dma_needs_restart(struct comedi_device * dev,
 	unsigned short dma_status)
 {
 	if ((dma_status &amp; PLX_DMA_DONE_BIT) == 0 ||
@@ -3061,7 +3061,7 @@ static inline int ao_dma_needs_restart(comedi_device * dev,
 	return 1;
 }
 
-static void restart_ao_dma(comedi_device * dev)
+static void restart_ao_dma(struct comedi_device * dev)
 {
 	unsigned int dma_desc_bits;
 
@@ -3074,7 +3074,7 @@ static void restart_ao_dma(comedi_device * dev)
 	dma_start_sync(dev, 0);
 }
 
-static void handle_ao_interrupt(comedi_device * dev, unsigned short status,
+static void handle_ao_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
 	comedi_subdevice *s = dev-&gt;write_subdev;
@@ -3128,7 +3128,7 @@ static void handle_ao_interrupt(comedi_device * dev, unsigned short status,
 
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	unsigned short status;
 	uint32_t plx_status;
 	uint32_t plx_bits;
@@ -3162,7 +3162,7 @@ static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-void abort_dma(comedi_device * dev, unsigned int channel)
+void abort_dma(struct comedi_device * dev, unsigned int channel)
 {
 	unsigned long flags;
 
@@ -3174,7 +3174,7 @@ void abort_dma(comedi_device * dev, unsigned int channel)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, flags);
 }
 
-static int ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -3194,7 +3194,7 @@ static int ai_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -3224,7 +3224,7 @@ static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
+static int ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = priv(dev)-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
@@ -3232,7 +3232,7 @@ static int ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static void set_dac_control0_reg(comedi_device * dev, const comedi_cmd * cmd)
+static void set_dac_control0_reg(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	unsigned int bits = DAC_ENABLE_BIT | WAVEFORM_GATE_LEVEL_BIT |
 		WAVEFORM_GATE_ENABLE_BIT | WAVEFORM_GATE_SELECT_BIT;
@@ -3252,7 +3252,7 @@ static void set_dac_control0_reg(comedi_device * dev, const comedi_cmd * cmd)
 	writew(bits, priv(dev)-&gt;main_iobase + DAC_CONTROL0_REG);
 }
 
-static void set_dac_control1_reg(comedi_device * dev, const comedi_cmd * cmd)
+static void set_dac_control1_reg(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	int i;
 
@@ -3269,7 +3269,7 @@ static void set_dac_control1_reg(comedi_device * dev, const comedi_cmd * cmd)
 		priv(dev)-&gt;main_iobase + DAC_CONTROL1_REG);
 }
 
-static void set_dac_select_reg(comedi_device * dev, const comedi_cmd * cmd)
+static void set_dac_select_reg(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	uint16_t bits;
 	unsigned int first_channel, last_channel;
@@ -3284,7 +3284,7 @@ static void set_dac_select_reg(comedi_device * dev, const comedi_cmd * cmd)
 	writew(bits, priv(dev)-&gt;main_iobase + DAC_SELECT_REG);
 }
 
-static void set_dac_interval_regs(comedi_device * dev, const comedi_cmd * cmd)
+static void set_dac_interval_regs(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	unsigned int divisor;
 
@@ -3302,7 +3302,7 @@ static void set_dac_interval_regs(comedi_device * dev, const comedi_cmd * cmd)
 		priv(dev)-&gt;main_iobase + DAC_SAMPLE_INTERVAL_UPPER_REG);
 }
 
-static unsigned int load_ao_dma_buffer(comedi_device * dev,
+static unsigned int load_ao_dma_buffer(struct comedi_device * dev,
 	const comedi_cmd * cmd)
 {
 	unsigned int num_bytes, buffer_index, prev_buffer_index;
@@ -3346,7 +3346,7 @@ static unsigned int load_ao_dma_buffer(comedi_device * dev,
 	return num_bytes;
 }
 
-static void load_ao_dma(comedi_device * dev, const comedi_cmd * cmd)
+static void load_ao_dma(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	unsigned int num_bytes;
 	unsigned int next_transfer_addr;
@@ -3368,7 +3368,7 @@ static void load_ao_dma(comedi_device * dev, const comedi_cmd * cmd)
 	} while (num_bytes &gt;= DMA_BUFFER_SIZE);
 }
 
-static int prep_ao_dma(comedi_device * dev, const comedi_cmd * cmd)
+static int prep_ao_dma(struct comedi_device * dev, const comedi_cmd * cmd)
 {
 	unsigned int num_bytes;
 	int i;
@@ -3402,7 +3402,7 @@ static int prep_ao_dma(comedi_device * dev, const comedi_cmd * cmd)
 	return 0;
 }
 
-static inline int external_ai_queue_in_use(comedi_device * dev)
+static inline int external_ai_queue_in_use(struct comedi_device * dev)
 {
 	if (dev-&gt;read_subdev-&gt;busy)
 		return 0;
@@ -3413,7 +3413,7 @@ static inline int external_ai_queue_in_use(comedi_device * dev)
 	return 1;
 }
 
-static int ao_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -3438,7 +3438,7 @@ static int ao_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ao_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -3461,7 +3461,7 @@ static int ao_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3577,7 +3577,7 @@ static int ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ao_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	writew(0x0, priv(dev)-&gt;main_iobase + DAC_CONTROL0_REG);
 	abort_dma(dev, 0);
@@ -3605,7 +3605,7 @@ static int dio_callback_4020(int dir, int port, int data, unsigned long iobase)
 	}
 }
 
-static int di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -3618,7 +3618,7 @@ static int di_rbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] &amp;= 0xf;
@@ -3634,7 +3634,7 @@ static int do_wbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dio_60xx_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -3661,7 +3661,7 @@ static int dio_60xx_config_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dio_60xx_wbits(comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -3676,7 +3676,7 @@ static int dio_60xx_wbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static void caldac_write(comedi_device * dev, unsigned int channel,
+static void caldac_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value)
 {
 	priv(dev)-&gt;caldac_state[channel] = value;
@@ -3694,7 +3694,7 @@ static void caldac_write(comedi_device * dev, unsigned int channel,
 	}
 }
 
-static int calib_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3709,7 +3709,7 @@ static int calib_write_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int calib_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3719,7 +3719,7 @@ static int calib_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static void ad8402_write(comedi_device * dev, unsigned int channel,
+static void ad8402_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value)
 {
 	static const int bitstream_length = 10;
@@ -3750,7 +3750,7 @@ static void ad8402_write(comedi_device * dev, unsigned int channel,
 }
 
 /* for pci-das6402/16, channel 0 is analog input gain and channel 1 is offset */
-static int ad8402_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3767,7 +3767,7 @@ static int ad8402_write_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ad8402_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int ad8402_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
@@ -3777,7 +3777,7 @@ static int ad8402_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static uint16_t read_eeprom(comedi_device * dev, uint8_t address)
+static uint16_t read_eeprom(struct comedi_device * dev, uint8_t address)
 {
 	static const int bitstream_length = 11;
 	static const int read_command = 0x6;
@@ -3839,7 +3839,7 @@ static uint16_t read_eeprom(comedi_device * dev, uint8_t address)
 	return value;
 }
 
-static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = read_eeprom(dev, CR_CHAN(insn-&gt;chanspec));
@@ -3851,7 +3851,7 @@ static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
  * sets cmd members appropriately.
  * adc paces conversions from master clock by dividing by (x + 3) where x is 24 bit number
  */
-static void check_adc_timing(comedi_device * dev, comedi_cmd * cmd)
+static void check_adc_timing(struct comedi_device * dev, comedi_cmd * cmd)
 {
 	unsigned int convert_divisor = 0, scan_divisor;
 	static const int min_convert_divisor = 3;
@@ -3925,7 +3925,7 @@ static unsigned int get_ao_divisor(unsigned int ns, unsigned int flags)
 }
 
 // adjusts the size of hardware fifo (which determines block size for dma xfers)
-static int set_ai_fifo_size(comedi_device * dev, unsigned int num_samples)
+static int set_ai_fifo_size(struct comedi_device * dev, unsigned int num_samples)
 {
 	unsigned int num_fifo_entries;
 	int retval;
@@ -3946,14 +3946,14 @@ static int set_ai_fifo_size(comedi_device * dev, unsigned int num_samples)
 }
 
 // query length of fifo
-static unsigned int ai_fifo_size(comedi_device * dev)
+static unsigned int ai_fifo_size(struct comedi_device * dev)
 {
 	return priv(dev)-&gt;ai_fifo_segment_length *
 		board(dev)-&gt;ai_fifo-&gt;num_segments *
 		board(dev)-&gt;ai_fifo-&gt;sample_packing_ratio;
 }
 
-static int set_ai_fifo_segment_length(comedi_device * dev,
+static int set_ai_fifo_segment_length(struct comedi_device * dev,
 	unsigned int num_entries)
 {
 	static const int increment_size = 0x100;
@@ -4004,7 +4004,7 @@ static int set_ai_fifo_segment_length(comedi_device * dev,
  * address 7 == dac channel 1 fine offset
 */
 
-static int caldac_8800_write(comedi_device * dev, unsigned int address,
+static int caldac_8800_write(struct comedi_device * dev, unsigned int address,
 	uint8_t value)
 {
 	static const int num_caldac_channels = 8;
@@ -4036,7 +4036,7 @@ static int caldac_8800_write(comedi_device * dev, unsigned int address,
 }
 
 // 4020 caldacs
-static int caldac_i2c_write(comedi_device * dev, unsigned int caldac_channel,
+static int caldac_i2c_write(struct comedi_device * dev, unsigned int caldac_channel,
 	unsigned int value)
 {
 	uint8_t serial_bytes[3];
@@ -4101,7 +4101,7 @@ static const int i2c_high_comedi_udelay = 1000;
 static const int i2c_low_comedi_udelay = 10;
 
 // set i2c data line high or low
-static void i2c_set_sda(comedi_device * dev, int state)
+static void i2c_set_sda(struct comedi_device * dev, int state)
 {
 	static const int data_bit = CTL_EE_W;
 	void *plx_control_addr = priv(dev)-&gt;plx9080_iobase + PLX_CONTROL_REG;
@@ -4120,7 +4120,7 @@ static void i2c_set_sda(comedi_device * dev, int state)
 }
 
 // set i2c clock line high or low
-static void i2c_set_scl(comedi_device * dev, int state)
+static void i2c_set_scl(struct comedi_device * dev, int state)
 {
 	static const int clock_bit = CTL_USERO;
 	void *plx_control_addr = priv(dev)-&gt;plx9080_iobase + PLX_CONTROL_REG;
@@ -4138,7 +4138,7 @@ static void i2c_set_scl(comedi_device * dev, int state)
 	}
 }
 
-static void i2c_write_byte(comedi_device * dev, uint8_t byte)
+static void i2c_write_byte(struct comedi_device * dev, uint8_t byte)
 {
 	uint8_t bit;
 	unsigned int num_bits = 8;
@@ -4156,7 +4156,7 @@ static void i2c_write_byte(comedi_device * dev, uint8_t byte)
 }
 
 // we can't really read the lines, so fake it
-static int i2c_read_ack(comedi_device * dev)
+static int i2c_read_ack(struct comedi_device * dev)
 {
 	i2c_set_scl(dev, 0);
 	i2c_set_sda(dev, 1);
@@ -4166,7 +4166,7 @@ static int i2c_read_ack(comedi_device * dev)
 }
 
 // send start bit
-static void i2c_start(comedi_device * dev)
+static void i2c_start(struct comedi_device * dev)
 {
 	i2c_set_scl(dev, 1);
 	i2c_set_sda(dev, 1);
@@ -4174,7 +4174,7 @@ static void i2c_start(comedi_device * dev)
 }
 
 // send stop bit
-static void i2c_stop(comedi_device * dev)
+static void i2c_stop(struct comedi_device * dev)
 {
 	i2c_set_scl(dev, 0);
 	i2c_set_sda(dev, 0);
@@ -4182,7 +4182,7 @@ static void i2c_stop(comedi_device * dev)
 	i2c_set_sda(dev, 1);
 }
 
-static void i2c_write(comedi_device * dev, unsigned int address,
+static void i2c_write(struct comedi_device * dev, unsigned int address,
 	const uint8_t * data, unsigned int length)
 {
 	unsigned int i;
diff --git a/drivers/staging/comedi/drivers/cb_pcidda.c b/drivers/staging/comedi/drivers/cb_pcidda.c
index f245eb1c1631..d433780d5b50 100644
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -210,7 +210,7 @@ MODULE_DEVICE_TABLE(pci, cb_pcidda_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	int data;
 
@@ -232,20 +232,20 @@ typedef struct {
  */
 #define devpriv ((cb_pcidda_private *)dev-&gt;private)
 
-static int cb_pcidda_attach(comedi_device * dev, comedi_devconfig * it);
-static int cb_pcidda_detach(comedi_device * dev);
-//static int cb_pcidda_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
-static int cb_pcidda_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int cb_pcidda_detach(struct comedi_device * dev);
+//static int cb_pcidda_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int cb_pcidda_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-//static int cb_pcidda_ai_cmd(comedi_device *dev,comedi_subdevice *s);
-//static int cb_pcidda_ai_cmdtest(comedi_device *dev,comedi_subdevice *s, comedi_cmd *cmd);
+//static int cb_pcidda_ai_cmd(struct comedi_device *dev,comedi_subdevice *s);
+//static int cb_pcidda_ai_cmdtest(struct comedi_device *dev,comedi_subdevice *s, comedi_cmd *cmd);
 //static int cb_pcidda_ns_to_timer(unsigned int *ns,int round);
-static unsigned int cb_pcidda_serial_in(comedi_device * dev);
-static void cb_pcidda_serial_out(comedi_device * dev, unsigned int value,
+static unsigned int cb_pcidda_serial_in(struct comedi_device * dev);
+static void cb_pcidda_serial_out(struct comedi_device * dev, unsigned int value,
 	unsigned int num_bits);
-static unsigned int cb_pcidda_read_eeprom(comedi_device * dev,
+static unsigned int cb_pcidda_read_eeprom(struct comedi_device * dev,
 	unsigned int address);
-static void cb_pcidda_calibrate(comedi_device * dev, unsigned int channel,
+static void cb_pcidda_calibrate(struct comedi_device * dev, unsigned int channel,
 	unsigned int range);
 
 /*
@@ -265,7 +265,7 @@ static comedi_driver driver_cb_pcidda = {
  * Attach is called by the Comedi core to configure the driver
  * for a particular board.
  */
-static int cb_pcidda_attach(comedi_device * dev, comedi_devconfig * it)
+static int cb_pcidda_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	struct pci_dev *pcidev;
@@ -385,7 +385,7 @@ static int cb_pcidda_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int cb_pcidda_detach(comedi_device * dev)
+static int cb_pcidda_detach(struct comedi_device * dev)
 {
 /*
  * Deallocate the I/O ports.
@@ -413,7 +413,7 @@ static int cb_pcidda_detach(comedi_device * dev)
  * I will program this later... ;-)
  */
 #if 0
-static int cb_pcidda_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidda_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	printk("cb_pcidda_ai_cmd\n");
 	printk("subdev: %d\n", cmd-&gt;subdev);
@@ -432,7 +432,7 @@ static int cb_pcidda_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 #endif
 
 #if 0
-static int cb_pcidda_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -598,7 +598,7 @@ static int cb_pcidda_ns_to_timer(unsigned int *ns, int round)
 }
 #endif
 
-static int cb_pcidda_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int command;
@@ -648,7 +648,7 @@ static int cb_pcidda_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 // lowlevel read from eeprom
-static unsigned int cb_pcidda_serial_in(comedi_device * dev)
+static unsigned int cb_pcidda_serial_in(struct comedi_device * dev)
 {
 	unsigned int value = 0;
 	int i;
@@ -665,7 +665,7 @@ static unsigned int cb_pcidda_serial_in(comedi_device * dev)
 }
 
 // lowlevel write to eeprom/dac
-static void cb_pcidda_serial_out(comedi_device * dev, unsigned int value,
+static void cb_pcidda_serial_out(struct comedi_device * dev, unsigned int value,
 	unsigned int num_bits)
 {
 	int i;
@@ -681,7 +681,7 @@ static void cb_pcidda_serial_out(comedi_device * dev, unsigned int value,
 }
 
 // reads a 16 bit value from board's eeprom
-static unsigned int cb_pcidda_read_eeprom(comedi_device * dev,
+static unsigned int cb_pcidda_read_eeprom(struct comedi_device * dev,
 	unsigned int address)
 {
 	unsigned int i;
@@ -715,7 +715,7 @@ static unsigned int cb_pcidda_read_eeprom(comedi_device * dev,
 }
 
 // writes to 8 bit calibration dacs
-static void cb_pcidda_write_caldac(comedi_device * dev, unsigned int caldac,
+static void cb_pcidda_write_caldac(struct comedi_device * dev, unsigned int caldac,
 	unsigned int channel, unsigned int value)
 {
 	unsigned int cal2_bits;
@@ -801,7 +801,7 @@ static unsigned int eeprom_fine_byte(unsigned int word)
 }
 
 // set caldacs to eeprom values for given channel and range
-static void cb_pcidda_calibrate(comedi_device * dev, unsigned int channel,
+static void cb_pcidda_calibrate(struct comedi_device * dev, unsigned int channel,
 	unsigned int range)
 {
 	unsigned int coarse_offset, fine_offset, coarse_gain, fine_gain;
diff --git a/drivers/staging/comedi/drivers/cb_pcidio.c b/drivers/staging/comedi/drivers/cb_pcidio.c
index e5bc34746e38..7f749bd61b58 100644
--- a/drivers/staging/comedi/drivers/cb_pcidio.c
+++ b/drivers/staging/comedi/drivers/cb_pcidio.c
@@ -102,7 +102,7 @@ MODULE_DEVICE_TABLE(pci, pcidio_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	int data;		// curently unused
 
@@ -127,8 +127,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pcidio_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcidio_detach(comedi_device * dev);
+static int pcidio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcidio_detach(struct comedi_device * dev);
 static comedi_driver driver_cb_pcidio = {
       driver_name:"cb_pcidio",
       module:THIS_MODULE,
@@ -166,7 +166,7 @@ static comedi_driver driver_cb_pcidio = {
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pcidio_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcidio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev = NULL;
 	int index;
@@ -267,7 +267,7 @@ static int pcidio_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pcidio_detach(comedi_device * dev)
+static int pcidio_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: cb_pcidio: remove\n", dev-&gt;minor);
 	if (devpriv) {
diff --git a/drivers/staging/comedi/drivers/cb_pcimdas.c b/drivers/staging/comedi/drivers/cb_pcimdas.c
index 1223635a4422..09be4e19522e 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -138,7 +138,7 @@ MODULE_DEVICE_TABLE(pci, cb_pcimdas_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	int data;
 
@@ -175,8 +175,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int cb_pcimdas_attach(comedi_device * dev, comedi_devconfig * it);
-static int cb_pcimdas_detach(comedi_device * dev);
+static int cb_pcimdas_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int cb_pcimdas_detach(struct comedi_device * dev);
 static comedi_driver driver_cb_pcimdas = {
       driver_name:"cb_pcimdas",
       module:THIS_MODULE,
@@ -184,11 +184,11 @@ static comedi_driver driver_cb_pcimdas = {
       detach:cb_pcimdas_detach,
 };
 
-static int cb_pcimdas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcimdas_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcimdas_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -197,7 +197,7 @@ static int cb_pcimdas_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int cb_pcimdas_attach(comedi_device * dev, comedi_devconfig * it)
+static int cb_pcimdas_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	struct pci_dev *pcidev;
@@ -342,7 +342,7 @@ static int cb_pcimdas_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int cb_pcimdas_detach(comedi_device * dev)
+static int cb_pcimdas_detach(struct comedi_device * dev)
 {
 #ifdef CBPCIMDAS_DEBUG
 	if (devpriv) {
@@ -372,7 +372,7 @@ static int cb_pcimdas_detach(comedi_device * dev)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int cb_pcimdas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -437,7 +437,7 @@ static int cb_pcimdas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int cb_pcimdas_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -465,7 +465,7 @@ static int cb_pcimdas_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int cb_pcimdas_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
diff --git a/drivers/staging/comedi/drivers/cb_pcimdda.c b/drivers/staging/comedi/drivers/cb_pcimdda.c
index ac21056aa787..eb583bfd648c 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdda.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdda.c
@@ -154,7 +154,7 @@ MODULE_DEVICE_TABLE(pci, pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	unsigned long registers;	/* set by probe */
 	unsigned long dio_registers;
@@ -181,8 +181,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int attach(comedi_device * dev, comedi_devconfig * it);
-static int detach(comedi_device * dev);
+static int attach(struct comedi_device * dev, comedi_devconfig * it);
+static int detach(struct comedi_device * dev);
 static comedi_driver cb_pcimdda_driver = {
       driver_name:"cb_pcimdda",
       module:THIS_MODULE,
@@ -197,9 +197,9 @@ MODULE_DESCRIPTION("Comedi low-level driver for the Computerboards PCIM-DDA "
 MODULE_LICENSE("GPL");
 COMEDI_PCI_INITCLEANUP_NOMODULE(cb_pcimdda_driver, pci_table);
 
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*---------------------------------------------------------------------------
@@ -226,7 +226,7 @@ static inline unsigned int figure_out_maxdata(int bits)
  *
  *  Otherwise, returns a -errno on error
  */
-static int probe(comedi_device * dev, const comedi_devconfig * it);
+static int probe(struct comedi_device * dev, const comedi_devconfig * it);
 
 /*---------------------------------------------------------------------------
   FUNCTION DEFINITIONS
@@ -238,7 +238,7 @@ static int probe(comedi_device * dev, const comedi_devconfig * it);
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int attach(comedi_device * dev, comedi_devconfig * it)
+static int attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int err;
@@ -326,7 +326,7 @@ static int attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int detach(comedi_device * dev)
+static int detach(struct comedi_device * dev)
 {
 	if (devpriv) {
 
@@ -352,7 +352,7 @@ static int detach(comedi_device * dev)
 	return 0;
 }
 
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -391,7 +391,7 @@ static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
    all AO channels update simultaneously.  This is useful for some control
    applications, I would imagine.
 */
-static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -425,7 +425,7 @@ static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  *
  *  Otherwise, returns a -errno on error
  */
-static int probe(comedi_device * dev, const comedi_devconfig * it)
+static int probe(struct comedi_device * dev, const comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	int index;
diff --git a/drivers/staging/comedi/drivers/comedi_bond.c b/drivers/staging/comedi/drivers/comedi_bond.c
index 7868ddd6fe25..7d842a2bb5e0 100644
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -154,7 +154,7 @@ struct BondedDevice {
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 struct Private {
 # define MAX_BOARD_NAME 256
 	char name[MAX_BOARD_NAME];
@@ -176,11 +176,11 @@ struct Private {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int bonding_attach(comedi_device *dev, comedi_devconfig *it);
-static int bonding_detach(comedi_device *dev);
+static int bonding_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int bonding_detach(struct comedi_device *dev);
 /** Build Private array of all devices.. */
-static int doDevConfig(comedi_device *dev, comedi_devconfig *it);
-static void doDevUnconfig(comedi_device *dev);
+static int doDevConfig(struct comedi_device *dev, comedi_devconfig *it);
+static void doDevUnconfig(struct comedi_device *dev);
 /* Ugly implementation of realloc that always copies memory around -- I'm lazy,
  * what can I say?  I like to do wasteful memcopies.. :) */
 static void *Realloc(const void *ptr, size_t len, size_t old_len);
@@ -213,9 +213,9 @@ static comedi_driver driver_bonding = {
       .num_names =	sizeof(bondingBoards) / sizeof(struct BondingBoard),
 };
 
-static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-static int bonding_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
@@ -224,7 +224,7 @@ static int bonding_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int bonding_attach(comedi_device *dev, comedi_devconfig *it)
+static int bonding_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	comedi_subdevice *s;
 
@@ -281,7 +281,7 @@ static int bonding_attach(comedi_device *dev, comedi_devconfig *it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int bonding_detach(comedi_device *dev)
+static int bonding_detach(struct comedi_device *dev)
 {
 	LOG_MSG("comedi%d: remove\n", dev-&gt;minor);
 	doDevUnconfig(dev);
@@ -293,7 +293,7 @@ static int bonding_detach(comedi_device *dev)
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 #define LSAMPL_BITS (sizeof(unsigned int)*8)
@@ -340,7 +340,7 @@ static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int bonding_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), ret, io_bits = s-&gt;io_bits;
@@ -394,7 +394,7 @@ static void *Realloc(const void *oldmem, size_t newlen, size_t oldlen)
 	return newmem;
 }
 
-static int doDevConfig(comedi_device *dev, comedi_devconfig *it)
+static int doDevConfig(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int i;
 	void *devs_opened[COMEDI_NUM_BOARD_MINORS];
@@ -497,7 +497,7 @@ static int doDevConfig(comedi_device *dev, comedi_devconfig *it)
 	return 1;
 }
 
-static void doDevUnconfig(comedi_device *dev)
+static void doDevUnconfig(struct comedi_device *dev)
 {
 	unsigned long devs_closed = 0;
 
diff --git a/drivers/staging/comedi/drivers/comedi_fc.c b/drivers/staging/comedi/drivers/comedi_fc.c
index cd74dbe5417d..842b250a7c65 100644
--- a/drivers/staging/comedi/drivers/comedi_fc.c
+++ b/drivers/staging/comedi/drivers/comedi_fc.c
@@ -85,7 +85,7 @@ unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd, void *data,
 }
 EXPORT_SYMBOL(cfc_read_array_from_buffer);
 
-unsigned int cfc_handle_events(comedi_device *dev, comedi_subdevice *subd)
+unsigned int cfc_handle_events(struct comedi_device *dev, comedi_subdevice *subd)
 {
 	unsigned int events = subd-&gt;async-&gt;events;
 
diff --git a/drivers/staging/comedi/drivers/comedi_fc.h b/drivers/staging/comedi/drivers/comedi_fc.h
index bbb70d66eee9..4f251cd509e6 100644
--- a/drivers/staging/comedi/drivers/comedi_fc.h
+++ b/drivers/staging/comedi/drivers/comedi_fc.h
@@ -50,7 +50,7 @@ extern unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd,
 					       void *data,
 					       unsigned int num_bytes);
 
-extern unsigned int cfc_handle_events(comedi_device *dev,
+extern unsigned int cfc_handle_events(struct comedi_device *dev,
 				      comedi_subdevice *subd);
 
 static inline unsigned int cfc_bytes_per_scan(comedi_subdevice *subd)
diff --git a/drivers/staging/comedi/drivers/comedi_parport.c b/drivers/staging/comedi/drivers/comedi_parport.c
index 87c4c20694e0..b432d50df4d4 100644
--- a/drivers/staging/comedi/drivers/comedi_parport.c
+++ b/drivers/staging/comedi/drivers/comedi_parport.c
@@ -90,8 +90,8 @@ pin, which can be used to wake up tasks.
 #define PARPORT_B 1
 #define PARPORT_C 2
 
-static int parport_attach(comedi_device *dev, comedi_devconfig *it);
-static int parport_detach(comedi_device *dev);
+static int parport_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int parport_detach(struct comedi_device *dev);
 static comedi_driver driver_parport = {
       .driver_name =	"comedi_parport",
       .module =		THIS_MODULE,
@@ -108,7 +108,7 @@ struct parport_private {
 };
 #define devpriv ((struct parport_private *)(dev-&gt;private))
 
-static int parport_insn_a(comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_a(struct comedi_device *dev, comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -123,7 +123,7 @@ static int parport_insn_a(comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_insn_config_a(comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_config_a(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -138,7 +138,7 @@ static int parport_insn_config_a(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int parport_insn_b(comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_b(struct comedi_device *dev, comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -151,7 +151,7 @@ static int parport_insn_b(comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_insn_c(comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_c(struct comedi_device *dev, comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	data[0] &amp;= 0x0f;
@@ -167,7 +167,7 @@ static int parport_insn_c(comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_intr_insn(comedi_device *dev, comedi_subdevice *s,
+static int parport_intr_insn(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -177,7 +177,7 @@ static int parport_intr_insn(comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int parport_intr_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int parport_intr_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_cmd *cmd)
 {
 	int err = 0;
@@ -252,7 +252,7 @@ static int parport_intr_cmdtest(comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int parport_intr_cmd(comedi_device *dev, comedi_subdevice *s)
+static int parport_intr_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	devpriv-&gt;c_data |= 0x10;
 	outb(devpriv-&gt;c_data, dev-&gt;iobase + PARPORT_C);
@@ -262,7 +262,7 @@ static int parport_intr_cmd(comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int parport_intr_cancel(comedi_device *dev, comedi_subdevice *s)
+static int parport_intr_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	printk(KERN_DEBUG "parport_intr_cancel()\n");
 
@@ -276,7 +276,7 @@ static int parport_intr_cancel(comedi_device *dev, comedi_subdevice *s)
 
 static irqreturn_t parport_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 3;
 
 	if (!devpriv-&gt;enable_irq) {
@@ -291,7 +291,7 @@ static irqreturn_t parport_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int parport_attach(comedi_device *dev, comedi_devconfig *it)
+static int parport_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int ret;
 	unsigned int irq;
@@ -376,7 +376,7 @@ static int parport_attach(comedi_device *dev, comedi_devconfig *it)
 	return 1;
 }
 
-static int parport_detach(comedi_device *dev)
+static int parport_detach(struct comedi_device *dev)
 {
 	printk("comedi%d: parport: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/comedi_rt_timer.c b/drivers/staging/comedi/drivers/comedi_rt_timer.c
index ec081c4180c6..202b04b2e394 100644
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -122,11 +122,11 @@ static inline RTIME nano2count(long long ns)
  * task period because analog input tends to be slow. */
 #define SPEED_LIMIT 100000	/* in nanoseconds */
 
-static int timer_attach(comedi_device * dev, comedi_devconfig * it);
-static int timer_detach(comedi_device * dev);
-static int timer_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int timer_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int timer_detach(struct comedi_device * dev);
+static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num);
-static int timer_start_cmd(comedi_device * dev, comedi_subdevice * s);
+static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s);
 
 static comedi_driver driver_timer = {
       module:THIS_MODULE,
@@ -145,7 +145,7 @@ typedef struct {
 	RT_TASK *scan_task;	// rt task that controls conversion timing in a scan
 	/* io_function can point to either an input or output function
 	 * depending on what kind of subdevice we are emulating for */
-	int (*io_function) (comedi_device * dev, comedi_cmd * cmd,
+	int (*io_function) (struct comedi_device * dev, comedi_cmd * cmd,
 		unsigned int index);
 	// RTIME has units of 1 = 838 nanoseconds
 	// time at which first scan started, used to check scan timing
@@ -162,7 +162,7 @@ typedef struct {
 } timer_private;
 #define devpriv ((timer_private *)dev-&gt;private)
 
-static int timer_cancel(comedi_device * dev, comedi_subdevice * s)
+static int timer_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	devpriv-&gt;stop = 1;
 
@@ -170,7 +170,7 @@ static int timer_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 // checks for scan timing error
-inline static int check_scan_timing(comedi_device * dev,
+inline static int check_scan_timing(struct comedi_device * dev,
 	unsigned long long scan)
 {
 	RTIME now, timing_error;
@@ -187,7 +187,7 @@ inline static int check_scan_timing(comedi_device * dev,
 }
 
 // checks for conversion timing error
-inline static int check_conversion_timing(comedi_device * dev,
+inline static int check_conversion_timing(struct comedi_device * dev,
 	RTIME scan_start, unsigned int conversion)
 {
 	RTIME now, timing_error;
@@ -206,7 +206,7 @@ inline static int check_conversion_timing(comedi_device * dev,
 }
 
 // devpriv-&gt;io_function for an input subdevice
-static int timer_data_read(comedi_device * dev, comedi_cmd * cmd,
+static int timer_data_read(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -231,7 +231,7 @@ static int timer_data_read(comedi_device * dev, comedi_cmd * cmd,
 }
 
 // devpriv-&gt;io_function for an output subdevice
-static int timer_data_write(comedi_device * dev, comedi_cmd * cmd,
+static int timer_data_write(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
 	comedi_subdevice *s = dev-&gt;write_subdev;
@@ -266,7 +266,7 @@ static int timer_data_write(comedi_device * dev, comedi_cmd * cmd,
 }
 
 // devpriv-&gt;io_function for DIO subdevices
-static int timer_dio_read(comedi_device * dev, comedi_cmd * cmd,
+static int timer_dio_read(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -290,7 +290,7 @@ static int timer_dio_read(comedi_device * dev, comedi_cmd * cmd,
 // performs scans
 static void scan_task_func(comedi_rt_task_context_t d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -360,7 +360,7 @@ static void scan_task_func(comedi_rt_task_context_t d)
 
 static void timer_task_func(comedi_rt_task_context_t d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int ret;
@@ -396,7 +396,7 @@ static void timer_task_func(comedi_rt_task_context_t d)
 	}
 }
 
-static int timer_insn(comedi_device * dev, comedi_subdevice * s,
+static int timer_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	comedi_insn xinsn = *insn;
@@ -444,7 +444,7 @@ static int cmdtest_helper(comedi_cmd * cmd,
 	return err;
 }
 
-static int timer_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int timer_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -516,7 +516,7 @@ static int timer_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int timer_cmd(comedi_device * dev, comedi_subdevice * s)
+static int timer_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int ret;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -567,7 +567,7 @@ static int timer_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int timer_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -578,7 +578,7 @@ static int timer_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return timer_start_cmd(dev, s);
 }
 
-static int timer_start_cmd(comedi_device * dev, comedi_subdevice * s)
+static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -607,11 +607,11 @@ static int timer_start_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int timer_attach(comedi_device * dev, comedi_devconfig * it)
+static int timer_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	comedi_subdevice *s, *emul_s;
-	comedi_device *emul_dev;
+	struct comedi_device *emul_dev;
 	/* These should probably be devconfig options[] */
 	const int timer_priority = 4;
 	const int scan_priority = timer_priority + 1;
@@ -706,7 +706,7 @@ static int timer_attach(comedi_device * dev, comedi_devconfig * it)
 }
 
 // free allocated resources
-static int timer_detach(comedi_device * dev)
+static int timer_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: timer: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/comedi_test.c b/drivers/staging/comedi/drivers/comedi_test.c
index f65ee2b52042..70aeb6088e1b 100644
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -93,8 +93,8 @@ struct waveform_private {
 };
 #define devpriv ((struct waveform_private *)dev-&gt;private)
 
-static int waveform_attach(comedi_device *dev, comedi_devconfig *it);
-static int waveform_detach(comedi_device *dev);
+static int waveform_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int waveform_detach(struct comedi_device *dev);
 static comedi_driver driver_waveform = {
       .driver_name =	"comedi_test",
       .module =		THIS_MODULE,
@@ -107,21 +107,21 @@ static comedi_driver driver_waveform = {
 
 COMEDI_INITCLEANUP(driver_waveform);
 
-static int waveform_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_cmd *cmd);
-static int waveform_ai_cmd(comedi_device *dev, comedi_subdevice *s);
-static int waveform_ai_cancel(comedi_device *dev, comedi_subdevice *s);
-static int waveform_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
+static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
+static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-static int waveform_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
+static int waveform_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-static short fake_sawtooth(comedi_device *dev, unsigned int range,
+static short fake_sawtooth(struct comedi_device *dev, unsigned int range,
 			     unsigned long current_time);
-static short fake_squarewave(comedi_device *dev, unsigned int range,
+static short fake_squarewave(struct comedi_device *dev, unsigned int range,
 			       unsigned long current_time);
-static short fake_flatline(comedi_device *dev, unsigned int range,
+static short fake_flatline(struct comedi_device *dev, unsigned int range,
 			     unsigned long current_time);
-static short fake_waveform(comedi_device *dev, unsigned int channel,
+static short fake_waveform(struct comedi_device *dev, unsigned int channel,
 			     unsigned int range, unsigned long current_time);
 
 /* 1000 nanosec in a microsec */
@@ -143,7 +143,7 @@ static const comedi_lrange waveform_ai_ranges = {
 */
 static void waveform_ai_interrupt(unsigned long arg)
 {
-	comedi_device *dev = (comedi_device *) arg;
+	struct comedi_device *dev = (struct comedi_device *) arg;
 	comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	unsigned int i, j;
@@ -192,7 +192,7 @@ static void waveform_ai_interrupt(unsigned long arg)
 	comedi_event(dev, dev-&gt;read_subdev);
 }
 
-static int waveform_attach(comedi_device *dev, comedi_devconfig *it)
+static int waveform_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	comedi_subdevice *s;
 	int amplitude = it-&gt;options[0];
@@ -259,7 +259,7 @@ static int waveform_attach(comedi_device *dev, comedi_devconfig *it)
 	return 1;
 }
 
-static int waveform_detach(comedi_device *dev)
+static int waveform_detach(struct comedi_device *dev)
 {
 	printk("comedi%d: comedi_test: remove\n", dev-&gt;minor);
 
@@ -269,7 +269,7 @@ static int waveform_detach(comedi_device *dev)
 	return 0;
 }
 
-static int waveform_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_cmd *cmd)
 {
 	int err = 0;
@@ -397,7 +397,7 @@ static int waveform_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int waveform_ai_cmd(comedi_device *dev, comedi_subdevice *s)
+static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -429,14 +429,14 @@ static int waveform_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int waveform_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	devpriv-&gt;timer_running = 0;
 	del_timer(&amp;devpriv-&gt;timer);
 	return 0;
 }
 
-static short fake_sawtooth(comedi_device *dev, unsigned int range_index,
+static short fake_sawtooth(struct comedi_device *dev, unsigned int range_index,
 			     unsigned long current_time)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -457,7 +457,7 @@ static short fake_sawtooth(comedi_device *dev, unsigned int range_index,
 
 	return offset + value;
 }
-static short fake_squarewave(comedi_device *dev, unsigned int range_index,
+static short fake_squarewave(struct comedi_device *dev, unsigned int range_index,
 			       unsigned long current_time)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -476,14 +476,14 @@ static short fake_squarewave(comedi_device *dev, unsigned int range_index,
 	return offset + value;
 }
 
-static short fake_flatline(comedi_device *dev, unsigned int range_index,
+static short fake_flatline(struct comedi_device *dev, unsigned int range_index,
 			     unsigned long current_time)
 {
 	return dev-&gt;read_subdev-&gt;maxdata / 2;
 }
 
 /* generates a different waveform depending on what channel is read */
-static short fake_waveform(comedi_device *dev, unsigned int channel,
+static short fake_waveform(struct comedi_device *dev, unsigned int channel,
 			     unsigned int range, unsigned long current_time)
 {
 	enum {
@@ -504,7 +504,7 @@ static short fake_waveform(comedi_device *dev, unsigned int channel,
 	return fake_flatline(dev, range, current_time);
 }
 
-static int waveform_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn-&gt;chanspec);
@@ -515,7 +515,7 @@ static int waveform_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int waveform_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
+static int waveform_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/contec_pci_dio.c b/drivers/staging/comedi/drivers/contec_pci_dio.c
index 3049eb26674b..845f97e81280 100644
--- a/drivers/staging/comedi/drivers/contec_pci_dio.c
+++ b/drivers/staging/comedi/drivers/contec_pci_dio.c
@@ -75,8 +75,8 @@ typedef struct {
 
 #define devpriv ((contec_private *)dev-&gt;private)
 
-static int contec_attach(comedi_device * dev, comedi_devconfig * it);
-static int contec_detach(comedi_device * dev);
+static int contec_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int contec_detach(struct comedi_device * dev);
 static comedi_driver driver_contec = {
       driver_name:"contec_pci_dio",
       module:THIS_MODULE,
@@ -85,19 +85,19 @@ static comedi_driver driver_contec = {
 };
 
 /* Classic digital IO */
-static int contec_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int contec_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int contec_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 #if 0
-static int contec_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int contec_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 static int contec_ns_to_timer(unsigned int *ns, int round);
 #endif
 
-static int contec_attach(comedi_device * dev, comedi_devconfig * it)
+static int contec_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	comedi_subdevice *s;
@@ -164,7 +164,7 @@ static int contec_attach(comedi_device * dev, comedi_devconfig * it)
 	return -EIO;
 }
 
-static int contec_detach(comedi_device * dev)
+static int contec_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: contec: remove\n", dev-&gt;minor);
 
@@ -179,7 +179,7 @@ static int contec_detach(comedi_device * dev)
 }
 
 #if 0
-static int contec_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int contec_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	printk("contec_cmdtest called\n");
@@ -192,7 +192,7 @@ static int contec_ns_to_timer(unsigned int *ns, int round)
 }
 #endif
 
-static int contec_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -212,7 +212,7 @@ static int contec_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int contec_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int contec_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
diff --git a/drivers/staging/comedi/drivers/daqboard2000.c b/drivers/staging/comedi/drivers/daqboard2000.c
index 86cab4295d9e..21bf5d3131b7 100644
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -296,8 +296,8 @@ typedef struct daqboard2000_hw {
 #define DAQBOARD2000_PosRefDacSelect             0x0100
 #define DAQBOARD2000_NegRefDacSelect             0x0000
 
-static int daqboard2000_attach(comedi_device * dev, comedi_devconfig * it);
-static int daqboard2000_detach(comedi_device * dev);
+static int daqboard2000_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int daqboard2000_detach(struct comedi_device * dev);
 
 static comedi_driver driver_daqboard2000 = {
       driver_name:"daqboard2000",
@@ -338,7 +338,7 @@ typedef struct {
 
 #define devpriv ((daqboard2000_private*)dev-&gt;private)
 
-static void writeAcqScanListEntry(comedi_device * dev, u16 entry)
+static void writeAcqScanListEntry(struct comedi_device * dev, u16 entry)
 {
 	daqboard2000_hw *fpga = devpriv-&gt;daq;
 
@@ -348,7 +348,7 @@ static void writeAcqScanListEntry(comedi_device * dev, u16 entry)
 	fpga-&gt;acqScanListFIFO = (entry &gt;&gt; 8) &amp; 0x00ff;
 }
 
-static void setup_sampling(comedi_device * dev, int chan, int gain)
+static void setup_sampling(struct comedi_device * dev, int chan, int gain)
 {
 	u16 word0, word1, word2, word3;
 
@@ -393,7 +393,7 @@ static void setup_sampling(comedi_device * dev, int chan, int gain)
 	writeAcqScanListEntry(dev, word3);
 }
 
-static int daqboard2000_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -450,7 +450,7 @@ static int daqboard2000_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int daqboard2000_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -463,7 +463,7 @@ static int daqboard2000_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int daqboard2000_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -494,7 +494,7 @@ static int daqboard2000_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static void daqboard2000_resetLocalBus(comedi_device * dev)
+static void daqboard2000_resetLocalBus(struct comedi_device * dev)
 {
 	printk("daqboard2000_resetLocalBus\n");
 	writel(DAQBOARD2000_SECRLocalBusHi, devpriv-&gt;plx + 0x6c);
@@ -503,7 +503,7 @@ static void daqboard2000_resetLocalBus(comedi_device * dev)
 	comedi_udelay(10000);
 }
 
-static void daqboard2000_reloadPLX(comedi_device * dev)
+static void daqboard2000_reloadPLX(struct comedi_device * dev)
 {
 	printk("daqboard2000_reloadPLX\n");
 	writel(DAQBOARD2000_SECRReloadLo, devpriv-&gt;plx + 0x6c);
@@ -514,7 +514,7 @@ static void daqboard2000_reloadPLX(comedi_device * dev)
 	comedi_udelay(10000);
 }
 
-static void daqboard2000_pulseProgPin(comedi_device * dev)
+static void daqboard2000_pulseProgPin(struct comedi_device * dev)
 {
 	printk("daqboard2000_pulseProgPin 1\n");
 	writel(DAQBOARD2000_SECRProgPinHi, devpriv-&gt;plx + 0x6c);
@@ -523,7 +523,7 @@ static void daqboard2000_pulseProgPin(comedi_device * dev)
 	comedi_udelay(10000);	/* Not in the original code, but I like symmetry... */
 }
 
-static int daqboard2000_pollCPLD(comedi_device * dev, int mask)
+static int daqboard2000_pollCPLD(struct comedi_device * dev, int mask)
 {
 	int result = 0;
 	int i;
@@ -542,7 +542,7 @@ static int daqboard2000_pollCPLD(comedi_device * dev, int mask)
 	return result;
 }
 
-static int daqboard2000_writeCPLD(comedi_device * dev, int data)
+static int daqboard2000_writeCPLD(struct comedi_device * dev, int data)
 {
 	int result = 0;
 
@@ -555,7 +555,7 @@ static int daqboard2000_writeCPLD(comedi_device * dev, int data)
 	return result;
 }
 
-static int initialize_daqboard2000(comedi_device * dev,
+static int initialize_daqboard2000(struct comedi_device * dev,
 	unsigned char *cpld_array, int len)
 {
 	int result = -EIO;
@@ -613,12 +613,12 @@ static int initialize_daqboard2000(comedi_device * dev,
 	return result;
 }
 
-static void daqboard2000_adcStopDmaTransfer(comedi_device * dev)
+static void daqboard2000_adcStopDmaTransfer(struct comedi_device * dev)
 {
 /*  printk("Implement: daqboard2000_adcStopDmaTransfer\n");*/
 }
 
-static void daqboard2000_adcDisarm(comedi_device * dev)
+static void daqboard2000_adcDisarm(struct comedi_device * dev)
 {
 	daqboard2000_hw *fpga = devpriv-&gt;daq;
 
@@ -640,7 +640,7 @@ static void daqboard2000_adcDisarm(comedi_device * dev)
 	daqboard2000_adcStopDmaTransfer(dev);
 }
 
-static void daqboard2000_activateReferenceDacs(comedi_device * dev)
+static void daqboard2000_activateReferenceDacs(struct comedi_device * dev)
 {
 	daqboard2000_hw *fpga = devpriv-&gt;daq;
 	int timeout;
@@ -666,22 +666,22 @@ static void daqboard2000_activateReferenceDacs(comedi_device * dev)
 /*  printk("DAQBOARD2000_NegRefDacSelect %d\n", timeout);*/
 }
 
-static void daqboard2000_initializeCtrs(comedi_device * dev)
+static void daqboard2000_initializeCtrs(struct comedi_device * dev)
 {
 /*  printk("Implement: daqboard2000_initializeCtrs\n");*/
 }
 
-static void daqboard2000_initializeTmrs(comedi_device * dev)
+static void daqboard2000_initializeTmrs(struct comedi_device * dev)
 {
 /*  printk("Implement: daqboard2000_initializeTmrs\n");*/
 }
 
-static void daqboard2000_dacDisarm(comedi_device * dev)
+static void daqboard2000_dacDisarm(struct comedi_device * dev)
 {
 /*  printk("Implement: daqboard2000_dacDisarm\n");*/
 }
 
-static void daqboard2000_initializeAdc(comedi_device * dev)
+static void daqboard2000_initializeAdc(struct comedi_device * dev)
 {
 	daqboard2000_adcDisarm(dev);
 	daqboard2000_activateReferenceDacs(dev);
@@ -689,7 +689,7 @@ static void daqboard2000_initializeAdc(comedi_device * dev)
 	daqboard2000_initializeTmrs(dev);
 }
 
-static void daqboard2000_initializeDac(comedi_device * dev)
+static void daqboard2000_initializeDac(struct comedi_device * dev)
 {
 	daqboard2000_dacDisarm(dev);
 }
@@ -717,7 +717,7 @@ static int daqboard2000_8255_cb(int dir, int port, int data,
 	return result;
 }
 
-static int daqboard2000_attach(comedi_device * dev, comedi_devconfig * it)
+static int daqboard2000_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int result = 0;
 	comedi_subdevice *s;
@@ -849,7 +849,7 @@ static int daqboard2000_attach(comedi_device * dev, comedi_devconfig * it)
 	return result;
 }
 
-static int daqboard2000_detach(comedi_device * dev)
+static int daqboard2000_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: daqboard2000: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/das08.c b/drivers/staging/comedi/drivers/das08.c
index 8d4903dc03d6..1614a2070aff 100644
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -154,19 +154,19 @@ driver.
 
 /* gainlist same as _pgx_ below */
 
-static int das08_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08ao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das08ao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void i8254_set_mode_low(unsigned int base, int channel,
 	unsigned int mode);
@@ -512,7 +512,7 @@ MODULE_DEVICE_TABLE(pci, das08_pci_table);
 
 #define TIMEOUT 100000
 
-static int das08_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -579,7 +579,7 @@ static int das08_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das08_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
@@ -588,7 +588,7 @@ static int das08_di_rbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
@@ -611,7 +611,7 @@ static int das08_do_wbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08jr_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
@@ -620,7 +620,7 @@ static int das08jr_di_rbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08jr_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	// null bits we are going to set
@@ -634,7 +634,7 @@ static int das08jr_do_wbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08jr_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -668,7 +668,7 @@ static int das08jr_ao_winsn(comedi_device * dev, comedi_subdevice * s,
  * a different method to force an update.
  *
  */
-static int das08ao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das08ao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -782,7 +782,7 @@ static unsigned int i8254_read_status(struct i8254_struct *st, int channel)
 	return i8254_read_status_low(st-&gt;iobase, chan);
 }
 
-static int das08_counter_read(comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
@@ -794,7 +794,7 @@ static int das08_counter_read(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int das08_counter_write(comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
@@ -805,7 +805,7 @@ static int das08_counter_write(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int das08_counter_config(comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
@@ -827,7 +827,7 @@ static int das08_counter_config(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das08_attach(comedi_device * dev, comedi_devconfig * it);
+static int das08_attach(struct comedi_device * dev, comedi_devconfig * it);
 
 static comedi_driver driver_das08 = {
       driver_name: DRV_NAME,
@@ -840,7 +840,7 @@ static comedi_driver driver_das08 = {
       offset:sizeof(struct das08_board_struct),
 };
 
-int das08_common_attach(comedi_device * dev, unsigned long iobase)
+int das08_common_attach(struct comedi_device * dev, unsigned long iobase)
 {
 	comedi_subdevice *s;
 	int ret;
@@ -952,7 +952,7 @@ int das08_common_attach(comedi_device * dev, unsigned long iobase)
 	return 0;
 }
 
-static int das08_attach(comedi_device * dev, comedi_devconfig * it)
+static int das08_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	unsigned long iobase;
@@ -1028,7 +1028,7 @@ static int das08_attach(comedi_device * dev, comedi_devconfig * it)
 	return das08_common_attach(dev, iobase);
 }
 
-int das08_common_detach(comedi_device * dev)
+int das08_common_detach(struct comedi_device * dev)
 {
 	printk(KERN_INFO "comedi%d: das08: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/das08.h b/drivers/staging/comedi/drivers/das08.h
index 6342fbaf7bf0..9f82527ec834 100644
--- a/drivers/staging/comedi/drivers/das08.h
+++ b/drivers/staging/comedi/drivers/das08.h
@@ -72,7 +72,7 @@ struct das08_private_struct {
 #define NUM_DAS08_CS_BOARDS 2
 extern struct das08_board_struct das08_cs_boards[NUM_DAS08_CS_BOARDS];
 
-int das08_common_attach(comedi_device * dev, unsigned long iobase);
-int das08_common_detach(comedi_device * dev);
+int das08_common_attach(struct comedi_device * dev, unsigned long iobase);
+int das08_common_detach(struct comedi_device * dev);
 
 #endif /* _DAS08_H */
diff --git a/drivers/staging/comedi/drivers/das08_cs.c b/drivers/staging/comedi/drivers/das08_cs.c
index d5390e630878..0e56f1d762de 100644
--- a/drivers/staging/comedi/drivers/das08_cs.c
+++ b/drivers/staging/comedi/drivers/das08_cs.c
@@ -56,7 +56,7 @@ static struct pcmcia_device *cur_dev = NULL;
 
 #define thisboard ((const struct das08_board_struct *)dev-&gt;board_ptr)
 
-static int das08_cs_attach(comedi_device * dev, comedi_devconfig * it);
+static int das08_cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 
 static comedi_driver driver_das08_cs = {
       driver_name:"das08_cs",
@@ -69,7 +69,7 @@ static comedi_driver driver_das08_cs = {
       offset:sizeof(struct das08_board_struct),
 };
 
-static int das08_cs_attach(comedi_device * dev, comedi_devconfig * it)
+static int das08_cs_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/das16.c b/drivers/staging/comedi/drivers/das16.c
index dd28385fc12f..07f8856c2c39 100644
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -326,34 +326,34 @@ struct munge_info {
 	unsigned have_byte:1;
 };
 
-static int das16_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das16_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das16_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16_cmd_exec(comedi_device * dev, comedi_subdevice * s);
-static int das16_cancel(comedi_device * dev, comedi_subdevice * s);
-static void das16_ai_munge(comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s);
+static int das16_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void das16_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index);
 
-static void das16_reset(comedi_device * dev);
+static void das16_reset(struct comedi_device * dev);
 static irqreturn_t das16_dma_interrupt(int irq, void *d PT_REGS_ARG);
 static void das16_timer_interrupt(unsigned long arg);
-static void das16_interrupt(comedi_device * dev);
+static void das16_interrupt(struct comedi_device * dev);
 
-static unsigned int das16_set_pacer(comedi_device * dev, unsigned int ns,
+static unsigned int das16_set_pacer(struct comedi_device * dev, unsigned int ns,
 	int flags);
-static int das1600_mode_detect(comedi_device * dev);
-static unsigned int das16_suggest_transfer_size(comedi_device * dev,
+static int das1600_mode_detect(struct comedi_device * dev);
+static unsigned int das16_suggest_transfer_size(struct comedi_device * dev,
 	comedi_cmd cmd);
 
-static void reg_dump(comedi_device * dev);
+static void reg_dump(struct comedi_device * dev);
 
 typedef struct das16_board_struct {
 	const char *name;
@@ -698,8 +698,8 @@ static const struct das16_board_struct das16_boards[] = {
 
 #define n_das16_boards ((sizeof(das16_boards))/(sizeof(das16_board)))
 
-static int das16_attach(comedi_device * dev, comedi_devconfig * it);
-static int das16_detach(comedi_device * dev);
+static int das16_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int das16_detach(struct comedi_device * dev);
 static comedi_driver driver_das16 = {
       driver_name:"das16",
       module:THIS_MODULE,
@@ -742,7 +742,7 @@ struct das16_private_struct {
 #define devpriv ((struct das16_private_struct *)(dev-&gt;private))
 #define thisboard ((struct das16_board_struct *)(dev-&gt;board_ptr))
 
-static int das16_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0, tmp;
@@ -893,7 +893,7 @@ static int das16_cmd_test(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das16_cmd_exec(comedi_device * dev, comedi_subdevice * s)
+static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -996,7 +996,7 @@ static int das16_cmd_exec(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das16_cancel(comedi_device * dev, comedi_subdevice * s)
+static int das16_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1023,7 +1023,7 @@ static int das16_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static void das16_reset(comedi_device * dev)
+static void das16_reset(struct comedi_device * dev)
 {
 	outb(0, dev-&gt;iobase + DAS16_STATUS);
 	outb(0, dev-&gt;iobase + DAS16_CONTROL);
@@ -1031,7 +1031,7 @@ static void das16_reset(comedi_device * dev)
 	outb(0, dev-&gt;iobase + DAS16_CNTR_CONTROL);
 }
 
-static int das16_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1079,7 +1079,7 @@ static int das16_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das16_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -1091,7 +1091,7 @@ static int das16_di_rbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -1111,7 +1111,7 @@ static int das16_do_wbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das16_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1138,7 +1138,7 @@ static int das16_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 static irqreturn_t das16_dma_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	int status;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	status = inb(dev-&gt;iobase + DAS16_STATUS);
 
@@ -1155,7 +1155,7 @@ static irqreturn_t das16_dma_interrupt(int irq, void *d PT_REGS_ARG)
 
 static void das16_timer_interrupt(unsigned long arg)
 {
-	comedi_device *dev = (comedi_device *) arg;
+	struct comedi_device *dev = (struct comedi_device *) arg;
 
 	das16_interrupt(dev);
 
@@ -1169,7 +1169,7 @@ static void das16_timer_interrupt(unsigned long arg)
 	an even transfer count after disabling dma
 	channel.
 */
-static int disable_dma_on_even(comedi_device * dev)
+static int disable_dma_on_even(struct comedi_device * dev)
 {
 	int residue;
 	int i;
@@ -1197,7 +1197,7 @@ static int disable_dma_on_even(comedi_device * dev)
 	return residue;
 }
 
-static void das16_interrupt(comedi_device * dev)
+static void das16_interrupt(struct comedi_device * dev)
 {
 	unsigned long dma_flags, spin_flags;
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -1273,7 +1273,7 @@ static void das16_interrupt(comedi_device * dev)
 	cfc_handle_events(dev, s);
 }
 
-static unsigned int das16_set_pacer(comedi_device * dev, unsigned int ns,
+static unsigned int das16_set_pacer(struct comedi_device * dev, unsigned int ns,
 	int rounding_flags)
 {
 	i8253_cascade_ns_to_timer_2div(devpriv-&gt;clockbase, &amp;(devpriv-&gt;divisor1),
@@ -1286,7 +1286,7 @@ static unsigned int das16_set_pacer(comedi_device * dev, unsigned int ns,
 	return ns;
 }
 
-static void reg_dump(comedi_device * dev)
+static void reg_dump(struct comedi_device * dev)
 {
 	DEBUG_PRINT("********DAS1600 REGISTER DUMP********\n");
 	DEBUG_PRINT("DAS16_MUX: %x\n", inb(dev-&gt;iobase + DAS16_MUX));
@@ -1304,7 +1304,7 @@ static void reg_dump(comedi_device * dev)
 		inb(dev-&gt;iobase + DAS1600_STATUS_B));
 }
 
-static int das16_probe(comedi_device * dev, comedi_devconfig * it)
+static int das16_probe(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int status;
 	int diobits;
@@ -1338,7 +1338,7 @@ static int das16_probe(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int das1600_mode_detect(comedi_device * dev)
+static int das1600_mode_detect(struct comedi_device * dev)
 {
 	int status = 0;
 
@@ -1366,7 +1366,7 @@ static int das1600_mode_detect(comedi_device * dev)
  *   3  Clock speed (in MHz)
  */
 
-static int das16_attach(comedi_device * dev, comedi_devconfig * it)
+static int das16_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret;
@@ -1630,7 +1630,7 @@ static int das16_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int das16_detach(comedi_device * dev)
+static int das16_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: das16: remove\n", dev-&gt;minor);
 
@@ -1674,7 +1674,7 @@ static int das16_detach(comedi_device * dev)
 COMEDI_INITCLEANUP(driver_das16);
 
 // utility function that suggests a dma transfer size in bytes
-static unsigned int das16_suggest_transfer_size(comedi_device * dev,
+static unsigned int das16_suggest_transfer_size(struct comedi_device * dev,
 	comedi_cmd cmd)
 {
 	unsigned int size;
@@ -1715,7 +1715,7 @@ static unsigned int das16_suggest_transfer_size(comedi_device * dev,
 	return size;
 }
 
-static void das16_ai_munge(comedi_device * dev, comedi_subdevice * s,
+static void das16_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
diff --git a/drivers/staging/comedi/drivers/das16m1.c b/drivers/staging/comedi/drivers/das16m1.c
index addccba3c6e8..f646eb16d0c9 100644
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -131,23 +131,23 @@ static const comedi_lrange range_das16m1 = { 9,
 		}
 };
 
-static int das16m1_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16m1_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16m1_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das16m1_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16m1_cmd_exec(comedi_device * dev, comedi_subdevice * s);
-static int das16m1_cancel(comedi_device * dev, comedi_subdevice * s);
+static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s);
+static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s);
 
-static int das16m1_poll(comedi_device * dev, comedi_subdevice * s);
+static int das16m1_poll(struct comedi_device * dev, comedi_subdevice * s);
 static irqreturn_t das16m1_interrupt(int irq, void *d PT_REGS_ARG);
-static void das16m1_handler(comedi_device * dev, unsigned int status);
+static void das16m1_handler(struct comedi_device * dev, unsigned int status);
 
-static unsigned int das16m1_set_pacer(comedi_device * dev, unsigned int ns,
+static unsigned int das16m1_set_pacer(struct comedi_device * dev, unsigned int ns,
 	int round_flag);
 
 static int das16m1_irq_bits(unsigned int irq);
@@ -166,8 +166,8 @@ static const das16m1_board das16m1_boards[] = {
 
 #define das16m1_num_boards ((sizeof(das16m1_boards)) / (sizeof(das16m1_boards[0])))
 
-static int das16m1_attach(comedi_device * dev, comedi_devconfig * it);
-static int das16m1_detach(comedi_device * dev);
+static int das16m1_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int das16m1_detach(struct comedi_device * dev);
 static comedi_driver driver_das16m1 = {
       driver_name:"das16m1",
       module:THIS_MODULE,
@@ -200,7 +200,7 @@ static inline short munge_sample(short data)
 	return (data &gt;&gt; 4) &amp; 0xfff;
 }
 
-static int das16m1_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	unsigned int err = 0, tmp, i;
@@ -322,7 +322,7 @@ static int das16m1_cmd_test(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das16m1_cmd_exec(comedi_device * dev, comedi_subdevice * s)
+static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -385,7 +385,7 @@ static int das16m1_cmd_exec(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das16m1_cancel(comedi_device * dev, comedi_subdevice * s)
+static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	devpriv-&gt;control_state &amp;= ~INTE &amp; ~PACER_MASK;
 	outb(devpriv-&gt;control_state, dev-&gt;iobase + DAS16M1_INTR_CONTROL);
@@ -393,7 +393,7 @@ static int das16m1_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das16m1_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -430,7 +430,7 @@ static int das16m1_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das16m1_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -442,7 +442,7 @@ static int das16m1_di_rbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16m1_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -462,7 +462,7 @@ static int das16m1_do_wbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das16m1_poll(comedi_device * dev, comedi_subdevice * s)
+static int das16m1_poll(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int status;
@@ -479,7 +479,7 @@ static int das16m1_poll(comedi_device * dev, comedi_subdevice * s)
 static irqreturn_t das16m1_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	int status;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	if (dev-&gt;attached == 0) {
 		comedi_error(dev, "premature interrupt");
@@ -514,7 +514,7 @@ static void munge_sample_array(short * array, unsigned int num_elements)
 	}
 }
 
-static void das16m1_handler(comedi_device * dev, unsigned int status)
+static void das16m1_handler(struct comedi_device * dev, unsigned int status)
 {
 	comedi_subdevice *s;
 	comedi_async *async;
@@ -578,7 +578,7 @@ static void das16m1_handler(comedi_device * dev, unsigned int status)
 /* This function takes a time in nanoseconds and sets the     *
  * 2 pacer clocks to the closest frequency possible. It also  *
  * returns the actual sampling period.                        */
-static unsigned int das16m1_set_pacer(comedi_device * dev, unsigned int ns,
+static unsigned int das16m1_set_pacer(struct comedi_device * dev, unsigned int ns,
 	int rounding_flags)
 {
 	i8253_cascade_ns_to_timer_2div(DAS16M1_XTAL, &amp;(devpriv-&gt;divisor1),
@@ -635,7 +635,7 @@ static int das16m1_irq_bits(unsigned int irq)
  *   1  IRQ
  */
 
-static int das16m1_attach(comedi_device * dev, comedi_devconfig * it)
+static int das16m1_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret;
@@ -744,7 +744,7 @@ static int das16m1_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int das16m1_detach(comedi_device * dev)
+static int das16m1_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: das16m1: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/das1800.c b/drivers/staging/comedi/drivers/das1800.c
index f66cf17bbbcd..9fb800fbfc15 100644
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -180,35 +180,35 @@ enum {
 	das1802hr, das1802hr_da, das1801hc, das1802hc, das1801ao, das1802ao
 };
 
-static int das1800_attach(comedi_device * dev, comedi_devconfig * it);
-static int das1800_detach(comedi_device * dev);
-static int das1800_probe(comedi_device * dev);
-static int das1800_cancel(comedi_device * dev, comedi_subdevice * s);
+static int das1800_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int das1800_detach(struct comedi_device * dev);
+static int das1800_probe(struct comedi_device * dev);
+static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG);
-static int das1800_ai_poll(comedi_device * dev, comedi_subdevice * s);
-static void das1800_ai_handler(comedi_device * dev);
-static void das1800_handle_dma(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_poll(struct comedi_device * dev, comedi_subdevice * s);
+static void das1800_ai_handler(struct comedi_device * dev);
+static void das1800_handle_dma(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int status);
-static void das1800_flush_dma(comedi_device * dev, comedi_subdevice * s);
-static void das1800_flush_dma_channel(comedi_device * dev, comedi_subdevice * s,
+static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s);
+static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int channel, uint16_t * buffer);
-static void das1800_handle_fifo_half_full(comedi_device * dev,
+static void das1800_handle_fifo_half_full(struct comedi_device * dev,
 	comedi_subdevice * s);
-static void das1800_handle_fifo_not_empty(comedi_device * dev,
+static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
 	comedi_subdevice * s);
-static int das1800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das1800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s);
-static int das1800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das1800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das1800_set_frequency(comedi_device * dev);
+static int das1800_set_frequency(struct comedi_device * dev);
 static unsigned int burst_convert_arg(unsigned int convert_arg, int round_mode);
 static unsigned int suggest_transfer_size(comedi_cmd * cmd);
 
@@ -520,7 +520,7 @@ static comedi_driver driver_das1800 = {
  */
 COMEDI_INITCLEANUP(driver_das1800);
 
-static int das1800_init_dma(comedi_device * dev, unsigned int dma0,
+static int das1800_init_dma(struct comedi_device * dev, unsigned int dma0,
 	unsigned int dma1)
 {
 	unsigned long flags;
@@ -590,7 +590,7 @@ static int das1800_init_dma(comedi_device * dev, unsigned int dma0,
 	return 0;
 }
 
-static int das1800_attach(comedi_device * dev, comedi_devconfig * it)
+static int das1800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = it-&gt;options[0];
@@ -765,7 +765,7 @@ static int das1800_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 };
 
-static int das1800_detach(comedi_device * dev)
+static int das1800_detach(struct comedi_device * dev)
 {
 	/* only free stuff if it has been allocated by _attach */
 	if (dev-&gt;iobase)
@@ -793,7 +793,7 @@ static int das1800_detach(comedi_device * dev)
 
 /* probes and checks das-1800 series board type
  */
-static int das1800_probe(comedi_device * dev)
+static int das1800_probe(struct comedi_device * dev)
 {
 	int id;
 	int board;
@@ -867,7 +867,7 @@ static int das1800_probe(comedi_device * dev)
 	return -1;
 }
 
-static int das1800_ai_poll(comedi_device * dev, comedi_subdevice * s)
+static int das1800_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -881,7 +881,7 @@ static int das1800_ai_poll(comedi_device * dev, comedi_subdevice * s)
 
 static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	unsigned int status;
 
 	if (dev-&gt;attached == 0) {
@@ -909,7 +909,7 @@ static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG)
 }
 
 // the guts of the interrupt handler, that is shared with das1800_ai_poll
-static void das1800_ai_handler(comedi_device * dev)
+static void das1800_ai_handler(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog input subdevice */
 	comedi_async *async = s-&gt;async;
@@ -962,7 +962,7 @@ static void das1800_ai_handler(comedi_device * dev)
 	return;
 }
 
-static void das1800_handle_dma(comedi_device * dev, comedi_subdevice * s,
+static void das1800_handle_dma(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int status)
 {
 	unsigned long flags;
@@ -997,14 +997,14 @@ static void das1800_handle_dma(comedi_device * dev, comedi_subdevice * s,
 	return;
 }
 
-static inline uint16_t munge_bipolar_sample(const comedi_device * dev,
+static inline uint16_t munge_bipolar_sample(const struct comedi_device * dev,
 	uint16_t sample)
 {
 	sample += 1 &lt;&lt; (thisboard-&gt;resolution - 1);
 	return sample;
 }
 
-static void munge_data(comedi_device * dev, uint16_t * array,
+static void munge_data(struct comedi_device * dev, uint16_t * array,
 	unsigned int num_elements)
 {
 	unsigned int i;
@@ -1023,7 +1023,7 @@ static void munge_data(comedi_device * dev, uint16_t * array,
 
 /* Utility function used by das1800_flush_dma() and das1800_handle_dma().
  * Assumes dma lock is held */
-static void das1800_flush_dma_channel(comedi_device * dev, comedi_subdevice * s,
+static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int channel, uint16_t * buffer)
 {
 	unsigned int num_bytes, num_samples;
@@ -1053,7 +1053,7 @@ static void das1800_flush_dma_channel(comedi_device * dev, comedi_subdevice * s,
 
 /* flushes remaining data from board when external trigger has stopped aquisition
  * and we are using dma transfers */
-static void das1800_flush_dma(comedi_device * dev, comedi_subdevice * s)
+static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 	const int dual_dma = devpriv-&gt;irq_dma_bits &amp; DMA_DUAL;
@@ -1083,7 +1083,7 @@ static void das1800_flush_dma(comedi_device * dev, comedi_subdevice * s)
 	return;
 }
 
-static void das1800_handle_fifo_half_full(comedi_device * dev,
+static void das1800_handle_fifo_half_full(struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	int numPoints = 0;	/* number of points to read */
@@ -1102,7 +1102,7 @@ static void das1800_handle_fifo_half_full(comedi_device * dev,
 	return;
 }
 
-static void das1800_handle_fifo_not_empty(comedi_device * dev,
+static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	short dpnt;
@@ -1126,7 +1126,7 @@ static void das1800_handle_fifo_not_empty(comedi_device * dev,
 	return;
 }
 
-static int das1800_cancel(comedi_device * dev, comedi_subdevice * s)
+static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	outb(0x0, dev-&gt;iobase + DAS1800_STATUS);	/* disable conversions */
 	outb(0x0, dev-&gt;iobase + DAS1800_CONTROL_B);	/* disable interrupts and dma */
@@ -1139,7 +1139,7 @@ static int das1800_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 /* test analog input cmd */
-static int das1800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1385,7 +1385,7 @@ static int control_c_bits(comedi_cmd cmd)
 }
 
 // sets up counters
-static int setup_counters(comedi_device * dev, comedi_cmd cmd)
+static int setup_counters(struct comedi_device * dev, comedi_cmd cmd)
 {
 	// setup cascaded counters for conversion/scan frequency
 	switch (cmd.scan_begin_src) {
@@ -1424,7 +1424,7 @@ static int setup_counters(comedi_device * dev, comedi_cmd cmd)
 }
 
 // sets up dma
-static void setup_dma(comedi_device * dev, comedi_cmd cmd)
+static void setup_dma(struct comedi_device * dev, comedi_cmd cmd)
 {
 	unsigned long lock_flags;
 	const int dual_dma = devpriv-&gt;irq_dma_bits &amp; DMA_DUAL;
@@ -1462,7 +1462,7 @@ static void setup_dma(comedi_device * dev, comedi_cmd cmd)
 }
 
 // programs channel/gain list into card
-static void program_chanlist(comedi_device * dev, comedi_cmd cmd)
+static void program_chanlist(struct comedi_device * dev, comedi_cmd cmd)
 {
 	int i, n, chan_range;
 	unsigned long irq_flags;
@@ -1489,7 +1489,7 @@ static void program_chanlist(comedi_device * dev, comedi_cmd cmd)
 }
 
 // analog input do_cmd
-static int das1800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s)
+static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int ret;
 	int control_a, control_c;
@@ -1552,7 +1552,7 @@ static int das1800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s)
 }
 
 /* read analog input */
-static int das1800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1612,7 +1612,7 @@ static int das1800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* writes to an analog output channel */
-static int das1800_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1641,7 +1641,7 @@ static int das1800_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* reads from digital input channels */
-static int das1800_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -1652,7 +1652,7 @@ static int das1800_di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* writes to digital output channels */
-static int das1800_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das1800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -1672,7 +1672,7 @@ static int das1800_do_wbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* loads counters with divisor1, divisor2 from private structure */
-static int das1800_set_frequency(comedi_device * dev)
+static int das1800_set_frequency(struct comedi_device * dev)
 {
 	int err = 0;
 
diff --git a/drivers/staging/comedi/drivers/das6402.c b/drivers/staging/comedi/drivers/das6402.c
index 85959c09679f..e78d9eb0eb7a 100644
--- a/drivers/staging/comedi/drivers/das6402.c
+++ b/drivers/staging/comedi/drivers/das6402.c
@@ -98,8 +98,8 @@ This driver has suffered bitrot.
 #define	C2 0x80
 #define	RWLH 0x30
 
-static int das6402_attach(comedi_device * dev, comedi_devconfig * it);
-static int das6402_detach(comedi_device * dev);
+static int das6402_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int das6402_detach(struct comedi_device * dev);
 static comedi_driver driver_das6402 = {
       driver_name:"das6402",
       module:THIS_MODULE,
@@ -116,9 +116,9 @@ typedef struct {
 } das6402_private;
 #define devpriv ((das6402_private *)dev-&gt;private)
 
-static void das6402_ai_fifo_dregs(comedi_device * dev, comedi_subdevice * s);
+static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice * s);
 
-static void das6402_setcounter(comedi_device * dev)
+static void das6402_setcounter(struct comedi_device * dev)
 {
 	BYTE p;
 	unsigned short ctrlwrd;
@@ -153,7 +153,7 @@ static void das6402_setcounter(comedi_device * dev)
 
 static irqreturn_t intr_handler(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices;
 
 	if (!dev-&gt;attached || devpriv-&gt;das6402_ignoreirq) {
@@ -186,7 +186,7 @@ static irqreturn_t intr_handler(int irq, void *d PT_REGS_ARG)
 }
 
 #if 0
-static void das6402_ai_fifo_read(comedi_device * dev, short * data, int n)
+static void das6402_ai_fifo_read(struct comedi_device * dev, short * data, int n)
 {
 	int i;
 
@@ -195,7 +195,7 @@ static void das6402_ai_fifo_read(comedi_device * dev, short * data, int n)
 }
 #endif
 
-static void das6402_ai_fifo_dregs(comedi_device * dev, comedi_subdevice * s)
+static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice * s)
 {
 	while (1) {
 		if (!(inb(dev-&gt;iobase + 8) &amp; 0x01))
@@ -204,7 +204,7 @@ static void das6402_ai_fifo_dregs(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int das6402_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int das6402_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	/*
 	 *  This function should reset the board from whatever condition it
@@ -226,7 +226,7 @@ static int das6402_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 #ifdef unused
-static int das6402_ai_mode2(comedi_device * dev, comedi_subdevice * s,
+static int das6402_ai_mode2(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_trig * it)
 {
 	devpriv-&gt;das6402_ignoreirq = 1;
@@ -249,7 +249,7 @@ static int das6402_ai_mode2(comedi_device * dev, comedi_subdevice * s,
 }
 #endif
 
-static int board_init(comedi_device * dev)
+static int board_init(struct comedi_device * dev)
 {
 	BYTE b;
 
@@ -289,7 +289,7 @@ static int board_init(comedi_device * dev)
 	return 0;
 }
 
-static int das6402_detach(comedi_device * dev)
+static int das6402_detach(struct comedi_device * dev)
 {
 	if (dev-&gt;irq)
 		comedi_free_irq(dev-&gt;irq, dev);
@@ -299,7 +299,7 @@ static int das6402_detach(comedi_device * dev)
 	return 0;
 }
 
-static int das6402_attach(comedi_device * dev, comedi_devconfig * it)
+static int das6402_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned int irq;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/das800.c b/drivers/staging/comedi/drivers/das800.c
index 7e658dbfa07a..73068309ae9c 100644
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -242,9 +242,9 @@ typedef struct {
 
 #define devpriv ((das800_private *)dev-&gt;private)
 
-static int das800_attach(comedi_device * dev, comedi_devconfig * it);
-static int das800_detach(comedi_device * dev);
-static int das800_cancel(comedi_device * dev, comedi_subdevice * s);
+static int das800_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int das800_detach(struct comedi_device * dev);
+static int das800_cancel(struct comedi_device * dev, comedi_subdevice * s);
 
 static comedi_driver driver_das800 = {
       driver_name:"das800",
@@ -257,22 +257,22 @@ static comedi_driver driver_das800 = {
 };
 
 static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG);
-static void enable_das800(comedi_device * dev);
-static void disable_das800(comedi_device * dev);
-static int das800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static void enable_das800(struct comedi_device * dev);
+static void disable_das800(struct comedi_device * dev);
+static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s);
-static int das800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_probe(comedi_device * dev);
-static int das800_set_frequency(comedi_device * dev);
+static int das800_probe(struct comedi_device * dev);
+static int das800_set_frequency(struct comedi_device * dev);
 
 /* checks and probes das-800 series board type */
-static int das800_probe(comedi_device * dev)
+static int das800_probe(struct comedi_device * dev)
 {
 	int id_bits;
 	unsigned long irq_flags;
@@ -347,7 +347,7 @@ static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	short i;		/* loop index */
 	short dataPoint = 0;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;read_subdev;	/* analog input subdevice */
 	comedi_async *async;
 	int status;
@@ -441,7 +441,7 @@ static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int das800_attach(comedi_device * dev, comedi_devconfig * it)
+static int das800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = it-&gt;options[0];
@@ -539,7 +539,7 @@ static int das800_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 };
 
-static int das800_detach(comedi_device * dev)
+static int das800_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: das800: remove\n", dev-&gt;minor);
 
@@ -551,7 +551,7 @@ static int das800_detach(comedi_device * dev)
 	return 0;
 };
 
-static int das800_cancel(comedi_device * dev, comedi_subdevice * s)
+static int das800_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	devpriv-&gt;forever = 0;
 	devpriv-&gt;count = 0;
@@ -560,7 +560,7 @@ static int das800_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 /* enable_das800 makes the card start taking hardware triggered conversions */
-static void enable_das800(comedi_device * dev)
+static void enable_das800(struct comedi_device * dev)
 {
 	unsigned long irq_flags;
 	comedi_spin_lock_irqsave(&amp;dev-&gt;spinlock, irq_flags);
@@ -575,7 +575,7 @@ static void enable_das800(comedi_device * dev)
 }
 
 /* disable_das800 stops hardware triggered conversions */
-static void disable_das800(comedi_device * dev)
+static void disable_das800(struct comedi_device * dev)
 {
 	unsigned long irq_flags;
 	comedi_spin_lock_irqsave(&amp;dev-&gt;spinlock, irq_flags);
@@ -584,7 +584,7 @@ static void disable_das800(comedi_device * dev)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, irq_flags);
 }
 
-static int das800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -709,7 +709,7 @@ static int das800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int das800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s)
+static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int startChan, endChan, scan, gain;
 	int conv_bits;
@@ -788,7 +788,7 @@ static int das800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int das800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -842,7 +842,7 @@ static int das800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int das800_di_rbits(comedi_device * dev, comedi_subdevice * s,
+static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -855,7 +855,7 @@ static int das800_di_rbits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int das800_do_wbits(comedi_device * dev, comedi_subdevice * s,
+static int das800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
@@ -879,7 +879,7 @@ static int das800_do_wbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* loads counters with divisor1, divisor2 from private structure */
-static int das800_set_frequency(comedi_device * dev)
+static int das800_set_frequency(struct comedi_device * dev)
 {
 	int err = 0;
 
diff --git a/drivers/staging/comedi/drivers/dmm32at.c b/drivers/staging/comedi/drivers/dmm32at.c
index c63af0c556b4..678eb970a034 100644
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -232,7 +232,7 @@ static const dmm32at_board dmm32at_boards[] = {
 
 /* this structure is for data unique to this hardware driver.  If
  * several hardware drivers keep similar information in this structure,
- * feel free to suggest moving the variable to the comedi_device struct.
+ * feel free to suggest moving the variable to the struct comedi_device struct.
  */
 typedef struct {
 
@@ -258,8 +258,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int dmm32at_attach(comedi_device * dev, comedi_devconfig * it);
-static int dmm32at_detach(comedi_device * dev);
+static int dmm32at_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dmm32at_detach(struct comedi_device * dev);
 static comedi_driver driver_dmm32at = {
       driver_name:"dmm32at",
       module:THIS_MODULE,
@@ -289,23 +289,23 @@ static comedi_driver driver_dmm32at = {
 };
 
 /* prototypes for driver functions below */
-static int dmm32at_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int dmm32at_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int dmm32at_ai_cancel(comedi_device * dev, comedi_subdevice * s);
+static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int dmm32at_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static int dmm32at_ns_to_timer(unsigned int *ns, int round);
 static irqreturn_t dmm32at_isr(int irq, void *d PT_REGS_ARG);
-void dmm32at_setaitimer(comedi_device * dev, unsigned int nansec);
+void dmm32at_setaitimer(struct comedi_device * dev, unsigned int nansec);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -313,7 +313,7 @@ void dmm32at_setaitimer(comedi_device * dev, unsigned int nansec);
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int dmm32at_attach(comedi_device * dev, comedi_devconfig * it)
+static int dmm32at_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	comedi_subdevice *s;
@@ -481,7 +481,7 @@ static int dmm32at_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int dmm32at_detach(comedi_device * dev)
+static int dmm32at_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: dmm32at: remove\n", dev-&gt;minor);
 	if (dev-&gt;irq)
@@ -497,7 +497,7 @@ static int dmm32at_detach(comedi_device * dev)
  * mode.
  */
 
-static int dmm32at_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -568,7 +568,7 @@ static int dmm32at_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int dmm32at_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -752,7 +752,7 @@ static int dmm32at_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int dmm32at_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int i, range;
@@ -822,7 +822,7 @@ static int dmm32at_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 
 }
 
-static int dmm32at_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int dmm32at_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	devpriv-&gt;ai_scans_left = 1;
 	return 0;
@@ -834,7 +834,7 @@ static irqreturn_t dmm32at_isr(int irq, void *d PT_REGS_ARG)
 	unsigned int samp;
 	unsigned short msb, lsb;
 	int i;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	if (!dev-&gt;attached) {
 		comedi_error(dev, "spurious interrupt");
@@ -893,7 +893,7 @@ static int dmm32at_ns_to_timer(unsigned int *ns, int round)
 	return *ns;
 }
 
-static int dmm32at_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -936,7 +936,7 @@ static int dmm32at_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int dmm32at_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -953,7 +953,7 @@ static int dmm32at_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int dmm32at_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char diobits;
@@ -1006,7 +1006,7 @@ static int dmm32at_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dmm32at_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char chanbit;
@@ -1043,7 +1043,7 @@ static int dmm32at_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-void dmm32at_setaitimer(comedi_device * dev, unsigned int nansec)
+void dmm32at_setaitimer(struct comedi_device * dev, unsigned int nansec)
 {
 	unsigned char lo1, lo2, hi2;
 	unsigned short both2;
diff --git a/drivers/staging/comedi/drivers/dt2801.c b/drivers/staging/comedi/drivers/dt2801.c
index 4ee1199920e1..364102436d6e 100644
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -88,8 +88,8 @@ Configuration options:
 #define DT2801_STATUS		1
 #define DT2801_CMD		1
 
-static int dt2801_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt2801_detach(comedi_device * dev);
+static int dt2801_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt2801_detach(struct comedi_device * dev);
 static comedi_driver driver_dt2801 = {
       driver_name:"dt2801",
       module:THIS_MODULE,
@@ -224,15 +224,15 @@ typedef struct {
 } dt2801_private;
 #define devpriv ((dt2801_private *)dev-&gt;private)
 
-static int dt2801_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /* These are the low-level routines:
@@ -244,7 +244,7 @@ static int dt2801_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 /* Only checks DataOutReady-flag, not the Ready-flag as it is done
    in the examples of the manual. I don't see why this should be
    necessary. */
-static int dt2801_readdata(comedi_device * dev, int *data)
+static int dt2801_readdata(struct comedi_device * dev, int *data)
 {
 	int stat = 0;
 	int timeout = DT2801_TIMEOUT;
@@ -263,7 +263,7 @@ static int dt2801_readdata(comedi_device * dev, int *data)
 	return -ETIME;
 }
 
-static int dt2801_readdata2(comedi_device * dev, int *data)
+static int dt2801_readdata2(struct comedi_device * dev, int *data)
 {
 	int lb, hb;
 	int ret;
@@ -279,7 +279,7 @@ static int dt2801_readdata2(comedi_device * dev, int *data)
 	return 0;
 }
 
-static int dt2801_writedata(comedi_device * dev, unsigned int data)
+static int dt2801_writedata(struct comedi_device * dev, unsigned int data)
 {
 	int stat = 0;
 	int timeout = DT2801_TIMEOUT;
@@ -305,7 +305,7 @@ static int dt2801_writedata(comedi_device * dev, unsigned int data)
 	return -ETIME;
 }
 
-static int dt2801_writedata2(comedi_device * dev, unsigned int data)
+static int dt2801_writedata2(struct comedi_device * dev, unsigned int data)
 {
 	int ret;
 
@@ -319,7 +319,7 @@ static int dt2801_writedata2(comedi_device * dev, unsigned int data)
 	return 0;
 }
 
-static int dt2801_wait_for_ready(comedi_device * dev)
+static int dt2801_wait_for_ready(struct comedi_device * dev)
 {
 	int timeout = DT2801_TIMEOUT;
 	int stat;
@@ -342,7 +342,7 @@ static int dt2801_wait_for_ready(comedi_device * dev)
 	return -ETIME;
 }
 
-static int dt2801_writecmd(comedi_device * dev, int command)
+static int dt2801_writecmd(struct comedi_device * dev, int command)
 {
 	int stat;
 
@@ -360,7 +360,7 @@ static int dt2801_writecmd(comedi_device * dev, int command)
 	return 0;
 }
 
-static int dt2801_reset(comedi_device * dev)
+static int dt2801_reset(struct comedi_device * dev)
 {
 	int board_code = 0;
 	unsigned int stat;
@@ -417,7 +417,7 @@ static int dt2801_reset(comedi_device * dev)
 	return board_code;
 }
 
-static int probe_number_of_ai_chans(comedi_device * dev)
+static int probe_number_of_ai_chans(struct comedi_device * dev)
 {
 	int n_chans;
 	int stat;
@@ -478,7 +478,7 @@ static const comedi_lrange *ai_range_lkup(int type, int opt)
 	[4] - dac0 range 0=[-10,10], 1=[-5,5], 2=[-2.5,2.5] 3=[0,10], 4=[0,5]
 	[5] - dac1 range 0=[-10,10], 1=[-5,5], 2=[-2.5,2.5] 3=[0,10], 4=[0,5]
 */
-static int dt2801_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt2801_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -579,7 +579,7 @@ static int dt2801_attach(comedi_device * dev, comedi_devconfig * it)
 	return ret;
 }
 
-static int dt2801_detach(comedi_device * dev)
+static int dt2801_detach(struct comedi_device * dev)
 {
 	if (dev-&gt;iobase)
 		release_region(dev-&gt;iobase, DT2801_IOSIZE);
@@ -587,7 +587,7 @@ static int dt2801_detach(comedi_device * dev)
 	return 0;
 }
 
-static int dt2801_error(comedi_device * dev, int stat)
+static int dt2801_error(struct comedi_device * dev, int stat)
 {
 	if (stat &lt; 0) {
 		if (stat == -ETIME) {
@@ -605,7 +605,7 @@ static int dt2801_error(comedi_device * dev, int stat)
 	return -EIO;
 }
 
-static int dt2801_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int d;
@@ -627,7 +627,7 @@ static int dt2801_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2801_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_readback[CR_CHAN(insn-&gt;chanspec)];
@@ -635,7 +635,7 @@ static int dt2801_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt2801_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dt2801_writecmd(dev, DT_C_WRITE_DAIM);
@@ -647,7 +647,7 @@ static int dt2801_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt2801_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
@@ -671,7 +671,7 @@ static int dt2801_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt2801_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
diff --git a/drivers/staging/comedi/drivers/dt2811.c b/drivers/staging/comedi/drivers/dt2811.c
index ce7cf31f2fc9..76c084ca081b 100644
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -212,8 +212,8 @@ static const boardtype boardtypes[] = {
 
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static int dt2811_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt2811_detach(comedi_device * dev);
+static int dt2811_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt2811_detach(struct comedi_device * dev);
 static comedi_driver driver_dt2811 = {
       driver_name:"dt2811",
       module:THIS_MODULE,
@@ -226,15 +226,15 @@ static comedi_driver driver_dt2811 = {
 
 COMEDI_INITCLEANUP(driver_dt2811);
 
-static int dt2811_ai_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_ao_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 enum { card_2811_pgh, card_2811_pgl };
@@ -266,7 +266,7 @@ static irqreturn_t dt2811_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	int lo, hi;
 	int data;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	if (!dev-&gt;attached) {
 		comedi_error(dev, "spurious interrupt");
@@ -308,7 +308,7 @@ static irqreturn_t dt2811_interrupt(int irq, void *d PT_REGS_ARG)
                  2 == unipolar 5V  (0V -- +5V)
 */
 
-static int dt2811_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt2811_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	//int i, irq;
 	//unsigned long irqs;
@@ -476,7 +476,7 @@ static int dt2811_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int dt2811_detach(comedi_device * dev)
+static int dt2811_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: dt2811: remove\n", dev-&gt;minor);
 
@@ -490,7 +490,7 @@ static int dt2811_detach(comedi_device * dev)
 	return 0;
 }
 
-static int dt2811_ai_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -519,7 +519,7 @@ static int dt2811_ai_insn(comedi_device * dev, comedi_subdevice * s,
  * replaced, so I'll let it stay. */
 int dt2811_adtrig(kdev_t minor, comedi_adtrig * adtrig)
 {
-	comedi_device *dev = comedi_devices + minor;
+	struct comedi_device *dev = comedi_devices + minor;
 
 	if (adtrig-&gt;n &lt; 1)
 		return 0;
@@ -541,7 +541,7 @@ int dt2811_adtrig(kdev_t minor, comedi_adtrig * adtrig)
 }
 #endif
 
-static int dt2811_ao_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -559,7 +559,7 @@ static int dt2811_ao_insn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2811_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -574,7 +574,7 @@ static int dt2811_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2811_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -585,7 +585,7 @@ static int dt2811_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt2811_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2811_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
diff --git a/drivers/staging/comedi/drivers/dt2814.c b/drivers/staging/comedi/drivers/dt2814.c
index bc96bf63e027..40430b5df69a 100644
--- a/drivers/staging/comedi/drivers/dt2814.c
+++ b/drivers/staging/comedi/drivers/dt2814.c
@@ -59,8 +59,8 @@ addition, the clock does not seem to be very accurate.
 #define DT2814_ENB 0x10
 #define DT2814_CHANMASK 0x0f
 
-static int dt2814_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt2814_detach(comedi_device * dev);
+static int dt2814_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt2814_detach(struct comedi_device * dev);
 static comedi_driver driver_dt2814 = {
       driver_name:"dt2814",
       module:THIS_MODULE,
@@ -81,7 +81,7 @@ typedef struct {
 #define DT2814_TIMEOUT 10
 #define DT2814_MAX_SPEED 100000	/* Arbitrary 10 khz limit */
 
-static int dt2814_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2814_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i, hi, lo;
@@ -132,7 +132,7 @@ static int dt2814_ns_to_timer(unsigned int *ns, unsigned int flags)
 	return i;
 }
 
-static int dt2814_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int dt2814_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -224,7 +224,7 @@ static int dt2814_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int dt2814_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int dt2814_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int chan;
@@ -243,7 +243,7 @@ static int dt2814_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 
 }
 
-static int dt2814_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt2814_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int i, irq;
 	int ret;
@@ -327,7 +327,7 @@ static int dt2814_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int dt2814_detach(comedi_device * dev)
+static int dt2814_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: dt2814: remove\n", dev-&gt;minor);
 
@@ -344,7 +344,7 @@ static int dt2814_detach(comedi_device * dev)
 static irqreturn_t dt2814_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	int lo, hi;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s;
 	int data;
 
diff --git a/drivers/staging/comedi/drivers/dt2815.c b/drivers/staging/comedi/drivers/dt2815.c
index 98a64a74c82b..892fe38d55e6 100644
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -75,8 +75,8 @@ static const comedi_lrange range_dt2815_ao_20_current = { 1, {
 #define DT2815_DATA 0
 #define DT2815_STATUS 1
 
-static int dt2815_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt2815_detach(comedi_device * dev);
+static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt2815_detach(struct comedi_device * dev);
 static comedi_driver driver_dt2815 = {
       driver_name:"dt2815",
       module:THIS_MODULE,
@@ -86,7 +86,7 @@ static comedi_driver driver_dt2815 = {
 
 COMEDI_INITCLEANUP(driver_dt2815);
 
-static void dt2815_free_resources(comedi_device * dev);
+static void dt2815_free_resources(struct comedi_device * dev);
 
 typedef struct {
 	const comedi_lrange *range_type_list[8];
@@ -95,7 +95,7 @@ typedef struct {
 
 #define devpriv ((dt2815_private *)dev-&gt;private)
 
-static int dt2815_wait_for_status(comedi_device * dev, int status)
+static int dt2815_wait_for_status(struct comedi_device * dev, int status)
 {
 	int i;
 
@@ -106,7 +106,7 @@ static int dt2815_wait_for_status(comedi_device * dev, int status)
 	return status;
 }
 
-static int dt2815_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt2815_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -119,7 +119,7 @@ static int dt2815_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt2815_ao_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt2815_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -177,7 +177,7 @@ static int dt2815_ao_insn(comedi_device * dev, comedi_subdevice * s,
                  1 == current
  */
 
-static int dt2815_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int i;
@@ -246,13 +246,13 @@ static int dt2815_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static void dt2815_free_resources(comedi_device * dev)
+static void dt2815_free_resources(struct comedi_device * dev)
 {
 	if (dev-&gt;iobase)
 		release_region(dev-&gt;iobase, DT2815_SIZE);
 }
 
-static int dt2815_detach(comedi_device * dev)
+static int dt2815_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: dt2815: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/dt2817.c b/drivers/staging/comedi/drivers/dt2817.c
index 77c28e7b2a11..41aa03d40cdd 100644
--- a/drivers/staging/comedi/drivers/dt2817.c
+++ b/drivers/staging/comedi/drivers/dt2817.c
@@ -47,8 +47,8 @@ Configuration options:
 #define DT2817_CR 0
 #define DT2817_DATA 1
 
-static int dt2817_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt2817_detach(comedi_device * dev);
+static int dt2817_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt2817_detach(struct comedi_device * dev);
 static comedi_driver driver_dt2817 = {
       driver_name:"dt2817",
       module:THIS_MODULE,
@@ -58,7 +58,7 @@ static comedi_driver driver_dt2817 = {
 
 COMEDI_INITCLEANUP(driver_dt2817);
 
-static int dt2817_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dt2817_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -96,7 +96,7 @@ static int dt2817_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt2817_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt2817_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int changed;
@@ -131,7 +131,7 @@ static int dt2817_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt2817_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt2817_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	comedi_subdevice *s;
@@ -167,7 +167,7 @@ static int dt2817_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int dt2817_detach(comedi_device * dev)
+static int dt2817_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: dt2817: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/dt282x.c b/drivers/staging/comedi/drivers/dt282x.c
index 5cdd577475da..2c4557faac4a 100644
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -394,8 +394,8 @@ typedef struct {
 		if(_i){b}				\
 	}while(0)
 
-static int dt282x_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt282x_detach(comedi_device * dev);
+static int dt282x_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt282x_detach(struct comedi_device * dev);
 static comedi_driver driver_dt282x = {
       driver_name:"dt282x",
       module:THIS_MODULE,
@@ -408,17 +408,17 @@ static comedi_driver driver_dt282x = {
 
 COMEDI_INITCLEANUP(driver_dt282x);
 
-static void free_resources(comedi_device * dev);
-static int prep_ai_dma(comedi_device * dev, int chan, int size);
-static int prep_ao_dma(comedi_device * dev, int chan, int size);
-static int dt282x_ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static int dt282x_ao_cancel(comedi_device * dev, comedi_subdevice * s);
+static void free_resources(struct comedi_device * dev);
+static int prep_ai_dma(struct comedi_device * dev, int chan, int size);
+static int prep_ao_dma(struct comedi_device * dev, int chan, int size);
+static int dt282x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static int dt282x_ns_to_timer(int *nanosec, int round_mode);
-static void dt282x_disable_dma(comedi_device * dev);
+static void dt282x_disable_dma(struct comedi_device * dev);
 
-static int dt282x_grab_dma(comedi_device * dev, int dma1, int dma2);
+static int dt282x_grab_dma(struct comedi_device * dev, int dma1, int dma2);
 
-static void dt282x_munge(comedi_device * dev, short * buf,
+static void dt282x_munge(struct comedi_device * dev, short * buf,
 	unsigned int nbytes)
 {
 	unsigned int i;
@@ -440,7 +440,7 @@ static void dt282x_munge(comedi_device * dev, short * buf,
 	}
 }
 
-static void dt282x_ao_dma_interrupt(comedi_device * dev)
+static void dt282x_ao_dma_interrupt(struct comedi_device * dev)
 {
 	void *ptr;
 	int size;
@@ -472,7 +472,7 @@ static void dt282x_ao_dma_interrupt(comedi_device * dev)
 	return;
 }
 
-static void dt282x_ai_dma_interrupt(comedi_device * dev)
+static void dt282x_ai_dma_interrupt(struct comedi_device * dev)
 {
 	void *ptr;
 	int size;
@@ -524,7 +524,7 @@ static void dt282x_ai_dma_interrupt(comedi_device * dev)
 	prep_ai_dma(dev, i, 0);
 }
 
-static int prep_ai_dma(comedi_device * dev, int dma_index, int n)
+static int prep_ai_dma(struct comedi_device * dev, int dma_index, int n)
 {
 	int dma_chan;
 	unsigned long dma_ptr;
@@ -555,7 +555,7 @@ static int prep_ai_dma(comedi_device * dev, int dma_index, int n)
 	return n;
 }
 
-static int prep_ao_dma(comedi_device * dev, int dma_index, int n)
+static int prep_ao_dma(struct comedi_device * dev, int dma_index, int n)
 {
 	int dma_chan;
 	unsigned long dma_ptr;
@@ -579,7 +579,7 @@ static int prep_ao_dma(comedi_device * dev, int dma_index, int n)
 
 static irqreturn_t dt282x_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s;
 	comedi_subdevice *s_ao;
 	unsigned int supcsr, adcsr, dacsr;
@@ -653,7 +653,7 @@ static irqreturn_t dt282x_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_RETVAL(handled);
 }
 
-static void dt282x_load_changain(comedi_device * dev, int n,
+static void dt282x_load_changain(struct comedi_device * dev, int n,
 	unsigned int *chanlist)
 {
 	unsigned int i;
@@ -674,7 +674,7 @@ static void dt282x_load_changain(comedi_device * dev, int n,
  *      - preload multiplexer
  *      - trigger conversion and wait for it to finish
  */
-static int dt282x_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -706,7 +706,7 @@ static int dt282x_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt282x_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -818,7 +818,7 @@ static int dt282x_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int dt282x_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int timer;
@@ -879,7 +879,7 @@ static int dt282x_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static void dt282x_disable_dma(comedi_device * dev)
+static void dt282x_disable_dma(struct comedi_device * dev)
 {
 	if (devpriv-&gt;usedma) {
 		disable_dma(devpriv-&gt;dma[0].chan);
@@ -887,7 +887,7 @@ static void dt282x_disable_dma(comedi_device * dev)
 	}
 }
 
-static int dt282x_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dt282x_disable_dma(dev);
 
@@ -937,7 +937,7 @@ static int dt282x_ns_to_timer(int *nanosec, int round_mode)
  *      offset binary if necessary, loads the data into the DAC
  *      data register, and performs the conversion.
  */
-static int dt282x_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao[CR_CHAN(insn-&gt;chanspec)];
@@ -945,7 +945,7 @@ static int dt282x_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt282x_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	short d;
@@ -978,7 +978,7 @@ static int dt282x_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt282x_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1069,7 +1069,7 @@ static int dt282x_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
 
 }
 
-static int dt282x_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int x)
 {
 	int size;
@@ -1099,7 +1099,7 @@ static int dt282x_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int dt282x_ao_cmd(comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int timer;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -1132,7 +1132,7 @@ static int dt282x_ao_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt282x_ao_cancel(comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	dt282x_disable_dma(dev);
 
@@ -1145,7 +1145,7 @@ static int dt282x_ao_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt282x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -1159,7 +1159,7 @@ static int dt282x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt282x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dt282x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -1240,7 +1240,7 @@ enum { opt_iobase = 0, opt_irq, opt_dma1, opt_dma2,	/* i/o base, irq, dma channe
    9	ao0 0=10 V, 1=0-10 V, 2=5 V, 3=0-5 V, 4=2.5 V
    10	ao1 0=10 V, 1=0-10 V, 2=5 V, 3=0-5 V, 4=2.5 V
  */
-static int dt282x_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt282x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int i, irq;
 	int ret;
@@ -1396,7 +1396,7 @@ static int dt282x_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static void free_resources(comedi_device * dev)
+static void free_resources(struct comedi_device * dev)
 {
 	if (dev-&gt;irq) {
 		comedi_free_irq(dev-&gt;irq, dev);
@@ -1415,7 +1415,7 @@ static void free_resources(comedi_device * dev)
 	}
 }
 
-static int dt282x_detach(comedi_device * dev)
+static int dt282x_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: dt282x: remove\n", dev-&gt;minor);
 
@@ -1424,7 +1424,7 @@ static int dt282x_detach(comedi_device * dev)
 	return 0;
 }
 
-static int dt282x_grab_dma(comedi_device * dev, int dma1, int dma2)
+static int dt282x_grab_dma(struct comedi_device * dev, int dma1, int dma2)
 {
 	int ret;
 
diff --git a/drivers/staging/comedi/drivers/dt3000.c b/drivers/staging/comedi/drivers/dt3000.c
index b1af0e74cc73..0b015a0d8203 100644
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -271,8 +271,8 @@ typedef struct {
 } dt3k_private;
 #define devpriv ((dt3k_private *)dev-&gt;private)
 
-static int dt3000_attach(comedi_device * dev, comedi_devconfig * it);
-static int dt3000_detach(comedi_device * dev);
+static int dt3000_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dt3000_detach(struct comedi_device * dev);
 static comedi_driver driver_dt3000 = {
       driver_name:"dt3000",
       module:THIS_MODULE,
@@ -282,17 +282,17 @@ static comedi_driver driver_dt3000 = {
 
 COMEDI_PCI_INITCLEANUP(driver_dt3000, dt3k_pci_table);
 
-static void dt3k_ai_empty_fifo(comedi_device * dev, comedi_subdevice * s);
+static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s);
 static int dt3k_ns_to_timer(unsigned int timer_base, unsigned int *arg,
 	unsigned int round_mode);
-static int dt3k_ai_cancel(comedi_device * dev, comedi_subdevice * s);
+static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
 #ifdef DEBUG
 static void debug_intr_flags(unsigned int flags);
 #endif
 
 #define TIMEOUT 100
 
-static int dt3k_send_cmd(comedi_device * dev, unsigned int cmd)
+static int dt3k_send_cmd(struct comedi_device * dev, unsigned int cmd)
 {
 	int i;
 	unsigned int status = 0;
@@ -314,7 +314,7 @@ static int dt3k_send_cmd(comedi_device * dev, unsigned int cmd)
 	return -ETIME;
 }
 
-static unsigned int dt3k_readsingle(comedi_device * dev, unsigned int subsys,
+static unsigned int dt3k_readsingle(struct comedi_device * dev, unsigned int subsys,
 	unsigned int chan, unsigned int gain)
 {
 	writew(subsys, devpriv-&gt;io_addr + DPR_SubSys);
@@ -327,7 +327,7 @@ static unsigned int dt3k_readsingle(comedi_device * dev, unsigned int subsys,
 	return readw(devpriv-&gt;io_addr + DPR_Params(2));
 }
 
-static void dt3k_writesingle(comedi_device * dev, unsigned int subsys,
+static void dt3k_writesingle(struct comedi_device * dev, unsigned int subsys,
 	unsigned int chan, unsigned int data)
 {
 	writew(subsys, devpriv-&gt;io_addr + DPR_SubSys);
@@ -345,7 +345,7 @@ static int debug_n_ints = 0;
 // What's this debug_n_ints stuff? Obviously needs some work...
 static irqreturn_t dt3k_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s;
 	unsigned int status;
 
@@ -396,7 +396,7 @@ static void debug_intr_flags(unsigned int flags)
 }
 #endif
 
-static void dt3k_ai_empty_fifo(comedi_device * dev, comedi_subdevice * s)
+static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int front;
 	int rear;
@@ -425,7 +425,7 @@ static void dt3k_ai_empty_fifo(comedi_device * dev, comedi_subdevice * s)
 	writew(rear, devpriv-&gt;io_addr + DPR_AD_Buf_Rear);
 }
 
-static int dt3k_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -587,7 +587,7 @@ static int dt3k_ns_to_timer(unsigned int timer_base, unsigned int *nanosec,
 	return (prescale &lt;&lt; 16) | (divider);
 }
 
-static int dt3k_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int dt3k_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int i;
@@ -655,7 +655,7 @@ static int dt3k_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt3k_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int ret;
 
@@ -667,7 +667,7 @@ static int dt3k_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int dt3k_ai_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -685,7 +685,7 @@ static int dt3k_ai_insn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt3k_ao_insn(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -700,7 +700,7 @@ static int dt3k_ao_insn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt3k_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -714,7 +714,7 @@ static int dt3k_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static void dt3k_dio_config(comedi_device * dev, int bits)
+static void dt3k_dio_config(struct comedi_device * dev, int bits)
 {
 	/* XXX */
 	writew(SUBS_DOUT, devpriv-&gt;io_addr + DPR_SubSys);
@@ -729,7 +729,7 @@ static void dt3k_dio_config(comedi_device * dev, int bits)
 	dt3k_send_cmd(dev, CMD_CONFIG);
 }
 
-static int dt3k_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -760,7 +760,7 @@ static int dt3k_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int dt3k_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -776,7 +776,7 @@ static int dt3k_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int dt3k_mem_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int dt3k_mem_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int addr = CR_CHAN(insn-&gt;chanspec);
@@ -795,9 +795,9 @@ static int dt3k_mem_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int dt_pci_probe(comedi_device * dev, int bus, int slot);
+static int dt_pci_probe(struct comedi_device * dev, int bus, int slot);
 
-static int dt3000_attach(comedi_device * dev, comedi_devconfig * it)
+static int dt3000_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int bus, slot;
@@ -886,7 +886,7 @@ static int dt3000_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int dt3000_detach(comedi_device * dev)
+static int dt3000_detach(struct comedi_device * dev)
 {
 	if (dev-&gt;irq)
 		comedi_free_irq(dev-&gt;irq, dev);
@@ -907,9 +907,9 @@ static int dt3000_detach(comedi_device * dev)
 }
 
 static struct pci_dev *dt_pci_find_device(struct pci_dev *from, int *board);
-static int setup_pci(comedi_device * dev);
+static int setup_pci(struct comedi_device * dev);
 
-static int dt_pci_probe(comedi_device * dev, int bus, int slot)
+static int dt_pci_probe(struct comedi_device * dev, int bus, int slot)
 {
 	int board;
 	int ret;
@@ -937,7 +937,7 @@ static int dt_pci_probe(comedi_device * dev, int bus, int slot)
 	return 1;
 }
 
-static int setup_pci(comedi_device * dev)
+static int setup_pci(struct comedi_device * dev)
 {
 	resource_size_t addr;
 	int ret;
diff --git a/drivers/staging/comedi/drivers/dt9812.c b/drivers/staging/comedi/drivers/dt9812.c
index bbb5a146a7ee..068ef2f79e5a 100644
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -892,7 +892,7 @@ static struct usb_driver dt9812_usb_driver = {
  * Comedi functions
  */
 
-static void dt9812_comedi_open(comedi_device *dev)
+static void dt9812_comedi_open(struct comedi_device *dev)
 {
 	down(&amp;devpriv-&gt;slot-&gt;mutex);
 	if (devpriv-&gt;slot-&gt;usb) {
@@ -940,7 +940,7 @@ static void dt9812_comedi_open(comedi_device *dev)
 	up(&amp;devpriv-&gt;slot-&gt;mutex);
 }
 
-static int dt9812_di_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int dt9812_di_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -952,7 +952,7 @@ static int dt9812_di_rinsn(comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_do_winsn(comedi_device *dev, comedi_subdevice *s,
+static int dt9812_do_winsn(struct comedi_device *dev, comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -970,7 +970,7 @@ static int dt9812_do_winsn(comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_ai_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -985,7 +985,7 @@ static int dt9812_ai_rinsn(comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -999,7 +999,7 @@ static int dt9812_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_ao_winsn(comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -1009,7 +1009,7 @@ static int dt9812_ao_winsn(comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int dt9812_attach(comedi_device *dev, comedi_devconfig *it)
+static int dt9812_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int i;
 	comedi_subdevice *s;
@@ -1103,7 +1103,7 @@ static int dt9812_attach(comedi_device *dev, comedi_devconfig *it)
 	return 0;
 }
 
-static int dt9812_detach(comedi_device *dev)
+static int dt9812_detach(struct comedi_device *dev)
 {
 	return 0;
 }
diff --git a/drivers/staging/comedi/drivers/fl512.c b/drivers/staging/comedi/drivers/fl512.c
index 26709987278c..20bd47318439 100644
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -40,8 +40,8 @@ static const comedi_lrange range_fl512 = { 4, {
 	}
 };
 
-static int fl512_attach(comedi_device * dev, comedi_devconfig * it);
-static int fl512_detach(comedi_device * dev);
+static int fl512_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int fl512_detach(struct comedi_device * dev);
 
 static comedi_driver driver_fl512 = {
       driver_name:"fl512",
@@ -52,17 +52,17 @@ static comedi_driver driver_fl512 = {
 
 COMEDI_INITCLEANUP(driver_fl512);
 
-static int fl512_ai_insn(comedi_device * dev,
+static int fl512_ai_insn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
-static int fl512_ao_insn(comedi_device * dev,
+static int fl512_ao_insn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
-static int fl512_ao_insn_readback(comedi_device * dev,
+static int fl512_ao_insn_readback(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /*
  * fl512_ai_insn : this is the analog input function
  */
-static int fl512_ai_insn(comedi_device * dev,
+static int fl512_ai_insn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -87,7 +87,7 @@ static int fl512_ai_insn(comedi_device * dev,
 /*
  * fl512_ao_insn : used to write to a DA port n times
  */
-static int fl512_ao_insn(comedi_device * dev,
+static int fl512_ao_insn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -108,7 +108,7 @@ static int fl512_ao_insn(comedi_device * dev,
  * fl512_ao_insn_readback : used to read previous values written to
  * DA port
  */
-static int fl512_ao_insn_readback(comedi_device * dev,
+static int fl512_ao_insn_readback(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -124,7 +124,7 @@ static int fl512_ao_insn_readback(comedi_device * dev,
 /*
  * start attach
  */
-static int fl512_attach(comedi_device * dev, comedi_devconfig * it)
+static int fl512_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase;
 	comedi_subdevice *s;	/* pointer to the subdevice:
@@ -175,7 +175,7 @@ static int fl512_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int fl512_detach(comedi_device * dev)
+static int fl512_detach(struct comedi_device * dev)
 {
 	if (dev-&gt;iobase)
 		release_region(dev-&gt;iobase, FL512_SIZE);
diff --git a/drivers/staging/comedi/drivers/gsc_hpdi.c b/drivers/staging/comedi/drivers/gsc_hpdi.c
index 07ed2380aa9a..5048255b4a3f 100644
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -52,15 +52,15 @@ support could be added to this driver.
 #include "plx9080.h"
 #include "comedi_fc.h"
 
-static int hpdi_attach(comedi_device * dev, comedi_devconfig * it);
-static int hpdi_detach(comedi_device * dev);
-void abort_dma(comedi_device * dev, unsigned int channel);
-static int hpdi_cmd(comedi_device * dev, comedi_subdevice * s);
-static int hpdi_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int hpdi_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int hpdi_detach(struct comedi_device * dev);
+void abort_dma(struct comedi_device * dev, unsigned int channel);
+static int hpdi_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int hpdi_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int hpdi_cancel(comedi_device * dev, comedi_subdevice * s);
+static int hpdi_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
-static int dio_config_block_size(comedi_device * dev, unsigned int * data);
+static int dio_config_block_size(struct comedi_device * dev, unsigned int * data);
 
 #undef HPDI_DEBUG		// disable debugging messages
 //#define HPDI_DEBUG    // enable debugging code
@@ -294,7 +294,7 @@ static DEFINE_PCI_DEVICE_TABLE(hpdi_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, hpdi_pci_table);
 
-static inline hpdi_board *board(const comedi_device * dev)
+static inline hpdi_board *board(const struct comedi_device * dev)
 {
 	return (hpdi_board *) dev-&gt;board_ptr;
 }
@@ -322,7 +322,7 @@ typedef struct {
 	unsigned dio_config_output:1;
 } hpdi_private;
 
-static inline hpdi_private *priv(comedi_device * dev)
+static inline hpdi_private *priv(struct comedi_device * dev)
 {
 	return dev-&gt;private;
 }
@@ -336,7 +336,7 @@ static comedi_driver driver_hpdi = {
 
 COMEDI_PCI_INITCLEANUP(driver_hpdi, hpdi_pci_table);
 
-static int dio_config_insn(comedi_device * dev, comedi_subdevice * s,
+static int dio_config_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -364,13 +364,13 @@ static int dio_config_insn(comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static void disable_plx_interrupts(comedi_device * dev)
+static void disable_plx_interrupts(struct comedi_device * dev)
 {
 	writel(0, priv(dev)-&gt;plx9080_iobase + PLX_INTRCS_REG);
 }
 
 // initialize plx9080 chip
-static void init_plx9080(comedi_device * dev)
+static void init_plx9080(struct comedi_device * dev)
 {
 	uint32_t bits;
 	void *plx_iobase = priv(dev)-&gt;plx9080_iobase;
@@ -435,7 +435,7 @@ static void init_plx9080(comedi_device * dev)
 
 /* Allocate and initialize the subdevice structures.
  */
-static int setup_subdevices(comedi_device * dev)
+static int setup_subdevices(struct comedi_device * dev)
 {
 	comedi_subdevice *s;
 
@@ -461,7 +461,7 @@ static int setup_subdevices(comedi_device * dev)
 	return 0;
 }
 
-static int init_hpdi(comedi_device * dev)
+static int init_hpdi(struct comedi_device * dev)
 {
 	uint32_t plx_intcsr_bits;
 
@@ -490,7 +490,7 @@ static int init_hpdi(comedi_device * dev)
 }
 
 // setup dma descriptors so a link completes every 'transfer_size' bytes
-static int setup_dma_descriptors(comedi_device * dev,
+static int setup_dma_descriptors(struct comedi_device * dev,
 	unsigned int transfer_size)
 {
 	unsigned int buffer_index, buffer_offset;
@@ -552,7 +552,7 @@ static int setup_dma_descriptors(comedi_device * dev,
 	return transfer_size;
 }
 
-static int hpdi_attach(comedi_device * dev, comedi_devconfig * it)
+static int hpdi_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
 	int i;
@@ -661,7 +661,7 @@ static int hpdi_attach(comedi_device * dev, comedi_devconfig * it)
 	return init_hpdi(dev);
 }
 
-static int hpdi_detach(comedi_device * dev)
+static int hpdi_detach(struct comedi_device * dev)
 {
 	unsigned int i;
 
@@ -702,7 +702,7 @@ static int hpdi_detach(comedi_device * dev)
 	return 0;
 }
 
-static int dio_config_block_size(comedi_device * dev, unsigned int * data)
+static int dio_config_block_size(struct comedi_device * dev, unsigned int * data)
 {
 	unsigned int requested_block_size;
 	int retval;
@@ -718,7 +718,7 @@ static int dio_config_block_size(comedi_device * dev, unsigned int * data)
 	return 2;
 }
 
-static int di_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int di_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -818,7 +818,7 @@ static int di_cmd_test(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int hpdi_cmd_test(comedi_device * dev, comedi_subdevice * s,
+static int hpdi_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	if (priv(dev)-&gt;dio_config_output) {
@@ -827,14 +827,14 @@ static int hpdi_cmd_test(comedi_device * dev, comedi_subdevice * s,
 		return di_cmd_test(dev, s, cmd);
 }
 
-static inline void hpdi_writel(comedi_device * dev, uint32_t bits,
+static inline void hpdi_writel(struct comedi_device * dev, uint32_t bits,
 	unsigned int offset)
 {
 	writel(bits | priv(dev)-&gt;bits[offset / sizeof(uint32_t)],
 		priv(dev)-&gt;hpdi_iobase + offset);
 }
 
-static int di_cmd(comedi_device * dev, comedi_subdevice * s)
+static int di_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	uint32_t bits;
 	unsigned long flags;
@@ -887,7 +887,7 @@ static int di_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int hpdi_cmd(comedi_device * dev, comedi_subdevice * s)
+static int hpdi_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (priv(dev)-&gt;dio_config_output) {
 		return -EINVAL;
@@ -895,7 +895,7 @@ static int hpdi_cmd(comedi_device * dev, comedi_subdevice * s)
 		return di_cmd(dev, s);
 }
 
-static void drain_dma_buffers(comedi_device * dev, unsigned int channel)
+static void drain_dma_buffers(struct comedi_device * dev, unsigned int channel)
 {
 	comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	uint32_t next_transfer_addr;
@@ -943,7 +943,7 @@ static void drain_dma_buffers(comedi_device * dev, unsigned int channel)
 
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
 	uint32_t hpdi_intr_status, hpdi_board_status;
@@ -1032,7 +1032,7 @@ static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-void abort_dma(comedi_device * dev, unsigned int channel)
+void abort_dma(struct comedi_device * dev, unsigned int channel)
 {
 	unsigned long flags;
 
@@ -1044,7 +1044,7 @@ void abort_dma(comedi_device * dev, unsigned int channel)
 	comedi_spin_unlock_irqrestore(&amp;dev-&gt;spinlock, flags);
 }
 
-static int hpdi_cancel(comedi_device * dev, comedi_subdevice * s)
+static int hpdi_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	hpdi_writel(dev, 0, BOARD_CONTROL_REG);
 
diff --git a/drivers/staging/comedi/drivers/icp_multi.c b/drivers/staging/comedi/drivers/icp_multi.c
index 1d27e90213cd..04152148a106 100644
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -123,8 +123,8 @@ static const char range_codes_analog[] = { 0x00, 0x20, 0x10, 0x30 };
 	Forward declarations
 ==============================================================================
 */
-static int icp_multi_attach(comedi_device *dev, comedi_devconfig *it);
-static int icp_multi_detach(comedi_device *dev);
+static int icp_multi_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int icp_multi_detach(struct comedi_device *dev);
 
 /*
 ==============================================================================
@@ -214,12 +214,12 @@ struct icp_multi_private {
 */
 
 #if 0
-static int check_channel_list(comedi_device *dev, comedi_subdevice *s,
+static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan);
 #endif
-static void setup_channel_list(comedi_device *dev, comedi_subdevice *s,
+static void setup_channel_list(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan);
-static int icp_multi_reset(comedi_device *dev);
+static int icp_multi_reset(struct comedi_device *dev);
 
 /*
 ==============================================================================
@@ -236,7 +236,7 @@ static int icp_multi_reset(comedi_device *dev);
 		This function reads a single analogue input.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue input data
@@ -245,7 +245,7 @@ static int icp_multi_reset(comedi_device *dev);
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ai(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ai(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, timeout;
@@ -355,7 +355,7 @@ static int icp_multi_insn_read_ai(comedi_device *dev, comedi_subdevice *s,
 		This function writes a single analogue output.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
@@ -364,7 +364,7 @@ static int icp_multi_insn_read_ai(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static int icp_multi_insn_write_ao(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_write_ao(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan, range, timeout;
@@ -463,7 +463,7 @@ static int icp_multi_insn_write_ao(comedi_device *dev, comedi_subdevice *s,
 		This function reads a single analogue output.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
@@ -472,7 +472,7 @@ static int icp_multi_insn_write_ao(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ao(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ao(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan;
@@ -496,7 +496,7 @@ static int icp_multi_insn_read_ao(comedi_device *dev, comedi_subdevice *s,
 		This function reads the digital inputs.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
@@ -505,7 +505,7 @@ static int icp_multi_insn_read_ao(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static int icp_multi_insn_bits_di(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_bits_di(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	data[1] = readw(devpriv-&gt;io_addr + ICP_MULTI_DI);
@@ -522,7 +522,7 @@ static int icp_multi_insn_bits_di(comedi_device *dev, comedi_subdevice *s,
 		This function writes the appropriate digital outputs.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
@@ -531,7 +531,7 @@ static int icp_multi_insn_bits_di(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static int icp_multi_insn_bits_do(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_bits_do(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 #ifdef ICP_MULTI_EXTDEBUG
@@ -564,7 +564,7 @@ static int icp_multi_insn_bits_do(comedi_device *dev, comedi_subdevice *s,
 		This function reads the specified counter.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to counter data
@@ -573,7 +573,7 @@ static int icp_multi_insn_bits_do(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ctr(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ctr(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
@@ -588,7 +588,7 @@ static int icp_multi_insn_read_ctr(comedi_device *dev, comedi_subdevice *s,
 		This function write to the specified counter.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to counter data
@@ -597,7 +597,7 @@ static int icp_multi_insn_read_ctr(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static int icp_multi_insn_write_ctr(comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_write_ctr(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
@@ -620,7 +620,7 @@ static int icp_multi_insn_write_ctr(comedi_device *dev, comedi_subdevice *s,
 */
 static irqreturn_t interrupt_service_icp_multi(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	int int_no;
 
 #ifdef ICP_MULTI_EXTDEBUG
@@ -679,7 +679,7 @@ static irqreturn_t interrupt_service_icp_multi(int irq, void *d PT_REGS_ARG)
 		is built correctly
 
 	Parameters:
-		comedi_device *dev	Pointer to current sevice structure
+		struct comedi_device *dev	Pointer to current sevice structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		unsigned int *chanlist	Pointer to packed channel list
 		unsigned int n_chan	Number of channels to scan
@@ -689,7 +689,7 @@ static irqreturn_t interrupt_service_icp_multi(int irq, void *d PT_REGS_ARG)
 
 ==============================================================================
 */
-static int check_channel_list(comedi_device *dev, comedi_subdevice *s,
+static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int i;
@@ -734,7 +734,7 @@ static int check_channel_list(comedi_device *dev, comedi_subdevice *s,
 		Status register.
 
 	Parameters:
-		comedi_device *dev	Pointer to current sevice structure
+		struct comedi_device *dev	Pointer to current sevice structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		unsigned int *chanlist	Pointer to packed channel list
 		unsigned int n_chan	Number of channels to scan
@@ -743,7 +743,7 @@ static int check_channel_list(comedi_device *dev, comedi_subdevice *s,
 
 ==============================================================================
 */
-static void setup_channel_list(comedi_device *dev, comedi_subdevice *s,
+static void setup_channel_list(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int i, range, chanprog;
@@ -806,13 +806,13 @@ static void setup_channel_list(comedi_device *dev, comedi_subdevice *s,
 		This function resets the icp multi device to a 'safe' state
 
 	Parameters:
-		comedi_device *dev	Pointer to current sevice structure
+		struct comedi_device *dev	Pointer to current sevice structure
 
 	Returns:int	0 = success
 
 ==============================================================================
 */
-static int icp_multi_reset(comedi_device *dev)
+static int icp_multi_reset(struct comedi_device *dev)
 {
 	unsigned int i;
 
@@ -863,14 +863,14 @@ static int icp_multi_reset(comedi_device *dev)
 		device.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 		comedi_devconfig *it	Pointer to current device configuration
 
 	Returns:int	0 = success
 
 ==============================================================================
 */
-static int icp_multi_attach(comedi_device *dev, comedi_devconfig *it)
+static int icp_multi_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
@@ -1058,13 +1058,13 @@ static int icp_multi_attach(comedi_device *dev, comedi_devconfig *it)
 		device.
 
 	Parameters:
-		comedi_device *dev	Pointer to current device structure
+		struct comedi_device *dev	Pointer to current device structure
 
 	Returns:int	0 = success
 
 ==============================================================================
 */
-static int icp_multi_detach(comedi_device *dev)
+static int icp_multi_detach(struct comedi_device *dev)
 {
 
 	if (dev-&gt;private)
diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index eb3dde50d75c..3e7ca4e6b8af 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -156,8 +156,8 @@ typedef struct {
 #define devpriv ((pci20xxx_private *)dev-&gt;private)
 #define CHAN (CR_CHAN(it-&gt;chanlist[0]))
 
-static int pci20xxx_attach(comedi_device * dev, comedi_devconfig * it);
-static int pci20xxx_detach(comedi_device * dev);
+static int pci20xxx_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pci20xxx_detach(struct comedi_device * dev);
 
 static comedi_driver driver_pci20xxx = {
       driver_name:"ii_pci20kc",
@@ -166,11 +166,11 @@ static comedi_driver driver_pci20xxx = {
       detach:pci20xxx_detach,
 };
 
-static int pci20006_init(comedi_device * dev, comedi_subdevice * s,
+static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
 	int opt0, int opt1);
-static int pci20341_init(comedi_device * dev, comedi_subdevice * s,
+static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
 	int opt0, int opt1);
-static int pci20xxx_dio_init(comedi_device * dev, comedi_subdevice * s);
+static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s);
 
 /*
   options[0]	Board base address
@@ -199,7 +199,7 @@ static int pci20xxx_dio_init(comedi_device * dev, comedi_subdevice * s);
 		1 == unipolar 10V  (0V -- +10V)
 		2 == bipolar 5V  (-5V -- +5V)
 */
-static int pci20xxx_attach(comedi_device * dev, comedi_devconfig * it)
+static int pci20xxx_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned char i;
 	int ret;
@@ -261,7 +261,7 @@ static int pci20xxx_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int pci20xxx_detach(comedi_device * dev)
+static int pci20xxx_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pci20xxx: remove\n", dev-&gt;minor);
 
@@ -270,9 +270,9 @@ static int pci20xxx_detach(comedi_device * dev)
 
 /* pci20006m */
 
-static int pci20006_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci20006_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static const comedi_lrange *pci20006_range_list[] = {
@@ -281,7 +281,7 @@ static const comedi_lrange *pci20006_range_list[] = {
 	&amp;range_bipolar5,
 };
 
-static int pci20006_init(comedi_device * dev, comedi_subdevice * s,
+static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
 	int opt0, int opt1)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -306,7 +306,7 @@ static int pci20006_init(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pci20006_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -316,7 +316,7 @@ static int pci20006_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pci20006_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -349,7 +349,7 @@ static int pci20006_insn_write(comedi_device * dev, comedi_subdevice * s,
 
 /* PCI20341M */
 
-static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static const int pci20341_timebase[] = { 0x00, 0x00, 0x00, 0x04 };
@@ -366,7 +366,7 @@ static const comedi_lrange *const pci20341_ranges[] = {
 	&amp;range_bipolar0_025,
 };
 
-static int pci20341_init(comedi_device * dev, comedi_subdevice * s,
+static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
 	int opt0, int opt1)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -397,7 +397,7 @@ static int pci20341_init(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
@@ -443,14 +443,14 @@ static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
 
 /* native DIO */
 
-static void pci20xxx_dio_config(comedi_device * dev, comedi_subdevice * s);
-static int pci20xxx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s);
+static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci20xxx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /* initialize pci20xxx_private */
-static int pci20xxx_dio_init(comedi_device * dev, comedi_subdevice * s)
+static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s)
 {
 
 	s-&gt;type = COMEDI_SUBD_DIO;
@@ -469,7 +469,7 @@ static int pci20xxx_dio_init(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pci20xxx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask, bits;
@@ -494,7 +494,7 @@ static int pci20xxx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pci20xxx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask = data[0];
@@ -524,7 +524,7 @@ static int pci20xxx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static void pci20xxx_dio_config(comedi_device * dev, comedi_subdevice * s)
+static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned char control_01;
 	unsigned char control_23;
@@ -580,7 +580,7 @@ static void pci20xxx_dio_config(comedi_device * dev, comedi_subdevice * s)
 }
 
 #if 0
-static void pci20xxx_do(comedi_device * dev, comedi_subdevice * s)
+static void pci20xxx_do(struct comedi_device * dev, comedi_subdevice * s)
 {
 	/* XXX if the channel is configured for input, does this
 	   do bad things? */
@@ -593,7 +593,7 @@ static void pci20xxx_do(comedi_device * dev, comedi_subdevice * s)
 	writeb((s-&gt;state &gt;&gt; 24) &amp; 0xff, devpriv-&gt;ioaddr + PCI20000_DIO_3);
 }
 
-static unsigned int pci20xxx_di(comedi_device * dev, comedi_subdevice * s)
+static unsigned int pci20xxx_di(struct comedi_device * dev, comedi_subdevice * s)
 {
 	/* XXX same note as above */
 	unsigned int bits;
diff --git a/drivers/staging/comedi/drivers/jr3_pci.c b/drivers/staging/comedi/drivers/jr3_pci.c
index ae3e2a125abf..0a077486315c 100644
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -60,10 +60,10 @@ static struct device comedi_fw_device = {
 	.release = comedi_fw_release
 };
 
-typedef int comedi_firmware_callback(comedi_device * dev,
+typedef int comedi_firmware_callback(struct comedi_device * dev,
 	const u8 * data, size_t size);
 
-static int comedi_load_firmware(comedi_device * dev,
+static int comedi_load_firmware(struct comedi_device * dev,
 	char *name, comedi_firmware_callback cb)
 {
 	int result = 0;
@@ -103,8 +103,8 @@ static int comedi_load_firmware(comedi_device * dev,
 #define PCI_DEVICE_ID_JR3_3_CHANNEL 0x3113
 #define PCI_DEVICE_ID_JR3_4_CHANNEL 0x3114
 
-static int jr3_pci_attach(comedi_device * dev, comedi_devconfig * it);
-static int jr3_pci_detach(comedi_device * dev);
+static int jr3_pci_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int jr3_pci_detach(struct comedi_device * dev);
 
 static comedi_driver driver_jr3_pci = {
       driver_name:"jr3_pci",
@@ -269,7 +269,7 @@ static six_axis_t get_max_full_scales(volatile jr3_channel_t * channel)
 	return result;
 }
 
-static int jr3_pci_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int jr3_pci_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int result;
@@ -385,7 +385,7 @@ static int jr3_pci_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return result;
 }
 
-static void jr3_pci_open(comedi_device * dev)
+static void jr3_pci_open(struct comedi_device * dev)
 {
 	int i;
 	jr3_pci_dev_private *devpriv = dev-&gt;private;
@@ -424,7 +424,7 @@ int read_idm_word(const u8 * data, size_t size, int *pos, unsigned int *val)
 	return result;
 }
 
-static int jr3_download_firmware(comedi_device * dev, const u8 * data,
+static int jr3_download_firmware(struct comedi_device * dev, const u8 * data,
 	size_t size)
 {
 	/*
@@ -737,7 +737,7 @@ static poll_delay_t jr3_pci_poll_subdevice(comedi_subdevice * s)
 static void jr3_pci_poll_dev(unsigned long data)
 {
 	unsigned long flags;
-	comedi_device *dev = (comedi_device *) data;
+	struct comedi_device *dev = (struct comedi_device *) data;
 	jr3_pci_dev_private *devpriv = dev-&gt;private;
 	unsigned long now;
 	int delay;
@@ -770,7 +770,7 @@ static void jr3_pci_poll_dev(unsigned long data)
 	add_timer(&amp;devpriv-&gt;timer);
 }
 
-static int jr3_pci_attach(comedi_device * dev, comedi_devconfig * it)
+static int jr3_pci_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int result = 0;
 	struct pci_dev *card = NULL;
@@ -940,7 +940,7 @@ static int jr3_pci_attach(comedi_device * dev, comedi_devconfig * it)
 	return result;
 }
 
-static int jr3_pci_detach(comedi_device * dev)
+static int jr3_pci_detach(struct comedi_device * dev)
 {
 	int i;
 	jr3_pci_dev_private *devpriv = dev-&gt;private;
diff --git a/drivers/staging/comedi/drivers/ke_counter.c b/drivers/staging/comedi/drivers/ke_counter.c
index 834625c546db..d9b8a83343d9 100644
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -48,8 +48,8 @@ Kolter Electronic PCI Counter Card.
 
 /*-- function prototypes ----------------------------------------------------*/
 
-static int cnt_attach(comedi_device * dev, comedi_devconfig * it);
-static int cnt_detach(comedi_device * dev);
+static int cnt_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int cnt_detach(struct comedi_device * dev);
 
 static DEFINE_PCI_DEVICE_TABLE(cnt_pci_table) = {
 	{PCI_VENDOR_ID_KOLTER, CNT_CARD_DEVICE_ID, PCI_ANY_ID, PCI_ANY_ID, 0, 0,
@@ -99,7 +99,7 @@ COMEDI_PCI_INITCLEANUP(cnt_driver, cnt_pci_table);
 
 /* This should be used only for resetting the counters; maybe it is better
    to make a special command 'reset'. */
-static int cnt_winsn(comedi_device * dev,
+static int cnt_winsn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -119,7 +119,7 @@ static int cnt_winsn(comedi_device * dev,
 
 /*-- counter read -----------------------------------------------------------*/
 
-static int cnt_rinsn(comedi_device * dev,
+static int cnt_rinsn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned char a0, a1, a2, a3, a4;
@@ -144,7 +144,7 @@ static int cnt_rinsn(comedi_device * dev,
 
 /*-- attach -----------------------------------------------------------------*/
 
-static int cnt_attach(comedi_device * dev, comedi_devconfig * it)
+static int cnt_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *subdevice;
 	struct pci_dev *pci_device;
@@ -237,7 +237,7 @@ static int cnt_attach(comedi_device * dev, comedi_devconfig * it)
 
 /*-- detach -----------------------------------------------------------------*/
 
-static int cnt_detach(comedi_device * dev)
+static int cnt_detach(struct comedi_device * dev)
 {
 	if (devpriv &amp;&amp; devpriv-&gt;pcidev) {
 		if (dev-&gt;iobase) {
diff --git a/drivers/staging/comedi/drivers/me4000.c b/drivers/staging/comedi/drivers/me4000.c
index 7aad3e53624a..a03661ce34b5 100644
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -118,8 +118,8 @@ static const me4000_board_t me4000_boards[] = {
 /*-----------------------------------------------------------------------------
   Comedi function prototypes
   ---------------------------------------------------------------------------*/
-static int me4000_attach(comedi_device *dev, comedi_devconfig *it);
-static int me4000_detach(comedi_device *dev);
+static int me4000_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int me4000_detach(struct comedi_device *dev);
 static comedi_driver driver_me4000 = {
       driver_name:"me4000",
       module : THIS_MODULE,
@@ -130,91 +130,91 @@ static comedi_driver driver_me4000 = {
 /*-----------------------------------------------------------------------------
   Meilhaus function prototypes
   ---------------------------------------------------------------------------*/
-static int me4000_probe(comedi_device *dev, comedi_devconfig *it);
-static int get_registers(comedi_device *dev, struct pci_dev *pci_dev_p);
-static int init_board_info(comedi_device *dev, struct pci_dev *pci_dev_p);
-static int init_ao_context(comedi_device *dev);
-static int init_ai_context(comedi_device *dev);
-static int init_dio_context(comedi_device *dev);
-static int init_cnt_context(comedi_device *dev);
-static int xilinx_download(comedi_device *dev);
-static int reset_board(comedi_device *dev);
-
-static int me4000_dio_insn_bits(comedi_device *dev,
+static int me4000_probe(struct comedi_device *dev, comedi_devconfig *it);
+static int get_registers(struct comedi_device *dev, struct pci_dev *pci_dev_p);
+static int init_board_info(struct comedi_device *dev, struct pci_dev *pci_dev_p);
+static int init_ao_context(struct comedi_device *dev);
+static int init_ai_context(struct comedi_device *dev);
+static int init_dio_context(struct comedi_device *dev);
+static int init_cnt_context(struct comedi_device *dev);
+static int xilinx_download(struct comedi_device *dev);
+static int reset_board(struct comedi_device *dev);
+
+static int me4000_dio_insn_bits(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
-static int me4000_dio_insn_config(comedi_device *dev,
+static int me4000_dio_insn_config(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
-static int cnt_reset(comedi_device *dev, unsigned int channel);
+static int cnt_reset(struct comedi_device *dev, unsigned int channel);
 
-static int cnt_config(comedi_device *dev,
+static int cnt_config(struct comedi_device *dev,
 	unsigned int channel, unsigned int mode);
 
-static int me4000_cnt_insn_config(comedi_device *dev,
+static int me4000_cnt_insn_config(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
-static int me4000_cnt_insn_write(comedi_device *dev,
+static int me4000_cnt_insn_write(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
-static int me4000_cnt_insn_read(comedi_device *dev,
+static int me4000_cnt_insn_read(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
-static int me4000_ai_insn_read(comedi_device *dev,
+static int me4000_ai_insn_read(struct comedi_device *dev,
 	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data);
 
-static int me4000_ai_cancel(comedi_device *dev, comedi_subdevice *s);
+static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
 
-static int ai_check_chanlist(comedi_device *dev,
+static int ai_check_chanlist(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd);
 
-static int ai_round_cmd_args(comedi_device *dev,
+static int ai_round_cmd_args(struct comedi_device *dev,
 	comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int *init_ticks,
 	unsigned int *scan_ticks, unsigned int *chan_ticks);
 
-static int ai_prepare(comedi_device *dev,
+static int ai_prepare(struct comedi_device *dev,
 	comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int init_ticks,
 	unsigned int scan_ticks, unsigned int chan_ticks);
 
-static int ai_write_chanlist(comedi_device *dev,
+static int ai_write_chanlist(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd);
 
 static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG);
 
-static int me4000_ai_do_cmd_test(comedi_device *dev,
+static int me4000_ai_do_cmd_test(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd);
 
-static int me4000_ai_do_cmd(comedi_device *dev, comedi_subdevice *s);
+static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s);
 
-static int me4000_ao_insn_write(comedi_device *dev,
+static int me4000_ao_insn_write(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
-static int me4000_ao_insn_read(comedi_device *dev,
+static int me4000_ao_insn_read(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 /*-----------------------------------------------------------------------------
   Meilhaus inline functions
   ---------------------------------------------------------------------------*/
 
-static inline void me4000_outb(comedi_device *dev, unsigned char value,
+static inline void me4000_outb(struct comedi_device *dev, unsigned char value,
 	unsigned long port)
 {
 	PORT_PDEBUG("--&gt; 0x%02X port 0x%04lX\n", value, port);
 	outb(value, port);
 }
 
-static inline void me4000_outl(comedi_device *dev, unsigned long value,
+static inline void me4000_outl(struct comedi_device *dev, unsigned long value,
 	unsigned long port)
 {
 	PORT_PDEBUG("--&gt; 0x%08lX port 0x%04lX\n", value, port);
 	outl(value, port);
 }
 
-static inline unsigned long me4000_inl(comedi_device *dev, unsigned long port)
+static inline unsigned long me4000_inl(struct comedi_device *dev, unsigned long port)
 {
 	unsigned long value;
 	value = inl(port);
@@ -222,7 +222,7 @@ static inline unsigned long me4000_inl(comedi_device *dev, unsigned long port)
 	return value;
 }
 
-static inline unsigned char me4000_inb(comedi_device *dev, unsigned long port)
+static inline unsigned char me4000_inb(struct comedi_device *dev, unsigned long port)
 {
 	unsigned char value;
 	value = inb(port);
@@ -247,7 +247,7 @@ static const comedi_lrange me4000_ao_range = {
 		}
 };
 
-static int me4000_attach(comedi_device *dev, comedi_devconfig *it)
+static int me4000_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	comedi_subdevice *s;
 	int result;
@@ -369,7 +369,7 @@ static int me4000_attach(comedi_device *dev, comedi_devconfig *it)
 	return 0;
 }
 
-static int me4000_probe(comedi_device *dev, comedi_devconfig *it)
+static int me4000_probe(struct comedi_device *dev, comedi_devconfig *it)
 {
 	struct pci_dev *pci_device;
 	int result, i;
@@ -512,7 +512,7 @@ static int me4000_probe(comedi_device *dev, comedi_devconfig *it)
 	return 0;
 }
 
-static int get_registers(comedi_device *dev, struct pci_dev *pci_dev_p)
+static int get_registers(struct comedi_device *dev, struct pci_dev *pci_dev_p)
 {
 
 	CALL_PDEBUG("In get_registers()\n");
@@ -564,7 +564,7 @@ static int get_registers(comedi_device *dev, struct pci_dev *pci_dev_p)
 	return 0;
 }
 
-static int init_board_info(comedi_device *dev, struct pci_dev *pci_dev_p)
+static int init_board_info(struct comedi_device *dev, struct pci_dev *pci_dev_p)
 {
 	int result;
 
@@ -596,7 +596,7 @@ static int init_board_info(comedi_device *dev, struct pci_dev *pci_dev_p)
 	return 0;
 }
 
-static int init_ao_context(comedi_device *dev)
+static int init_ao_context(struct comedi_device *dev)
 {
 	int i;
 
@@ -679,7 +679,7 @@ static int init_ao_context(comedi_device *dev)
 	return 0;
 }
 
-static int init_ai_context(comedi_device *dev)
+static int init_ai_context(struct comedi_device *dev)
 {
 
 	CALL_PDEBUG("In init_ai_context()\n");
@@ -713,7 +713,7 @@ static int init_ai_context(comedi_device *dev)
 	return 0;
 }
 
-static int init_dio_context(comedi_device *dev)
+static int init_dio_context(struct comedi_device *dev)
 {
 
 	CALL_PDEBUG("In init_dio_context()\n");
@@ -732,7 +732,7 @@ static int init_dio_context(comedi_device *dev)
 	return 0;
 }
 
-static int init_cnt_context(comedi_device *dev)
+static int init_cnt_context(struct comedi_device *dev)
 {
 
 	CALL_PDEBUG("In init_cnt_context()\n");
@@ -753,7 +753,7 @@ static int init_cnt_context(comedi_device *dev)
 extern unsigned char *xilinx_firm;
 #endif
 
-static int xilinx_download(comedi_device *dev)
+static int xilinx_download(struct comedi_device *dev)
 {
 	u32 value = 0;
 	wait_queue_head_t queue;
@@ -835,7 +835,7 @@ static int xilinx_download(comedi_device *dev)
 	return 0;
 }
 
-static int reset_board(comedi_device *dev)
+static int reset_board(struct comedi_device *dev)
 {
 	unsigned long icr;
 
@@ -893,7 +893,7 @@ static int reset_board(comedi_device *dev)
 	return 0;
 }
 
-static int me4000_detach(comedi_device *dev)
+static int me4000_detach(struct comedi_device *dev)
 {
 	CALL_PDEBUG("In me4000_detach()\n");
 
@@ -913,7 +913,7 @@ static int me4000_detach(comedi_device *dev)
   Analog input section
   ===========================================================================*/
 
-static int me4000_ai_insn_read(comedi_device *dev,
+static int me4000_ai_insn_read(struct comedi_device *dev,
 	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data)
 {
 
@@ -1037,7 +1037,7 @@ static int me4000_ai_insn_read(comedi_device *dev,
 	return 1;
 }
 
-static int me4000_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	unsigned long tmp;
 
@@ -1054,7 +1054,7 @@ static int me4000_ai_cancel(comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int ai_check_chanlist(comedi_device *dev,
+static int ai_check_chanlist(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int aref;
@@ -1135,7 +1135,7 @@ static int ai_check_chanlist(comedi_device *dev,
 	return 0;
 }
 
-static int ai_round_cmd_args(comedi_device *dev,
+static int ai_round_cmd_args(struct comedi_device *dev,
 	comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int *init_ticks,
@@ -1201,7 +1201,7 @@ static int ai_round_cmd_args(comedi_device *dev,
 	return 0;
 }
 
-static void ai_write_timer(comedi_device *dev,
+static void ai_write_timer(struct comedi_device *dev,
 	unsigned int init_ticks,
 	unsigned int scan_ticks, unsigned int chan_ticks)
 {
@@ -1222,7 +1222,7 @@ static void ai_write_timer(comedi_device *dev,
 	me4000_outl(dev, chan_ticks - 1, info-&gt;ai_context.chan_timer_reg);
 }
 
-static int ai_prepare(comedi_device *dev,
+static int ai_prepare(struct comedi_device *dev,
 	comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int init_ticks,
@@ -1291,7 +1291,7 @@ static int ai_prepare(comedi_device *dev,
 	return 0;
 }
 
-static int ai_write_chanlist(comedi_device *dev,
+static int ai_write_chanlist(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd)
 {
 	unsigned int entry;
@@ -1331,7 +1331,7 @@ static int ai_write_chanlist(comedi_device *dev,
 	return 0;
 }
 
-static int me4000_ai_do_cmd(comedi_device *dev, comedi_subdevice *s)
+static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	int err;
 	unsigned int init_ticks = 0;
@@ -1375,7 +1375,7 @@ static int me4000_ai_do_cmd(comedi_device *dev, comedi_subdevice *s)
  * - invalid chanlist
  * So I tried to adopt this scheme.
  */
-static int me4000_ai_do_cmd_test(comedi_device *dev,
+static int me4000_ai_do_cmd_test(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd)
 {
 
@@ -1743,7 +1743,7 @@ static int me4000_ai_do_cmd_test(comedi_device *dev,
 static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG)
 {
 	unsigned int tmp;
-	comedi_device *dev = dev_id;
+	struct comedi_device *dev = dev_id;
 	comedi_subdevice *s = dev-&gt;subdevices;
 	me4000_ai_context_t *ai_context = &amp;info-&gt;ai_context;
 	int i;
@@ -1903,7 +1903,7 @@ static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG)
   Analog output section
   ===========================================================================*/
 
-static int me4000_ao_insn_write(comedi_device *dev,
+static int me4000_ao_insn_write(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
@@ -1961,7 +1961,7 @@ static int me4000_ao_insn_write(comedi_device *dev,
 	return 1;
 }
 
-static int me4000_ao_insn_read(comedi_device *dev,
+static int me4000_ao_insn_read(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1982,7 +1982,7 @@ static int me4000_ao_insn_read(comedi_device *dev,
   Digital I/O section
   ===========================================================================*/
 
-static int me4000_dio_insn_bits(comedi_device *dev,
+static int me4000_dio_insn_bits(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
@@ -2033,7 +2033,7 @@ static int me4000_dio_insn_bits(comedi_device *dev,
 	return 2;
 }
 
-static int me4000_dio_insn_config(comedi_device *dev,
+static int me4000_dio_insn_config(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	unsigned long tmp;
@@ -2127,7 +2127,7 @@ static int me4000_dio_insn_config(comedi_device *dev,
   Counter section
   ===========================================================================*/
 
-static int cnt_reset(comedi_device *dev, unsigned int channel)
+static int cnt_reset(struct comedi_device *dev, unsigned int channel)
 {
 
 	CALL_PDEBUG("In cnt_reset()\n");
@@ -2158,7 +2158,7 @@ static int cnt_reset(comedi_device *dev, unsigned int channel)
 	return 0;
 }
 
-static int cnt_config(comedi_device *dev, unsigned int channel,
+static int cnt_config(struct comedi_device *dev, unsigned int channel,
 	unsigned int mode)
 {
 	int tmp = 0;
@@ -2215,7 +2215,7 @@ static int cnt_config(comedi_device *dev, unsigned int channel,
 	return 0;
 }
 
-static int me4000_cnt_insn_config(comedi_device *dev,
+static int me4000_cnt_insn_config(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
@@ -2258,7 +2258,7 @@ static int me4000_cnt_insn_config(comedi_device *dev,
 	return 2;
 }
 
-static int me4000_cnt_insn_read(comedi_device *dev,
+static int me4000_cnt_insn_read(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
@@ -2305,7 +2305,7 @@ static int me4000_cnt_insn_read(comedi_device *dev,
 	return 1;
 }
 
-static int me4000_cnt_insn_write(comedi_device *dev,
+static int me4000_cnt_insn_write(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
diff --git a/drivers/staging/comedi/drivers/me_daq.c b/drivers/staging/comedi/drivers/me_daq.c
index 877920e35e1b..5e48eaaf5f28 100644
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -144,8 +144,8 @@ from http://www.comedi.org
 #define ME_COUNTER_VALUE_B		0x0022	/* R | - */
 
 /* Function prototypes */
-static int me_attach(comedi_device *dev, comedi_devconfig *it);
-static int me_detach(comedi_device *dev);
+static int me_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int me_detach(struct comedi_device *dev);
 
 static const comedi_lrange me2000_ai_range = {
 	8,
@@ -290,7 +290,7 @@ static inline void sleep(unsigned sec)
  *
  * ------------------------------------------------------------------
  */
-static int me_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int me_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data)
 {
 	int bits;
@@ -326,7 +326,7 @@ static int me_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
 }
 
 /* Digital instant input/outputs */
-static int me_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int me_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	unsigned int mask = data[0];
@@ -362,7 +362,7 @@ static int me_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
  */
 
 /* Analog instant input */
-static int me_ai_insn_read(comedi_device *dev, comedi_subdevice *subdevice,
+static int me_ai_insn_read(struct comedi_device *dev, comedi_subdevice *subdevice,
 			   comedi_insn *insn, unsigned int *data)
 {
 	unsigned short value;
@@ -436,7 +436,7 @@ static int me_ai_insn_read(comedi_device *dev, comedi_subdevice *subdevice,
  */
 
 /* Cancel analog input autoscan */
-static int me_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int me_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	/* disable interrupts */
 
@@ -448,14 +448,14 @@ static int me_ai_cancel(comedi_device *dev, comedi_subdevice *s)
 }
 
 /* Test analog input command */
-static int me_ai_do_cmd_test(comedi_device *dev, comedi_subdevice *s,
+static int me_ai_do_cmd_test(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	return 0;
 }
 
 /* Analog input command */
-static int me_ai_do_cmd(comedi_device *dev, comedi_subdevice *subdevice)
+static int me_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *subdevice)
 {
 	return 0;
 }
@@ -469,7 +469,7 @@ static int me_ai_do_cmd(comedi_device *dev, comedi_subdevice *subdevice)
  */
 
 /* Analog instant output */
-static int me_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
+static int me_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	int chan;
@@ -519,7 +519,7 @@ static int me_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
 }
 
 /* Analog output readback */
-static int me_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int me_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -541,7 +541,7 @@ static int me_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
  */
 
 /* Xilinx firmware download for card: ME-2600i */
-static int me2600_xilinx_download(comedi_device *dev,
+static int me2600_xilinx_download(struct comedi_device *dev,
 				  unsigned char *me2600_firmware,
 				  unsigned int length)
 {
@@ -609,7 +609,7 @@ static int me2600_xilinx_download(comedi_device *dev,
 }
 
 /* Reset device */
-static int me_reset(comedi_device *dev)
+static int me_reset(struct comedi_device *dev)
 {
 	/* Reset board */
 	writew(0x00, dev_private-&gt;me_regbase + ME_CONTROL_1);
@@ -631,7 +631,7 @@ static int me_reset(comedi_device *dev)
  * - Register PCI device
  * - Declare device driver capability
  */
-static int me_attach(comedi_device *dev, comedi_devconfig *it)
+static int me_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	struct pci_dev *pci_device;
 	comedi_subdevice *subdevice;
@@ -825,7 +825,7 @@ static int me_attach(comedi_device *dev, comedi_devconfig *it)
 }
 
 /* Detach */
-static int me_detach(comedi_device *dev)
+static int me_detach(struct comedi_device *dev)
 {
 	if (dev_private) {
 		if (dev_private-&gt;me_regbase) {
diff --git a/drivers/staging/comedi/drivers/mpc624.c b/drivers/staging/comedi/drivers/mpc624.c
index a4be0721d69f..6bbcdde62ad3 100644
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -144,8 +144,8 @@ static const comedi_lrange range_mpc624_bipolar10 = {
 };
 
 //----------------------------------------------------------------------------
-static int mpc624_attach(comedi_device * dev, comedi_devconfig * it);
-static int mpc624_detach(comedi_device * dev);
+static int mpc624_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int mpc624_detach(struct comedi_device * dev);
 //----------------------------------------------------------------------------
 static comedi_driver driver_mpc624 = {
       driver_name:"mpc624",
@@ -155,10 +155,10 @@ static comedi_driver driver_mpc624 = {
 };
 
 //----------------------------------------------------------------------------
-static int mpc624_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int mpc624_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 //----------------------------------------------------------------------------
-static int mpc624_attach(comedi_device * dev, comedi_devconfig * it)
+static int mpc624_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -255,7 +255,7 @@ static int mpc624_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int mpc624_detach(comedi_device * dev)
+static int mpc624_detach(struct comedi_device * dev)
 {
 	rt_printk("comedi%d: mpc624: remove\n", dev-&gt;minor);
 
@@ -268,7 +268,7 @@ static int mpc624_detach(comedi_device * dev)
 // Timeout 200ms
 #define TIMEOUT 200
 
-static int mpc624_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int mpc624_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
diff --git a/drivers/staging/comedi/drivers/mpc8260cpm.c b/drivers/staging/comedi/drivers/mpc8260cpm.c
index b3a64bbbf0c3..f1f14514ff27 100644
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -44,8 +44,8 @@ typedef struct {
 } mpc8260cpm_private;
 #define devpriv ((mpc8260cpm_private *)dev-&gt;private)
 
-static int mpc8260cpm_attach(comedi_device * dev, comedi_devconfig * it);
-static int mpc8260cpm_detach(comedi_device * dev);
+static int mpc8260cpm_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int mpc8260cpm_detach(struct comedi_device * dev);
 static comedi_driver driver_mpc8260cpm = {
       driver_name:"mpc8260cpm",
       module:THIS_MODULE,
@@ -55,12 +55,12 @@ static comedi_driver driver_mpc8260cpm = {
 
 COMEDI_INITCLEANUP(driver_mpc8260cpm);
 
-static int mpc8260cpm_dio_config(comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int mpc8260cpm_dio_bits(comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int mpc8260cpm_attach(comedi_device * dev, comedi_devconfig * it)
+static int mpc8260cpm_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int i;
@@ -91,7 +91,7 @@ static int mpc8260cpm_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int mpc8260cpm_detach(comedi_device * dev)
+static int mpc8260cpm_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: mpc8260cpm: remove\n", dev-&gt;minor);
 
@@ -112,7 +112,7 @@ static unsigned long *cpm_pdat(int port)
 	}
 }
 
-static int mpc8260cpm_dio_config(comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -155,7 +155,7 @@ static int mpc8260cpm_dio_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int mpc8260cpm_dio_bits(comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int port;
diff --git a/drivers/staging/comedi/drivers/multiq3.c b/drivers/staging/comedi/drivers/multiq3.c
index dd9648d68a88..477185b33d72 100644
--- a/drivers/staging/comedi/drivers/multiq3.c
+++ b/drivers/staging/comedi/drivers/multiq3.c
@@ -82,8 +82,8 @@ Devices: [Quanser Consulting] MultiQ-3 (multiq3)
 
 #define MULTIQ3_TIMEOUT 30
 
-static int multiq3_attach(comedi_device * dev, comedi_devconfig * it);
-static int multiq3_detach(comedi_device * dev);
+static int multiq3_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int multiq3_detach(struct comedi_device * dev);
 static comedi_driver driver_multiq3 = {
       driver_name:"multiq3",
       module:THIS_MODULE,
@@ -98,7 +98,7 @@ struct multiq3_private {
 };
 #define devpriv ((struct multiq3_private *)dev-&gt;private)
 
-static int multiq3_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -134,7 +134,7 @@ static int multiq3_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int multiq3_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -147,7 +147,7 @@ static int multiq3_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int multiq3_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -165,7 +165,7 @@ static int multiq3_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int multiq3_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int multiq3_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -176,7 +176,7 @@ static int multiq3_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int multiq3_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int multiq3_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -191,7 +191,7 @@ static int multiq3_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int multiq3_encoder_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int multiq3_encoder_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -212,7 +212,7 @@ static int multiq3_encoder_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static void encoder_reset(comedi_device * dev)
+static void encoder_reset(struct comedi_device * dev)
 {
 	int chan;
 	for (chan = 0; chan &lt; dev-&gt;subdevices[4].n_chan; chan++) {
@@ -235,7 +235,7 @@ static void encoder_reset(comedi_device * dev)
    options[2] - number of encoder chips installed
  */
 
-static int multiq3_attach(comedi_device * dev, comedi_devconfig * it)
+static int multiq3_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int result = 0;
 	unsigned long iobase;
@@ -318,7 +318,7 @@ static int multiq3_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int multiq3_detach(comedi_device * dev)
+static int multiq3_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: multiq3: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/ni_6527.c b/drivers/staging/comedi/drivers/ni_6527.c
index 17c33a591fd1..bb9af22fbc44 100644
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -75,8 +75,8 @@ Updated: Sat, 25 Jan 2003 13:24:40 -0800
 #define Rising_Edge_Detection_Enable(x)		(0x018+(x))
 #define Falling_Edge_Detection_Enable(x)	(0x020+(x))
 
-static int ni6527_attach(comedi_device * dev, comedi_devconfig * it);
-static int ni6527_detach(comedi_device * dev);
+static int ni6527_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int ni6527_detach(struct comedi_device * dev);
 static comedi_driver driver_ni6527 = {
       driver_name:"ni6527",
       module:THIS_MODULE,
@@ -117,9 +117,9 @@ typedef struct {
 } ni6527_private;
 #define devpriv ((ni6527_private *)dev-&gt;private)
 
-static int ni6527_find_device(comedi_device * dev, int bus, int slot);
+static int ni6527_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni6527_di_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni6527_di_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -167,7 +167,7 @@ static int ni6527_di_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni6527_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni6527_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -180,7 +180,7 @@ static int ni6527_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni6527_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni6527_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -211,7 +211,7 @@ static int ni6527_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 
 static irqreturn_t ni6527_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 2;
 	unsigned int status;
 
@@ -230,7 +230,7 @@ static irqreturn_t ni6527_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int ni6527_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -306,7 +306,7 @@ static int ni6527_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni6527_intr_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni6527_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	//comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -319,14 +319,14 @@ static int ni6527_intr_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni6527_intr_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ni6527_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	writeb(0x00, devpriv-&gt;mite-&gt;daq_io_addr + Master_Interrupt_Control);
 
 	return 0;
 }
 
-static int ni6527_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -336,7 +336,7 @@ static int ni6527_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni6527_intr_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -361,7 +361,7 @@ static int ni6527_intr_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni6527_attach(comedi_device * dev, comedi_devconfig * it)
+static int ni6527_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret;
@@ -439,7 +439,7 @@ static int ni6527_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int ni6527_detach(comedi_device * dev)
+static int ni6527_detach(struct comedi_device * dev)
 {
 	if (devpriv &amp;&amp; devpriv-&gt;mite &amp;&amp; devpriv-&gt;mite-&gt;daq_io_addr) {
 		writeb(0x00,
@@ -457,7 +457,7 @@ static int ni6527_detach(comedi_device * dev)
 	return 0;
 }
 
-static int ni6527_find_device(comedi_device * dev, int bus, int slot)
+static int ni6527_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index cc5ada875359..347925b4963b 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -102,8 +102,8 @@ static inline unsigned Filter_Enable(unsigned port)
 #define OverflowIntEnable		0x02
 #define EdgeIntEnable			0x01
 
-static int ni_65xx_attach(comedi_device * dev, comedi_devconfig * it);
-static int ni_65xx_detach(comedi_device * dev);
+static int ni_65xx_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int ni_65xx_detach(struct comedi_device * dev);
 static comedi_driver driver_ni_65xx = {
       driver_name:"ni_65xx",
       module:THIS_MODULE,
@@ -239,7 +239,7 @@ static const ni_65xx_board ni_65xx_boards[] = {
 };
 
 #define n_ni_65xx_boards (sizeof(ni_65xx_boards)/sizeof(ni_65xx_boards[0]))
-static inline const ni_65xx_board *board(comedi_device * dev)
+static inline const ni_65xx_board *board(struct comedi_device * dev)
 {
 	return dev-&gt;board_ptr;
 }
@@ -287,7 +287,7 @@ typedef struct {
 	unsigned short output_bits[NI_65XX_MAX_NUM_PORTS];
 	unsigned short dio_direction[NI_65XX_MAX_NUM_PORTS];
 } ni_65xx_private;
-static inline ni_65xx_private *private(comedi_device * dev)
+static inline ni_65xx_private *private(struct comedi_device * dev)
 {
 	return dev-&gt;private;
 }
@@ -308,9 +308,9 @@ static ni_65xx_subdevice_private *ni_65xx_alloc_subdevice_private(void)
 	return subdev_private;
 }
 
-static int ni_65xx_find_device(comedi_device * dev, int bus, int slot);
+static int ni_65xx_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni_65xx_config_filter(comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_config_filter(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned chan = CR_CHAN(insn-&gt;chanspec);
@@ -349,7 +349,7 @@ static int ni_65xx_config_filter(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_65xx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned port;
@@ -388,7 +388,7 @@ static int ni_65xx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ni_65xx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel;
@@ -452,7 +452,7 @@ static int ni_65xx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 
 static irqreturn_t ni_65xx_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 2;
 	unsigned int status;
 
@@ -471,7 +471,7 @@ static irqreturn_t ni_65xx_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int ni_65xx_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -547,7 +547,7 @@ static int ni_65xx_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_65xx_intr_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_65xx_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	//comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -560,7 +560,7 @@ static int ni_65xx_intr_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_65xx_intr_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ni_65xx_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	writeb(0x00,
 		private(dev)-&gt;mite-&gt;daq_io_addr + Master_Interrupt_Control);
@@ -568,7 +568,7 @@ static int ni_65xx_intr_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_65xx_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -578,7 +578,7 @@ static int ni_65xx_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_65xx_intr_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -615,7 +615,7 @@ static int ni_65xx_intr_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_65xx_attach(comedi_device * dev, comedi_devconfig * it)
+static int ni_65xx_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned i;
@@ -748,7 +748,7 @@ static int ni_65xx_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int ni_65xx_detach(comedi_device * dev)
+static int ni_65xx_detach(struct comedi_device * dev)
 {
 	if (private(dev) &amp;&amp; private(dev)-&gt;mite
 		&amp;&amp; private(dev)-&gt;mite-&gt;daq_io_addr) {
@@ -776,7 +776,7 @@ static int ni_65xx_detach(comedi_device * dev)
 	return 0;
 }
 
-static int ni_65xx_find_device(comedi_device * dev, int bus, int slot)
+static int ni_65xx_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
diff --git a/drivers/staging/comedi/drivers/ni_660x.c b/drivers/staging/comedi/drivers/ni_660x.c
index 896e2ea4b04d..531709724b75 100644
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -431,23 +431,23 @@ typedef struct {
 	unsigned short pfi_output_selects[NUM_PFI_CHANNELS];
 } ni_660x_private;
 
-static inline ni_660x_private *private(comedi_device * dev)
+static inline ni_660x_private *private(struct comedi_device * dev)
 {
 	return dev-&gt;private;
 }
 
 /* initialized in ni_660x_find_device() */
-static inline const ni_660x_board *board(comedi_device * dev)
+static inline const ni_660x_board *board(struct comedi_device * dev)
 {
 	return dev-&gt;board_ptr;
 }
 
 #define n_ni_660x_boards (sizeof(ni_660x_boards)/sizeof(ni_660x_boards[0]))
 
-static int ni_660x_attach(comedi_device * dev, comedi_devconfig * it);
-static int ni_660x_detach(comedi_device * dev);
-static void init_tio_chip(comedi_device * dev, int chipset);
-static void ni_660x_select_pfi_output(comedi_device * dev, unsigned pfi_channel,
+static int ni_660x_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int ni_660x_detach(struct comedi_device * dev);
+static void init_tio_chip(struct comedi_device * dev, int chipset);
+static void ni_660x_select_pfi_output(struct comedi_device * dev, unsigned pfi_channel,
 	unsigned output_select);
 
 static comedi_driver driver_ni_660x = {
@@ -459,25 +459,25 @@ static comedi_driver driver_ni_660x = {
 
 COMEDI_PCI_INITCLEANUP(driver_ni_660x, ni_660x_pci_table);
 
-static int ni_660x_find_device(comedi_device * dev, int bus, int slot);
-static int ni_660x_set_pfi_routing(comedi_device * dev, unsigned chan,
+static int ni_660x_find_device(struct comedi_device * dev, int bus, int slot);
+static int ni_660x_set_pfi_routing(struct comedi_device * dev, unsigned chan,
 	unsigned source);
 
 /* Possible instructions for a GPCT */
-static int ni_660x_GPCT_rinsn(comedi_device * dev,
+static int ni_660x_GPCT_rinsn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
-static int ni_660x_GPCT_insn_config(comedi_device * dev,
+static int ni_660x_GPCT_insn_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
-static int ni_660x_GPCT_winsn(comedi_device * dev,
+static int ni_660x_GPCT_winsn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* Possible instructions for Digital IO */
-static int ni_660x_dio_insn_config(comedi_device * dev,
+static int ni_660x_dio_insn_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
-static int ni_660x_dio_insn_bits(comedi_device * dev,
+static int ni_660x_dio_insn_bits(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static inline unsigned ni_660x_num_counters(comedi_device * dev)
+static inline unsigned ni_660x_num_counters(struct comedi_device * dev)
 {
 	return board(dev)-&gt;n_chips * counters_per_chip;
 }
@@ -700,7 +700,7 @@ static NI_660x_Register ni_gpct_to_660x_register(enum ni_gpct_register reg)
 	return ni_660x_register;
 }
 
-static inline void ni_660x_write_register(comedi_device * dev,
+static inline void ni_660x_write_register(struct comedi_device * dev,
 	unsigned chip_index, unsigned bits, NI_660x_Register reg)
 {
 	void *const write_address =
@@ -722,7 +722,7 @@ static inline void ni_660x_write_register(comedi_device * dev,
 	}
 }
 
-static inline unsigned ni_660x_read_register(comedi_device * dev,
+static inline unsigned ni_660x_read_register(struct comedi_device * dev,
 	unsigned chip_index, NI_660x_Register reg)
 {
 	void *const read_address =
@@ -748,7 +748,7 @@ static inline unsigned ni_660x_read_register(comedi_device * dev,
 static void ni_gpct_write_register(struct ni_gpct *counter, unsigned bits,
 	enum ni_gpct_register reg)
 {
-	comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
+	struct comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
 	NI_660x_Register ni_660x_register = ni_gpct_to_660x_register(reg);
 	ni_660x_write_register(dev, counter-&gt;chip_index, bits,
 		ni_660x_register);
@@ -757,7 +757,7 @@ static void ni_gpct_write_register(struct ni_gpct *counter, unsigned bits,
 static unsigned ni_gpct_read_register(struct ni_gpct *counter,
 	enum ni_gpct_register reg)
 {
-	comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
+	struct comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
 	NI_660x_Register ni_660x_register = ni_gpct_to_660x_register(reg);
 	return ni_660x_read_register(dev, counter-&gt;chip_index,
 		ni_660x_register);
@@ -769,7 +769,7 @@ static inline struct mite_dma_descriptor_ring *mite_ring(ni_660x_private * priv,
 	return priv-&gt;mite_rings[counter-&gt;chip_index][counter-&gt;counter_index];
 }
 
-static inline void ni_660x_set_dma_channel(comedi_device * dev,
+static inline void ni_660x_set_dma_channel(struct comedi_device * dev,
 	unsigned mite_channel, struct ni_gpct *counter)
 {
 	unsigned long flags;
@@ -787,7 +787,7 @@ static inline void ni_660x_set_dma_channel(comedi_device * dev,
 	comedi_spin_unlock_irqrestore(&amp;private(dev)-&gt;soft_reg_copy_lock, flags);
 }
 
-static inline void ni_660x_unset_dma_channel(comedi_device * dev,
+static inline void ni_660x_unset_dma_channel(struct comedi_device * dev,
 	unsigned mite_channel, struct ni_gpct *counter)
 {
 	unsigned long flags;
@@ -803,7 +803,7 @@ static inline void ni_660x_unset_dma_channel(comedi_device * dev,
 	comedi_spin_unlock_irqrestore(&amp;private(dev)-&gt;soft_reg_copy_lock, flags);
 }
 
-static int ni_660x_request_mite_channel(comedi_device * dev,
+static int ni_660x_request_mite_channel(struct comedi_device * dev,
 	struct ni_gpct *counter, enum comedi_io_direction direction)
 {
 	unsigned long flags;
@@ -828,7 +828,7 @@ static int ni_660x_request_mite_channel(comedi_device * dev,
 	return 0;
 }
 
-void ni_660x_release_mite_channel(comedi_device * dev, struct ni_gpct *counter)
+void ni_660x_release_mite_channel(struct comedi_device * dev, struct ni_gpct *counter)
 {
 	unsigned long flags;
 
@@ -843,7 +843,7 @@ void ni_660x_release_mite_channel(comedi_device * dev, struct ni_gpct *counter)
 	comedi_spin_unlock_irqrestore(&amp;private(dev)-&gt;mite_channel_lock, flags);
 }
 
-static int ni_660x_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_660x_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int retval;
 
@@ -862,7 +862,7 @@ static int ni_660x_cmd(comedi_device * dev, comedi_subdevice * s)
 	return retval;
 }
 
-static int ni_660x_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_660x_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	struct ni_gpct *counter = subdev_to_counter(s);
@@ -870,7 +870,7 @@ static int ni_660x_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return ni_tio_cmdtest(counter, cmd);
 }
 
-static int ni_660x_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ni_660x_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	struct ni_gpct *counter = subdev_to_counter(s);
 	int retval;
@@ -880,7 +880,7 @@ static int ni_660x_cancel(comedi_device * dev, comedi_subdevice * s)
 	return retval;
 }
 
-static void set_tio_counterswap(comedi_device * dev, int chipset)
+static void set_tio_counterswap(struct comedi_device * dev, int chipset)
 {
 	/* See P. 3.5 of the Register-Level Programming manual.  The
 	   CounterSwap bit has to be set on the second chip, otherwise
@@ -893,7 +893,7 @@ static void set_tio_counterswap(comedi_device * dev, int chipset)
 		ni_660x_write_register(dev, chipset, 0, ClockConfigRegister);
 }
 
-static void ni_660x_handle_gpct_interrupt(comedi_device * dev,
+static void ni_660x_handle_gpct_interrupt(struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	ni_tio_handle_interrupt(subdev_to_counter(s), s);
@@ -909,7 +909,7 @@ static void ni_660x_handle_gpct_interrupt(comedi_device * dev,
 
 static irqreturn_t ni_660x_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s;
 	unsigned i;
 
@@ -923,7 +923,7 @@ static irqreturn_t ni_660x_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int ni_660x_buf_change(comedi_device * dev, comedi_subdevice * s,
+static int ni_660x_buf_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -936,7 +936,7 @@ static int ni_660x_buf_change(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_660x_allocate_private(comedi_device * dev)
+static int ni_660x_allocate_private(struct comedi_device * dev)
 {
 	int retval;
 	unsigned i;
@@ -951,7 +951,7 @@ static int ni_660x_allocate_private(comedi_device * dev)
 	return 0;
 }
 
-static int ni_660x_alloc_mite_rings(comedi_device * dev)
+static int ni_660x_alloc_mite_rings(struct comedi_device * dev)
 {
 	unsigned i;
 	unsigned j;
@@ -968,7 +968,7 @@ static int ni_660x_alloc_mite_rings(comedi_device * dev)
 	return 0;
 }
 
-static void ni_660x_free_mite_rings(comedi_device * dev)
+static void ni_660x_free_mite_rings(struct comedi_device * dev)
 {
 	unsigned i;
 	unsigned j;
@@ -980,7 +980,7 @@ static void ni_660x_free_mite_rings(comedi_device * dev)
 	}
 }
 
-static int ni_660x_attach(comedi_device * dev, comedi_devconfig * it)
+static int ni_660x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret;
@@ -1100,7 +1100,7 @@ static int ni_660x_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int ni_660x_detach(comedi_device * dev)
+static int ni_660x_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: ni_660x: remove\n", dev-&gt;minor);
 
@@ -1120,13 +1120,13 @@ static int ni_660x_detach(comedi_device * dev)
 }
 
 static int
-ni_660x_GPCT_rinsn(comedi_device * dev, comedi_subdevice * s,
+ni_660x_GPCT_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_rinsn(subdev_to_counter(s), insn, data);
 }
 
-static void init_tio_chip(comedi_device * dev, int chipset)
+static void init_tio_chip(struct comedi_device * dev, int chipset)
 {
 	unsigned i;
 
@@ -1147,19 +1147,19 @@ static void init_tio_chip(comedi_device * dev, int chipset)
 }
 
 static int
-ni_660x_GPCT_insn_config(comedi_device * dev, comedi_subdevice * s,
+ni_660x_GPCT_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_insn_config(subdev_to_counter(s), insn, data);
 }
 
-static int ni_660x_GPCT_winsn(comedi_device * dev,
+static int ni_660x_GPCT_winsn(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_winsn(subdev_to_counter(s), insn, data);
 }
 
-static int ni_660x_find_device(comedi_device * dev, int bus, int slot)
+static int ni_660x_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
@@ -1186,7 +1186,7 @@ static int ni_660x_find_device(comedi_device * dev, int bus, int slot)
 	return -EIO;
 }
 
-static int ni_660x_dio_insn_bits(comedi_device * dev,
+static int ni_660x_dio_insn_bits(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel = CR_CHAN(insn-&gt;chanspec);
@@ -1206,7 +1206,7 @@ static int ni_660x_dio_insn_bits(comedi_device * dev,
 	return 2;
 }
 
-static void ni_660x_select_pfi_output(comedi_device * dev, unsigned pfi_channel,
+static void ni_660x_select_pfi_output(struct comedi_device * dev, unsigned pfi_channel,
 	unsigned output_select)
 {
 	static const unsigned counter_4_7_first_pfi = 8;
@@ -1241,7 +1241,7 @@ static void ni_660x_select_pfi_output(comedi_device * dev, unsigned pfi_channel,
 	ni_660x_write_register(dev, active_chipset, active_bits, IOConfigReg(pfi_channel));
 }
 
-static int ni_660x_set_pfi_routing(comedi_device * dev, unsigned chan,
+static int ni_660x_set_pfi_routing(struct comedi_device * dev, unsigned chan,
 	unsigned source)
 {
 	if (source &gt; num_pfi_output_selects)
@@ -1264,13 +1264,13 @@ static int ni_660x_set_pfi_routing(comedi_device * dev, unsigned chan,
 	return 0;
 }
 
-static unsigned ni_660x_get_pfi_routing(comedi_device * dev, unsigned chan)
+static unsigned ni_660x_get_pfi_routing(struct comedi_device * dev, unsigned chan)
 {
 	BUG_ON(chan &gt;= NUM_PFI_CHANNELS);
 	return private(dev)-&gt;pfi_output_selects[chan];
 }
 
-static void ni660x_config_filter(comedi_device * dev, unsigned pfi_channel,
+static void ni660x_config_filter(struct comedi_device * dev, unsigned pfi_channel,
 	enum ni_gpct_filter_select filter)
 {
 	unsigned bits = ni_660x_read_register(dev, 0, IOConfigReg(pfi_channel));
@@ -1279,7 +1279,7 @@ static void ni660x_config_filter(comedi_device * dev, unsigned pfi_channel,
 	ni_660x_write_register(dev, 0, bits, IOConfigReg(pfi_channel));
 }
 
-static int ni_660x_dio_insn_config(comedi_device * dev,
+static int ni_660x_dio_insn_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ni_670x.c b/drivers/staging/comedi/drivers/ni_670x.c
index 5e1cb2abe870..4c0cc433312a 100644
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -108,8 +108,8 @@ typedef struct {
 #define devpriv ((ni_670x_private *)dev-&gt;private)
 #define n_ni_670x_boards (sizeof(ni_670x_boards)/sizeof(ni_670x_boards[0]))
 
-static int ni_670x_attach(comedi_device * dev, comedi_devconfig * it);
-static int ni_670x_detach(comedi_device * dev);
+static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int ni_670x_detach(struct comedi_device * dev);
 
 static comedi_driver driver_ni_670x = {
       driver_name:"ni_670x",
@@ -122,18 +122,18 @@ COMEDI_PCI_INITCLEANUP(driver_ni_670x, ni_670x_pci_table);
 
 static comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 
-static int ni_670x_find_device(comedi_device * dev, int bus, int slot);
+static int ni_670x_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni_670x_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_670x_attach(comedi_device * dev, comedi_devconfig * it)
+static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int ret;
@@ -202,7 +202,7 @@ static int ni_670x_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int ni_670x_detach(comedi_device * dev)
+static int ni_670x_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: ni_670x: remove\n", dev-&gt;minor);
 
@@ -218,7 +218,7 @@ static int ni_670x_detach(comedi_device * dev)
 	return 0;
 }
 
-static int ni_670x_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -244,7 +244,7 @@ static int ni_670x_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int ni_670x_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -256,7 +256,7 @@ static int ni_670x_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int ni_670x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -278,7 +278,7 @@ static int ni_670x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_670x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -305,7 +305,7 @@ static int ni_670x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int ni_670x_find_device(comedi_device * dev, int bus, int slot)
+static int ni_670x_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
diff --git a/drivers/staging/comedi/drivers/ni_at_a2150.c b/drivers/staging/comedi/drivers/ni_at_a2150.c
index 2d7f5528b402..bf16e1273825 100644
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -167,9 +167,9 @@ typedef struct {
 
 #define devpriv ((a2150_private *)dev-&gt;private)
 
-static int a2150_attach(comedi_device * dev, comedi_devconfig * it);
-static int a2150_detach(comedi_device * dev);
-static int a2150_cancel(comedi_device * dev, comedi_subdevice * s);
+static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int a2150_detach(struct comedi_device * dev);
+static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s);
 
 static comedi_driver driver_a2150 = {
       driver_name:"ni_at_a2150",
@@ -179,15 +179,15 @@ static comedi_driver driver_a2150 = {
 };
 
 static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG);
-static int a2150_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int a2150_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int a2150_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int a2150_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int a2150_get_timing(comedi_device * dev, unsigned int *period,
+static int a2150_get_timing(struct comedi_device * dev, unsigned int *period,
 	int flags);
-static int a2150_probe(comedi_device * dev);
-static int a2150_set_chanlist(comedi_device * dev, unsigned int start_channel,
+static int a2150_probe(struct comedi_device * dev);
+static int a2150_set_chanlist(struct comedi_device * dev, unsigned int start_channel,
 	unsigned int num_channels);
 /*
  * A convenient macro that defines init_module() and cleanup_module(),
@@ -197,7 +197,7 @@ COMEDI_INITCLEANUP(driver_a2150);
 
 #ifdef A2150_DEBUG
 
-static void ni_dump_regs(comedi_device * dev)
+static void ni_dump_regs(struct comedi_device * dev)
 {
 	rt_printk("config bits 0x%x\n", devpriv-&gt;config_bits);
 	rt_printk("irq dma bits 0x%x\n", devpriv-&gt;irq_dma_bits);
@@ -212,7 +212,7 @@ static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG)
 	int i;
 	int status;
 	unsigned long flags;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
@@ -316,13 +316,13 @@ static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG)
 }
 
 // probes board type, returns offset
-static int a2150_probe(comedi_device * dev)
+static int a2150_probe(struct comedi_device * dev)
 {
 	int status = inw(dev-&gt;iobase + STATUS_REG);
 	return ID_BITS(status);
 }
 
-static int a2150_attach(comedi_device * dev, comedi_devconfig * it)
+static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = it-&gt;options[0];
@@ -447,7 +447,7 @@ static int a2150_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 };
 
-static int a2150_detach(comedi_device * dev)
+static int a2150_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: %s: remove\n", dev-&gt;minor, driver_a2150.driver_name);
 
@@ -470,7 +470,7 @@ static int a2150_detach(comedi_device * dev)
 	return 0;
 };
 
-static int a2150_cancel(comedi_device * dev, comedi_subdevice * s)
+static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	// disable dma on card
 	devpriv-&gt;irq_dma_bits &amp;= ~DMA_INTR_EN_BIT &amp; ~DMA_EN_BIT;
@@ -485,7 +485,7 @@ static int a2150_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int a2150_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -615,7 +615,7 @@ static int a2150_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int a2150_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -726,7 +726,7 @@ static int a2150_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int a2150_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int i, n;
@@ -800,7 +800,7 @@ static int a2150_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 
 /* sets bits in devpriv-&gt;clock_bits to nearest approximation of requested period,
  * adjusts requested period to actual timing. */
-static int a2150_get_timing(comedi_device * dev, unsigned int *period,
+static int a2150_get_timing(struct comedi_device * dev, unsigned int *period,
 	int flags)
 {
 	int lub, glb, temp;
@@ -874,7 +874,7 @@ static int a2150_get_timing(comedi_device * dev, unsigned int *period,
 	return 0;
 }
 
-static int a2150_set_chanlist(comedi_device * dev, unsigned int start_channel,
+static int a2150_set_chanlist(struct comedi_device * dev, unsigned int start_channel,
 	unsigned int num_channels)
 {
 	if (start_channel + num_channels &gt; 4)
diff --git a/drivers/staging/comedi/drivers/ni_at_ao.c b/drivers/staging/comedi/drivers/ni_at_ao.c
index fd259813bf54..6a8d9a5b7bf7 100644
--- a/drivers/staging/comedi/drivers/ni_at_ao.c
+++ b/drivers/staging/comedi/drivers/ni_at_ao.c
@@ -178,8 +178,8 @@ typedef struct {
 } atao_private;
 #define devpriv ((atao_private *)dev-&gt;private)
 
-static int atao_attach(comedi_device * dev, comedi_devconfig * it);
-static int atao_detach(comedi_device * dev);
+static int atao_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int atao_detach(struct comedi_device * dev);
 static comedi_driver driver_atao = {
       driver_name:"ni_at_ao",
       module:THIS_MODULE,
@@ -192,22 +192,22 @@ static comedi_driver driver_atao = {
 
 COMEDI_INITCLEANUP(driver_atao);
 
-static void atao_reset(comedi_device * dev);
+static void atao_reset(struct comedi_device * dev);
 
-static int atao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int atao_attach(comedi_device * dev, comedi_devconfig * it)
+static int atao_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -280,7 +280,7 @@ static int atao_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int atao_detach(comedi_device * dev)
+static int atao_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: atao: remove\n", dev-&gt;minor);
 
@@ -290,7 +290,7 @@ static int atao_detach(comedi_device * dev)
 	return 0;
 }
 
-static void atao_reset(comedi_device * dev)
+static void atao_reset(struct comedi_device * dev)
 {
 	/* This is the reset sequence described in the manual */
 
@@ -320,7 +320,7 @@ static void atao_reset(comedi_device * dev)
 	outw(devpriv-&gt;cfg1, dev-&gt;iobase + ATAO_CFG1);
 }
 
-static int atao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -344,7 +344,7 @@ static int atao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atao_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -356,7 +356,7 @@ static int atao_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atao_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -373,7 +373,7 @@ static int atao_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int atao_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -418,7 +418,7 @@ static int atao_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
  * DACs.  It is not explicitly stated in the manual how to access
  * the caldacs, but we can guess.
  */
-static int atao_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -428,7 +428,7 @@ static int atao_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int atao_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bitstring, bit;
diff --git a/drivers/staging/comedi/drivers/ni_atmio.c b/drivers/staging/comedi/drivers/ni_atmio.c
index 4c8fe52db30c..0e30050b91e6 100644
--- a/drivers/staging/comedi/drivers/ni_atmio.c
+++ b/drivers/staging/comedi/drivers/ni_atmio.c
@@ -296,7 +296,7 @@ typedef struct {
  * read/written directly in the I/O space of the board.  The
  * AT-MIO devices map the low 8 STC registers to iobase+addr*2. */
 
-static void ni_atmio_win_out(comedi_device * dev, uint16_t data, int addr)
+static void ni_atmio_win_out(struct comedi_device * dev, uint16_t data, int addr)
 {
 	unsigned long flags;
 
@@ -310,7 +310,7 @@ static void ni_atmio_win_out(comedi_device * dev, uint16_t data, int addr)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;window_lock, flags);
 }
 
-static uint16_t ni_atmio_win_in(comedi_device * dev, int addr)
+static uint16_t ni_atmio_win_in(struct comedi_device * dev, int addr)
 {
 	unsigned long flags;
 	uint16_t ret;
@@ -338,8 +338,8 @@ static struct pnp_device_id device_ids[] = {
 
 MODULE_DEVICE_TABLE(pnp, device_ids);
 
-static int ni_atmio_attach(comedi_device * dev, comedi_devconfig * it);
-static int ni_atmio_detach(comedi_device * dev);
+static int ni_atmio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int ni_atmio_detach(struct comedi_device * dev);
 static comedi_driver driver_atmio = {
       driver_name:"ni_atmio",
       module:THIS_MODULE,
@@ -351,10 +351,10 @@ COMEDI_INITCLEANUP(driver_atmio);
 
 #include "ni_mio_common.c"
 
-static int ni_getboardtype(comedi_device * dev);
+static int ni_getboardtype(struct comedi_device * dev);
 
 /* clean up allocated resources */
-static int ni_atmio_detach(comedi_device * dev)
+static int ni_atmio_detach(struct comedi_device * dev)
 {
 	mio_common_detach(dev);
 
@@ -404,7 +404,7 @@ static int ni_isapnp_find_board(struct pnp_dev **dev)
 	return 0;
 }
 
-static int ni_atmio_attach(comedi_device * dev, comedi_devconfig * it)
+static int ni_atmio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pnp_dev *isapnp_dev;
 	int ret;
@@ -492,7 +492,7 @@ static int ni_atmio_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int ni_getboardtype(comedi_device * dev)
+static int ni_getboardtype(struct comedi_device * dev)
 {
 	int device_id = ni_read_eeprom(dev, 511);
 	int i;
diff --git a/drivers/staging/comedi/drivers/ni_atmio16d.c b/drivers/staging/comedi/drivers/ni_atmio16d.c
index 11581dce981f..62be3d9ec484 100644
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -123,15 +123,15 @@ static const atmio16_board_t atmio16_boards[] = {
 #define boardtype ((const atmio16_board_t *)dev-&gt;board_ptr)
 
 /* function prototypes */
-static int atmio16d_attach(comedi_device * dev, comedi_devconfig * it);
-static int atmio16d_detach(comedi_device * dev);
+static int atmio16d_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int atmio16d_detach(struct comedi_device * dev);
 static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG);
-static int atmio16d_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int atmio16d_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int atmio16d_ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static void reset_counters(comedi_device * dev);
-static void reset_atmio16d(comedi_device * dev);
+static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void reset_counters(struct comedi_device * dev);
+static void reset_atmio16d(struct comedi_device * dev);
 
 /* main driver struct */
 static comedi_driver driver_atmio16d = {
@@ -185,7 +185,7 @@ typedef struct {
 	unsigned int com_reg_2_state;	/* current state of command register 2 */
 } atmio16d_private;
 
-static void reset_counters(comedi_device * dev)
+static void reset_counters(struct comedi_device * dev)
 {
 	/* Counter 2 */
 	outw(0xFFC2, dev-&gt;iobase + AM9513A_COM_REG);
@@ -223,7 +223,7 @@ static void reset_counters(comedi_device * dev)
 	outw(0, dev-&gt;iobase + AD_CLEAR_REG);
 }
 
-static void reset_atmio16d(comedi_device * dev)
+static void reset_atmio16d(struct comedi_device * dev)
 {
 	int i;
 
@@ -257,7 +257,7 @@ static void reset_atmio16d(comedi_device * dev)
 
 static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 //      printk("atmio16d_interrupt!\n");
@@ -268,7 +268,7 @@ static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int atmio16d_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0, tmp;
@@ -369,7 +369,7 @@ static int atmio16d_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int atmio16d_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int timer, base_clock;
@@ -517,7 +517,7 @@ static int atmio16d_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 }
 
 /* This will cancel a running acquisition operation */
-static int atmio16d_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	reset_atmio16d(dev);
 
@@ -525,7 +525,7 @@ static int atmio16d_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 /* Mode 0 is used to get a single conversion on demand */
-static int atmio16d_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
@@ -584,7 +584,7 @@ static int atmio16d_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atmio16d_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -599,7 +599,7 @@ static int atmio16d_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atmio16d_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -634,7 +634,7 @@ static int atmio16d_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int atmio16d_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -650,7 +650,7 @@ static int atmio16d_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int atmio16d_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -704,7 +704,7 @@ static int atmio16d_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
    options[12] - dac1 coding
  */
 
-static int atmio16d_attach(comedi_device * dev, comedi_devconfig * it)
+static int atmio16d_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned int irq;
 	unsigned long iobase;
@@ -839,7 +839,7 @@ static int atmio16d_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int atmio16d_detach(comedi_device * dev)
+static int atmio16d_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: atmio16d: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/ni_daq_700.c b/drivers/staging/comedi/drivers/ni_daq_700.c
index 9193f16ad14f..a83d0308a67a 100644
--- a/drivers/staging/comedi/drivers/ni_daq_700.c
+++ b/drivers/staging/comedi/drivers/ni_daq_700.c
@@ -55,8 +55,8 @@ static struct pcmcia_device *pcmcia_cur_dev = NULL;
 
 #define DIO700_SIZE 8		// size of io region used by board
 
-static int dio700_attach(comedi_device * dev, comedi_devconfig * it);
-static int dio700_detach(comedi_device * dev);
+static int dio700_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dio700_detach(struct comedi_device * dev);
 
 enum dio700_bustype { pcmcia_bustype };
 
@@ -126,9 +126,9 @@ struct subdev_700_struct {
 #define CALLBACK_FUNC	(((struct subdev_700_struct *)s-&gt;private)-&gt;cb_func)
 #define subdevpriv	((struct subdev_700_struct *)s-&gt;private)
 
-static void do_config(comedi_device * dev, comedi_subdevice * s);
+static void do_config(struct comedi_device * dev, comedi_subdevice * s);
 
-void subdev_700_interrupt(comedi_device * dev, comedi_subdevice * s)
+void subdev_700_interrupt(struct comedi_device * dev, comedi_subdevice * s)
 {
 	short d;
 
@@ -153,7 +153,7 @@ static int subdev_700_cb(int dir, int port, int data, unsigned long arg)
 	}
 }
 
-static int subdev_700_insn(comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -171,7 +171,7 @@ static int subdev_700_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int subdev_700_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -194,12 +194,12 @@ static int subdev_700_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static void do_config(comedi_device * dev, comedi_subdevice * s)
+static void do_config(struct comedi_device * dev, comedi_subdevice * s)
 {				/* use powerup defaults */
 	return;
 }
 
-static int subdev_700_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -274,21 +274,21 @@ static int subdev_700_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int subdev_700_cmd(comedi_device * dev, comedi_subdevice * s)
+static int subdev_700_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-static int subdev_700_cancel(comedi_device * dev, comedi_subdevice * s)
+static int subdev_700_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-int subdev_700_init(comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
+int subdev_700_init(struct comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
 		int, int, unsigned long), unsigned long arg)
 {
 	s-&gt;type = COMEDI_SUBD_DIO;
@@ -317,7 +317,7 @@ int subdev_700_init(comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
 	return 0;
 }
 
-int subdev_700_init_irq(comedi_device * dev, comedi_subdevice * s,
+int subdev_700_init_irq(struct comedi_device * dev, comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg)
 {
 	int ret;
@@ -335,7 +335,7 @@ int subdev_700_init_irq(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-void subdev_700_cleanup(comedi_device * dev, comedi_subdevice * s)
+void subdev_700_cleanup(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (s-&gt;private) {
 		if (subdevpriv-&gt;have_irq) {
@@ -350,7 +350,7 @@ EXPORT_SYMBOL(subdev_700_init_irq);
 EXPORT_SYMBOL(subdev_700_cleanup);
 EXPORT_SYMBOL(subdev_700_interrupt);
 
-static int dio700_attach(comedi_device * dev, comedi_devconfig * it)
+static int dio700_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = 0;
@@ -413,7 +413,7 @@ static int dio700_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 };
 
-static int dio700_detach(comedi_device * dev)
+static int dio700_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: ni_daq_700: cs-remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/ni_daq_dio24.c b/drivers/staging/comedi/drivers/ni_daq_dio24.c
index 477d65ab09f7..98b20304b339 100644
--- a/drivers/staging/comedi/drivers/ni_daq_dio24.c
+++ b/drivers/staging/comedi/drivers/ni_daq_dio24.c
@@ -56,8 +56,8 @@ static struct pcmcia_device *pcmcia_cur_dev = NULL;
 
 #define DIO24_SIZE 4		// size of io region used by board
 
-static int dio24_attach(comedi_device * dev, comedi_devconfig * it);
-static int dio24_detach(comedi_device * dev);
+static int dio24_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dio24_detach(struct comedi_device * dev);
 
 enum dio24_bustype { pcmcia_bustype };
 
@@ -107,7 +107,7 @@ static comedi_driver driver_dio24 = {
       offset:sizeof(dio24_board),
 };
 
-static int dio24_attach(comedi_device * dev, comedi_devconfig * it)
+static int dio24_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase = 0;
@@ -170,7 +170,7 @@ static int dio24_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 };
 
-static int dio24_detach(comedi_device * dev)
+static int dio24_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: ni_daq_dio24: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/ni_labpc.c b/drivers/staging/comedi/drivers/ni_labpc.c
index a7688f1670aa..53a7783793e3 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -163,46 +163,46 @@ NI manuals:
 #define   INIT_A1_BITS	0x70	// put hardware conversion counter output in harmless state (a1 mode 0)
 #define COUNTER_B_BASE_REG	0x18
 
-static int labpc_attach(comedi_device * dev, comedi_devconfig * it);
-static int labpc_cancel(comedi_device * dev, comedi_subdevice * s);
+static int labpc_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int labpc_cancel(struct comedi_device * dev, comedi_subdevice * s);
 static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG);
-static int labpc_drain_fifo(comedi_device * dev);
-static void labpc_drain_dma(comedi_device * dev);
-static void handle_isa_dma(comedi_device * dev);
-static void labpc_drain_dregs(comedi_device * dev);
-static int labpc_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int labpc_drain_fifo(struct comedi_device * dev);
+static void labpc_drain_dma(struct comedi_device * dev);
+static void handle_isa_dma(struct comedi_device * dev);
+static void labpc_drain_dregs(struct comedi_device * dev);
+static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int labpc_ai_cmd(comedi_device * dev, comedi_subdevice * s);
-static int labpc_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_calib_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_calib_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_eeprom_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static unsigned int labpc_suggest_transfer_size(comedi_cmd cmd);
-static void labpc_adc_timing(comedi_device * dev, comedi_cmd * cmd);
+static void labpc_adc_timing(struct comedi_device * dev, comedi_cmd * cmd);
 #ifdef CONFIG_COMEDI_PCI
-static int labpc_find_device(comedi_device *dev, int bus, int slot);
+static int labpc_find_device(struct comedi_device *dev, int bus, int slot);
 #endif
 static int labpc_dio_mem_callback(int dir, int port, int data,
 	unsigned long arg);
-static void labpc_serial_out(comedi_device * dev, unsigned int value,
+static void labpc_serial_out(struct comedi_device * dev, unsigned int value,
 	unsigned int num_bits);
-static unsigned int labpc_serial_in(comedi_device * dev);
-static unsigned int labpc_eeprom_read(comedi_device * dev,
+static unsigned int labpc_serial_in(struct comedi_device * dev);
+static unsigned int labpc_eeprom_read(struct comedi_device * dev,
 	unsigned int address);
-static unsigned int labpc_eeprom_read_status(comedi_device * dev);
-static unsigned int labpc_eeprom_write(comedi_device * dev,
+static unsigned int labpc_eeprom_read_status(struct comedi_device * dev);
+static unsigned int labpc_eeprom_write(struct comedi_device * dev,
 	unsigned int address, unsigned int value);
-static void write_caldac(comedi_device * dev, unsigned int channel,
+static void write_caldac(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
 
 enum scan_mode {
@@ -448,7 +448,7 @@ static DEFINE_PCI_DEVICE_TABLE(labpc_pci_table) = {
 MODULE_DEVICE_TABLE(pci, labpc_pci_table);
 #endif /* CONFIG_COMEDI_PCI */
 
-static inline int labpc_counter_load(comedi_device * dev,
+static inline int labpc_counter_load(struct comedi_device * dev,
 	unsigned long base_address, unsigned int counter_number,
 	unsigned int count, unsigned int mode)
 {
@@ -459,7 +459,7 @@ static inline int labpc_counter_load(comedi_device * dev,
 		return i8254_load(base_address, 0, counter_number, count, mode);
 }
 
-int labpc_common_attach(comedi_device * dev, unsigned long iobase,
+int labpc_common_attach(struct comedi_device * dev, unsigned long iobase,
 	unsigned int irq, unsigned int dma_chan)
 {
 	comedi_subdevice *s;
@@ -643,7 +643,7 @@ int labpc_common_attach(comedi_device * dev, unsigned long iobase,
 	return 0;
 }
 
-static int labpc_attach(comedi_device * dev, comedi_devconfig * it)
+static int labpc_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase = 0;
 	unsigned int irq = 0;
@@ -694,7 +694,7 @@ static int labpc_attach(comedi_device * dev, comedi_devconfig * it)
 
 // adapted from ni_pcimio for finding mite based boards (pc-1200)
 #ifdef CONFIG_COMEDI_PCI
-static int labpc_find_device(comedi_device *dev, int bus, int slot)
+static int labpc_find_device(struct comedi_device *dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
@@ -724,7 +724,7 @@ static int labpc_find_device(comedi_device *dev, int bus, int slot)
 }
 #endif
 
-int labpc_common_detach(comedi_device * dev)
+int labpc_common_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: ni_labpc: detach\n", dev-&gt;minor);
 
@@ -748,14 +748,14 @@ int labpc_common_detach(comedi_device * dev)
 	return 0;
 };
 
-static void labpc_clear_adc_fifo(const comedi_device * dev)
+static void labpc_clear_adc_fifo(const struct comedi_device * dev)
 {
 	devpriv-&gt;write_byte(0x1, dev-&gt;iobase + ADC_CLEAR_REG);
 	devpriv-&gt;read_byte(dev-&gt;iobase + ADC_FIFO_REG);
 	devpriv-&gt;read_byte(dev-&gt;iobase + ADC_FIFO_REG);
 }
 
-static int labpc_cancel(comedi_device * dev, comedi_subdevice * s)
+static int labpc_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -793,7 +793,7 @@ static enum scan_mode labpc_ai_scan_mode(const comedi_cmd * cmd)
 	return 0;
 }
 
-static int labpc_ai_chanlist_invalid(const comedi_device * dev,
+static int labpc_ai_chanlist_invalid(const struct comedi_device * dev,
 	const comedi_cmd * cmd)
 {
 	int mode, channel, range, aref, i;
@@ -926,7 +926,7 @@ static void labpc_set_ai_scan_period(comedi_cmd * cmd, unsigned int ns)
 	cmd-&gt;scan_begin_arg = ns;
 }
 
-static int labpc_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1063,7 +1063,7 @@ static int labpc_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int labpc_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int channel, range, aref;
 	unsigned long irq_flags;
@@ -1311,7 +1311,7 @@ static int labpc_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 /* interrupt service routine */
 static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
@@ -1393,7 +1393,7 @@ static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG)
 }
 
 // read all available samples from ai fifo
-static int labpc_drain_fifo(comedi_device * dev)
+static int labpc_drain_fifo(struct comedi_device * dev)
 {
 	unsigned int lsb, msb;
 	short data;
@@ -1427,7 +1427,7 @@ static int labpc_drain_fifo(comedi_device * dev)
 	return 0;
 }
 
-static void labpc_drain_dma(comedi_device * dev)
+static void labpc_drain_dma(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	comedi_async *async = s-&gt;async;
@@ -1480,7 +1480,7 @@ static void labpc_drain_dma(comedi_device * dev)
 	async-&gt;events |= COMEDI_CB_BLOCK;
 }
 
-static void handle_isa_dma(comedi_device * dev)
+static void handle_isa_dma(struct comedi_device * dev)
 {
 	labpc_drain_dma(dev);
 
@@ -1492,7 +1492,7 @@ static void handle_isa_dma(comedi_device * dev)
 
 /* makes sure all data aquired by board is transfered to comedi (used
  * when aquisition is terminated by stop_src == TRIG_EXT). */
-static void labpc_drain_dregs(comedi_device * dev)
+static void labpc_drain_dregs(struct comedi_device * dev)
 {
 	if (devpriv-&gt;current_transfer == isa_dma_transfer)
 		labpc_drain_dma(dev);
@@ -1500,7 +1500,7 @@ static void labpc_drain_dregs(comedi_device * dev)
 	labpc_drain_fifo(dev);
 }
 
-static int labpc_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1586,7 +1586,7 @@ static int labpc_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output insn
-static int labpc_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel, range;
@@ -1627,7 +1627,7 @@ static int labpc_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 // analog output readback insn
-static int labpc_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
@@ -1635,7 +1635,7 @@ static int labpc_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int labpc_calib_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldac[CR_CHAN(insn-&gt;chanspec)];
@@ -1643,7 +1643,7 @@ static int labpc_calib_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int labpc_calib_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -1652,7 +1652,7 @@ static int labpc_calib_write_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int labpc_eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;eeprom_data[CR_CHAN(insn-&gt;chanspec)];
@@ -1660,7 +1660,7 @@ static int labpc_eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int labpc_eeprom_write_insn(comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_write_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
@@ -1704,7 +1704,7 @@ static unsigned int labpc_suggest_transfer_size(comedi_cmd cmd)
 }
 
 // figures out what counter values to use based on command
-static void labpc_adc_timing(comedi_device * dev, comedi_cmd * cmd)
+static void labpc_adc_timing(struct comedi_device * dev, comedi_cmd * cmd)
 {
 	const int max_counter_value = 0x10000;	// max value for 16 bit counter in mode 2
 	const int min_counter_value = 2;	// min value for 16 bit counter in mode 2
@@ -1796,7 +1796,7 @@ static int labpc_dio_mem_callback(int dir, int port, int data,
 }
 
 // lowlevel write to eeprom/dac
-static void labpc_serial_out(comedi_device * dev, unsigned int value,
+static void labpc_serial_out(struct comedi_device * dev, unsigned int value,
 	unsigned int value_width)
 {
 	int i;
@@ -1821,7 +1821,7 @@ static void labpc_serial_out(comedi_device * dev, unsigned int value,
 }
 
 // lowlevel read from eeprom
-static unsigned int labpc_serial_in(comedi_device * dev)
+static unsigned int labpc_serial_in(struct comedi_device * dev)
 {
 	unsigned int value = 0;
 	int i;
@@ -1850,7 +1850,7 @@ static unsigned int labpc_serial_in(comedi_device * dev)
 	return value;
 }
 
-static unsigned int labpc_eeprom_read(comedi_device * dev, unsigned int address)
+static unsigned int labpc_eeprom_read(struct comedi_device * dev, unsigned int address)
 {
 	unsigned int value;
 	const int read_instruction = 0x3;	// bits to tell eeprom to expect a read
@@ -1879,7 +1879,7 @@ static unsigned int labpc_eeprom_read(comedi_device * dev, unsigned int address)
 	return value;
 }
 
-static unsigned int labpc_eeprom_write(comedi_device * dev,
+static unsigned int labpc_eeprom_write(struct comedi_device * dev,
 	unsigned int address, unsigned int value)
 {
 	const int write_enable_instruction = 0x6;
@@ -1937,7 +1937,7 @@ static unsigned int labpc_eeprom_write(comedi_device * dev,
 	return 0;
 }
 
-static unsigned int labpc_eeprom_read_status(comedi_device * dev)
+static unsigned int labpc_eeprom_read_status(struct comedi_device * dev)
 {
 	unsigned int value;
 	const int read_status_instruction = 0x5;
@@ -1965,7 +1965,7 @@ static unsigned int labpc_eeprom_read_status(comedi_device * dev)
 }
 
 // writes to 8 bit calibration dacs
-static void write_caldac(comedi_device * dev, unsigned int channel,
+static void write_caldac(struct comedi_device * dev, unsigned int channel,
 	unsigned int value)
 {
 	if (value == devpriv-&gt;caldac[channel])
diff --git a/drivers/staging/comedi/drivers/ni_labpc.h b/drivers/staging/comedi/drivers/ni_labpc.h
index 8264fb19288d..d80f05eae52f 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.h
+++ b/drivers/staging/comedi/drivers/ni_labpc.h
@@ -74,9 +74,9 @@ typedef struct {
 	void (*write_byte) (unsigned int byte, unsigned long address);
 } labpc_private;
 
-int labpc_common_attach(comedi_device * dev, unsigned long iobase,
+int labpc_common_attach(struct comedi_device * dev, unsigned long iobase,
 	unsigned int irq, unsigned int dma);
-int labpc_common_detach(comedi_device * dev);
+int labpc_common_detach(struct comedi_device * dev);
 
 extern const int labpc_1200_is_unipolar[];
 extern const int labpc_1200_ai_gain_bits[];
diff --git a/drivers/staging/comedi/drivers/ni_labpc_cs.c b/drivers/staging/comedi/drivers/ni_labpc_cs.c
index e9098ce6f9dd..f41d39b75df9 100644
--- a/drivers/staging/comedi/drivers/ni_labpc_cs.c
+++ b/drivers/staging/comedi/drivers/ni_labpc_cs.c
@@ -79,7 +79,7 @@ NI manuals:
 
 static struct pcmcia_device *pcmcia_cur_dev = NULL;
 
-static int labpc_attach(comedi_device * dev, comedi_devconfig * it);
+static int labpc_attach(struct comedi_device * dev, comedi_devconfig * it);
 
 static const labpc_board labpc_cs_boards[] = {
 	{
@@ -126,7 +126,7 @@ static comedi_driver driver_labpc_cs = {
 	.offset = sizeof(labpc_board),
 };
 
-static int labpc_attach(comedi_device * dev, comedi_devconfig * it)
+static int labpc_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase = 0;
 	unsigned int irq = 0;
diff --git a/drivers/staging/comedi/drivers/ni_mio_common.c b/drivers/staging/comedi/drivers/ni_mio_common.c
index bb2c378cf68a..f702cc9064ba 100644
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -193,49 +193,49 @@ static const comedi_lrange *const ni_range_lkup[] = {
 	[ai_gain_6143] = &amp;range_ni_S_ai_6143
 };
 
-static int ni_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_cdio_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_cdio_cmd(comedi_device * dev, comedi_subdevice * s);
-static int ni_cdio_cancel(comedi_device * dev, comedi_subdevice * s);
-static void handle_cdio_interrupt(comedi_device * dev);
-static int ni_cdo_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void handle_cdio_interrupt(struct comedi_device * dev);
+static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum);
 
-static int ni_serial_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_serial_hw_readwrite8(comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
-static int ni_serial_sw_readwrite8(comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_sw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
 
-static int ni_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_eeprom_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_eeprom_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_m_series_eeprom_insn_read(comedi_device * dev,
+static int ni_m_series_eeprom_insn_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int ni_pfi_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_pfi_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static unsigned ni_old_get_pfi_routing(comedi_device * dev, unsigned chan);
+static unsigned ni_old_get_pfi_routing(struct comedi_device * dev, unsigned chan);
 
-static void ni_rtsi_init(comedi_device * dev);
-static int ni_rtsi_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static void ni_rtsi_init(struct comedi_device * dev);
+static int ni_rtsi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_rtsi_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static void caldac_setup(comedi_device * dev, comedi_subdevice * s);
-static int ni_read_eeprom(comedi_device * dev, int addr);
+static void caldac_setup(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_read_eeprom(struct comedi_device * dev, int addr);
 
 #ifdef DEBUG_STATUS_A
 static void ni_mio_print_status_a(int status);
@@ -248,58 +248,58 @@ static void ni_mio_print_status_b(int status);
 #define ni_mio_print_status_b(a)
 #endif
 
-static int ni_ai_reset(comedi_device * dev, comedi_subdevice * s);
+static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s);
 #ifndef PCIDMA
-static void ni_handle_fifo_half_full(comedi_device * dev);
-static int ni_ao_fifo_half_empty(comedi_device * dev, comedi_subdevice * s);
+static void ni_handle_fifo_half_full(struct comedi_device * dev);
+static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice * s);
 #endif
-static void ni_handle_fifo_dregs(comedi_device * dev);
-static int ni_ai_inttrig(comedi_device * dev, comedi_subdevice * s,
+static void ni_handle_fifo_dregs(struct comedi_device * dev);
+static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum);
-static void ni_load_channelgain_list(comedi_device * dev, unsigned int n_chan,
+static void ni_load_channelgain_list(struct comedi_device * dev, unsigned int n_chan,
 	unsigned int *list);
-static void shutdown_ai_command(comedi_device * dev);
+static void shutdown_ai_command(struct comedi_device * dev);
 
-static int ni_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum);
 
-static int ni_ao_reset(comedi_device * dev, comedi_subdevice * s);
+static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s);
 
 static int ni_8255_callback(int dir, int port, int data, unsigned long arg);
 
-static int ni_gpct_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_cmd(comedi_device * dev, comedi_subdevice * s);
-static int ni_gpct_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_gpct_cancel(comedi_device * dev, comedi_subdevice * s);
-static void handle_gpct_interrupt(comedi_device * dev,
+static int ni_gpct_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void handle_gpct_interrupt(struct comedi_device * dev,
 	unsigned short counter_index);
 
-static int init_cs5529(comedi_device * dev);
-static int cs5529_do_conversion(comedi_device * dev, unsigned short *data);
-static int cs5529_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int init_cs5529(struct comedi_device * dev);
+static int cs5529_do_conversion(struct comedi_device * dev, unsigned short *data);
+static int cs5529_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 #ifdef NI_CS5529_DEBUG
-static unsigned int cs5529_config_read(comedi_device * dev,
+static unsigned int cs5529_config_read(struct comedi_device * dev,
 	unsigned int reg_select_bits);
 #endif
-static void cs5529_config_write(comedi_device * dev, unsigned int value,
+static void cs5529_config_write(struct comedi_device * dev, unsigned int value,
 	unsigned int reg_select_bits);
 
-static int ni_m_series_pwm_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_6143_pwm_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_6143_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_set_master_clock(comedi_device * dev, unsigned source,
+static int ni_set_master_clock(struct comedi_device * dev, unsigned source,
 	unsigned period_ns);
-static void ack_a_interrupt(comedi_device * dev, unsigned short a_status);
-static void ack_b_interrupt(comedi_device * dev, unsigned short b_status);
+static void ack_a_interrupt(struct comedi_device * dev, unsigned short a_status);
+static void ack_b_interrupt(struct comedi_device * dev, unsigned short b_status);
 
 enum aimodes {
 	AIMODE_NONE = 0,
@@ -353,14 +353,14 @@ enum timebase_nanoseconds {
 
 static const int num_adc_stages_611x = 3;
 
-static void handle_a_interrupt(comedi_device * dev, unsigned short status,
+static void handle_a_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned ai_mite_status);
-static void handle_b_interrupt(comedi_device * dev, unsigned short status,
+static void handle_b_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned ao_mite_status);
-static void get_last_sample_611x(comedi_device * dev);
-static void get_last_sample_6143(comedi_device * dev);
+static void get_last_sample_611x(struct comedi_device * dev);
+static void get_last_sample_6143(struct comedi_device * dev);
 
-static inline void ni_set_bitfield(comedi_device * dev, int reg,
+static inline void ni_set_bitfield(struct comedi_device * dev, int reg,
 	unsigned bit_mask, unsigned bit_values)
 {
 	unsigned long flags;
@@ -406,12 +406,12 @@ static inline void ni_set_bitfield(comedi_device * dev, int reg,
 }
 
 #ifdef PCIDMA
-static int ni_ai_drain_dma(comedi_device * dev);
+static int ni_ai_drain_dma(struct comedi_device * dev);
 
 /* DMA channel setup */
 
 // negative channel means no channel
-static inline void ni_set_ai_dma_channel(comedi_device * dev, int channel)
+static inline void ni_set_ai_dma_channel(struct comedi_device * dev, int channel)
 {
 	unsigned bitfield;
 
@@ -426,7 +426,7 @@ static inline void ni_set_ai_dma_channel(comedi_device * dev, int channel)
 }
 
 // negative channel means no channel
-static inline void ni_set_ao_dma_channel(comedi_device * dev, int channel)
+static inline void ni_set_ao_dma_channel(struct comedi_device * dev, int channel)
 {
 	unsigned bitfield;
 
@@ -441,7 +441,7 @@ static inline void ni_set_ao_dma_channel(comedi_device * dev, int channel)
 }
 
 // negative mite_channel means no channel
-static inline void ni_set_gpct_dma_channel(comedi_device * dev,
+static inline void ni_set_gpct_dma_channel(struct comedi_device * dev,
 	unsigned gpct_index, int mite_channel)
 {
 	unsigned bitfield;
@@ -456,7 +456,7 @@ static inline void ni_set_gpct_dma_channel(comedi_device * dev,
 }
 
 // negative mite_channel means no channel
-static inline void ni_set_cdo_dma_channel(comedi_device * dev, int mite_channel)
+static inline void ni_set_cdo_dma_channel(struct comedi_device * dev, int mite_channel)
 {
 	unsigned long flags;
 
@@ -475,7 +475,7 @@ static inline void ni_set_cdo_dma_channel(comedi_device * dev, int mite_channel)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;soft_reg_copy_lock, flags);
 }
 
-static int ni_request_ai_mite_channel(comedi_device * dev)
+static int ni_request_ai_mite_channel(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -496,7 +496,7 @@ static int ni_request_ai_mite_channel(comedi_device * dev)
 	return 0;
 }
 
-static int ni_request_ao_mite_channel(comedi_device * dev)
+static int ni_request_ao_mite_channel(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -517,7 +517,7 @@ static int ni_request_ao_mite_channel(comedi_device * dev)
 	return 0;
 }
 
-static int ni_request_gpct_mite_channel(comedi_device * dev,
+static int ni_request_gpct_mite_channel(struct comedi_device * dev,
 	unsigned gpct_index, enum comedi_io_direction direction)
 {
 	unsigned long flags;
@@ -546,7 +546,7 @@ static int ni_request_gpct_mite_channel(comedi_device * dev,
 
 #endif // PCIDMA
 
-static int ni_request_cdo_mite_channel(comedi_device * dev)
+static int ni_request_cdo_mite_channel(struct comedi_device * dev)
 {
 #ifdef PCIDMA
 	unsigned long flags;
@@ -569,7 +569,7 @@ static int ni_request_cdo_mite_channel(comedi_device * dev)
 	return 0;
 }
 
-static void ni_release_ai_mite_channel(comedi_device * dev)
+static void ni_release_ai_mite_channel(struct comedi_device * dev)
 {
 #ifdef PCIDMA
 	unsigned long flags;
@@ -584,7 +584,7 @@ static void ni_release_ai_mite_channel(comedi_device * dev)
 #endif // PCIDMA
 }
 
-static void ni_release_ao_mite_channel(comedi_device * dev)
+static void ni_release_ao_mite_channel(struct comedi_device * dev)
 {
 #ifdef PCIDMA
 	unsigned long flags;
@@ -599,7 +599,7 @@ static void ni_release_ao_mite_channel(comedi_device * dev)
 #endif // PCIDMA
 }
 
-void ni_release_gpct_mite_channel(comedi_device * dev, unsigned gpct_index)
+void ni_release_gpct_mite_channel(struct comedi_device * dev, unsigned gpct_index)
 {
 #ifdef PCIDMA
 	unsigned long flags;
@@ -619,7 +619,7 @@ void ni_release_gpct_mite_channel(comedi_device * dev, unsigned gpct_index)
 #endif // PCIDMA
 }
 
-static void ni_release_cdo_mite_channel(comedi_device * dev)
+static void ni_release_cdo_mite_channel(struct comedi_device * dev)
 {
 #ifdef PCIDMA
 	unsigned long flags;
@@ -636,7 +636,7 @@ static void ni_release_cdo_mite_channel(comedi_device * dev)
 
 // e-series boards use the second irq signals to generate dma requests for their counters
 #ifdef PCIDMA
-static void ni_e_series_enable_second_irq(comedi_device * dev,
+static void ni_e_series_enable_second_irq(struct comedi_device * dev,
 	unsigned gpct_index, short enable)
 {
 	if (boardtype.reg_type &amp; ni_reg_m_series_mask)
@@ -667,7 +667,7 @@ static void ni_e_series_enable_second_irq(comedi_device * dev,
 }
 #endif // PCIDMA
 
-static void ni_clear_ai_fifo(comedi_device * dev)
+static void ni_clear_ai_fifo(struct comedi_device * dev)
 {
 	if (boardtype.reg_type == ni_reg_6143) {
 		// Flush the 6143 data FIFO
@@ -693,13 +693,13 @@ static void ni_clear_ai_fifo(comedi_device * dev)
 	}
 }
 
-static void win_out2(comedi_device * dev, uint32_t data, int reg)
+static void win_out2(struct comedi_device * dev, uint32_t data, int reg)
 {
 	devpriv-&gt;stc_writew(dev, data &gt;&gt; 16, reg);
 	devpriv-&gt;stc_writew(dev, data &amp; 0xffff, reg + 1);
 }
 
-static uint32_t win_in2(comedi_device * dev, int reg)
+static uint32_t win_in2(struct comedi_device * dev, int reg)
 {
 	uint32_t bits;
 	bits = devpriv-&gt;stc_readw(dev, reg) &lt;&lt; 16;
@@ -708,7 +708,7 @@ static uint32_t win_in2(comedi_device * dev, int reg)
 }
 
 #define ao_win_out(data,addr) ni_ao_win_outw(dev,data,addr)
-static inline void ni_ao_win_outw(comedi_device * dev, uint16_t data, int addr)
+static inline void ni_ao_win_outw(struct comedi_device * dev, uint16_t data, int addr)
 {
 	unsigned long flags;
 
@@ -718,7 +718,7 @@ static inline void ni_ao_win_outw(comedi_device * dev, uint16_t data, int addr)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;window_lock, flags);
 }
 
-static inline void ni_ao_win_outl(comedi_device * dev, uint32_t data, int addr)
+static inline void ni_ao_win_outl(struct comedi_device * dev, uint32_t data, int addr)
 {
 	unsigned long flags;
 
@@ -728,7 +728,7 @@ static inline void ni_ao_win_outl(comedi_device * dev, uint32_t data, int addr)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;window_lock, flags);
 }
 
-static inline unsigned short ni_ao_win_inw(comedi_device * dev, int addr)
+static inline unsigned short ni_ao_win_inw(struct comedi_device * dev, int addr)
 {
 	unsigned long flags;
 	unsigned short data;
@@ -750,7 +750,7 @@ static inline unsigned short ni_ao_win_inw(comedi_device * dev, int addr)
 *
 * value should only be 1 or 0.
 */
-static inline void ni_set_bits(comedi_device * dev, int reg, unsigned bits,
+static inline void ni_set_bits(struct comedi_device * dev, int reg, unsigned bits,
 	unsigned value)
 {
 	unsigned bit_values;
@@ -764,7 +764,7 @@ static inline void ni_set_bits(comedi_device * dev, int reg, unsigned bits,
 
 static irqreturn_t ni_E_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	unsigned short a_status;
 	unsigned short b_status;
 	unsigned int ai_mite_status = 0;
@@ -823,7 +823,7 @@ static irqreturn_t ni_E_interrupt(int irq, void *d PT_REGS_ARG)
 }
 
 #ifdef PCIDMA
-static void ni_sync_ai_dma(comedi_device * dev)
+static void ni_sync_ai_dma(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	unsigned long flags;
@@ -834,7 +834,7 @@ static void ni_sync_ai_dma(comedi_device * dev)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;mite_channel_lock, flags);
 }
 
-static void mite_handle_b_linkc(struct mite_struct *mite, comedi_device * dev)
+static void mite_handle_b_linkc(struct mite_struct *mite, struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
 	unsigned long flags;
@@ -846,7 +846,7 @@ static void mite_handle_b_linkc(struct mite_struct *mite, comedi_device * dev)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;mite_channel_lock, flags);
 }
 
-static int ni_ao_wait_for_dma_load(comedi_device * dev)
+static int ni_ao_wait_for_dma_load(struct comedi_device * dev)
 {
 	static const int timeout = 10000;
 	int i;
@@ -868,7 +868,7 @@ static int ni_ao_wait_for_dma_load(comedi_device * dev)
 }
 
 #endif //PCIDMA
-static void ni_handle_eos(comedi_device * dev, comedi_subdevice * s)
+static void ni_handle_eos(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (devpriv-&gt;aimode == AIMODE_SCAN) {
 #ifdef PCIDMA
@@ -892,7 +892,7 @@ static void ni_handle_eos(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static void shutdown_ai_command(comedi_device * dev)
+static void shutdown_ai_command(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 
@@ -906,7 +906,7 @@ static void shutdown_ai_command(comedi_device * dev)
 	s-&gt;async-&gt;events |= COMEDI_CB_EOA;
 }
 
-static void ni_event(comedi_device * dev, comedi_subdevice * s)
+static void ni_event(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (s-&gt;async-&gt;
 		events &amp; (COMEDI_CB_ERROR | COMEDI_CB_OVERFLOW | COMEDI_CB_EOA))
@@ -932,7 +932,7 @@ static void ni_event(comedi_device * dev, comedi_subdevice * s)
 	comedi_event(dev, s);
 }
 
-static void handle_gpct_interrupt(comedi_device * dev,
+static void handle_gpct_interrupt(struct comedi_device * dev,
 	unsigned short counter_index)
 {
 #ifdef PCIDMA
@@ -945,7 +945,7 @@ static void handle_gpct_interrupt(comedi_device * dev,
 #endif
 }
 
-static void ack_a_interrupt(comedi_device * dev, unsigned short a_status)
+static void ack_a_interrupt(struct comedi_device * dev, unsigned short a_status)
 {
 	unsigned short ack = 0;
 
@@ -966,7 +966,7 @@ static void ack_a_interrupt(comedi_device * dev, unsigned short a_status)
 		devpriv-&gt;stc_writew(dev, ack, Interrupt_A_Ack_Register);
 }
 
-static void handle_a_interrupt(comedi_device * dev, unsigned short status,
+static void handle_a_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned ai_mite_status)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
@@ -1070,7 +1070,7 @@ static void handle_a_interrupt(comedi_device * dev, unsigned short status,
 #endif
 }
 
-static void ack_b_interrupt(comedi_device * dev, unsigned short b_status)
+static void ack_b_interrupt(struct comedi_device * dev, unsigned short b_status)
 {
 	unsigned short ack = 0;
 	if (b_status &amp; AO_BC_TC_St) {
@@ -1098,7 +1098,7 @@ static void ack_b_interrupt(comedi_device * dev, unsigned short b_status)
 		devpriv-&gt;stc_writew(dev, ack, Interrupt_B_Ack_Register);
 }
 
-static void handle_b_interrupt(comedi_device * dev, unsigned short b_status,
+static void handle_b_interrupt(struct comedi_device * dev, unsigned short b_status,
 	unsigned ao_mite_status)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
@@ -1204,7 +1204,7 @@ static void ni_mio_print_status_b(int status)
 
 #ifndef PCIDMA
 
-static void ni_ao_fifo_load(comedi_device * dev, comedi_subdevice * s, int n)
+static void ni_ao_fifo_load(struct comedi_device * dev, comedi_subdevice * s, int n)
 {
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -1263,7 +1263,7 @@ static void ni_ao_fifo_load(comedi_device * dev, comedi_subdevice * s, int n)
  *  RT code, as RT code might purposely be running close to the
  *  metal.  Needs to be fixed eventually.
  */
-static int ni_ao_fifo_half_empty(comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int n;
 
@@ -1284,7 +1284,7 @@ static int ni_ao_fifo_half_empty(comedi_device * dev, comedi_subdevice * s)
 	return 1;
 }
 
-static int ni_ao_prep_fifo(comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_prep_fifo(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int n;
 
@@ -1307,7 +1307,7 @@ static int ni_ao_prep_fifo(comedi_device * dev, comedi_subdevice * s)
 	return n;
 }
 
-static void ni_ai_fifo_read(comedi_device * dev, comedi_subdevice * s, int n)
+static void ni_ai_fifo_read(struct comedi_device * dev, comedi_subdevice * s, int n)
 {
 	comedi_async *async = s-&gt;async;
 	int i;
@@ -1364,7 +1364,7 @@ static void ni_ai_fifo_read(comedi_device * dev, comedi_subdevice * s, int n)
 	}
 }
 
-static void ni_handle_fifo_half_full(comedi_device * dev)
+static void ni_handle_fifo_half_full(struct comedi_device * dev)
 {
 	int n;
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
@@ -1376,7 +1376,7 @@ static void ni_handle_fifo_half_full(comedi_device * dev)
 #endif
 
 #ifdef PCIDMA
-static int ni_ai_drain_dma(comedi_device * dev)
+static int ni_ai_drain_dma(struct comedi_device * dev)
 {
 	int i;
 	static const int timeout = 10000;
@@ -1414,7 +1414,7 @@ static int ni_ai_drain_dma(comedi_device * dev)
 /*
    Empties the AI fifo
 */
-static void ni_handle_fifo_dregs(comedi_device * dev)
+static void ni_handle_fifo_dregs(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	short data[2];
@@ -1476,7 +1476,7 @@ static void ni_handle_fifo_dregs(comedi_device * dev)
 	}
 }
 
-static void get_last_sample_611x(comedi_device * dev)
+static void get_last_sample_611x(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	short data;
@@ -1493,7 +1493,7 @@ static void get_last_sample_611x(comedi_device * dev)
 	}
 }
 
-static void get_last_sample_6143(comedi_device * dev)
+static void get_last_sample_6143(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	short data;
@@ -1513,7 +1513,7 @@ static void get_last_sample_6143(comedi_device * dev)
 	}
 }
 
-static void ni_ai_munge(comedi_device * dev, comedi_subdevice * s,
+static void ni_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
@@ -1539,7 +1539,7 @@ static void ni_ai_munge(comedi_device * dev, comedi_subdevice * s,
 
 #ifdef PCIDMA
 
-static int ni_ai_setup_MITE_dma(comedi_device * dev)
+static int ni_ai_setup_MITE_dma(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
 	int retval;
@@ -1579,7 +1579,7 @@ static int ni_ai_setup_MITE_dma(comedi_device * dev)
 	return 0;
 }
 
-static int ni_ao_setup_MITE_dma(comedi_device * dev)
+static int ni_ao_setup_MITE_dma(struct comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AO_SUBDEV;
 	int retval;
@@ -1617,7 +1617,7 @@ static int ni_ao_setup_MITE_dma(comedi_device * dev)
    this is pretty harsh for a cancel, but it works...
  */
 
-static int ni_ai_reset(comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s)
 {
 	ni_release_ai_mite_channel(dev);
 	/* ai configuration */
@@ -1698,7 +1698,7 @@ static int ni_ai_reset(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_ai_poll(comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags = 0;
 	int count;
@@ -1718,7 +1718,7 @@ static int ni_ai_poll(comedi_device * dev, comedi_subdevice * s)
 	return count;
 }
 
-static int ni_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1814,7 +1814,7 @@ static int ni_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-void ni_prime_channelgain_list(comedi_device * dev)
+void ni_prime_channelgain_list(struct comedi_device * dev)
 {
 	int i;
 	devpriv-&gt;stc_writew(dev, AI_CONVERT_Pulse, AI_Command_1_Register);
@@ -1830,7 +1830,7 @@ void ni_prime_channelgain_list(comedi_device * dev)
 	rt_printk("ni_mio_common: timeout loading channel/gain list\n");
 }
 
-static void ni_m_series_load_channelgain_list(comedi_device * dev,
+static void ni_m_series_load_channelgain_list(struct comedi_device * dev,
 	unsigned int n_chan, unsigned int *list)
 {
 	unsigned int chan, range, aref;
@@ -1935,7 +1935,7 @@ static void ni_m_series_load_channelgain_list(comedi_device * dev,
  *   bits 0-2: channel
  *       valid channels are 0-3
  */
-static void ni_load_channelgain_list(comedi_device * dev, unsigned int n_chan,
+static void ni_load_channelgain_list(struct comedi_device * dev, unsigned int n_chan,
 	unsigned int *list)
 {
 	unsigned int chan, range, aref;
@@ -2055,7 +2055,7 @@ static void ni_load_channelgain_list(comedi_device * dev, unsigned int n_chan,
 	}
 }
 
-static int ni_ns_to_timer(const comedi_device * dev, unsigned nanosec,
+static int ni_ns_to_timer(const struct comedi_device * dev, unsigned nanosec,
 	int round_mode)
 {
 	int divider;
@@ -2074,12 +2074,12 @@ static int ni_ns_to_timer(const comedi_device * dev, unsigned nanosec,
 	return divider - 1;
 }
 
-static unsigned ni_timer_to_ns(const comedi_device * dev, int timer)
+static unsigned ni_timer_to_ns(const struct comedi_device * dev, int timer)
 {
 	return devpriv-&gt;clock_ns * (timer + 1);
 }
 
-static unsigned ni_min_ai_scan_period_ns(comedi_device * dev,
+static unsigned ni_min_ai_scan_period_ns(struct comedi_device * dev,
 	unsigned num_channels)
 {
 	switch (boardtype.reg_type) {
@@ -2095,7 +2095,7 @@ static unsigned ni_min_ai_scan_period_ns(comedi_device * dev,
 	return boardtype.ai_speed * num_channels;
 }
 
-static int ni_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2308,7 +2308,7 @@ static int ni_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int timer;
@@ -2612,7 +2612,7 @@ static int ni_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_ai_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -2625,10 +2625,10 @@ static int ni_ai_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ai_config_analog_trig(comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
@@ -2679,7 +2679,7 @@ static int ni_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ni_ai_config_analog_trig(comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int a, b, modebits;
@@ -2777,7 +2777,7 @@ static int ni_ai_config_analog_trig(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* munge data from unsigned to 2's complement for analog output bipolar modes */
-static void ni_ao_munge(comedi_device * dev, comedi_subdevice * s,
+static void ni_ao_munge(struct comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
@@ -2800,7 +2800,7 @@ static void ni_ao_munge(comedi_device * dev, comedi_subdevice * s,
 	}
 }
 
-static int ni_m_series_ao_config_chanlist(comedi_device * dev,
+static int ni_m_series_ao_config_chanlist(struct comedi_device * dev,
 	comedi_subdevice * s, unsigned int chanspec[], unsigned int n_chans,
 	int timed)
 {
@@ -2869,7 +2869,7 @@ static int ni_m_series_ao_config_chanlist(comedi_device * dev,
 	return invert;
 }
 
-static int ni_old_ao_config_chanlist(comedi_device * dev, comedi_subdevice * s,
+static int ni_old_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int chanspec[], unsigned int n_chans)
 {
 	unsigned int range;
@@ -2912,7 +2912,7 @@ static int ni_old_ao_config_chanlist(comedi_device * dev, comedi_subdevice * s,
 	return invert;
 }
 
-static int ni_ao_config_chanlist(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int chanspec[], unsigned int n_chans, int timed)
 {
 	if (boardtype.reg_type &amp; ni_reg_m_series_mask)
@@ -2921,7 +2921,7 @@ static int ni_ao_config_chanlist(comedi_device * dev, comedi_subdevice * s,
 	else
 		return ni_old_ao_config_chanlist(dev, s, chanspec, n_chans);
 }
-static int ni_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao[CR_CHAN(insn-&gt;chanspec)];
@@ -2929,7 +2929,7 @@ static int ni_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2948,7 +2948,7 @@ static int ni_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ao_insn_write_671x(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_write_671x(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2965,7 +2965,7 @@ static int ni_ao_insn_write_671x(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_ao_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -2991,7 +2991,7 @@ static int ni_ao_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ni_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	int ret;
@@ -3062,7 +3062,7 @@ static int ni_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_ao_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int bits;
@@ -3261,7 +3261,7 @@ static int ni_ao_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3384,7 +3384,7 @@ static int ni_ao_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_ao_reset(comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s)
 {
 	//devpriv-&gt;ao0p=0x0000;
 	//ni_writew(devpriv-&gt;ao0p,AO_Configuration);
@@ -3436,7 +3436,7 @@ static int ni_ao_reset(comedi_device * dev, comedi_subdevice * s)
 
 // digital io
 
-static int ni_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3468,7 +3468,7 @@ static int ni_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3495,7 +3495,7 @@ static int ni_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_m_series_dio_insn_config(comedi_device * dev,
+static int ni_m_series_dio_insn_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3525,7 +3525,7 @@ static int ni_m_series_dio_insn_config(comedi_device * dev,
 	return 1;
 }
 
-static int ni_m_series_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3544,7 +3544,7 @@ static int ni_m_series_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_cdio_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3653,7 +3653,7 @@ static int ni_cdio_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_cdio_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned cdo_mode_bits = CDO_FIFO_Mode_Bit | CDO_Halt_On_Error_Bit;
@@ -3690,7 +3690,7 @@ static int ni_cdio_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_cdo_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 #ifdef PCIDMA
@@ -3736,7 +3736,7 @@ static int ni_cdo_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return retval;
 }
 
-static int ni_cdio_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	ni_writel(CDO_Disarm_Bit | CDO_Error_Interrupt_Enable_Clear_Bit |
 		CDO_Empty_FIFO_Interrupt_Enable_Clear_Bit |
@@ -3749,7 +3749,7 @@ static int ni_cdio_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static void handle_cdio_interrupt(comedi_device * dev)
+static void handle_cdio_interrupt(struct comedi_device * dev)
 {
 	unsigned cdio_status;
 	comedi_subdevice *s = dev-&gt;subdevices + NI_DIO_SUBDEV;
@@ -3790,7 +3790,7 @@ static void handle_cdio_interrupt(comedi_device * dev)
 	ni_event(dev, s);
 }
 
-static int ni_serial_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int err = insn-&gt;n;
@@ -3884,7 +3884,7 @@ static int ni_serial_insn_config(comedi_device * dev, comedi_subdevice * s,
 
 }
 
-static int ni_serial_hw_readwrite8(comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in)
 {
 	unsigned int status1;
@@ -3940,7 +3940,7 @@ static int ni_serial_hw_readwrite8(comedi_device * dev, comedi_subdevice * s,
 	return err;
 }
 
-static int ni_serial_sw_readwrite8(comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_sw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in)
 {
 	unsigned char mask, input = 0;
@@ -3993,7 +3993,7 @@ static int ni_serial_sw_readwrite8(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static void mio_common_detach(comedi_device * dev)
+static void mio_common_detach(struct comedi_device * dev)
 {
 	if (dev-&gt;private) {
 		if (devpriv-&gt;counter_dev) {
@@ -4004,7 +4004,7 @@ static void mio_common_detach(comedi_device * dev)
 		subdev_8255_cleanup(dev, dev-&gt;subdevices + NI_8255_DIO_SUBDEV);
 }
 
-static void init_ao_67xx(comedi_device * dev, comedi_subdevice * s)
+static void init_ao_67xx(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int i;
 
@@ -4111,7 +4111,7 @@ static unsigned ni_gpct_to_stc_register(enum ni_gpct_register reg)
 static void ni_gpct_write_register(struct ni_gpct *counter, unsigned bits,
 	enum ni_gpct_register reg)
 {
-	comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
+	struct comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
 	unsigned stc_register;
 	/* bits in the join reset register which are relevant to counters */
 	static const unsigned gpct_joint_reset_mask = G0_Reset | G1_Reset;
@@ -4179,7 +4179,7 @@ static void ni_gpct_write_register(struct ni_gpct *counter, unsigned bits,
 static unsigned ni_gpct_read_register(struct ni_gpct *counter,
 	enum ni_gpct_register reg)
 {
-	comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
+	struct comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
 	unsigned stc_register;
 	switch (reg) {
 		/* m-series only registers */
@@ -4208,14 +4208,14 @@ static unsigned ni_gpct_read_register(struct ni_gpct *counter,
 	return 0;
 }
 
-static int ni_freq_out_insn_read(comedi_device * dev,
+static int ni_freq_out_insn_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;clock_and_fout &amp; FOUT_Divider_mask;
 	return 1;
 }
 
-static int ni_freq_out_insn_write(comedi_device * dev,
+static int ni_freq_out_insn_write(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;clock_and_fout &amp;= ~FOUT_Enable;
@@ -4229,7 +4229,7 @@ static int ni_freq_out_insn_write(comedi_device * dev,
 	return insn-&gt;n;
 }
 
-static int ni_set_freq_out_clock(comedi_device * dev, unsigned int clock_source)
+static int ni_set_freq_out_clock(struct comedi_device * dev, unsigned int clock_source)
 {
 	switch (clock_source) {
 	case NI_FREQ_OUT_TIMEBASE_1_DIV_2_CLOCK_SRC:
@@ -4246,7 +4246,7 @@ static int ni_set_freq_out_clock(comedi_device * dev, unsigned int clock_source)
 	return 3;
 }
 
-static void ni_get_freq_out_clock(comedi_device * dev, unsigned int * clock_source,
+static void ni_get_freq_out_clock(struct comedi_device * dev, unsigned int * clock_source,
 	unsigned int * clock_period_ns)
 {
 	if (devpriv-&gt;clock_and_fout &amp; FOUT_Timebase_Select) {
@@ -4258,7 +4258,7 @@ static void ni_get_freq_out_clock(comedi_device * dev, unsigned int * clock_sour
 	}
 }
 
-static int ni_freq_out_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_freq_out_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -4274,7 +4274,7 @@ static int ni_freq_out_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return -EINVAL;
 }
 
-static int ni_alloc_private(comedi_device * dev)
+static int ni_alloc_private(struct comedi_device * dev)
 {
 	int ret;
 
@@ -4289,7 +4289,7 @@ static int ni_alloc_private(comedi_device * dev)
 	return 0;
 };
 
-static int ni_E_init(comedi_device * dev, comedi_devconfig * it)
+static int ni_E_init(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned j;
@@ -4609,7 +4609,7 @@ static int ni_E_init(comedi_device * dev, comedi_devconfig * it)
 
 static int ni_8255_callback(int dir, int port, int data, unsigned long arg)
 {
-	comedi_device *dev = (comedi_device *) arg;
+	struct comedi_device *dev = (struct comedi_device *) arg;
 
 	if (dir) {
 		ni_writeb(data, Port_A + 2 * port);
@@ -4623,7 +4623,7 @@ static int ni_8255_callback(int dir, int port, int data, unsigned long arg)
 	presents the EEPROM as a subdevice
 */
 
-static int ni_eeprom_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_eeprom_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = ni_read_eeprom(dev, CR_CHAN(insn-&gt;chanspec));
@@ -4635,7 +4635,7 @@ static int ni_eeprom_insn_read(comedi_device * dev, comedi_subdevice * s,
 	reads bytes out of eeprom
 */
 
-static int ni_read_eeprom(comedi_device * dev, int addr)
+static int ni_read_eeprom(struct comedi_device * dev, int addr)
 {
 	int bit;
 	int bitstring;
@@ -4659,7 +4659,7 @@ static int ni_read_eeprom(comedi_device * dev, int addr)
 	return bitstring;
 }
 
-static int ni_m_series_eeprom_insn_read(comedi_device * dev,
+static int ni_m_series_eeprom_insn_read(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;eeprom_buffer[CR_CHAN(insn-&gt;chanspec)];
@@ -4667,14 +4667,14 @@ static int ni_m_series_eeprom_insn_read(comedi_device * dev,
 	return 1;
 }
 
-static int ni_get_pwm_config(comedi_device * dev, unsigned int * data)
+static int ni_get_pwm_config(struct comedi_device * dev, unsigned int * data)
 {
 	data[1] = devpriv-&gt;pwm_up_count * devpriv-&gt;clock_ns;
 	data[2] = devpriv-&gt;pwm_down_count * devpriv-&gt;clock_ns;
 	return 3;
 }
 
-static int ni_m_series_pwm_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
@@ -4739,7 +4739,7 @@ static int ni_m_series_pwm_config(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int ni_6143_pwm_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_6143_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
@@ -4802,11 +4802,11 @@ static int ni_6143_pwm_config(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static void ni_write_caldac(comedi_device * dev, int addr, int val);
+static void ni_write_caldac(struct comedi_device * dev, int addr, int val);
 /*
 	calibration subdevice
 */
-static int ni_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ni_write_caldac(dev, CR_CHAN(insn-&gt;chanspec), data[0]);
@@ -4814,7 +4814,7 @@ static int ni_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldacs[CR_CHAN(insn-&gt;chanspec)];
@@ -4845,7 +4845,7 @@ static struct caldac_struct caldacs[] = {
 	[ad8804_debug] = {16, 8, pack_ad8804},
 };
 
-static void caldac_setup(comedi_device * dev, comedi_subdevice * s)
+static void caldac_setup(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int i, j;
 	int n_dacs;
@@ -4898,7 +4898,7 @@ static void caldac_setup(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static void ni_write_caldac(comedi_device * dev, int addr, int val)
+static void ni_write_caldac(struct comedi_device * dev, int addr, int val)
 {
 	unsigned int loadbit = 0, bits = 0, bit, bitstring = 0;
 	int i;
@@ -4985,7 +4985,7 @@ static int pack_ad8842(int addr, int val, int *bitstring)
 /*
  *	Read the GPCTs current value.
  */
-static int GPCT_G_Watch(comedi_device * dev, int chan)
+static int GPCT_G_Watch(struct comedi_device * dev, int chan)
 {
 	unsigned int hi1, hi2, lo;
 
@@ -5008,7 +5008,7 @@ static int GPCT_G_Watch(comedi_device * dev, int chan)
 	return (hi1 &lt;&lt; 16) | lo;
 }
 
-static void GPCT_Reset(comedi_device * dev, int chan)
+static void GPCT_Reset(struct comedi_device * dev, int chan)
 {
 	int temp_ack_reg = 0;
 
@@ -5070,28 +5070,28 @@ static void GPCT_Reset(comedi_device * dev, int chan)
 
 #endif
 
-static int ni_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_insn_config(counter, insn, data);
 }
 
-static int ni_gpct_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_rinsn(counter, insn, data);
 }
 
-static int ni_gpct_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_winsn(counter, insn, data);
 }
 
-static int ni_gpct_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int retval;
 #ifdef PCIDMA
@@ -5114,7 +5114,7 @@ static int ni_gpct_cmd(comedi_device * dev, comedi_subdevice * s)
 	return retval;
 }
 
-static int ni_gpct_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 #ifdef PCIDMA
@@ -5126,7 +5126,7 @@ static int ni_gpct_cmdtest(comedi_device * dev, comedi_subdevice * s,
 #endif
 }
 
-static int ni_gpct_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ni_gpct_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 #ifdef PCIDMA
 	struct ni_gpct *counter = s-&gt;private;
@@ -5147,7 +5147,7 @@ static int ni_gpct_cancel(comedi_device * dev, comedi_subdevice * s)
  *
  */
 
-static int ni_m_series_set_pfi_routing(comedi_device * dev, unsigned chan,
+static int ni_m_series_set_pfi_routing(struct comedi_device * dev, unsigned chan,
 	unsigned source)
 {
 	unsigned pfi_reg_index;
@@ -5165,7 +5165,7 @@ static int ni_m_series_set_pfi_routing(comedi_device * dev, unsigned chan,
 	return 2;
 }
 
-static int ni_old_set_pfi_routing(comedi_device * dev, unsigned chan,
+static int ni_old_set_pfi_routing(struct comedi_device * dev, unsigned chan,
 	unsigned source)
 {
 	// pre-m-series boards have fixed signals on pfi pins
@@ -5174,7 +5174,7 @@ static int ni_old_set_pfi_routing(comedi_device * dev, unsigned chan,
 	return 2;
 }
 
-static int ni_set_pfi_routing(comedi_device * dev, unsigned chan,
+static int ni_set_pfi_routing(struct comedi_device * dev, unsigned chan,
 	unsigned source)
 {
 	if (boardtype.reg_type &amp; ni_reg_m_series_mask)
@@ -5183,14 +5183,14 @@ static int ni_set_pfi_routing(comedi_device * dev, unsigned chan,
 		return ni_old_set_pfi_routing(dev, chan, source);
 }
 
-static unsigned ni_m_series_get_pfi_routing(comedi_device * dev, unsigned chan)
+static unsigned ni_m_series_get_pfi_routing(struct comedi_device * dev, unsigned chan)
 {
 	const unsigned array_offset = chan / 3;
 	return MSeries_PFI_Output_Select_Source(chan,
 		devpriv-&gt;pfi_output_select_reg[array_offset]);
 }
 
-static unsigned ni_old_get_pfi_routing(comedi_device * dev, unsigned chan)
+static unsigned ni_old_get_pfi_routing(struct comedi_device * dev, unsigned chan)
 {
 	// pre-m-series boards have fixed signals on pfi pins
 	switch (chan) {
@@ -5231,7 +5231,7 @@ static unsigned ni_old_get_pfi_routing(comedi_device * dev, unsigned chan)
 	return 0;
 }
 
-static unsigned ni_get_pfi_routing(comedi_device * dev, unsigned chan)
+static unsigned ni_get_pfi_routing(struct comedi_device * dev, unsigned chan)
 {
 	if (boardtype.reg_type &amp; ni_reg_m_series_mask)
 		return ni_m_series_get_pfi_routing(dev, chan);
@@ -5239,7 +5239,7 @@ static unsigned ni_get_pfi_routing(comedi_device * dev, unsigned chan)
 		return ni_old_get_pfi_routing(dev, chan);
 }
 
-static int ni_config_filter(comedi_device * dev, unsigned pfi_channel,
+static int ni_config_filter(struct comedi_device * dev, unsigned pfi_channel,
 	enum ni_pfi_filter_select filter)
 {
 	unsigned bits;
@@ -5253,7 +5253,7 @@ static int ni_config_filter(comedi_device * dev, unsigned pfi_channel,
 	return 0;
 }
 
-static int ni_pfi_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if ((boardtype.reg_type &amp; ni_reg_m_series_mask) == 0) {
@@ -5268,7 +5268,7 @@ static int ni_pfi_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_pfi_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan;
@@ -5312,7 +5312,7 @@ static int ni_pfi_insn_config(comedi_device * dev, comedi_subdevice * s,
  *  NI RTSI Bus Functions
  *
  */
-static void ni_rtsi_init(comedi_device * dev)
+static void ni_rtsi_init(struct comedi_device * dev)
 {
 	// Initialises the RTSI bus signal switch to a default state
 
@@ -5345,7 +5345,7 @@ static void ni_rtsi_init(comedi_device * dev)
 //      devpriv-&gt;stc_writew(dev, 0x0000, RTSI_Board_Register);
 }
 
-static int ni_rtsi_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -5401,7 +5401,7 @@ static int ni_mseries_get_pll_parameters(unsigned reference_period_ns,
 	return 0;
 }
 
-static inline unsigned num_configurable_rtsi_channels(comedi_device * dev)
+static inline unsigned num_configurable_rtsi_channels(struct comedi_device * dev)
 {
 	if (boardtype.reg_type &amp; ni_reg_m_series_mask)
 		return 8;
@@ -5409,7 +5409,7 @@ static inline unsigned num_configurable_rtsi_channels(comedi_device * dev)
 		return 7;
 }
 
-static int ni_mseries_set_pll_master_clock(comedi_device * dev, unsigned source,
+static int ni_mseries_set_pll_master_clock(struct comedi_device * dev, unsigned source,
 	unsigned period_ns)
 {
 	static const unsigned min_period_ns = 50;
@@ -5504,7 +5504,7 @@ static int ni_mseries_set_pll_master_clock(comedi_device * dev, unsigned source,
 	return 3;
 }
 
-static int ni_set_master_clock(comedi_device * dev, unsigned source,
+static int ni_set_master_clock(struct comedi_device * dev, unsigned source,
 	unsigned period_ns)
 {
 	if (source == NI_MIO_INTERNAL_CLOCK) {
@@ -5548,7 +5548,7 @@ static int ni_set_master_clock(comedi_device * dev, unsigned source,
 	return 3;
 }
 
-static int ni_valid_rtsi_output_source(comedi_device * dev, unsigned chan,
+static int ni_valid_rtsi_output_source(struct comedi_device * dev, unsigned chan,
 	unsigned source)
 {
 	if (chan &gt;= num_configurable_rtsi_channels(dev)) {
@@ -5589,7 +5589,7 @@ static int ni_valid_rtsi_output_source(comedi_device * dev, unsigned chan,
 	}
 }
 
-static int ni_set_rtsi_routing(comedi_device * dev, unsigned chan,
+static int ni_set_rtsi_routing(struct comedi_device * dev, unsigned chan,
 	unsigned source)
 {
 	if (ni_valid_rtsi_output_source(dev, chan, source) == 0)
@@ -5610,7 +5610,7 @@ static int ni_set_rtsi_routing(comedi_device * dev, unsigned chan,
 	return 2;
 }
 
-static unsigned ni_get_rtsi_routing(comedi_device * dev, unsigned chan)
+static unsigned ni_get_rtsi_routing(struct comedi_device * dev, unsigned chan)
 {
 	if (chan &lt; 4) {
 		return RTSI_Trig_Output_Source(chan,
@@ -5626,7 +5626,7 @@ static unsigned ni_get_rtsi_routing(comedi_device * dev, unsigned chan)
 	}
 }
 
-static int ni_rtsi_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
@@ -5698,7 +5698,7 @@ static int ni_rtsi_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int cs5529_wait_for_idle(comedi_device * dev)
+static int cs5529_wait_for_idle(struct comedi_device * dev)
 {
 	unsigned short status;
 	const int timeout = HZ;
@@ -5722,7 +5722,7 @@ static int cs5529_wait_for_idle(comedi_device * dev)
 	return 0;
 }
 
-static void cs5529_command(comedi_device * dev, unsigned short value)
+static void cs5529_command(struct comedi_device * dev, unsigned short value)
 {
 	static const int timeout = 100;
 	int i;
@@ -5744,7 +5744,7 @@ static void cs5529_command(comedi_device * dev, unsigned short value)
 }
 
 /* write to cs5529 register */
-static void cs5529_config_write(comedi_device * dev, unsigned int value,
+static void cs5529_config_write(struct comedi_device * dev, unsigned int value,
 	unsigned int reg_select_bits)
 {
 	ni_ao_win_outw(dev, ((value &gt;&gt; 16) &amp; 0xff),
@@ -5759,7 +5759,7 @@ static void cs5529_config_write(comedi_device * dev, unsigned int value,
 
 #ifdef NI_CS5529_DEBUG
 /* read from cs5529 register */
-static unsigned int cs5529_config_read(comedi_device * dev,
+static unsigned int cs5529_config_read(struct comedi_device * dev,
 	unsigned int reg_select_bits)
 {
 	unsigned int value;
@@ -5775,7 +5775,7 @@ static unsigned int cs5529_config_read(comedi_device * dev,
 }
 #endif
 
-static int cs5529_do_conversion(comedi_device * dev, unsigned short *data)
+static int cs5529_do_conversion(struct comedi_device * dev, unsigned short *data)
 {
 	int retval;
 	unsigned short status;
@@ -5805,7 +5805,7 @@ static int cs5529_do_conversion(comedi_device * dev, unsigned short *data)
 	return 0;
 }
 
-static int cs5529_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int cs5529_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, retval;
@@ -5831,7 +5831,7 @@ static int cs5529_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int init_cs5529(comedi_device * dev)
+static int init_cs5529(struct comedi_device * dev)
 {
 	unsigned int config_bits =
 		CSCFG_PORT_MODE | CSCFG_WORD_RATE_2180_CYCLES;
diff --git a/drivers/staging/comedi/drivers/ni_mio_cs.c b/drivers/staging/comedi/drivers/ni_mio_cs.c
index 258613fafa3a..4891bc2805f8 100644
--- a/drivers/staging/comedi/drivers/ni_mio_cs.c
+++ b/drivers/staging/comedi/drivers/ni_mio_cs.c
@@ -194,7 +194,7 @@ typedef struct {
  * read/written directly in the I/O space of the board.  The
  * DAQCard devices map the low 8 STC registers to iobase+addr*2. */
 
-static void mio_cs_win_out(comedi_device * dev, uint16_t data, int addr)
+static void mio_cs_win_out(struct comedi_device * dev, uint16_t data, int addr)
 {
 	unsigned long flags;
 
@@ -208,7 +208,7 @@ static void mio_cs_win_out(comedi_device * dev, uint16_t data, int addr)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;window_lock, flags);
 }
 
-static uint16_t mio_cs_win_in(comedi_device * dev, int addr)
+static uint16_t mio_cs_win_in(struct comedi_device * dev, int addr)
 {
 	unsigned long flags;
 	uint16_t ret;
@@ -225,8 +225,8 @@ static uint16_t mio_cs_win_in(comedi_device * dev, int addr)
 	return ret;
 }
 
-static int mio_cs_attach(comedi_device * dev, comedi_devconfig * it);
-static int mio_cs_detach(comedi_device * dev);
+static int mio_cs_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int mio_cs_detach(struct comedi_device * dev);
 static comedi_driver driver_ni_mio_cs = {
       driver_name:"ni_mio_cs",
       module:THIS_MODULE,
@@ -236,11 +236,11 @@ static comedi_driver driver_ni_mio_cs = {
 
 #include "ni_mio_common.c"
 
-static int ni_getboardtype(comedi_device * dev, struct pcmcia_device *link);
+static int ni_getboardtype(struct comedi_device * dev, struct pcmcia_device *link);
 
 /* clean up allocated resources */
 /* called when driver is removed */
-static int mio_cs_detach(comedi_device * dev)
+static int mio_cs_detach(struct comedi_device * dev)
 {
 	mio_common_detach(dev);
 
@@ -401,7 +401,7 @@ static void mio_cs_config(struct pcmcia_device *link)
 	link-&gt;dev_node = &amp;dev_node;
 }
 
-static int mio_cs_attach(comedi_device * dev, comedi_devconfig * it)
+static int mio_cs_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pcmcia_device *link;
 	unsigned int irq;
@@ -466,7 +466,7 @@ static int mio_cs_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int get_prodid(comedi_device * dev, struct pcmcia_device *link)
+static int get_prodid(struct comedi_device * dev, struct pcmcia_device *link)
 {
 	tuple_t tuple;
 	u_short buf[128];
@@ -485,7 +485,7 @@ static int get_prodid(comedi_device * dev, struct pcmcia_device *link)
 	return prodid;
 }
 
-static int ni_getboardtype(comedi_device * dev, struct pcmcia_device *link)
+static int ni_getboardtype(struct comedi_device * dev, struct pcmcia_device *link)
 {
 	int id;
 	int i;
diff --git a/drivers/staging/comedi/drivers/ni_pcidio.c b/drivers/staging/comedi/drivers/ni_pcidio.c
index 289d7b921513..b236d88e4e4e 100644
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -287,9 +287,9 @@ enum FPGA_Control_Bits {
 #define IntEn (TransferReady|CountExpired|Waited|PrimaryTC|SecondaryTC)
 #endif
 
-static int nidio_attach(comedi_device * dev, comedi_devconfig * it);
-static int nidio_detach(comedi_device * dev);
-static int ni_pcidio_cancel(comedi_device * dev, comedi_subdevice * s);
+static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int nidio_detach(struct comedi_device * dev);
+static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s);
 
 static comedi_driver driver_pcidio = {
       driver_name:"ni_pcidio",
@@ -399,14 +399,14 @@ typedef struct {
 } nidio96_private;
 #define devpriv ((nidio96_private *)dev-&gt;private)
 
-static int ni_pcidio_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_pcidio_cmd(comedi_device * dev, comedi_subdevice * s);
-static int ni_pcidio_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum);
-static int nidio_find_device(comedi_device * dev, int bus, int slot);
+static int nidio_find_device(struct comedi_device * dev, int bus, int slot);
 static int ni_pcidio_ns_to_timer(int *nanosec, int round_mode);
-static int setup_mite_dma(comedi_device * dev, comedi_subdevice * s);
+static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s);
 
 #ifdef DEBUG_FLAGS
 static void ni_pcidio_print_flags(unsigned int flags);
@@ -416,7 +416,7 @@ static void ni_pcidio_print_status(unsigned int status);
 #define ni_pcidio_print_status(x)
 #endif
 
-static int ni_pcidio_request_di_mite_channel(comedi_device * dev)
+static int ni_pcidio_request_di_mite_channel(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -439,7 +439,7 @@ static int ni_pcidio_request_di_mite_channel(comedi_device * dev)
 	return 0;
 }
 
-static void ni_pcidio_release_di_mite_channel(comedi_device * dev)
+static void ni_pcidio_release_di_mite_channel(struct comedi_device * dev)
 {
 	unsigned long flags;
 
@@ -467,7 +467,7 @@ static int nidio96_8255_cb(int dir, int port, int data, unsigned long iobase)
 	}
 }
 
-void ni_pcidio_event(comedi_device * dev, comedi_subdevice * s)
+void ni_pcidio_event(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (s-&gt;async-&gt;
 		events &amp; (COMEDI_CB_EOA | COMEDI_CB_ERROR | COMEDI_CB_OVERFLOW))
@@ -479,7 +479,7 @@ void ni_pcidio_event(comedi_device * dev, comedi_subdevice * s)
 
 static irqreturn_t nidio_interrupt(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices;
 	comedi_async *async = s-&gt;async;
 	struct mite_struct *mite = devpriv-&gt;mite;
@@ -673,7 +673,7 @@ static void ni_pcidio_print_status(unsigned int flags)
 #endif
 
 #ifdef unused
-static void debug_int(comedi_device * dev)
+static void debug_int(struct comedi_device * dev)
 {
 	int a, b;
 	static int n_int = 0;
@@ -702,7 +702,7 @@ static void debug_int(comedi_device * dev)
 }
 #endif
 
-static int ni_pcidio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 1)
@@ -729,7 +729,7 @@ static int ni_pcidio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_pcidio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -744,7 +744,7 @@ static int ni_pcidio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int ni_pcidio_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -876,7 +876,7 @@ static int ni_pcidio_ns_to_timer(int *nanosec, int round_mode)
 	return divider;
 }
 
-static int ni_pcidio_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -986,7 +986,7 @@ static int ni_pcidio_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int setup_mite_dma(comedi_device * dev, comedi_subdevice * s)
+static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int retval;
 
@@ -1002,7 +1002,7 @@ static int setup_mite_dma(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_pcidio_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -1014,7 +1014,7 @@ static int ni_pcidio_inttrig(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int ni_pcidio_cancel(comedi_device * dev, comedi_subdevice * s)
+static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	writeb(0x00,
 		devpriv-&gt;mite-&gt;daq_io_addr + Master_DMA_And_Interrupt_Control);
@@ -1023,7 +1023,7 @@ static int ni_pcidio_cancel(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int ni_pcidio_change(comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1037,7 +1037,7 @@ static int ni_pcidio_change(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pci_6534_load_fpga(comedi_device * dev, int fpga_index, u8 * data,
+static int pci_6534_load_fpga(struct comedi_device * dev, int fpga_index, u8 * data,
 	int data_len)
 {
 	static const int timeout = 1000;
@@ -1090,12 +1090,12 @@ static int pci_6534_load_fpga(comedi_device * dev, int fpga_index, u8 * data,
 	return 0;
 }
 
-static int pci_6534_reset_fpga(comedi_device * dev, int fpga_index)
+static int pci_6534_reset_fpga(struct comedi_device * dev, int fpga_index)
 {
 	return pci_6534_load_fpga(dev, fpga_index, NULL, 0);
 }
 
-static int pci_6534_reset_fpgas(comedi_device * dev)
+static int pci_6534_reset_fpgas(struct comedi_device * dev)
 {
 	int ret;
 	int i;
@@ -1109,7 +1109,7 @@ static int pci_6534_reset_fpgas(comedi_device * dev)
 	return ret;
 }
 
-static void pci_6534_init_main_fpga(comedi_device * dev)
+static void pci_6534_init_main_fpga(struct comedi_device * dev)
 {
 	writel(0, devpriv-&gt;mite-&gt;daq_io_addr + FPGA_Control1_Register);
 	writel(0, devpriv-&gt;mite-&gt;daq_io_addr + FPGA_Control2_Register);
@@ -1119,7 +1119,7 @@ static void pci_6534_init_main_fpga(comedi_device * dev)
 	writel(0, devpriv-&gt;mite-&gt;daq_io_addr + FPGA_SCBMS_Counter_Register);
 }
 
-static int pci_6534_upload_firmware(comedi_device * dev, int options[])
+static int pci_6534_upload_firmware(struct comedi_device * dev, int options[])
 {
 	int ret;
 	void *main_fpga_data, *scarab_a_data, *scarab_b_data;
@@ -1149,7 +1149,7 @@ static int pci_6534_upload_firmware(comedi_device * dev, int options[])
 	return 0;
 }
 
-static int nidio_attach(comedi_device * dev, comedi_devconfig * it)
+static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int i;
@@ -1246,7 +1246,7 @@ static int nidio_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int nidio_detach(comedi_device * dev)
+static int nidio_detach(struct comedi_device * dev)
 {
 	int i;
 
@@ -1270,7 +1270,7 @@ static int nidio_detach(comedi_device * dev)
 	return 0;
 }
 
-static int nidio_find_device(comedi_device * dev, int bus, int slot)
+static int nidio_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
diff --git a/drivers/staging/comedi/drivers/ni_pcimio.c b/drivers/staging/comedi/drivers/ni_pcimio.c
index 8d83fb41c3b2..cca0383fc775 100644
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -1207,8 +1207,8 @@ static const ni_board ni_boards[] = {
 
 #define n_pcimio_boards ((sizeof(ni_boards)/sizeof(ni_boards[0])))
 
-static int pcimio_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcimio_detach(comedi_device * dev);
+static int pcimio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcimio_detach(struct comedi_device * dev);
 static comedi_driver driver_pcimio = {
 	driver_name: DRV_NAME,
 	module:THIS_MODULE,
@@ -1241,7 +1241,7 @@ NI_PRIVATE_COMMON} ni_private;
 /* However, the 611x boards still aren't working, so I'm disabling
  * non-windowed STC access temporarily */
 
-static void e_series_win_out(comedi_device * dev, uint16_t data, int reg)
+static void e_series_win_out(struct comedi_device * dev, uint16_t data, int reg)
 {
 	unsigned long flags;
 
@@ -1251,7 +1251,7 @@ static void e_series_win_out(comedi_device * dev, uint16_t data, int reg)
 	comedi_spin_unlock_irqrestore(&amp;devpriv-&gt;window_lock, flags);
 }
 
-static uint16_t e_series_win_in(comedi_device * dev, int reg)
+static uint16_t e_series_win_in(struct comedi_device * dev, int reg)
 {
 	unsigned long flags;
 	uint16_t ret;
@@ -1264,7 +1264,7 @@ static uint16_t e_series_win_in(comedi_device * dev, int reg)
 	return ret;
 }
 
-static void m_series_stc_writew(comedi_device * dev, uint16_t data, int reg)
+static void m_series_stc_writew(struct comedi_device * dev, uint16_t data, int reg)
 {
 	unsigned offset;
 	switch (reg) {
@@ -1419,7 +1419,7 @@ static void m_series_stc_writew(comedi_device * dev, uint16_t data, int reg)
 	ni_writew(data, offset);
 }
 
-static uint16_t m_series_stc_readw(comedi_device * dev, int reg)
+static uint16_t m_series_stc_readw(struct comedi_device * dev, int reg)
 {
 	unsigned offset;
 	switch (reg) {
@@ -1454,7 +1454,7 @@ static uint16_t m_series_stc_readw(comedi_device * dev, int reg)
 	return ni_readw(offset);
 }
 
-static void m_series_stc_writel(comedi_device * dev, uint32_t data, int reg)
+static void m_series_stc_writel(struct comedi_device * dev, uint32_t data, int reg)
 {
 	unsigned offset;
 	switch (reg) {
@@ -1495,7 +1495,7 @@ static void m_series_stc_writel(comedi_device * dev, uint32_t data, int reg)
 	ni_writel(data, offset);
 }
 
-static uint32_t m_series_stc_readl(comedi_device * dev, int reg)
+static uint32_t m_series_stc_readl(struct comedi_device * dev, int reg)
 {
 	unsigned offset;
 	switch (reg) {
@@ -1528,19 +1528,19 @@ static uint32_t m_series_stc_readl(comedi_device * dev, int reg)
 
 #include "ni_mio_common.c"
 
-static int pcimio_find_device(comedi_device * dev, int bus, int slot);
-static int pcimio_ai_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_find_device(struct comedi_device * dev, int bus, int slot);
+static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_ao_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_gpct0_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_gpct1_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_dio_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_dio_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size);
 
-static void m_series_init_eeprom_buffer(comedi_device * dev)
+static void m_series_init_eeprom_buffer(struct comedi_device * dev)
 {
 	static const int Start_Cal_EEPROM = 0x400;
 	static const unsigned window_size = 10;
@@ -1577,7 +1577,7 @@ static void m_series_init_eeprom_buffer(comedi_device * dev)
 	writel(0x0, devpriv-&gt;mite-&gt;mite_io_addr + 0x30);
 }
 
-static void init_6143(comedi_device * dev)
+static void init_6143(struct comedi_device * dev)
 {
 	// Disable interrupts
 	devpriv-&gt;stc_writew(dev, 0, Interrupt_Control_Register);
@@ -1597,7 +1597,7 @@ static void init_6143(comedi_device * dev)
 }
 
 /* cleans up allocated resources */
-static int pcimio_detach(comedi_device * dev)
+static int pcimio_detach(struct comedi_device * dev)
 {
 	mio_common_detach(dev);
 	if (dev-&gt;irq) {
@@ -1616,7 +1616,7 @@ static int pcimio_detach(comedi_device * dev)
 	return 0;
 }
 
-static int pcimio_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcimio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 
@@ -1699,7 +1699,7 @@ static int pcimio_attach(comedi_device * dev, comedi_devconfig * it)
 	return ret;
 }
 
-static int pcimio_find_device(comedi_device * dev, int bus, int slot)
+static int pcimio_find_device(struct comedi_device * dev, int bus, int slot)
 {
 	struct mite_struct *mite;
 	int i;
@@ -1727,7 +1727,7 @@ static int pcimio_find_device(comedi_device * dev, int bus, int slot)
 	return -EIO;
 }
 
-static int pcimio_ai_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1739,7 +1739,7 @@ static int pcimio_ai_change(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_ao_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1751,7 +1751,7 @@ static int pcimio_ao_change(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_gpct0_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1763,7 +1763,7 @@ static int pcimio_gpct0_change(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_gpct1_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1775,7 +1775,7 @@ static int pcimio_gpct1_change(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcimio_dio_change(comedi_device * dev, comedi_subdevice * s,
+static int pcimio_dio_change(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
diff --git a/drivers/staging/comedi/drivers/ni_stc.h b/drivers/staging/comedi/drivers/ni_stc.h
index d76ef024131d..2c0929147585 100644
--- a/drivers/staging/comedi/drivers/ni_stc.h
+++ b/drivers/staging/comedi/drivers/ni_stc.h
@@ -1411,10 +1411,10 @@ typedef struct ni_board_struct {
 #define NUM_GPCT 2
 
 #define NI_PRIVATE_COMMON					\
-	uint16_t (*stc_readw)(comedi_device *dev, int register);	\
-	uint32_t (*stc_readl)(comedi_device *dev, int register);	\
-	void (*stc_writew)(comedi_device *dev, uint16_t value, int register);	\
-	void (*stc_writel)(comedi_device *dev, uint32_t value, int register);	\
+	uint16_t (*stc_readw)(struct comedi_device *dev, int register);	\
+	uint32_t (*stc_readl)(struct comedi_device *dev, int register);	\
+	void (*stc_writew)(struct comedi_device *dev, uint16_t value, int register);	\
+	void (*stc_writel)(struct comedi_device *dev, uint32_t value, int register);	\
 	\
 	unsigned short dio_output;				\
 	unsigned short dio_control;				\
diff --git a/drivers/staging/comedi/drivers/ni_tio.c b/drivers/staging/comedi/drivers/ni_tio.c
index efa9cf5546f5..f5385b903d41 100644
--- a/drivers/staging/comedi/drivers/ni_tio.c
+++ b/drivers/staging/comedi/drivers/ni_tio.c
@@ -278,7 +278,7 @@ static void __exit ni_tio_cleanup_module(void)
 
 module_exit(ni_tio_cleanup_module);
 
-struct ni_gpct_device *ni_gpct_device_construct(comedi_device * dev,
+struct ni_gpct_device *ni_gpct_device_construct(struct comedi_device * dev,
 	void (*write_register) (struct ni_gpct * counter, unsigned bits,
 		enum ni_gpct_register reg),
 	unsigned (*read_register) (struct ni_gpct * counter,
diff --git a/drivers/staging/comedi/drivers/ni_tio.h b/drivers/staging/comedi/drivers/ni_tio.h
index 39f85ec8485b..eb611e1fb34b 100644
--- a/drivers/staging/comedi/drivers/ni_tio.h
+++ b/drivers/staging/comedi/drivers/ni_tio.h
@@ -119,7 +119,7 @@ struct ni_gpct {
 };
 
 struct ni_gpct_device {
-	comedi_device *dev;
+	struct comedi_device *dev;
 	void (*write_register) (struct ni_gpct * counter, unsigned bits,
 		enum ni_gpct_register reg);
 	unsigned (*read_register) (struct ni_gpct * counter,
@@ -131,7 +131,7 @@ struct ni_gpct_device {
 	spinlock_t regs_lock;
 };
 
-extern struct ni_gpct_device *ni_gpct_device_construct(comedi_device * dev,
+extern struct ni_gpct_device *ni_gpct_device_construct(struct comedi_device * dev,
 	void (*write_register) (struct ni_gpct * counter, unsigned bits,
 		enum ni_gpct_register reg),
 	unsigned (*read_register) (struct ni_gpct * counter,
diff --git a/drivers/staging/comedi/drivers/ni_tiocmd.c b/drivers/staging/comedi/drivers/ni_tiocmd.c
index e4cc5c59f0c5..e28bc754f672 100644
--- a/drivers/staging/comedi/drivers/ni_tiocmd.c
+++ b/drivers/staging/comedi/drivers/ni_tiocmd.c
@@ -96,7 +96,7 @@ static void ni_tio_configure_dma(struct ni_gpct *counter, short enable,
 	}
 }
 
-static int ni_tio_input_inttrig(comedi_device * dev, comedi_subdevice * s,
+static int ni_tio_input_inttrig(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
diff --git a/drivers/staging/comedi/drivers/pcl711.c b/drivers/staging/comedi/drivers/pcl711.c
index d54e55fe963f..6542b6fd06f2 100644
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -154,8 +154,8 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static int pcl711_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl711_detach(comedi_device * dev);
+static int pcl711_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl711_detach(struct comedi_device * dev);
 static comedi_driver driver_pcl711 = {
       driver_name:"pcl711",
       module:THIS_MODULE,
@@ -185,7 +185,7 @@ static irqreturn_t pcl711_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	int lo, hi;
 	int data;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 	if (!dev-&gt;attached) {
@@ -213,7 +213,7 @@ static irqreturn_t pcl711_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pcl711_set_changain(comedi_device * dev, int chan)
+static void pcl711_set_changain(struct comedi_device * dev, int chan)
 {
 	int chan_register;
 
@@ -240,7 +240,7 @@ static void pcl711_set_changain(comedi_device * dev, int chan)
 	}
 }
 
-static int pcl711_ai_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -279,7 +279,7 @@ static int pcl711_ai_insn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl711_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int tmp;
@@ -381,7 +381,7 @@ static int pcl711_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcl711_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pcl711_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int timer1, timer2;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -427,7 +427,7 @@ static int pcl711_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 /*
    analog output
 */
-static int pcl711_ao_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -445,7 +445,7 @@ static int pcl711_ao_insn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl711_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -460,7 +460,7 @@ static int pcl711_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* Digital port read - Untested on 8112 */
-static int pcl711_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl711_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -473,7 +473,7 @@ static int pcl711_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* Digital port write - Untested on 8112 */
-static int pcl711_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl711_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -494,7 +494,7 @@ static int pcl711_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 /*  Free any resources that we have claimed  */
-static int pcl711_detach(comedi_device * dev)
+static int pcl711_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pcl711: remove\n", dev-&gt;minor);
 
@@ -508,7 +508,7 @@ static int pcl711_detach(comedi_device * dev)
 }
 
 /*  Initialization */
-static int pcl711_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl711_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	unsigned long iobase;
diff --git a/drivers/staging/comedi/drivers/pcl724.c b/drivers/staging/comedi/drivers/pcl724.c
index 047bebbb4a07..a65bcfb1043b 100644
--- a/drivers/staging/comedi/drivers/pcl724.c
+++ b/drivers/staging/comedi/drivers/pcl724.c
@@ -56,8 +56,8 @@ See the source for configuration details.
 
 // #define PCL724_IRQ   1  /* no IRQ support now */
 
-static int pcl724_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl724_detach(comedi_device * dev);
+static int pcl724_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl724_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// board name
@@ -122,7 +122,7 @@ static int subdev_8255mapped_cb(int dir, int port, int data,
 	}
 }
 
-static int pcl724_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl724_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase;
 	unsigned int iorange;
@@ -198,7 +198,7 @@ static int pcl724_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcl724_detach(comedi_device * dev)
+static int pcl724_detach(struct comedi_device * dev)
 {
 	int i;
 
diff --git a/drivers/staging/comedi/drivers/pcl725.c b/drivers/staging/comedi/drivers/pcl725.c
index a252defade5b..afe51b7f4ef1 100644
--- a/drivers/staging/comedi/drivers/pcl725.c
+++ b/drivers/staging/comedi/drivers/pcl725.c
@@ -20,8 +20,8 @@ Devices: [Advantech] PCL-725 (pcl725)
 #define PCL725_DO 0
 #define PCL725_DI 1
 
-static int pcl725_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl725_detach(comedi_device * dev);
+static int pcl725_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl725_detach(struct comedi_device * dev);
 static comedi_driver driver_pcl725 = {
       driver_name:"pcl725",
       module:THIS_MODULE,
@@ -31,7 +31,7 @@ static comedi_driver driver_pcl725 = {
 
 COMEDI_INITCLEANUP(driver_pcl725);
 
-static int pcl725_do_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl725_do_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -48,7 +48,7 @@ static int pcl725_do_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl725_di_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl725_di_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -59,7 +59,7 @@ static int pcl725_di_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl725_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl725_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -100,7 +100,7 @@ static int pcl725_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcl725_detach(comedi_device * dev)
+static int pcl725_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pcl725: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/pcl726.c b/drivers/staging/comedi/drivers/pcl726.c
index 61097184e3cc..373c1a7f2368 100644
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -111,8 +111,8 @@ static const comedi_lrange *const rangelist_728[] = {
 	&amp;range_4_20mA, &amp;range_0_20mA
 };
 
-static int pcl726_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl726_detach(comedi_device * dev);
+static int pcl726_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl726_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// driver name
@@ -168,7 +168,7 @@ typedef struct {
 } pcl726_private;
 #define devpriv ((pcl726_private *)dev-&gt;private)
 
-static int pcl726_ao_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl726_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int hi, lo;
@@ -193,7 +193,7 @@ static int pcl726_ao_insn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl726_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl726_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -205,7 +205,7 @@ static int pcl726_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl726_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl726_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -217,7 +217,7 @@ static int pcl726_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl726_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl726_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -237,7 +237,7 @@ static int pcl726_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl726_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl726_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -356,7 +356,7 @@ static int pcl726_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcl726_detach(comedi_device * dev)
+static int pcl726_detach(struct comedi_device * dev)
 {
 //      printk("comedi%d: pcl726: remove\n",dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/pcl730.c b/drivers/staging/comedi/drivers/pcl730.c
index a33ff0850c48..63f38738c47a 100644
--- a/drivers/staging/comedi/drivers/pcl730.c
+++ b/drivers/staging/comedi/drivers/pcl730.c
@@ -26,8 +26,8 @@ The ACL-7130 card have an 8254 timer/counter not supported by this driver.
 #define PCL730_DIO_LO	2	/* TTL Digital I/O low byte (D0-D7) */
 #define PCL730_DIO_HI	3	/* TTL Digital I/O high byte (D8-D15) */
 
-static int pcl730_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl730_detach(comedi_device * dev);
+static int pcl730_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl730_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// board name
@@ -55,7 +55,7 @@ static comedi_driver driver_pcl730 = {
 
 COMEDI_INITCLEANUP(driver_pcl730);
 
-static int pcl730_do_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl730_do_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -77,7 +77,7 @@ static int pcl730_do_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl730_di_insn(comedi_device * dev, comedi_subdevice * s,
+static int pcl730_di_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -89,7 +89,7 @@ static int pcl730_di_insn(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl730_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl730_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -155,7 +155,7 @@ static int pcl730_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcl730_detach(comedi_device * dev)
+static int pcl730_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pcl730: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/pcl812.c b/drivers/staging/comedi/drivers/pcl812.c
index b3d24cb588a0..0c8e03d66594 100644
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -292,8 +292,8 @@ static const comedi_lrange range_a821pgh_ai = { 4, {
 	}
 };
 
-static int pcl812_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl812_detach(comedi_device * dev);
+static int pcl812_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl812_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// board name
@@ -425,15 +425,15 @@ typedef struct {
 /*
 ==============================================================================
 */
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
-static void setup_range_channel(comedi_device * dev, comedi_subdevice * s,
+static void setup_range_channel(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int rangechan, char wait);
-static int pcl812_ai_cancel(comedi_device * dev, comedi_subdevice * s);
+static int pcl812_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
 /*
 ==============================================================================
 */
-static int pcl812_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -467,7 +467,7 @@ static int pcl812_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int acl8216_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int acl8216_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -503,7 +503,7 @@ static int acl8216_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -523,7 +523,7 @@ static int pcl812_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -539,7 +539,7 @@ static int pcl812_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl812_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -554,7 +554,7 @@ static int pcl812_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl812_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -591,7 +591,7 @@ static void pcl812_cmdtest_out(int e, comedi_cmd * cmd)
 /*
 ==============================================================================
 */
-static int pcl812_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -770,7 +770,7 @@ static int pcl812_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int pcl812_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned int divisor1 = 0, divisor2 = 0, i, dma_flags, bytes;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -922,7 +922,7 @@ static irqreturn_t interrupt_pcl812_ai_int(int irq, void *d)
 {
 	char err = 1;
 	unsigned int mask, timeout;
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 
 	s-&gt;async-&gt;events = 0;
@@ -980,7 +980,7 @@ static irqreturn_t interrupt_pcl812_ai_int(int irq, void *d)
 /*
 ==============================================================================
 */
-static void transfer_from_dma_buf(comedi_device * dev, comedi_subdevice * s,
+static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice * s,
 	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	unsigned int i;
@@ -1008,7 +1008,7 @@ static void transfer_from_dma_buf(comedi_device * dev, comedi_subdevice * s,
 */
 static irqreturn_t interrupt_pcl812_ai_dma(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned long dma_flags;
 	int len, bufptr;
@@ -1059,7 +1059,7 @@ static irqreturn_t interrupt_pcl812_ai_dma(int irq, void *d)
 */
 static irqreturn_t interrupt_pcl812(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	if (!dev-&gt;attached) {
 		comedi_error(dev, "spurious interrupt");
@@ -1075,7 +1075,7 @@ static irqreturn_t interrupt_pcl812(int irq, void *d PT_REGS_ARG)
 /*
 ==============================================================================
 */
-static int pcl812_ai_poll(comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int top1, top2, i;
@@ -1119,7 +1119,7 @@ static int pcl812_ai_poll(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static void setup_range_channel(comedi_device * dev, comedi_subdevice * s,
+static void setup_range_channel(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int rangechan, char wait)
 {
 	unsigned char chan_reg = CR_CHAN(rangechan);	// normal board
@@ -1155,7 +1155,7 @@ static void setup_range_channel(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2)
 {
 #ifdef PCL812_EXTDEBUG
@@ -1180,7 +1180,7 @@ static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
 /*
 ==============================================================================
 */
-static void free_resources(comedi_device * dev)
+static void free_resources(struct comedi_device * dev)
 {
 
 	if (dev-&gt;private) {
@@ -1200,7 +1200,7 @@ static void free_resources(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pcl812_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 #ifdef PCL812_EXTDEBUG
 	rt_printk("pcl812 EDBG: BGN: pcl812_ai_cancel(...)\n");
@@ -1220,7 +1220,7 @@ static int pcl812_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 /*
 ==============================================================================
 */
-static void pcl812_reset(comedi_device * dev)
+static void pcl812_reset(struct comedi_device * dev)
 {
 #ifdef PCL812_EXTDEBUG
 	rt_printk("pcl812 EDBG: BGN: pcl812_reset(...)\n");
@@ -1262,7 +1262,7 @@ static void pcl812_reset(comedi_device * dev)
 /*
 ==============================================================================
 */
-static int pcl812_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl812_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret, subdev;
 	unsigned long iobase;
@@ -1590,7 +1590,7 @@ static int pcl812_attach(comedi_device * dev, comedi_devconfig * it)
 /*
 ==============================================================================
  */
-static int pcl812_detach(comedi_device * dev)
+static int pcl812_detach(struct comedi_device * dev)
 {
 
 #ifdef PCL812_EXTDEBUG
diff --git a/drivers/staging/comedi/drivers/pcl816.c b/drivers/staging/comedi/drivers/pcl816.c
index cb795736300d..5d8509f45a08 100644
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -146,8 +146,8 @@ static const boardtype boardtypes[] = {
 #define devpriv ((pcl816_private *)dev-&gt;private)
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static int pcl816_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl816_detach(comedi_device * dev);
+static int pcl816_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl816_detach(struct comedi_device * dev);
 
 #ifdef unused
 static int RTC_lock = 0;	/* RTC lock */
@@ -209,24 +209,24 @@ typedef struct {
 /*
 ==============================================================================
 */
-static int check_and_setup_channel_list(comedi_device * dev,
+static int check_and_setup_channel_list(struct comedi_device * dev,
 	comedi_subdevice * s, unsigned int *chanlist, int chanlen);
-static int pcl816_ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static int pcl816_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 #ifdef unused
 static int set_rtc_irq_bit(unsigned char bit);
 #endif
 
-static int pcl816_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pcl816_ai_cmd(comedi_device * dev, comedi_subdevice * s);
+static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
 
 /*
 ==============================================================================
    ANALOG INPUT MODE0, 816 cards, slow version
 */
-static int pcl816_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -280,7 +280,7 @@ static int pcl816_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 */
 static irqreturn_t interrupt_pcl816_ai_mode13_int(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int low, hi;
 	int timeout = 50;	/* wait max 50us */
@@ -330,7 +330,7 @@ static irqreturn_t interrupt_pcl816_ai_mode13_int(int irq, void *d)
 ==============================================================================
    analog input dma mode 1 &amp; 3, 816 cards
 */
-static void transfer_from_dma_buf(comedi_device * dev, comedi_subdevice * s,
+static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice * s,
 	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	int i;
@@ -361,7 +361,7 @@ static void transfer_from_dma_buf(comedi_device * dev, comedi_subdevice * s,
 
 static irqreturn_t interrupt_pcl816_ai_mode13_dma(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int len, bufptr, this_dma_buf;
 	unsigned long dma_flags;
@@ -407,7 +407,7 @@ static irqreturn_t interrupt_pcl816_ai_mode13_dma(int irq, void *d)
 */
 static irqreturn_t interrupt_pcl816(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	DPRINTK("&lt;I&gt;");
 
 	if (!dev-&gt;attached) {
@@ -458,7 +458,7 @@ static void pcl816_cmdtest_out(int e, comedi_cmd * cmd)
 /*
 ==============================================================================
 */
-static int pcl816_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -593,7 +593,7 @@ static int pcl816_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int pcl816_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned int divisor1 = 0, divisor2 = 0, dma_flags, bytes, dmairq;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -698,7 +698,7 @@ static int pcl816_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pcl816_ai_poll(comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int top1, top2, i;
@@ -741,7 +741,7 @@ static int pcl816_ai_poll(comedi_device * dev, comedi_subdevice * s)
 ==============================================================================
  cancel any mode 1-4 AI
 */
-static int pcl816_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 //  DEBUG(rt_printk("pcl816_ai_cancel()\n");)
 
@@ -809,7 +809,7 @@ static int pcl816_check(unsigned long iobase)
 ==============================================================================
  reset whole PCL-816 cards
 */
-static void pcl816_reset(comedi_device * dev)
+static void pcl816_reset(struct comedi_device * dev)
 {
 //  outb (0, dev-&gt;iobase + PCL818_DA_LO);       // DAC=0V
 //  outb (0, dev-&gt;iobase + PCL818_DA_HI);
@@ -831,7 +831,7 @@ static void pcl816_reset(comedi_device * dev)
  Start/stop pacer onboard pacer
 */
 static void
-start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2)
 {
 	outb(0x32, dev-&gt;iobase + PCL816_CTRCTL);
@@ -861,7 +861,7 @@ start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
  If it's ok, then program scan/gain logic
 */
 static int
-check_and_setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+check_and_setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, int chanlen)
 {
 	unsigned int chansegment[16];
@@ -975,7 +975,7 @@ static int set_rtc_irq_bit(unsigned char bit)
 ==============================================================================
   Free any resources that we have claimed
 */
-static void free_resources(comedi_device * dev)
+static void free_resources(struct comedi_device * dev)
 {
 	//rt_printk("free_resource()\n");
 	if (dev-&gt;private) {
@@ -1011,7 +1011,7 @@ static void free_resources(comedi_device * dev)
    Initialization
 
 */
-static int pcl816_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl816_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	unsigned long iobase;
@@ -1234,7 +1234,7 @@ case COMEDI_SUBD_DO:
 ==============================================================================
   Removes device
  */
-static int pcl816_detach(comedi_device * dev)
+static int pcl816_detach(struct comedi_device * dev)
 {
 	DEBUG(rt_printk("comedi%d: pcl816: remove\n", dev-&gt;minor);
 		)
diff --git a/drivers/staging/comedi/drivers/pcl818.c b/drivers/staging/comedi/drivers/pcl818.c
index 5425c196bed1..156788916b50 100644
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -244,8 +244,8 @@ static const comedi_lrange range718_bipolar0_5 = { 1, {BIP_RANGE(0.5),} };
 static const comedi_lrange range718_unipolar2 = { 1, {UNI_RANGE(2),} };
 static const comedi_lrange range718_unipolar1 = { 1, {BIP_RANGE(1),} };
 
-static int pcl818_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcl818_detach(comedi_device * dev);
+static int pcl818_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcl818_detach(struct comedi_device * dev);
 
 #ifdef unused
 static int RTC_lock = 0;	/* RTC lock */
@@ -368,13 +368,13 @@ static const unsigned int muxonechan[] = { 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0
 /*
 ==============================================================================
 */
-static void setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen);
-static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan);
 
-static int pcl818_ai_cancel(comedi_device * dev, comedi_subdevice * s);
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static int pcl818_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 
 #ifdef unused
@@ -387,7 +387,7 @@ static int rtc_setfreq_irq(int freq);
 ==============================================================================
    ANALOG INPUT MODE0, 818 cards, slow version
 */
-static int pcl818_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -434,7 +434,7 @@ static int pcl818_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
    ANALOG OUTPUT MODE0, 818 cards
    only one sample per call is supported
 */
-static int pcl818_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -447,7 +447,7 @@ static int pcl818_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int pcl818_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -470,7 +470,7 @@ static int pcl818_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 
    only one sample per call is supported
 */
-static int pcl818_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -488,7 +488,7 @@ static int pcl818_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 
    only one sample per call is supported
 */
-static int pcl818_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -512,7 +512,7 @@ static int pcl818_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 */
 static irqreturn_t interrupt_pcl818_ai_mode13_int(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int low;
 	int timeout = 50;	/* wait max 50us */
@@ -565,7 +565,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_int(int irq, void *d)
 */
 static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int i, len, bufptr;
 	unsigned long flags;
@@ -640,7 +640,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 */
 static irqreturn_t interrupt_pcl818_ai_mode13_dma_rtc(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned long tmp;
 	unsigned int top1, top2, i, bufptr;
@@ -738,7 +738,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma_rtc(int irq, void *d)
 */
 static irqreturn_t interrupt_pcl818_ai_mode13_fifo(int irq, void *d)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int i, len, lo;
 
@@ -808,7 +808,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_fifo(int irq, void *d)
 */
 static irqreturn_t interrupt_pcl818(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 
 	if (!dev-&gt;attached) {
 		comedi_error(dev, "premature interrupt");
@@ -870,7 +870,7 @@ static irqreturn_t interrupt_pcl818(int irq, void *d PT_REGS_ARG)
 ==============================================================================
    ANALOG INPUT MODE 1 or 3 DMA , 818 cards
 */
-static void pcl818_ai_mode13dma_int(int mode, comedi_device * dev,
+static void pcl818_ai_mode13dma_int(int mode, struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	unsigned int flags;
@@ -911,7 +911,7 @@ static void pcl818_ai_mode13dma_int(int mode, comedi_device * dev,
 ==============================================================================
    ANALOG INPUT MODE 1 or 3 DMA rtc, 818 cards
 */
-static void pcl818_ai_mode13dma_rtc(int mode, comedi_device * dev,
+static void pcl818_ai_mode13dma_rtc(int mode, struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	unsigned int flags;
@@ -952,7 +952,7 @@ static void pcl818_ai_mode13dma_rtc(int mode, comedi_device * dev,
 ==============================================================================
    ANALOG INPUT MODE 1 or 3, 818 cards
 */
-static int pcl818_ai_cmd_mode(int mode, comedi_device * dev,
+static int pcl818_ai_cmd_mode(int mode, struct comedi_device * dev,
 	comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -1063,7 +1063,7 @@ static int pcl818_ai_cmd_mode(int mode, comedi_device * dev,
    ANALOG OUTPUT MODE 1 or 3, 818 cards
 */
 #ifdef PCL818_MODE13_AO
-static int pcl818_ao_mode13(int mode, comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode13(int mode, struct comedi_device * dev, comedi_subdevice * s,
 	comedi_trig * it)
 {
 	int divisor1, divisor2;
@@ -1116,7 +1116,7 @@ static int pcl818_ao_mode13(int mode, comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
    ANALOG OUTPUT MODE 1, 818 cards
 */
-static int pcl818_ao_mode1(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode1(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_trig * it)
 {
 	return pcl818_ao_mode13(1, dev, s, it);
@@ -1126,7 +1126,7 @@ static int pcl818_ao_mode1(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
    ANALOG OUTPUT MODE 3, 818 cards
 */
-static int pcl818_ao_mode3(comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode3(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_trig * it)
 {
 	return pcl818_ao_mode13(3, dev, s, it);
@@ -1138,7 +1138,7 @@ static int pcl818_ao_mode3(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
  Start/stop pacer onboard pacer
 */
-static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
+static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2)
 {
 	outb(0xb4, dev-&gt;iobase + PCL818_CTRCTL);
@@ -1158,7 +1158,7 @@ static void start_pacer(comedi_device * dev, int mode, unsigned int divisor1,
  Check if channel list from user is builded correctly
  If it's ok, then program scan/gain logic
 */
-static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int chansegment[16];
@@ -1214,7 +1214,7 @@ static int check_channel_list(comedi_device * dev, comedi_subdevice * s,
 	return seglen;
 }
 
-static void setup_channel_list(comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen)
 {
 	int i;
@@ -1251,7 +1251,7 @@ static int check_single_ended(unsigned int port)
 /*
 ==============================================================================
 */
-static int ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1396,7 +1396,7 @@ static int ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 /*
 ==============================================================================
 */
-static int ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int retval;
@@ -1435,7 +1435,7 @@ static int ai_cmd(comedi_device * dev, comedi_subdevice * s)
 ==============================================================================
  cancel any mode 1-4 AI
 */
-static int pcl818_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pcl818_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (devpriv-&gt;irq_blocked &gt; 0) {
 		rt_printk("pcl818_ai_cancel()\n");
@@ -1516,7 +1516,7 @@ static int pcl818_check(unsigned long iobase)
 ==============================================================================
  reset whole PCL-818 cards
 */
-static void pcl818_reset(comedi_device * dev)
+static void pcl818_reset(struct comedi_device * dev)
 {
 	if (devpriv-&gt;usefifo) {	// FIFO shutdown
 		outb(0, dev-&gt;iobase + PCL818_FI_INTCLR);
@@ -1586,7 +1586,7 @@ static int set_rtc_irq_bit(unsigned char bit)
 */
 static void rtc_dropped_irq(unsigned long data)
 {
-	comedi_device *dev = (void *)data;
+	struct comedi_device *dev = (void *)data;
 	unsigned long flags, tmp;
 
 	switch (devpriv-&gt;int818_mode) {
@@ -1637,7 +1637,7 @@ static int rtc_setfreq_irq(int freq)
 ==============================================================================
   Free any resources that we have claimed
 */
-static void free_resources(comedi_device * dev)
+static void free_resources(struct comedi_device * dev)
 {
 	//rt_printk("free_resource()\n");
 	if (dev-&gt;private) {
@@ -1675,7 +1675,7 @@ static void free_resources(comedi_device * dev)
    Initialization
 
 */
-static int pcl818_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcl818_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	unsigned long iobase;
@@ -1976,7 +1976,7 @@ static int pcl818_attach(comedi_device * dev, comedi_devconfig * it)
 ==============================================================================
   Removes device
  */
-static int pcl818_detach(comedi_device * dev)
+static int pcl818_detach(struct comedi_device * dev)
 {
 	//  rt_printk("comedi%d: pcl818: remove\n", dev-&gt;minor);
 	free_resources(dev);
diff --git a/drivers/staging/comedi/drivers/pcm3724.c b/drivers/staging/comedi/drivers/pcm3724.c
index c4458442d5be..aa4ecddcf2a1 100644
--- a/drivers/staging/comedi/drivers/pcm3724.c
+++ b/drivers/staging/comedi/drivers/pcm3724.c
@@ -62,8 +62,8 @@ Copy/pasted/hacked from pcm724.c
 #define CR_A_MODE(a)	((a)&lt;&lt;5)
 #define CR_CW		0x80
 
-static int pcm3724_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcm3724_detach(comedi_device * dev);
+static int pcm3724_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcm3724_detach(struct comedi_device * dev);
 
 typedef struct {
 	const char *name;	// driver name
@@ -142,7 +142,7 @@ static int compute_buffer(int config, int devno, comedi_subdevice * s)
 	return config;
 }
 
-static void do_3724_config(comedi_device * dev, comedi_subdevice * s,
+static void do_3724_config(struct comedi_device * dev, comedi_subdevice * s,
 	int chanspec)
 {
 	int config;
@@ -176,7 +176,7 @@ static void do_3724_config(comedi_device * dev, comedi_subdevice * s,
 	outb(config, port_8255_cfg);
 }
 
-static void enable_chan(comedi_device * dev, comedi_subdevice * s, int chanspec)
+static void enable_chan(struct comedi_device * dev, comedi_subdevice * s, int chanspec)
 {
 	unsigned int mask;
 	int gatecfg;
@@ -214,7 +214,7 @@ static void enable_chan(comedi_device * dev, comedi_subdevice * s, int chanspec)
 }
 
 /* overriding the 8255 insn config */
-static int subdev_3724_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int subdev_3724_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -251,7 +251,7 @@ static int subdev_3724_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pcm3724_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcm3724_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase;
 	unsigned int iorange;
@@ -289,7 +289,7 @@ static int pcm3724_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcm3724_detach(comedi_device * dev)
+static int pcm3724_detach(struct comedi_device * dev)
 {
 	int i;
 
diff --git a/drivers/staging/comedi/drivers/pcm3730.c b/drivers/staging/comedi/drivers/pcm3730.c
index 1283be635ef8..c7d275f1fcbb 100644
--- a/drivers/staging/comedi/drivers/pcm3730.c
+++ b/drivers/staging/comedi/drivers/pcm3730.c
@@ -28,8 +28,8 @@ Configuration options:
 #define PCM3730_DIB 2
 #define PCM3730_DIC 3
 
-static int pcm3730_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcm3730_detach(comedi_device * dev);
+static int pcm3730_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcm3730_detach(struct comedi_device * dev);
 static comedi_driver driver_pcm3730 = {
       driver_name:"pcm3730",
       module:THIS_MODULE,
@@ -39,7 +39,7 @@ static comedi_driver driver_pcm3730 = {
 
 COMEDI_INITCLEANUP(driver_pcm3730);
 
-static int pcm3730_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcm3730_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -54,7 +54,7 @@ static int pcm3730_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcm3730_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcm3730_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -63,7 +63,7 @@ static int pcm3730_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcm3730_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcm3730_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -141,7 +141,7 @@ static int pcm3730_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcm3730_detach(comedi_device * dev)
+static int pcm3730_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pcm3730: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/pcmad.c b/drivers/staging/comedi/drivers/pcmad.c
index 1a371da6f828..08fe79ab59f3 100644
--- a/drivers/staging/comedi/drivers/pcmad.c
+++ b/drivers/staging/comedi/drivers/pcmad.c
@@ -76,8 +76,8 @@ struct pcmad_priv_struct {
 };
 #define devpriv ((struct pcmad_priv_struct *)dev-&gt;private)
 
-static int pcmad_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcmad_detach(comedi_device * dev);
+static int pcmad_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcmad_detach(struct comedi_device * dev);
 static comedi_driver driver_pcmad = {
       driver_name:"pcmad",
       module:THIS_MODULE,
@@ -92,7 +92,7 @@ COMEDI_INITCLEANUP(driver_pcmad);
 
 #define TIMEOUT	100
 
-static int pcmad_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int pcmad_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -126,7 +126,7 @@ static int pcmad_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
  * 2	0=single ended 1=differential
  * 3	0=straight binary 1=two's comp
  */
-static int pcmad_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcmad_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	comedi_subdevice *s;
@@ -159,7 +159,7 @@ static int pcmad_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int pcmad_detach(comedi_device * dev)
+static int pcmad_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: pcmad: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/pcmda12.c b/drivers/staging/comedi/drivers/pcmda12.c
index c8963cdf5a5f..6a3a22ed726f 100644
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -105,10 +105,10 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pcmda12_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcmda12_detach(comedi_device * dev);
+static int pcmda12_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcmda12_detach(struct comedi_device * dev);
 
-static void zero_chans(comedi_device * dev);
+static void zero_chans(struct comedi_device * dev);
 
 static comedi_driver driver = {
       driver_name:"pcmda12",
@@ -138,9 +138,9 @@ static comedi_driver driver = {
       num_names:sizeof(pcmda12_boards) / sizeof(pcmda12_board),
 };
 
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -149,7 +149,7 @@ static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pcmda12_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcmda12_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -218,7 +218,7 @@ static int pcmda12_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pcmda12_detach(comedi_device * dev)
+static int pcmda12_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: %s: remove\n", dev-&gt;minor, driver.driver_name);
 	if (dev-&gt;iobase)
@@ -226,7 +226,7 @@ static int pcmda12_detach(comedi_device * dev)
 	return 0;
 }
 
-static void zero_chans(comedi_device * dev)
+static void zero_chans(struct comedi_device * dev)
 {				/* sets up an
 				   ASIC chip to defaults */
 	int i;
@@ -239,7 +239,7 @@ static void zero_chans(comedi_device * dev)
 	inb(LSB_PORT(0));	/* update chans. */
 }
 
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -281,7 +281,7 @@ static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
    DAC outputs, which makes all AO channels update simultaneously.
    This is useful for some control applications, I would imagine.
 */
-static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 739959cd2cfd..77f62cddddb3 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -139,14 +139,14 @@ Configuration Options:
 #define PAGE_ENAB 2
 #define PAGE_INT_ID 3
 
-typedef int (*comedi_insn_fn_t) (comedi_device *, comedi_subdevice *,
+typedef int (*comedi_insn_fn_t) (struct comedi_device *, comedi_subdevice *,
 	comedi_insn *, unsigned int *);
 
-static int ai_rinsn(comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ai_rinsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
 	unsigned int *);
-static int ao_rinsn(comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ao_rinsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
 	unsigned int *);
-static int ao_winsn(comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ao_winsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
 	unsigned int *);
 
 /*
@@ -237,7 +237,7 @@ typedef struct {
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	/* stuff for DIO */
 	struct {
@@ -264,8 +264,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pcmmio_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcmmio_detach(comedi_device * dev);
+static int pcmmio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcmmio_detach(struct comedi_device * dev);
 
 static comedi_driver driver = {
       driver_name:"pcmmio",
@@ -295,24 +295,24 @@ static comedi_driver driver = {
       num_names:sizeof(pcmmio_boards) / sizeof(pcmmio_board),
 };
 
-static int pcmmio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcmmio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG);
-static void pcmmio_stop_intr(comedi_device *, comedi_subdevice *);
-static int pcmmio_cancel(comedi_device * dev, comedi_subdevice * s);
-static int pcmmio_cmd(comedi_device * dev, comedi_subdevice * s);
-static int pcmmio_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static void pcmmio_stop_intr(struct comedi_device *, comedi_subdevice *);
+static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pcmmio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 /* some helper functions to deal with specifics of this device's registers */
-static void init_asics(comedi_device * dev);	/* sets up/clears ASIC chips to defaults */
-static void switch_page(comedi_device * dev, int asic, int page);
+static void init_asics(struct comedi_device * dev);	/* sets up/clears ASIC chips to defaults */
+static void switch_page(struct comedi_device * dev, int asic, int page);
 #ifdef notused
-static void lock_port(comedi_device * dev, int asic, int port);
-static void unlock_port(comedi_device * dev, int asic, int port);
+static void lock_port(struct comedi_device * dev, int asic, int port);
+static void unlock_port(struct comedi_device * dev, int asic, int port);
 #endif
 
 /*
@@ -321,7 +321,7 @@ static void unlock_port(comedi_device * dev, int asic, int port);
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pcmmio_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcmmio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int sdev_no, chans_left, n_dio_subdevs, n_subdevs, port, asic,
@@ -526,7 +526,7 @@ static int pcmmio_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pcmmio_detach(comedi_device * dev)
+static int pcmmio_detach(struct comedi_device * dev)
 {
 	int i;
 
@@ -550,7 +550,7 @@ static int pcmmio_detach(comedi_device * dev)
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pcmmio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
@@ -624,7 +624,7 @@ static int pcmmio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
  * configured by a special insn_config instruction.  chanspec
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
-static int pcmmio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), byte_no = chan / 8, bit_no =
@@ -685,7 +685,7 @@ static int pcmmio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static void init_asics(comedi_device * dev)
+static void init_asics(struct comedi_device * dev)
 {				/* sets up an
 				   ASIC chip to defaults */
 	int asic;
@@ -722,7 +722,7 @@ static void init_asics(comedi_device * dev)
 	}
 }
 
-static void switch_page(comedi_device * dev, int asic, int page)
+static void switch_page(struct comedi_device * dev, int asic, int page)
 {
 	if (asic &lt; 0 || asic &gt;= thisboard-&gt;dio_num_asics)
 		return;		/* paranoia */
@@ -738,7 +738,7 @@ static void switch_page(comedi_device * dev, int asic, int page)
 }
 
 #ifdef notused
-static void lock_port(comedi_device * dev, int asic, int port)
+static void lock_port(struct comedi_device * dev, int asic, int port)
 {
 	if (asic &lt; 0 || asic &gt;= thisboard-&gt;dio_num_asics)
 		return;		/* paranoia */
@@ -752,7 +752,7 @@ static void lock_port(comedi_device * dev, int asic, int port)
 	return;
 }
 
-static void unlock_port(comedi_device * dev, int asic, int port)
+static void unlock_port(struct comedi_device * dev, int asic, int port)
 {
 	if (asic &lt; 0 || asic &gt;= thisboard-&gt;dio_num_asics)
 		return;		/* paranoia */
@@ -768,7 +768,7 @@ static void unlock_port(comedi_device * dev, int asic, int port)
 static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG)
 {
 	int asic, got1 = 0;
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	for (asic = 0; asic &lt; MAX_ASICS; ++asic) {
 		if (irq == devpriv-&gt;asics[asic].irq) {
@@ -917,7 +917,7 @@ static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pcmmio_stop_intr(comedi_device * dev, comedi_subdevice * s)
+static void pcmmio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int nports, firstport, asic, port;
 
@@ -936,7 +936,7 @@ static void pcmmio_stop_intr(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pcmmio_start_intr(comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (!subpriv-&gt;dio.intr.continuous &amp;&amp; subpriv-&gt;dio.intr.stop_count == 0) {
 		/* An empty acquisition! */
@@ -995,7 +995,7 @@ static int pcmmio_start_intr(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pcmmio_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1011,7 +1011,7 @@ static int pcmmio_cancel(comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-pcmmio_inttrig_start_intr(comedi_device * dev, comedi_subdevice * s,
+pcmmio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -1037,7 +1037,7 @@ pcmmio_inttrig_start_intr(comedi_device * dev, comedi_subdevice * s,
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int pcmmio_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
@@ -1082,7 +1082,7 @@ static int pcmmio_cmd(comedi_device * dev, comedi_subdevice * s)
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-pcmmio_cmdtest(comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pcmmio_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
@@ -1194,7 +1194,7 @@ static int adc_wait_ready(unsigned long iobase)
 }
 
 /* All this is for AI and AO */
-static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -1258,7 +1258,7 @@ static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -1288,7 +1288,7 @@ static int wait_dac_ready(unsigned long iobase)
 	return 1;
 }
 
-static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
diff --git a/drivers/staging/comedi/drivers/pcmuio.c b/drivers/staging/comedi/drivers/pcmuio.c
index f40f91987e30..d2af7082c1e8 100644
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -196,7 +196,7 @@ typedef struct {
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	struct {
 		unsigned char pagelock;	/* current page and lock */
@@ -222,8 +222,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int pcmuio_attach(comedi_device * dev, comedi_devconfig * it);
-static int pcmuio_detach(comedi_device * dev);
+static int pcmuio_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int pcmuio_detach(struct comedi_device * dev);
 
 static comedi_driver driver = {
       driver_name:"pcmuio",
@@ -253,24 +253,24 @@ static comedi_driver driver = {
       num_names:sizeof(pcmuio_boards) / sizeof(pcmuio_board),
 };
 
-static int pcmuio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcmuio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG);
-static void pcmuio_stop_intr(comedi_device *, comedi_subdevice *);
-static int pcmuio_cancel(comedi_device * dev, comedi_subdevice * s);
-static int pcmuio_cmd(comedi_device * dev, comedi_subdevice * s);
-static int pcmuio_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static void pcmuio_stop_intr(struct comedi_device *, comedi_subdevice *);
+static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pcmuio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 /* some helper functions to deal with specifics of this device's registers */
-static void init_asics(comedi_device * dev);	/* sets up/clears ASIC chips to defaults */
-static void switch_page(comedi_device * dev, int asic, int page);
+static void init_asics(struct comedi_device * dev);	/* sets up/clears ASIC chips to defaults */
+static void switch_page(struct comedi_device * dev, int asic, int page);
 #ifdef notused
-static void lock_port(comedi_device * dev, int asic, int port);
-static void unlock_port(comedi_device * dev, int asic, int port);
+static void lock_port(struct comedi_device * dev, int asic, int port);
+static void unlock_port(struct comedi_device * dev, int asic, int port);
 #endif
 
 /*
@@ -279,7 +279,7 @@ static void unlock_port(comedi_device * dev, int asic, int port);
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int pcmuio_attach(comedi_device * dev, comedi_devconfig * it)
+static int pcmuio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int sdev_no, chans_left, n_subdevs, port, asic, thisasic_chanct = 0;
@@ -450,7 +450,7 @@ static int pcmuio_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int pcmuio_detach(comedi_device * dev)
+static int pcmuio_detach(struct comedi_device * dev)
 {
 	int i;
 
@@ -474,7 +474,7 @@ static int pcmuio_detach(comedi_device * dev)
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pcmuio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
@@ -548,7 +548,7 @@ static int pcmuio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
  * configured by a special insn_config instruction.  chanspec
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
-static int pcmuio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), byte_no = chan / 8, bit_no =
@@ -609,7 +609,7 @@ static int pcmuio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static void init_asics(comedi_device * dev)
+static void init_asics(struct comedi_device * dev)
 {				/* sets up an
 				   ASIC chip to defaults */
 	int asic;
@@ -646,7 +646,7 @@ static void init_asics(comedi_device * dev)
 	}
 }
 
-static void switch_page(comedi_device * dev, int asic, int page)
+static void switch_page(struct comedi_device * dev, int asic, int page)
 {
 	if (asic &lt; 0 || asic &gt;= thisboard-&gt;num_asics)
 		return;		/* paranoia */
@@ -662,7 +662,7 @@ static void switch_page(comedi_device * dev, int asic, int page)
 }
 
 #ifdef notused
-static void lock_port(comedi_device * dev, int asic, int port)
+static void lock_port(struct comedi_device * dev, int asic, int port)
 {
 	if (asic &lt; 0 || asic &gt;= thisboard-&gt;num_asics)
 		return;		/* paranoia */
@@ -675,7 +675,7 @@ static void lock_port(comedi_device * dev, int asic, int port)
 		dev-&gt;iobase + ASIC_IOSIZE * asic + REG_PAGELOCK);
 }
 
-static void unlock_port(comedi_device * dev, int asic, int port)
+static void unlock_port(struct comedi_device * dev, int asic, int port)
 {
 	if (asic &lt; 0 || asic &gt;= thisboard-&gt;num_asics)
 		return;		/* paranoia */
@@ -691,7 +691,7 @@ static void unlock_port(comedi_device * dev, int asic, int port)
 static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG)
 {
 	int asic, got1 = 0;
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	for (asic = 0; asic &lt; MAX_ASICS; ++asic) {
 		if (irq == devpriv-&gt;asics[asic].irq) {
@@ -837,7 +837,7 @@ static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void pcmuio_stop_intr(comedi_device * dev, comedi_subdevice * s)
+static void pcmuio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	int nports, firstport, asic, port;
 
@@ -856,7 +856,7 @@ static void pcmuio_stop_intr(comedi_device * dev, comedi_subdevice * s)
 	}
 }
 
-static int pcmuio_start_intr(comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
 {
 	if (!subpriv-&gt;intr.continuous &amp;&amp; subpriv-&gt;intr.stop_count == 0) {
 		/* An empty acquisition! */
@@ -905,7 +905,7 @@ static int pcmuio_start_intr(comedi_device * dev, comedi_subdevice * s)
 	return 0;
 }
 
-static int pcmuio_cancel(comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -921,7 +921,7 @@ static int pcmuio_cancel(comedi_device * dev, comedi_subdevice * s)
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-pcmuio_inttrig_start_intr(comedi_device * dev, comedi_subdevice * s,
+pcmuio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -947,7 +947,7 @@ pcmuio_inttrig_start_intr(comedi_device * dev, comedi_subdevice * s,
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int pcmuio_cmd(comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned long flags;
@@ -992,7 +992,7 @@ static int pcmuio_cmd(comedi_device * dev, comedi_subdevice * s)
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-pcmuio_cmdtest(comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pcmuio_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
diff --git a/drivers/staging/comedi/drivers/poc.c b/drivers/staging/comedi/drivers/poc.c
index d9147d18882d..9cd1472a9120 100644
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -41,30 +41,30 @@ Configuration options:
 
 #include &lt;linux/ioport.h&gt;
 
-static int poc_attach(comedi_device * dev, comedi_devconfig * it);
-static int poc_detach(comedi_device * dev);
-static int readback_insn(comedi_device * dev, comedi_subdevice * s,
+static int poc_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int poc_detach(struct comedi_device * dev);
+static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int dac02_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcl733_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcl734_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl734_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 struct boarddef_struct {
 	const char *name;
 	unsigned int iosize;
-	int (*setup) (comedi_device *);
+	int (*setup) (struct comedi_device *);
 	int type;
 	int n_chan;
 	int n_bits;
-	int (*winsn) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*winsn) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*rinsn) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*rinsn) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insnbits) (comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insnbits) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
 		unsigned int *);
 	const comedi_lrange *range;
 };
@@ -113,7 +113,7 @@ static comedi_driver driver_poc = {
       offset:sizeof(boards[0]),
 };
 
-static int poc_attach(comedi_device * dev, comedi_devconfig * it)
+static int poc_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	unsigned long iobase;
@@ -159,7 +159,7 @@ static int poc_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int poc_detach(comedi_device * dev)
+static int poc_detach(struct comedi_device * dev)
 {
 	/* only free stuff if it has been allocated by _attach */
 	if (dev-&gt;iobase)
@@ -170,7 +170,7 @@ static int poc_detach(comedi_device * dev)
 	return 0;
 }
 
-static int readback_insn(comedi_device * dev, comedi_subdevice * s,
+static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan;
@@ -185,7 +185,7 @@ static int readback_insn(comedi_device * dev, comedi_subdevice * s,
 #define DAC02_LSB(a)	(2 * a)
 #define DAC02_MSB(a)	(2 * a + 1)
 
-static int dac02_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int temp;
@@ -208,7 +208,7 @@ static int dac02_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 	return 1;
 }
 
-static int pcl733_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -222,7 +222,7 @@ static int pcl733_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int pcl734_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int pcl734_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
diff --git a/drivers/staging/comedi/drivers/quatech_daqp_cs.c b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
index ac34c5183c0c..cc6a6daa1f9a 100644
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -86,7 +86,7 @@ typedef struct local_info_t {
 
 	struct semaphore eos;
 
-	comedi_device *dev;
+	struct comedi_device *dev;
 	comedi_subdevice *s;
 	int count;
 } local_info_t;
@@ -197,8 +197,8 @@ static const comedi_lrange range_daqp_ao = { 1, {BIP_RANGE(5)} };
 
 /* comedi interface code */
 
-static int daqp_attach(comedi_device * dev, comedi_devconfig * it);
-static int daqp_detach(comedi_device * dev);
+static int daqp_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int daqp_detach(struct comedi_device * dev);
 static comedi_driver driver_daqp = {
       driver_name:"quatech_daqp_cs",
       module:THIS_MODULE,
@@ -208,7 +208,7 @@ static comedi_driver driver_daqp = {
 
 #ifdef DAQP_DEBUG
 
-static void daqp_dump(comedi_device * dev)
+static void daqp_dump(struct comedi_device * dev)
 {
 	printk("DAQP: status %02x; aux status %02x\n",
 		inb(dev-&gt;iobase + DAQP_STATUS), inb(dev-&gt;iobase + DAQP_AUX));
@@ -234,7 +234,7 @@ static void hex_dump(char *str, void *ptr, int len)
 
 /* Cancel a running acquisition */
 
-static int daqp_ai_cancel(comedi_device * dev, comedi_subdevice * s)
+static int daqp_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 
@@ -265,7 +265,7 @@ static int daqp_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 {
 	local_info_t *local = (local_info_t *) dev_id;
-	comedi_device *dev;
+	struct comedi_device *dev;
 	comedi_subdevice *s;
 	int loop_limit = 10000;
 	int status;
@@ -284,7 +284,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 
 	if (!dev-&gt;attached) {
 		printk(KERN_WARNING
-			"daqp_interrupt(): comedi_device not yet attached.\n");
+			"daqp_interrupt(): struct comedi_device not yet attached.\n");
 		return;
 	}
 
@@ -361,7 +361,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 
 /* One-shot analog data acquisition routine */
 
-static int daqp_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int daqp_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -467,7 +467,7 @@ static int daqp_ns_to_timer(unsigned int *ns, int round)
  * the command passes.
  */
 
-static int daqp_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int daqp_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -593,7 +593,7 @@ static int daqp_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	return 0;
 }
 
-static int daqp_ai_cmd(comedi_device * dev, comedi_subdevice * s)
+static int daqp_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
@@ -793,7 +793,7 @@ static int daqp_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 
 /* Single-shot analog output routine */
 
-static int daqp_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int daqp_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -820,7 +820,7 @@ static int daqp_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 
 /* Digital input routine */
 
-static int daqp_di_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int daqp_di_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -836,7 +836,7 @@ static int daqp_di_insn_read(comedi_device * dev, comedi_subdevice * s,
 
 /* Digital output routine */
 
-static int daqp_do_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int daqp_do_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
@@ -856,7 +856,7 @@ static int daqp_do_insn_write(comedi_device * dev, comedi_subdevice * s,
  * when it is inserted.
  */
 
-static int daqp_attach(comedi_device * dev, comedi_devconfig * it)
+static int daqp_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
 	local_info_t *local = dev_table[it-&gt;options[0]];
@@ -962,7 +962,7 @@ static int daqp_attach(comedi_device * dev, comedi_devconfig * it)
  * card is removed, daqp_cs_detach() is called by the pcmcia subsystem.
  */
 
-static int daqp_detach(comedi_device * dev)
+static int daqp_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: detaching daqp\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/rtd520.c b/drivers/staging/comedi/drivers/rtd520.c
index 571fa54c4d38..f4b1fc6fa488 100644
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -680,8 +680,8 @@ struct rtdPrivate {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int rtd_attach(comedi_device *dev, comedi_devconfig *it);
-static int rtd_detach(comedi_device *dev);
+static int rtd_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int rtd_detach(struct comedi_device *dev);
 
 static comedi_driver rtd520Driver = {
       driver_name: DRV_NAME,
@@ -690,24 +690,24 @@ static comedi_driver rtd520Driver = {
       detach : rtd_detach,
 };
 
-static int rtd_ai_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int rtd_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ao_winsn(comedi_device *dev, comedi_subdevice *s,
+static int rtd_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int rtd_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int rtd_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int rtd_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int rtd_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_cmd *cmd);
-static int rtd_ai_cmd(comedi_device *dev, comedi_subdevice *s);
-static int rtd_ai_cancel(comedi_device *dev, comedi_subdevice *s);
-/* static int rtd_ai_poll (comedi_device *dev,comedi_subdevice *s); */
+static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
+static int rtd_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
+/* static int rtd_ai_poll (struct comedi_device *dev,comedi_subdevice *s); */
 static int rtd_ns_to_timer(unsigned int *ns, int roundMode);
 static irqreturn_t rtd_interrupt(int irq, void *d PT_REGS_ARG);
-static int rtd520_probe_fifo_depth(comedi_device *dev);
+static int rtd520_probe_fifo_depth(struct comedi_device *dev);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -715,7 +715,7 @@ static int rtd520_probe_fifo_depth(comedi_device *dev);
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int rtd_attach(comedi_device *dev, comedi_devconfig *it)
+static int rtd_attach(struct comedi_device *dev, comedi_devconfig *it)
 {				/* board name and options flags */
 	comedi_subdevice *s;
 	struct pci_dev *pcidev;
@@ -1060,7 +1060,7 @@ static int rtd_attach(comedi_device *dev, comedi_devconfig *it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int rtd_detach(comedi_device *dev)
+static int rtd_detach(struct comedi_device *dev)
 {
 #ifdef USE_DMA
 	int index;
@@ -1140,7 +1140,7 @@ static int rtd_detach(comedi_device *dev)
 /*
   Convert a single comedi channel-gain entry to a RTD520 table entry
 */
-static unsigned short rtdConvertChanGain(comedi_device *dev,
+static unsigned short rtdConvertChanGain(struct comedi_device *dev,
 	unsigned int comediChan, int chanIndex)
 {				/* index in channel list */
 	unsigned int chan, range, aref;
@@ -1190,7 +1190,7 @@ static unsigned short rtdConvertChanGain(comedi_device *dev,
 /*
   Setup the channel-gain table from a comedi list
 */
-static void rtd_load_channelgain_list(comedi_device *dev,
+static void rtd_load_channelgain_list(struct comedi_device *dev,
 	unsigned int n_chan, unsigned int *list)
 {
 	if (n_chan &gt; 1) {	/* setup channel gain table */
@@ -1209,7 +1209,7 @@ static void rtd_load_channelgain_list(comedi_device *dev,
 
 /* determine fifo size by doing adc conversions until the fifo half
 empty status flag clears */
-static int rtd520_probe_fifo_depth(comedi_device *dev)
+static int rtd520_probe_fifo_depth(struct comedi_device *dev)
 {
 	unsigned int chanspec = CR_PACK(0, 0, AREF_GROUND);
 	unsigned i;
@@ -1254,7 +1254,7 @@ static int rtd520_probe_fifo_depth(comedi_device *dev)
   Note, we don't do any settling delays.  Use a instruction list to
   select, delay, then read.
  */
-static int rtd_ai_rinsn(comedi_device *dev,
+static int rtd_ai_rinsn(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int n, ii;
@@ -1307,7 +1307,7 @@ static int rtd_ai_rinsn(comedi_device *dev,
 
   The manual claims that we can do a lword read, but it doesn't work here.
 */
-static int ai_read_n(comedi_device *dev, comedi_subdevice *s, int count)
+static int ai_read_n(struct comedi_device *dev, comedi_subdevice *s, int count)
 {
 	int ii;
 
@@ -1346,7 +1346,7 @@ static int ai_read_n(comedi_device *dev, comedi_subdevice *s, int count)
 /*
   unknown amout of data is waiting in fifo.
 */
-static int ai_read_dregs(comedi_device *dev, comedi_subdevice *s)
+static int ai_read_dregs(struct comedi_device *dev, comedi_subdevice *s)
 {
 	while (RtdFifoStatus(dev) &amp; FS_ADC_NOT_EMPTY) {	/* 1 -&gt; not empty */
 		short sample;
@@ -1375,7 +1375,7 @@ static int ai_read_dregs(comedi_device *dev, comedi_subdevice *s)
 /*
   Terminate a DMA transfer and wait for everything to quiet down
 */
-void abort_dma(comedi_device *dev, unsigned int channel)
+void abort_dma(struct comedi_device *dev, unsigned int channel)
 {				/* DMA channel 0, 1 */
 	unsigned long dma_cs_addr;	/* the control/status register */
 	uint8_t status;
@@ -1434,7 +1434,7 @@ void abort_dma(comedi_device *dev, unsigned int channel)
   Process what is in the DMA transfer buffer and pass to comedi
   Note: this is not re-entrant
 */
-static int ai_process_dma(comedi_device *dev, comedi_subdevice *s)
+static int ai_process_dma(struct comedi_device *dev, comedi_subdevice *s)
 {
 	int ii, n;
 	s16 *dp;
@@ -1497,7 +1497,7 @@ static irqreturn_t rtd_interrupt(int irq,	/* interrupt number (ignored) */
 	void *d			/* our data */
 	PT_REGS_ARG)
 {				/* cpu context (ignored) */
-	comedi_device *dev = d;	/* must be called "dev" for devpriv */
+	struct comedi_device *dev = d;	/* must be called "dev" for devpriv */
 	u16 status;
 	u16 fifoStatus;
 	comedi_subdevice *s = dev-&gt;subdevices + 0;	/* analog in subdevice */
@@ -1648,7 +1648,7 @@ static irqreturn_t rtd_interrupt(int irq,	/* interrupt number (ignored) */
 /*
   return the number of samples available
 */
-static int rtd_ai_poll(comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_poll(struct comedi_device *dev, comedi_subdevice *s)
 {
 	/* TODO: This needs to mask interrupts, read_dregs, and then re-enable */
 	/* Not sure what to do if DMA is active */
@@ -1665,7 +1665,7 @@ static int rtd_ai_poll(comedi_device *dev, comedi_subdevice *s)
   the command passes.
 */
 
-static int rtd_ai_cmdtest(comedi_device *dev,
+static int rtd_ai_cmdtest(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int err = 0;
@@ -1870,7 +1870,7 @@ static int rtd_ai_cmdtest(comedi_device *dev,
   This is usually done by an interrupt handler.
   Userland gets to the data using read calls.
 */
-static int rtd_ai_cmd(comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int timer;
@@ -2067,7 +2067,7 @@ static int rtd_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 /*
   Stop a running data aquisition.
 */
-static int rtd_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	u16 status;
 
@@ -2135,7 +2135,7 @@ static int rtd_ns_to_timer(unsigned int *ns, int round_mode)
 /*
   Output one (or more) analog values to a single port as fast as possible.
 */
-static int rtd_ao_winsn(comedi_device *dev,
+static int rtd_ao_winsn(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -2190,7 +2190,7 @@ static int rtd_ao_winsn(comedi_device *dev,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int rtd_ao_rinsn(comedi_device *dev,
+static int rtd_ao_rinsn(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -2213,7 +2213,7 @@ static int rtd_ao_rinsn(comedi_device *dev,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write
  */
-static int rtd_dio_insn_bits(comedi_device *dev,
+static int rtd_dio_insn_bits(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n != 2)
@@ -2240,7 +2240,7 @@ static int rtd_dio_insn_bits(comedi_device *dev,
 /*
   Configure one bit on a IO port as Input or Output (hence the name :-).
 */
-static int rtd_dio_insn_config(comedi_device *dev,
+static int rtd_dio_insn_config(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/rti800.c b/drivers/staging/comedi/drivers/rti800.c
index 0cefcb39db7c..8ec384528181 100644
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -129,8 +129,8 @@ static const boardtype boardtypes[] = {
 
 #define this_board ((const boardtype *)dev-&gt;board_ptr)
 
-static int rti800_attach(comedi_device * dev, comedi_devconfig * it);
-static int rti800_detach(comedi_device * dev);
+static int rti800_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int rti800_detach(struct comedi_device * dev);
 static comedi_driver driver_rti800 = {
       driver_name:"rti800",
       module:THIS_MODULE,
@@ -178,7 +178,7 @@ static irqreturn_t rti800_interrupt(int irq, void *dev PT_REGS_ARG)
 // settling delay times in usec for different gains
 static const int gaindelay[] = { 10, 20, 40, 80 };
 
-static int rti800_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int rti800_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
@@ -231,7 +231,7 @@ static int rti800_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti800_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int rti800_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -243,7 +243,7 @@ static int rti800_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti800_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int rti800_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -263,7 +263,7 @@ static int rti800_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti800_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int rti800_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -272,7 +272,7 @@ static int rti800_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int rti800_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int rti800_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -307,7 +307,7 @@ static int rti800_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
    options[8] - dac1 coding
  */
 
-static int rti800_attach(comedi_device * dev, comedi_devconfig * it)
+static int rti800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned int irq;
 	unsigned long iobase;
@@ -442,7 +442,7 @@ static int rti800_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int rti800_detach(comedi_device * dev)
+static int rti800_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: rti800: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/rti802.c b/drivers/staging/comedi/drivers/rti802.c
index 058a4c066205..843fce9056c8 100644
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -47,8 +47,8 @@ Configuration Options:
 #define RTI802_DATALOW 1
 #define RTI802_DATAHIGH 2
 
-static int rti802_attach(comedi_device * dev, comedi_devconfig * it);
-static int rti802_detach(comedi_device * dev);
+static int rti802_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int rti802_detach(struct comedi_device * dev);
 static comedi_driver driver_rti802 = {
       driver_name:"rti802",
       module:THIS_MODULE,
@@ -68,7 +68,7 @@ typedef struct {
 
 #define devpriv ((rti802_private *)dev-&gt;private)
 
-static int rti802_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
+static int rti802_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -79,7 +79,7 @@ static int rti802_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti802_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
+static int rti802_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, d;
@@ -96,7 +96,7 @@ static int rti802_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int rti802_attach(comedi_device * dev, comedi_devconfig * it)
+static int rti802_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int i;
@@ -140,7 +140,7 @@ static int rti802_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int rti802_detach(comedi_device * dev)
+static int rti802_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: rti802: remove\n", dev-&gt;minor);
 
diff --git a/drivers/staging/comedi/drivers/s526.c b/drivers/staging/comedi/drivers/s526.c
index c9bd985f9932..7e066a0263cc 100644
--- a/drivers/staging/comedi/drivers/s526.c
+++ b/drivers/staging/comedi/drivers/s526.c
@@ -190,7 +190,7 @@ static const s526_board s526_boards[] = {
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	int data;
 
@@ -215,8 +215,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int s526_attach(comedi_device * dev, comedi_devconfig * it);
-static int s526_detach(comedi_device * dev);
+static int s526_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int s526_detach(struct comedi_device * dev);
 static comedi_driver driver_s526 = {
       driver_name:"s526",
       module:THIS_MODULE,
@@ -245,23 +245,23 @@ static comedi_driver driver_s526 = {
       num_names:sizeof(s526_boards) / sizeof(s526_board),
 };
 
-static int s526_gpct_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -270,7 +270,7 @@ static int s526_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int s526_attach(comedi_device * dev, comedi_devconfig * it)
+static int s526_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 	int iobase;
@@ -466,7 +466,7 @@ static int s526_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int s526_detach(comedi_device * dev)
+static int s526_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: s526: remove\n", dev-&gt;minor);
 
@@ -476,7 +476,7 @@ static int s526_detach(comedi_device * dev)
 	return 0;
 }
 
-static int s526_gpct_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;			// counts the Data
@@ -500,7 +500,7 @@ static int s526_gpct_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return i;
 }
 
-static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn-&gt;chanspec);	// Unpack chanspec
@@ -725,7 +725,7 @@ static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
 	return insn-&gt;n;
 }
 
-static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn-&gt;chanspec);	// Unpack chanspec
@@ -784,7 +784,7 @@ static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 #define ISR_ADC_DONE 0x4
-static int s526_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int result = -EINVAL;
@@ -817,7 +817,7 @@ static int s526_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int s526_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -867,7 +867,7 @@ static int s526_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int s526_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -896,7 +896,7 @@ static int s526_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int s526_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -913,7 +913,7 @@ static int s526_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int s526_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -938,7 +938,7 @@ static int s526_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int s526_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index a4f4de69da76..7a9e4544f00a 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -118,8 +118,8 @@ static DEFINE_PCI_DEVICE_TABLE(s626_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, s626_pci_table);
 
-static int s626_attach(comedi_device *dev, comedi_devconfig *it);
-static int s626_detach(comedi_device *dev);
+static int s626_attach(struct comedi_device *dev, comedi_devconfig *it);
+static int s626_detach(struct comedi_device *dev);
 
 static comedi_driver driver_s626 = {
       driver_name:"s626",
@@ -222,36 +222,36 @@ static struct dio_private *dio_private_word[]={
 COMEDI_PCI_INITCLEANUP_NOMODULE(driver_s626, s626_pci_table);
 
 /* ioctl routines */
-static int s626_ai_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-/* static int s626_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
-static int s626_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
+/* static int s626_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
+static int s626_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_ai_cmd(comedi_device *dev, comedi_subdevice *s);
-static int s626_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
+static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_cmd *cmd);
-static int s626_ai_cancel(comedi_device *dev, comedi_subdevice *s);
-static int s626_ao_winsn(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
+static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_set_irq(comedi_device *dev, unsigned int chan);
-static int s626_dio_reset_irq(comedi_device *dev, unsigned int gruop,
+static int s626_dio_set_irq(struct comedi_device *dev, unsigned int chan);
+static int s626_dio_reset_irq(struct comedi_device *dev, unsigned int gruop,
 	unsigned int mask);
-static int s626_dio_clear_irq(comedi_device *dev);
-static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_clear_irq(struct comedi_device *dev);
+static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static int s626_ns_to_timer(int *nanosec, int round_mode);
 static int s626_ai_load_polllist(uint8_t *ppl, comedi_cmd *cmd);
-static int s626_ai_inttrig(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned int trignum);
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG);
 static unsigned int s626_ai_reg_to_uint(int data);
@@ -260,36 +260,36 @@ static unsigned int s626_ai_reg_to_uint(int data);
 /* end ioctl routines */
 
 /* internal routines */
-static void s626_dio_init(comedi_device *dev);
-static void ResetADC(comedi_device *dev, uint8_t *ppl);
-static void LoadTrimDACs(comedi_device *dev);
-static void WriteTrimDAC(comedi_device *dev, uint8_t LogicalChan,
+static void s626_dio_init(struct comedi_device *dev);
+static void ResetADC(struct comedi_device *dev, uint8_t *ppl);
+static void LoadTrimDACs(struct comedi_device *dev);
+static void WriteTrimDAC(struct comedi_device *dev, uint8_t LogicalChan,
 	uint8_t DacData);
-static uint8_t I2Cread(comedi_device *dev, uint8_t addr);
-static uint32_t I2Chandshake(comedi_device *dev, uint32_t val);
-static void SetDAC(comedi_device *dev, uint16_t chan, short dacdata);
-static void SendDAC(comedi_device *dev, uint32_t val);
-static void WriteMISC2(comedi_device *dev, uint16_t NewImage);
-static void DEBItransfer(comedi_device *dev);
-static uint16_t DEBIread(comedi_device *dev, uint16_t addr);
-static void DEBIwrite(comedi_device *dev, uint16_t addr, uint16_t wdata);
-static void DEBIreplace(comedi_device *dev, uint16_t addr, uint16_t mask,
+static uint8_t I2Cread(struct comedi_device *dev, uint8_t addr);
+static uint32_t I2Chandshake(struct comedi_device *dev, uint32_t val);
+static void SetDAC(struct comedi_device *dev, uint16_t chan, short dacdata);
+static void SendDAC(struct comedi_device *dev, uint32_t val);
+static void WriteMISC2(struct comedi_device *dev, uint16_t NewImage);
+static void DEBItransfer(struct comedi_device *dev);
+static uint16_t DEBIread(struct comedi_device *dev, uint16_t addr);
+static void DEBIwrite(struct comedi_device *dev, uint16_t addr, uint16_t wdata);
+static void DEBIreplace(struct comedi_device *dev, uint16_t addr, uint16_t mask,
 	uint16_t wdata);
-static void CloseDMAB(comedi_device *dev, DMABUF *pdma, size_t bsize);
+static void CloseDMAB(struct comedi_device *dev, DMABUF *pdma, size_t bsize);
 
 /*  COUNTER OBJECT ------------------------------------------------ */
 struct enc_private {
 	/*  Pointers to functions that differ for A and B counters: */
-	uint16_t(*GetEnable) (comedi_device *dev, struct enc_private *);	/* Return clock enable. */
-	uint16_t(*GetIntSrc) (comedi_device *dev, struct enc_private *);	/* Return interrupt source. */
-	uint16_t(*GetLoadTrig) (comedi_device *dev, struct enc_private *);	/* Return preload trigger source. */
-	uint16_t(*GetMode) (comedi_device *dev, struct enc_private *);	/* Return standardized operating mode. */
-	void (*PulseIndex) (comedi_device *dev, struct enc_private *);	/* Generate soft index strobe. */
-	void (*SetEnable) (comedi_device *dev, struct enc_private *, uint16_t enab);	/* Program clock enable. */
-	void (*SetIntSrc) (comedi_device *dev, struct enc_private *, uint16_t IntSource);	/* Program interrupt source. */
-	void (*SetLoadTrig) (comedi_device *dev, struct enc_private *, uint16_t Trig);	/* Program preload trigger source. */
-	void (*SetMode) (comedi_device *dev, struct enc_private *, uint16_t Setup, uint16_t DisableIntSrc);	/* Program standardized operating mode. */
-	void (*ResetCapFlags) (comedi_device *dev, struct enc_private *);	/* Reset event capture flags. */
+	uint16_t(*GetEnable) (struct comedi_device *dev, struct enc_private *);	/* Return clock enable. */
+	uint16_t(*GetIntSrc) (struct comedi_device *dev, struct enc_private *);	/* Return interrupt source. */
+	uint16_t(*GetLoadTrig) (struct comedi_device *dev, struct enc_private *);	/* Return preload trigger source. */
+	uint16_t(*GetMode) (struct comedi_device *dev, struct enc_private *);	/* Return standardized operating mode. */
+	void (*PulseIndex) (struct comedi_device *dev, struct enc_private *);	/* Generate soft index strobe. */
+	void (*SetEnable) (struct comedi_device *dev, struct enc_private *, uint16_t enab);	/* Program clock enable. */
+	void (*SetIntSrc) (struct comedi_device *dev, struct enc_private *, uint16_t IntSource);	/* Program interrupt source. */
+	void (*SetLoadTrig) (struct comedi_device *dev, struct enc_private *, uint16_t Trig);	/* Program preload trigger source. */
+	void (*SetMode) (struct comedi_device *dev, struct enc_private *, uint16_t Setup, uint16_t DisableIntSrc);	/* Program standardized operating mode. */
+	void (*ResetCapFlags) (struct comedi_device *dev, struct enc_private *);	/* Reset event capture flags. */
 
 	uint16_t MyCRA;		/*    Address of CRA register. */
 	uint16_t MyCRB;		/*    Address of CRB register. */
@@ -301,45 +301,45 @@ struct enc_private {
 #define encpriv ((struct enc_private *)(dev-&gt;subdevices+5)-&gt;private)
 
 /* counters routines */
-static void s626_timer_load(comedi_device *dev, struct enc_private *k, int tick);
-static uint32_t ReadLatch(comedi_device *dev, struct enc_private *k);
-static void ResetCapFlags_A(comedi_device *dev, struct enc_private *k);
-static void ResetCapFlags_B(comedi_device *dev, struct enc_private *k);
-static uint16_t GetMode_A(comedi_device *dev, struct enc_private *k);
-static uint16_t GetMode_B(comedi_device *dev, struct enc_private *k);
-static void SetMode_A(comedi_device *dev, struct enc_private *k, uint16_t Setup,
+static void s626_timer_load(struct comedi_device *dev, struct enc_private *k, int tick);
+static uint32_t ReadLatch(struct comedi_device *dev, struct enc_private *k);
+static void ResetCapFlags_A(struct comedi_device *dev, struct enc_private *k);
+static void ResetCapFlags_B(struct comedi_device *dev, struct enc_private *k);
+static uint16_t GetMode_A(struct comedi_device *dev, struct enc_private *k);
+static uint16_t GetMode_B(struct comedi_device *dev, struct enc_private *k);
+static void SetMode_A(struct comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc);
-static void SetMode_B(comedi_device *dev, struct enc_private *k, uint16_t Setup,
+static void SetMode_B(struct comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc);
-static void SetEnable_A(comedi_device *dev, struct enc_private *k, uint16_t enab);
-static void SetEnable_B(comedi_device *dev, struct enc_private *k, uint16_t enab);
-static uint16_t GetEnable_A(comedi_device *dev, struct enc_private *k);
-static uint16_t GetEnable_B(comedi_device *dev, struct enc_private *k);
-static void SetLatchSource(comedi_device *dev, struct enc_private *k,
+static void SetEnable_A(struct comedi_device *dev, struct enc_private *k, uint16_t enab);
+static void SetEnable_B(struct comedi_device *dev, struct enc_private *k, uint16_t enab);
+static uint16_t GetEnable_A(struct comedi_device *dev, struct enc_private *k);
+static uint16_t GetEnable_B(struct comedi_device *dev, struct enc_private *k);
+static void SetLatchSource(struct comedi_device *dev, struct enc_private *k,
 	uint16_t value);
-/* static uint16_t GetLatchSource(comedi_device *dev, struct enc_private *k ); */
-static void SetLoadTrig_A(comedi_device *dev, struct enc_private *k, uint16_t Trig);
-static void SetLoadTrig_B(comedi_device *dev, struct enc_private *k, uint16_t Trig);
-static uint16_t GetLoadTrig_A(comedi_device *dev, struct enc_private *k);
-static uint16_t GetLoadTrig_B(comedi_device *dev, struct enc_private *k);
-static void SetIntSrc_B(comedi_device *dev, struct enc_private *k,
+/* static uint16_t GetLatchSource(struct comedi_device *dev, struct enc_private *k ); */
+static void SetLoadTrig_A(struct comedi_device *dev, struct enc_private *k, uint16_t Trig);
+static void SetLoadTrig_B(struct comedi_device *dev, struct enc_private *k, uint16_t Trig);
+static uint16_t GetLoadTrig_A(struct comedi_device *dev, struct enc_private *k);
+static uint16_t GetLoadTrig_B(struct comedi_device *dev, struct enc_private *k);
+static void SetIntSrc_B(struct comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource);
-static void SetIntSrc_A(comedi_device *dev, struct enc_private *k,
+static void SetIntSrc_A(struct comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource);
-static uint16_t GetIntSrc_A(comedi_device *dev, struct enc_private *k);
-static uint16_t GetIntSrc_B(comedi_device *dev, struct enc_private *k);
-/* static void SetClkMult(comedi_device *dev, struct enc_private *k, uint16_t value ) ; */
-/* static uint16_t GetClkMult(comedi_device *dev, struct enc_private *k ) ; */
-/* static void SetIndexPol(comedi_device *dev, struct enc_private *k, uint16_t value ); */
-/* static uint16_t GetClkPol(comedi_device *dev, struct enc_private *k ) ; */
-/* static void SetIndexSrc( comedi_device *dev,struct enc_private *k, uint16_t value );  */
-/* static uint16_t GetClkSrc( comedi_device *dev,struct enc_private *k );  */
-/* static void SetIndexSrc( comedi_device *dev,struct enc_private *k, uint16_t value );  */
-/* static uint16_t GetIndexSrc( comedi_device *dev,struct enc_private *k );  */
-static void PulseIndex_A(comedi_device *dev, struct enc_private *k);
-static void PulseIndex_B(comedi_device *dev, struct enc_private *k);
-static void Preload(comedi_device *dev, struct enc_private *k, uint32_t value);
-static void CountersInit(comedi_device *dev);
+static uint16_t GetIntSrc_A(struct comedi_device *dev, struct enc_private *k);
+static uint16_t GetIntSrc_B(struct comedi_device *dev, struct enc_private *k);
+/* static void SetClkMult(struct comedi_device *dev, struct enc_private *k, uint16_t value ) ; */
+/* static uint16_t GetClkMult(struct comedi_device *dev, struct enc_private *k ) ; */
+/* static void SetIndexPol(struct comedi_device *dev, struct enc_private *k, uint16_t value ); */
+/* static uint16_t GetClkPol(struct comedi_device *dev, struct enc_private *k ) ; */
+/* static void SetIndexSrc( struct comedi_device *dev,struct enc_private *k, uint16_t value );  */
+/* static uint16_t GetClkSrc( struct comedi_device *dev,struct enc_private *k );  */
+/* static void SetIndexSrc( struct comedi_device *dev,struct enc_private *k, uint16_t value );  */
+/* static uint16_t GetIndexSrc( struct comedi_device *dev,struct enc_private *k );  */
+static void PulseIndex_A(struct comedi_device *dev, struct enc_private *k);
+static void PulseIndex_B(struct comedi_device *dev, struct enc_private *k);
+static void Preload(struct comedi_device *dev, struct enc_private *k, uint32_t value);
+static void CountersInit(struct comedi_device *dev);
 /* end internal routines */
 
 /*  Counter objects constructor. */
@@ -485,7 +485,7 @@ static const comedi_lrange s626_range_table = { 2, {
 	}
 };
 
-static int s626_attach(comedi_device *dev, comedi_devconfig *it)
+static int s626_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 /*   uint8_t	PollList; */
 /*   uint16_t	AdcData; */
@@ -970,7 +970,7 @@ static unsigned int s626_ai_reg_to_uint(int data)
 
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 {
-	comedi_device *dev = d;
+	struct comedi_device *dev = d;
 	comedi_subdevice *s;
 	comedi_cmd *cmd;
 	struct enc_private *k;
@@ -1268,7 +1268,7 @@ static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static int s626_detach(comedi_device *dev)
+static int s626_detach(struct comedi_device *dev)
 {
 	if (devpriv) {
 		/* stop ai_command */
@@ -1311,7 +1311,7 @@ static int s626_detach(comedi_device *dev)
 /*
  * this functions build the RPS program for hardware driven acquistion
  */
-void ResetADC(comedi_device *dev, uint8_t *ppl)
+void ResetADC(struct comedi_device *dev, uint8_t *ppl)
 {
 	register uint32_t *pRPS;
 	uint32_t JmpAdrs;
@@ -1503,14 +1503,14 @@ void ResetADC(comedi_device *dev, uint8_t *ppl)
 }
 
 /* TO COMPLETE, IF NECESSARY */
-static int s626_ai_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
 	return -EINVAL;
 }
 
-/* static int s626_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
+/* static int s626_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
 /* { */
 /*   register uint8_t	i; */
 /*   register int32_t	*readaddr; */
@@ -1540,7 +1540,7 @@ static int s626_ai_insn_config(comedi_device *dev, comedi_subdevice *s,
 /*   return i; */
 /* } */
 
-static int s626_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t chan = CR_CHAN(insn-&gt;chanspec);
@@ -1654,7 +1654,7 @@ static int s626_ai_load_polllist(uint8_t *ppl, comedi_cmd *cmd)
 	return n;
 }
 
-static int s626_ai_inttrig(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -1673,7 +1673,7 @@ static int s626_ai_inttrig(comedi_device *dev, comedi_subdevice *s,
 }
 
 /*  TO COMPLETE  */
-static int s626_ai_cmd(comedi_device *dev, comedi_subdevice *s)
+static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 
 	uint8_t ppl[16];
@@ -1819,7 +1819,7 @@ static int s626_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int s626_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_cmd *cmd)
 {
 	int err = 0;
@@ -2004,7 +2004,7 @@ static int s626_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int s626_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int s626_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	/*  Stop RPS program in case it is currently running. */
 	MC_DISABLE(P_MC1, MC1_ERPS1);
@@ -2045,7 +2045,7 @@ static int s626_ns_to_timer(int *nanosec, int round_mode)
 	return divider - 1;
 }
 
-static int s626_ao_winsn(comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2064,7 +2064,7 @@ static int s626_ao_winsn(comedi_device *dev, comedi_subdevice *s,
 	return i;
 }
 
-static int s626_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -2081,7 +2081,7 @@ static int s626_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
  * ports A, B and C, respectively.
  */
 
-static void s626_dio_init(comedi_device *dev)
+static void s626_dio_init(struct comedi_device *dev)
 {
 	uint16_t group;
 	comedi_subdevice *s;
@@ -2110,7 +2110,7 @@ static void s626_dio_init(comedi_device *dev)
  * This allows packed reading/writing of the DIO channels.  The comedi
  * core can convert between insn_bits and insn_read/write */
 
-static int s626_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2146,7 +2146,7 @@ static int s626_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 	return 2;
 }
 
-static int s626_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2173,7 +2173,7 @@ static int s626_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int s626_dio_set_irq(comedi_device *dev, unsigned int chan)
+static int s626_dio_set_irq(struct comedi_device *dev, unsigned int chan)
 {
 	unsigned int group;
 	unsigned int bitmask;
@@ -2215,7 +2215,7 @@ static int s626_dio_set_irq(comedi_device *dev, unsigned int chan)
 	return 0;
 }
 
-static int s626_dio_reset_irq(comedi_device *dev, unsigned int group,
+static int s626_dio_reset_irq(struct comedi_device *dev, unsigned int group,
 	unsigned int mask)
 {
 	DEBUG("s626_dio_reset_irq: disable  interrupt on dio channel %d group %d\n", mask, group);
@@ -2231,7 +2231,7 @@ static int s626_dio_reset_irq(comedi_device *dev, unsigned int group,
 	return 0;
 }
 
-static int s626_dio_clear_irq(comedi_device *dev)
+static int s626_dio_clear_irq(struct comedi_device *dev)
 {
 	unsigned int group;
 
@@ -2251,7 +2251,7 @@ static int s626_dio_clear_irq(comedi_device *dev)
 /* Now this function initializes the value of the counter (data[0])
    and set the subdevice. To complete with trigger and interrupt
    configuration */
-static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t Setup = (LOADSRC_INDX &lt;&lt; BF_LOADSRC) |	/*  Preload upon */
@@ -2281,7 +2281,7 @@ static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2299,7 +2299,7 @@ static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
 	return n;
 }
 
-static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2322,7 +2322,7 @@ static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static void s626_timer_load(comedi_device *dev, struct enc_private *k, int tick)
+static void s626_timer_load(struct comedi_device *dev, struct enc_private *k, int tick)
 {
 	uint16_t Setup = (LOADSRC_INDX &lt;&lt; BF_LOADSRC) |	/*  Preload upon */
 		/*  index. */
@@ -2368,7 +2368,7 @@ static uint8_t trimchan[] = { 10, 9, 8, 3, 2, 7, 6, 1, 0, 5, 4 };
 static uint8_t trimadrs[] =
 	{ 0x40, 0x41, 0x42, 0x50, 0x51, 0x52, 0x53, 0x60, 0x61, 0x62, 0x63 };
 
-static void LoadTrimDACs(comedi_device *dev)
+static void LoadTrimDACs(struct comedi_device *dev)
 {
 	register uint8_t i;
 
@@ -2377,7 +2377,7 @@ static void LoadTrimDACs(comedi_device *dev)
 		WriteTrimDAC(dev, i, I2Cread(dev, trimadrs[i]));
 }
 
-static void WriteTrimDAC(comedi_device *dev, uint8_t LogicalChan,
+static void WriteTrimDAC(struct comedi_device *dev, uint8_t LogicalChan,
 	uint8_t DacData)
 {
 	uint32_t chan;
@@ -2418,7 +2418,7 @@ static void WriteTrimDAC(comedi_device *dev, uint8_t LogicalChan,
 /* **************  EEPROM ACCESS FUNCTIONS  ************** */
 /*  Read uint8_t from EEPROM. */
 
-static uint8_t I2Cread(comedi_device *dev, uint8_t addr)
+static uint8_t I2Cread(struct comedi_device *dev, uint8_t addr)
 {
 	uint8_t rtnval;
 
@@ -2451,7 +2451,7 @@ static uint8_t I2Cread(comedi_device *dev, uint8_t addr)
 	return rtnval;
 }
 
-static uint32_t I2Chandshake(comedi_device *dev, uint32_t val)
+static uint32_t I2Chandshake(struct comedi_device *dev, uint32_t val)
 {
 	/*  Write I2C command to I2C Transfer Control shadow register. */
 	WR7146(P_I2CCTRL, val);
@@ -2474,7 +2474,7 @@ static uint32_t I2Chandshake(comedi_device *dev, uint32_t val)
 
 /*  Private helper function: Write setpoint to an application DAC channel. */
 
-static void SetDAC(comedi_device *dev, uint16_t chan, short dacdata)
+static void SetDAC(struct comedi_device *dev, uint16_t chan, short dacdata)
 {
 	register uint16_t signmask;
 	register uint32_t WSImage;
@@ -2535,7 +2535,7 @@ static void SetDAC(comedi_device *dev, uint16_t chan, short dacdata)
  * Dacpol contains valid target image.
  */
 
-static void SendDAC(comedi_device *dev, uint32_t val)
+static void SendDAC(struct comedi_device *dev, uint32_t val)
 {
 
 	/* START THE SERIAL CLOCK RUNNING ------------- */
@@ -2655,7 +2655,7 @@ static void SendDAC(comedi_device *dev, uint32_t val)
 		;
 }
 
-static void WriteMISC2(comedi_device *dev, uint16_t NewImage)
+static void WriteMISC2(struct comedi_device *dev, uint16_t NewImage)
 {
 	DEBIwrite(dev, LP_MISC1, MISC1_WENABLE);	/*  enab writes to */
 	/*  MISC2 register. */
@@ -2665,7 +2665,7 @@ static void WriteMISC2(comedi_device *dev, uint16_t NewImage)
 
 /*  Initialize the DEBI interface for all transfers. */
 
-static uint16_t DEBIread(comedi_device *dev, uint16_t addr)
+static uint16_t DEBIread(struct comedi_device *dev, uint16_t addr)
 {
 	uint16_t retval;
 
@@ -2684,7 +2684,7 @@ static uint16_t DEBIread(comedi_device *dev, uint16_t addr)
 
 /*  Execute a DEBI transfer.  This must be called from within a */
 /*  critical section. */
-static void DEBItransfer(comedi_device *dev)
+static void DEBItransfer(struct comedi_device *dev)
 {
 	/*  Initiate upload of shadow RAM to DEBI control register. */
 	MC_ENABLE(P_MC2, MC2_UPLD_DEBI);
@@ -2700,7 +2700,7 @@ static void DEBItransfer(comedi_device *dev)
 }
 
 /*  Write a value to a gate array register. */
-static void DEBIwrite(comedi_device *dev, uint16_t addr, uint16_t wdata)
+static void DEBIwrite(struct comedi_device *dev, uint16_t addr, uint16_t wdata)
 {
 
 	/*  Set up DEBI control register value in shadow RAM. */
@@ -2715,7 +2715,7 @@ static void DEBIwrite(comedi_device *dev, uint16_t addr, uint16_t wdata)
  * specifies bits that are to be preserved, wdata is new value to be
  * or'd with the masked original.
  */
-static void DEBIreplace(comedi_device *dev, uint16_t addr, uint16_t mask,
+static void DEBIreplace(struct comedi_device *dev, uint16_t addr, uint16_t mask,
 	uint16_t wdata)
 {
 
@@ -2733,7 +2733,7 @@ static void DEBIreplace(comedi_device *dev, uint16_t addr, uint16_t mask,
 	DEBItransfer(dev);	/*  Execute the DEBI Write transfer. */
 }
 
-static void CloseDMAB(comedi_device *dev, DMABUF *pdma, size_t bsize)
+static void CloseDMAB(struct comedi_device *dev, DMABUF *pdma, size_t bsize)
 {
 	void *vbptr;
 	dma_addr_t vpptr;
@@ -2768,7 +2768,7 @@ static void CloseDMAB(comedi_device *dev, DMABUF *pdma, size_t bsize)
 
 /*  Read a counter's output latch. */
 
-static uint32_t ReadLatch(comedi_device *dev, struct enc_private *k)
+static uint32_t ReadLatch(struct comedi_device *dev, struct enc_private *k)
 {
 	register uint32_t value;
 	/* DEBUG FIXME DEBUG("ReadLatch: Read Latch enter\n"); */
@@ -2787,13 +2787,13 @@ static uint32_t ReadLatch(comedi_device *dev, struct enc_private *k)
 
 /*  Reset a counter's index and overflow event capture flags. */
 
-static void ResetCapFlags_A(comedi_device *dev, struct enc_private *k)
+static void ResetCapFlags_A(struct comedi_device *dev, struct enc_private *k)
 {
 	DEBIreplace(dev, k-&gt;MyCRB, (uint16_t) (~CRBMSK_INTCTRL),
 		CRBMSK_INTRESETCMD | CRBMSK_INTRESET_A);
 }
 
-static void ResetCapFlags_B(comedi_device *dev, struct enc_private *k)
+static void ResetCapFlags_B(struct comedi_device *dev, struct enc_private *k)
 {
 	DEBIreplace(dev, k-&gt;MyCRB, (uint16_t) (~CRBMSK_INTCTRL),
 		CRBMSK_INTRESETCMD | CRBMSK_INTRESET_B);
@@ -2802,7 +2802,7 @@ static void ResetCapFlags_B(comedi_device *dev, struct enc_private *k)
 /*  Return counter setup in a format (COUNTER_SETUP) that is consistent */
 /*  for both A and B counters. */
 
-static uint16_t GetMode_A(comedi_device *dev, struct enc_private *k)
+static uint16_t GetMode_A(struct comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t cra;
 	register uint16_t crb;
@@ -2840,7 +2840,7 @@ static uint16_t GetMode_A(comedi_device *dev, struct enc_private *k)
 	return setup;
 }
 
-static uint16_t GetMode_B(comedi_device *dev, struct enc_private *k)
+static uint16_t GetMode_B(struct comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t cra;
 	register uint16_t crb;
@@ -2886,7 +2886,7 @@ static uint16_t GetMode_B(comedi_device *dev, struct enc_private *k)
  * ClkPol, ClkEnab, IndexSrc, IndexPol, LoadSrc.
  */
 
-static void SetMode_A(comedi_device *dev, struct enc_private *k, uint16_t Setup,
+static void SetMode_A(struct comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc)
 {
 	register uint16_t cra;
@@ -2944,7 +2944,7 @@ static void SetMode_A(comedi_device *dev, struct enc_private *k, uint16_t Setup,
 		(uint16_t) (~(CRBMSK_INTCTRL | CRBMSK_CLKENAB_A)), crb);
 }
 
-static void SetMode_B(comedi_device *dev, struct enc_private *k, uint16_t Setup,
+static void SetMode_B(struct comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc)
 {
 	register uint16_t cra;
@@ -3008,7 +3008,7 @@ static void SetMode_B(comedi_device *dev, struct enc_private *k, uint16_t Setup,
 
 /*  Return/set a counter's enable.  enab: 0=always enabled, 1=enabled by index. */
 
-static void SetEnable_A(comedi_device *dev, struct enc_private *k, uint16_t enab)
+static void SetEnable_A(struct comedi_device *dev, struct enc_private *k, uint16_t enab)
 {
 	DEBUG("SetEnable_A: SetEnable_A enter 3541\n");
 	DEBIreplace(dev, k-&gt;MyCRB,
@@ -3016,19 +3016,19 @@ static void SetEnable_A(comedi_device *dev, struct enc_private *k, uint16_t enab
 		(uint16_t) (enab &lt;&lt; CRBBIT_CLKENAB_A));
 }
 
-static void SetEnable_B(comedi_device *dev, struct enc_private *k, uint16_t enab)
+static void SetEnable_B(struct comedi_device *dev, struct enc_private *k, uint16_t enab)
 {
 	DEBIreplace(dev, k-&gt;MyCRB,
 		(uint16_t) (~(CRBMSK_INTCTRL | CRBMSK_CLKENAB_B)),
 		(uint16_t) (enab &lt;&lt; CRBBIT_CLKENAB_B));
 }
 
-static uint16_t GetEnable_A(comedi_device *dev, struct enc_private *k)
+static uint16_t GetEnable_A(struct comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_CLKENAB_A) &amp; 1;
 }
 
-static uint16_t GetEnable_B(comedi_device *dev, struct enc_private *k)
+static uint16_t GetEnable_B(struct comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_CLKENAB_B) &amp; 1;
 }
@@ -3038,7 +3038,7 @@ static uint16_t GetEnable_B(comedi_device *dev, struct enc_private *k)
  * latches B.
  */
 
-static void SetLatchSource(comedi_device *dev, struct enc_private *k, uint16_t value)
+static void SetLatchSource(struct comedi_device *dev, struct enc_private *k, uint16_t value)
 {
 	DEBUG("SetLatchSource: SetLatchSource enter 3550 \n");
 	DEBIreplace(dev, k-&gt;MyCRB,
@@ -3049,7 +3049,7 @@ static void SetLatchSource(comedi_device *dev, struct enc_private *k, uint16_t v
 }
 
 /*
- * static uint16_t GetLatchSource(comedi_device *dev, struct enc_private *k )
+ * static uint16_t GetLatchSource(struct comedi_device *dev, struct enc_private *k )
  * {
  * 	return ( DEBIread( dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_LATCHSRC ) &amp; 3;
  * }
@@ -3061,25 +3061,25 @@ static void SetLatchSource(comedi_device *dev, struct enc_private *k, uint16_t v
  * 2=OverflowA (B counters only), 3=disabled.
  */
 
-static void SetLoadTrig_A(comedi_device *dev, struct enc_private *k, uint16_t Trig)
+static void SetLoadTrig_A(struct comedi_device *dev, struct enc_private *k, uint16_t Trig)
 {
 	DEBIreplace(dev, k-&gt;MyCRA, (uint16_t) (~CRAMSK_LOADSRC_A),
 		(uint16_t) (Trig &lt;&lt; CRABIT_LOADSRC_A));
 }
 
-static void SetLoadTrig_B(comedi_device *dev, struct enc_private *k, uint16_t Trig)
+static void SetLoadTrig_B(struct comedi_device *dev, struct enc_private *k, uint16_t Trig)
 {
 	DEBIreplace(dev, k-&gt;MyCRB,
 		(uint16_t) (~(CRBMSK_LOADSRC_B | CRBMSK_INTCTRL)),
 		(uint16_t) (Trig &lt;&lt; CRBBIT_LOADSRC_B));
 }
 
-static uint16_t GetLoadTrig_A(comedi_device *dev, struct enc_private *k)
+static uint16_t GetLoadTrig_A(struct comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRA) &gt;&gt; CRABIT_LOADSRC_A) &amp; 3;
 }
 
-static uint16_t GetLoadTrig_B(comedi_device *dev, struct enc_private *k)
+static uint16_t GetLoadTrig_B(struct comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_LOADSRC_B) &amp; 3;
 }
@@ -3089,7 +3089,7 @@ static uint16_t GetLoadTrig_B(comedi_device *dev, struct enc_private *k)
  * 2=IndexOnly, 3=IndexAndOverflow.
  */
 
-static void SetIntSrc_A(comedi_device *dev, struct enc_private *k,
+static void SetIntSrc_A(struct comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource)
 {
 	/*  Reset any pending counter overflow or index captures. */
@@ -3106,7 +3106,7 @@ static void SetIntSrc_A(comedi_device *dev, struct enc_private *k,
 		MyEventBits[IntSource];
 }
 
-static void SetIntSrc_B(comedi_device *dev, struct enc_private *k,
+static void SetIntSrc_B(struct comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource)
 {
 	uint16_t crb;
@@ -3129,80 +3129,80 @@ static void SetIntSrc_B(comedi_device *dev, struct enc_private *k,
 		MyEventBits[IntSource];
 }
 
-static uint16_t GetIntSrc_A(comedi_device *dev, struct enc_private *k)
+static uint16_t GetIntSrc_A(struct comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRA) &gt;&gt; CRABIT_INTSRC_A) &amp; 3;
 }
 
-static uint16_t GetIntSrc_B(comedi_device *dev, struct enc_private *k)
+static uint16_t GetIntSrc_B(struct comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_INTSRC_B) &amp; 3;
 }
 
 /*  Return/set the clock multiplier. */
 
-/* static void SetClkMult(comedi_device *dev, struct enc_private *k, uint16_t value )  */
+/* static void SetClkMult(struct comedi_device *dev, struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_CLKMULT ) | ( value &lt;&lt; STDBIT_CLKMULT ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetClkMult(comedi_device *dev, struct enc_private *k )  */
+/* static uint16_t GetClkMult(struct comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_CLKMULT ) &amp; 3; */
 /* } */
 
 /* Return/set the clock polarity. */
 
-/* static void SetClkPol( comedi_device *dev,struct enc_private *k, uint16_t value )  */
+/* static void SetClkPol( struct comedi_device *dev,struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_CLKPOL ) | ( value &lt;&lt; STDBIT_CLKPOL ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetClkPol(comedi_device *dev, struct enc_private *k )  */
+/* static uint16_t GetClkPol(struct comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_CLKPOL ) &amp; 1; */
 /* } */
 
 /* Return/set the clock source.  */
 
-/* static void SetClkSrc( comedi_device *dev,struct enc_private *k, uint16_t value )  */
+/* static void SetClkSrc( struct comedi_device *dev,struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_CLKSRC ) | ( value &lt;&lt; STDBIT_CLKSRC ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetClkSrc( comedi_device *dev,struct enc_private *k )  */
+/* static uint16_t GetClkSrc( struct comedi_device *dev,struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_CLKSRC ) &amp; 3; */
 /* } */
 
 /* Return/set the index polarity. */
 
-/* static void SetIndexPol(comedi_device *dev, struct enc_private *k, uint16_t value )  */
+/* static void SetIndexPol(struct comedi_device *dev, struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_INDXPOL ) | ( (value != 0) &lt;&lt; STDBIT_INDXPOL ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetIndexPol(comedi_device *dev, struct enc_private *k )  */
+/* static uint16_t GetIndexPol(struct comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_INDXPOL ) &amp; 1; */
 /* } */
 
 /*  Return/set the index source. */
 
-/* static void SetIndexSrc(comedi_device *dev, struct enc_private *k, uint16_t value )  */
+/* static void SetIndexSrc(struct comedi_device *dev, struct enc_private *k, uint16_t value )  */
 /* { */
 /*   DEBUG("SetIndexSrc: set index src enter 3700\n"); */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_INDXSRC ) | ( (value != 0) &lt;&lt; STDBIT_INDXSRC ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetIndexSrc(comedi_device *dev, struct enc_private *k )  */
+/* static uint16_t GetIndexSrc(struct comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_INDXSRC ) &amp; 1; */
 /* } */
 
 /*  Generate an index pulse. */
 
-static void PulseIndex_A(comedi_device *dev, struct enc_private *k)
+static void PulseIndex_A(struct comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t cra;
 
@@ -3214,7 +3214,7 @@ static void PulseIndex_A(comedi_device *dev, struct enc_private *k)
 	DEBIwrite(dev, k-&gt;MyCRA, cra);
 }
 
-static void PulseIndex_B(comedi_device *dev, struct enc_private *k)
+static void PulseIndex_B(struct comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t crb;
 
@@ -3225,7 +3225,7 @@ static void PulseIndex_B(comedi_device *dev, struct enc_private *k)
 
 /*  Write value into counter preload register. */
 
-static void Preload(comedi_device *dev, struct enc_private *k, uint32_t value)
+static void Preload(struct comedi_device *dev, struct enc_private *k, uint32_t value)
 {
 	DEBUG("Preload: preload enter\n");
 	DEBIwrite(dev, (uint16_t) (k-&gt;MyLatchLsw), (uint16_t) value);	/*  Write value to preload register. */
@@ -3234,7 +3234,7 @@ static void Preload(comedi_device *dev, struct enc_private *k, uint32_t value)
 		(uint16_t) (value &gt;&gt; 16));
 }
 
-static void CountersInit(comedi_device *dev)
+static void CountersInit(struct comedi_device *dev)
 {
 	int chan;
 	struct enc_private *k;
diff --git a/drivers/staging/comedi/drivers/serial2002.c b/drivers/staging/comedi/drivers/serial2002.c
index 65bbf5cb0e9f..d63b657ec0d5 100644
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -85,8 +85,8 @@ typedef struct {
  */
 #define devpriv ((serial2002_private *)dev-&gt;private)
 
-static int serial2002_attach(comedi_device * dev, comedi_devconfig * it);
-static int serial2002_detach(comedi_device * dev);
+static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int serial2002_detach(struct comedi_device * dev);
 comedi_driver driver_serial2002 = {
       driver_name:"serial2002",
       module:THIS_MODULE,
@@ -97,15 +97,15 @@ comedi_driver driver_serial2002 = {
       num_names:sizeof(serial2002_boards) / sizeof(serial2002_board),
 };
 
-static int serial2002_di_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_do_winsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 struct serial_data {
@@ -389,7 +389,7 @@ static void serial_write(struct file *f, struct serial_data data)
 	}
 }
 
-static void serial_2002_open(comedi_device * dev)
+static void serial_2002_open(struct comedi_device * dev)
 {
 	char port[20];
 
@@ -653,14 +653,14 @@ static void serial_2002_open(comedi_device * dev)
 	}
 }
 
-static void serial_2002_close(comedi_device * dev)
+static void serial_2002_close(struct comedi_device * dev)
 {
 	if (!IS_ERR(devpriv-&gt;tty) &amp;&amp; (devpriv-&gt;tty != 0)) {
 		filp_close(devpriv-&gt;tty, 0);
 	}
 }
 
-static int serial2002_di_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -682,7 +682,7 @@ static int serial2002_di_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_do_winsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -700,7 +700,7 @@ static int serial2002_do_winsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -722,7 +722,7 @@ static int serial2002_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -741,7 +741,7 @@ static int serial2002_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -754,7 +754,7 @@ static int serial2002_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_ei_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ei_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -776,7 +776,7 @@ static int serial2002_ei_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int serial2002_attach(comedi_device * dev, comedi_devconfig * it)
+static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 
@@ -843,7 +843,7 @@ static int serial2002_attach(comedi_device * dev, comedi_devconfig * it)
 	return 1;
 }
 
-static int serial2002_detach(comedi_device * dev)
+static int serial2002_detach(struct comedi_device * dev)
 {
 	comedi_subdevice *s;
 	int i;
diff --git a/drivers/staging/comedi/drivers/skel.c b/drivers/staging/comedi/drivers/skel.c
index 7a2e0ce409ed..8252349e3af9 100644
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -129,7 +129,7 @@ MODULE_DEVICE_TABLE(pci, skel_pci_table);
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
-   feel free to suggest moving the variable to the comedi_device struct.  */
+   feel free to suggest moving the variable to the struct comedi_device struct.  */
 typedef struct {
 	int data;
 
@@ -151,8 +151,8 @@ typedef struct {
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static int skel_attach(comedi_device * dev, comedi_devconfig * it);
-static int skel_detach(comedi_device * dev);
+static int skel_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int skel_detach(struct comedi_device * dev);
 static comedi_driver driver_skel = {
       driver_name:"dummy",
       module:THIS_MODULE,
@@ -181,17 +181,17 @@ static comedi_driver driver_skel = {
       num_names:sizeof(skel_boards) / sizeof(skel_board),
 };
 
-static int skel_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int skel_ns_to_timer(unsigned int *ns, int round);
 
@@ -201,7 +201,7 @@ static int skel_ns_to_timer(unsigned int *ns, int round);
  * in the driver structure, dev-&gt;board_ptr contains that
  * address.
  */
-static int skel_attach(comedi_device * dev, comedi_devconfig * it)
+static int skel_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	comedi_subdevice *s;
 
@@ -287,7 +287,7 @@ static int skel_attach(comedi_device * dev, comedi_devconfig * it)
  * allocated by _attach().  dev-&gt;private and dev-&gt;subdevices are
  * deallocated automatically by the core.
  */
-static int skel_detach(comedi_device * dev)
+static int skel_detach(struct comedi_device * dev)
 {
 	printk("comedi%d: skel: remove\n", dev-&gt;minor);
 
@@ -298,7 +298,7 @@ static int skel_detach(comedi_device * dev)
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int skel_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -346,7 +346,7 @@ static int skel_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int skel_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -515,7 +515,7 @@ static int skel_ns_to_timer(unsigned int *ns, int round)
 	return *ns;
 }
 
-static int skel_ao_winsn(comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -536,7 +536,7 @@ static int skel_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int skel_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -553,7 +553,7 @@ static int skel_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int skel_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
@@ -578,7 +578,7 @@ static int skel_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 	return 2;
 }
 
-static int skel_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ssv_dnp.c b/drivers/staging/comedi/drivers/ssv_dnp.c
index f2465a2bf8e5..2cb08849a6bb 100644
--- a/drivers/staging/comedi/drivers/ssv_dnp.c
+++ b/drivers/staging/comedi/drivers/ssv_dnp.c
@@ -87,8 +87,8 @@ typedef struct {
 /* In the following section we define the API of this driver.                */
 /* ------------------------------------------------------------------------- */
 
-static int dnp_attach(comedi_device * dev, comedi_devconfig * it);
-static int dnp_detach(comedi_device * dev);
+static int dnp_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int dnp_detach(struct comedi_device * dev);
 
 static comedi_driver driver_dnp = {
       driver_name:"ssv_dnp",
@@ -103,10 +103,10 @@ static comedi_driver driver_dnp = {
 
 COMEDI_INITCLEANUP(driver_dnp);
 
-static int dnp_dio_insn_bits(comedi_device * dev,
+static int dnp_dio_insn_bits(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int dnp_dio_insn_config(comedi_device * dev,
+static int dnp_dio_insn_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* ------------------------------------------------------------------------- */
@@ -115,7 +115,7 @@ static int dnp_dio_insn_config(comedi_device * dev,
 /* dev-&gt;board_ptr contains that address.                                     */
 /* ------------------------------------------------------------------------- */
 
-static int dnp_attach(comedi_device * dev, comedi_devconfig * it)
+static int dnp_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 
 	comedi_subdevice *s;
@@ -176,7 +176,7 @@ static int dnp_attach(comedi_device * dev, comedi_devconfig * it)
 /* deallocated automatically by the core.                                    */
 /* ------------------------------------------------------------------------- */
 
-static int dnp_detach(comedi_device * dev)
+static int dnp_detach(struct comedi_device * dev)
 {
 
 	/* configure all ports as input (default)                                  */
@@ -200,7 +200,7 @@ static int dnp_detach(comedi_device * dev)
 /* are able to use these instructions as well.                               */
 /* ------------------------------------------------------------------------- */
 
-static int dnp_dio_insn_bits(comedi_device * dev,
+static int dnp_dio_insn_bits(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
@@ -250,7 +250,7 @@ static int dnp_dio_insn_bits(comedi_device * dev,
 /* COMEDI_INPUT or COMEDI_OUTPUT.                                            */
 /* ------------------------------------------------------------------------- */
 
-static int dnp_dio_insn_config(comedi_device * dev,
+static int dnp_dio_insn_config(struct comedi_device * dev,
 	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
diff --git a/drivers/staging/comedi/drivers/unioxx5.c b/drivers/staging/comedi/drivers/unioxx5.c
index 8df437af9dcc..90947cf1dbc4 100644
--- a/drivers/staging/comedi/drivers/unioxx5.c
+++ b/drivers/staging/comedi/drivers/unioxx5.c
@@ -80,14 +80,14 @@ typedef struct unioxx5_subd_priv {
 	unsigned char usp_prev_cn_val[3];	/* previous channel value */
 } unioxx5_subd_priv;
 
-static int unioxx5_attach(comedi_device * dev, comedi_devconfig * it);
-static int unioxx5_subdev_write(comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_attach(struct comedi_device * dev, comedi_devconfig * it);
+static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_subdev_read(comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_insn_config(comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_detach(comedi_device * dev);
+static int unioxx5_detach(struct comedi_device * dev);
 static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
 	int minor);
 static int __unioxx5_digital_write(unioxx5_subd_priv * usp, unsigned int * data,
@@ -111,7 +111,7 @@ static comedi_driver unioxx5_driver = {
 
 COMEDI_INITCLEANUP(unioxx5_driver);
 
-static int unioxx5_attach(comedi_device * dev, comedi_devconfig * it)
+static int unioxx5_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase, i, n_subd;
 	int id, num, ba;
@@ -156,7 +156,7 @@ static int unioxx5_attach(comedi_device * dev, comedi_devconfig * it)
 	return 0;
 }
 
-static int unioxx5_subdev_read(comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev-&gt;private;
@@ -176,7 +176,7 @@ static int unioxx5_subdev_read(comedi_device * dev, comedi_subdevice * subdev,
 	return 1;
 }
 
-static int unioxx5_subdev_write(comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev-&gt;private;
@@ -197,7 +197,7 @@ static int unioxx5_subdev_write(comedi_device * dev, comedi_subdevice * subdev,
 }
 
 /* for digital modules only */
-static int unioxx5_insn_config(comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel_offset, flags, channel = CR_CHAN(insn-&gt;chanspec), type;
@@ -247,7 +247,7 @@ static int unioxx5_insn_config(comedi_device * dev, comedi_subdevice * subdev,
 	return 0;
 }
 
-static int unioxx5_detach(comedi_device * dev)
+static int unioxx5_detach(struct comedi_device * dev)
 {
 	int i;
 	comedi_subdevice *subdev;
diff --git a/drivers/staging/comedi/drivers/usbdux.c b/drivers/staging/comedi/drivers/usbdux.c
index 68566295443a..c433076c0e47 100644
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -269,7 +269,7 @@ struct usbduxsub {
 	/* interface structure in 2.6 */
 	struct usb_interface *interface;
 	/* comedi device for the interrupt context */
-	comedi_device *comedidev;
+	struct comedi_device *comedidev;
 	/* is it USB_SPEED_HIGH or not? */
 	short int high_speed;
 	/* asynchronous command is running */
@@ -363,7 +363,7 @@ static int usbdux_ai_stop(struct usbduxsub *this_usbduxsub, int do_unlink)
  * This will cancel a running acquisition operation.
  * This is called by comedi but never from inside the driver.
  */
-static int usbdux_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub;
 	int res = 0;
@@ -392,7 +392,7 @@ static void usbduxsub_ai_IsocIrq(struct urb *urb)
 {
 	int i, err, n;
 	struct usbduxsub *this_usbduxsub;
-	comedi_device *this_comedidev;
+	struct comedi_device *this_comedidev;
 	comedi_subdevice *s;
 
 	/* the context variable points to the subdevice */
@@ -561,7 +561,7 @@ static int usbdux_ao_stop(struct usbduxsub *this_usbduxsub, int do_unlink)
 }
 
 /* force unlink, is called by comedi */
-static int usbdux_ao_cancel(comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ao_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int res = 0;
@@ -586,7 +586,7 @@ static void usbduxsub_ao_IsocIrq(struct urb *urb)
 	int i, ret;
 	int8_t *datap;
 	struct usbduxsub *this_usbduxsub;
-	comedi_device *this_comedidev;
+	struct comedi_device *this_comedidev;
 	comedi_subdevice *s;
 
 	/* the context variable points to the subdevice */
@@ -896,7 +896,7 @@ static int usbduxsub_submit_OutURBs(struct usbduxsub *usbduxsub)
 	return 0;
 }
 
-static int usbdux_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	int err = 0, tmp, i;
@@ -1116,7 +1116,7 @@ static int receive_dux_commands(struct usbduxsub *this_usbduxsub, int command)
 	return -EFAULT;
 }
 
-static int usbdux_ai_inttrig(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 			     unsigned int trignum)
 {
 	int ret;
@@ -1160,7 +1160,7 @@ static int usbdux_ai_inttrig(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_ai_cmd(comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int chan, range;
@@ -1276,7 +1276,7 @@ static int usbdux_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 }
 
 /* Mode 0 is used to get a single conversion on demand */
-static int usbdux_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -1337,7 +1337,7 @@ static int usbdux_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
 /************************************/
 /* analog out */
 
-static int usbdux_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -1359,7 +1359,7 @@ static int usbdux_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
 	return i;
 }
 
-static int usbdux_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 	int i, err;
@@ -1409,7 +1409,7 @@ static int usbdux_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
 	return i;
 }
 
-static int usbdux_ao_inttrig(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_inttrig(struct comedi_device *dev, comedi_subdevice *s,
 			     unsigned int trignum)
 {
 	int ret;
@@ -1450,7 +1450,7 @@ static int usbdux_ao_inttrig(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_ao_cmdtest(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	int err = 0, tmp;
@@ -1589,7 +1589,7 @@ static int usbdux_ao_cmdtest(comedi_device *dev, comedi_subdevice *s,
 	return 0;
 }
 
-static int usbdux_ao_cmd(comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ao_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int chan, gain;
@@ -1697,7 +1697,7 @@ static int usbdux_ao_cmd(comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static int usbdux_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1728,7 +1728,7 @@ static int usbdux_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
 	return insn-&gt;n;
 }
 
-static int usbdux_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 
@@ -1775,7 +1775,7 @@ static int usbdux_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 }
 
 /* reads the 4 counters, only two are used just now */
-static int usbdux_counter_read(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_read(struct comedi_device *dev, comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -1809,7 +1809,7 @@ static int usbdux_counter_read(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_counter_write(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_write(struct comedi_device *dev, comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -1839,7 +1839,7 @@ static int usbdux_counter_write(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_counter_config(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_config(struct comedi_device *dev, comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	/* nothing to do so far */
@@ -1883,7 +1883,7 @@ static int usbdux_pwm_stop(struct usbduxsub *this_usbduxsub, int do_unlink)
 }
 
 /* force unlink - is called by comedi */
-static int usbdux_pwm_cancel(comedi_device *dev, comedi_subdevice *s)
+static int usbdux_pwm_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int res = 0;
@@ -1905,7 +1905,7 @@ static void usbduxsub_pwm_irq(struct urb *urb)
 {
 	int ret;
 	struct usbduxsub *this_usbduxsub;
-	comedi_device *this_comedidev;
+	struct comedi_device *this_comedidev;
 	comedi_subdevice *s;
 
 	/* printk(KERN_DEBUG "PWM: IRQ\n"); */
@@ -1996,7 +1996,7 @@ static int usbduxsub_submit_PwmURBs(struct usbduxsub *usbduxsub)
 	return 0;
 }
 
-static int usbdux_pwm_period(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_period(struct comedi_device *dev, comedi_subdevice *s,
 			     unsigned int period)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2024,7 +2024,7 @@ static int usbdux_pwm_period(comedi_device *dev, comedi_subdevice *s,
 }
 
 /* is called from insn so there's no need to do all the sanity checks */
-static int usbdux_pwm_start(comedi_device *dev, comedi_subdevice *s)
+static int usbdux_pwm_start(struct comedi_device *dev, comedi_subdevice *s)
 {
 	int ret, i;
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2056,7 +2056,7 @@ static int usbdux_pwm_start(comedi_device *dev, comedi_subdevice *s)
 }
 
 /* generates the bit pattern for PWM with the optional sign bit */
-static int usbdux_pwm_pattern(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_pattern(struct comedi_device *dev, comedi_subdevice *s,
 			      int channel, unsigned int value, unsigned int sign)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2097,7 +2097,7 @@ static int usbdux_pwm_pattern(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static int usbdux_pwm_write(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_write(struct comedi_device *dev, comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2122,7 +2122,7 @@ static int usbdux_pwm_write(comedi_device *dev, comedi_subdevice *s,
 				  data[0], 0);
 }
 
-static int usbdux_pwm_read(comedi_device *x1, comedi_subdevice *x2,
+static int usbdux_pwm_read(struct comedi_device *x1, comedi_subdevice *x2,
 			   comedi_insn *x3, unsigned int *x4)
 {
 	/* not needed */
@@ -2130,7 +2130,7 @@ static int usbdux_pwm_read(comedi_device *x1, comedi_subdevice *x2,
 };
 
 /* switches on/off PWM */
-static int usbdux_pwm_config(comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_config(struct comedi_device *dev, comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -2703,7 +2703,7 @@ static void usbduxsub_disconnect(struct usb_interface *intf)
 }
 
 /* is called when comedi-config is called */
-static int usbdux_attach(comedi_device *dev, comedi_devconfig *it)
+static int usbdux_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int ret;
 	int index;
@@ -2870,7 +2870,7 @@ static int usbdux_attach(comedi_device *dev, comedi_devconfig *it)
 	return 0;
 }
 
-static int usbdux_detach(comedi_device *dev)
+static int usbdux_detach(struct comedi_device *dev)
 {
 	struct usbduxsub *usbduxsub_tmp;
 
diff --git a/drivers/staging/comedi/drivers/usbduxfast.c b/drivers/staging/comedi/drivers/usbduxfast.c
index aa21914318c8..ff4a546a157a 100644
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -179,7 +179,7 @@ struct usbduxfastsub_s {
 	int16_t *insnBuffer;		/* input buffer for single insn */
 	int ifnum;			/* interface number */
 	struct usb_interface *interface;	/* interface structure */
-	comedi_device *comedidev;	/* comedi device for the interrupt
+	struct comedi_device *comedidev;	/* comedi device for the interrupt
 					   context */
 	short int ai_cmd_running;	/* asynchronous command is running */
 	short int ai_continous;		/* continous aquisition */
@@ -284,7 +284,7 @@ static int usbduxfast_ai_stop(struct usbduxfastsub_s *udfs,
  * This will cancel a running acquisition operation.
  * This is called by comedi but never from inside the driver.
  */
-static int usbduxfast_ai_cancel(comedi_device *dev, comedi_subdevice *s)
+static int usbduxfast_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
 {
 	struct usbduxfastsub_s *udfs;
 	int ret;
@@ -318,7 +318,7 @@ static void usbduxfastsub_ai_Irq(struct urb *urb PT_REGS_ARG)
 {
 	int n, err;
 	struct usbduxfastsub_s *udfs;
-	comedi_device *this_comedidev;
+	struct comedi_device *this_comedidev;
 	comedi_subdevice *s;
 	uint16_t *p;
 
@@ -577,7 +577,7 @@ int usbduxfastsub_submit_InURBs(struct usbduxfastsub_s *udfs)
 	return 0;
 }
 
-static int usbduxfast_ai_cmdtest(comedi_device *dev,
+static int usbduxfast_ai_cmdtest(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int err = 0, stop_mask = 0;
@@ -719,7 +719,7 @@ static int usbduxfast_ai_cmdtest(comedi_device *dev,
 
 }
 
-static int usbduxfast_ai_inttrig(comedi_device *dev,
+static int usbduxfast_ai_inttrig(struct comedi_device *dev,
 	comedi_subdevice *s, unsigned int trignum)
 {
 	int ret;
@@ -771,7 +771,7 @@ static int usbduxfast_ai_inttrig(comedi_device *dev,
 #define OUTBASE	(1+0x10)
 #define LOGBASE	(1+0x18)
 
-static int usbduxfast_ai_cmd(comedi_device *dev, comedi_subdevice *s)
+static int usbduxfast_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	unsigned int chan, gain, rngmask = 0xff;
@@ -1230,7 +1230,7 @@ static int usbduxfast_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 /*
  * Mode 0 is used to get a single conversion on demand.
  */
-static int usbduxfast_ai_insn_read(comedi_device *dev,
+static int usbduxfast_ai_insn_read(struct comedi_device *dev,
 	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i, j, n, actual_length;
@@ -1715,7 +1715,7 @@ static void usbduxfastsub_disconnect(struct usb_interface *intf)
 /*
  * is called when comedi-config is called
  */
-static int usbduxfast_attach(comedi_device *dev, comedi_devconfig *it)
+static int usbduxfast_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int ret;
 	int index;
@@ -1813,7 +1813,7 @@ static int usbduxfast_attach(comedi_device *dev, comedi_devconfig *it)
 	return 0;
 }
 
-static int usbduxfast_detach(comedi_device *dev)
+static int usbduxfast_detach(struct comedi_device *dev)
 {
 	struct usbduxfastsub_s *udfs;
 
diff --git a/drivers/staging/comedi/kcomedilib/get.c b/drivers/staging/comedi/kcomedilib/get.c
index 4bb32593a79d..257cf8c25564 100644
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -28,7 +28,7 @@
 
 int comedi_get_n_subdevices(void *d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	return dev-&gt;n_subdevices;
 }
@@ -40,21 +40,21 @@ int comedi_get_version_code(void *d)
 
 const char *comedi_get_driver_name(void * d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	return dev-&gt;driver-&gt;driver_name;
 }
 
 const char *comedi_get_board_name(void * d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	return dev-&gt;board_name;
 }
 
 int comedi_get_subdevice_type(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;type;
@@ -62,7 +62,7 @@ int comedi_get_subdevice_type(void *d, unsigned int subdevice)
 
 unsigned int comedi_get_subdevice_flags(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;subdev_flags;
@@ -70,7 +70,7 @@ unsigned int comedi_get_subdevice_flags(void *d, unsigned int subdevice)
 
 int comedi_find_subdevice_by_type(void *d, int type, unsigned int subd)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	if (subd &gt; dev-&gt;n_subdevices)
 		return -ENODEV;
@@ -84,7 +84,7 @@ int comedi_find_subdevice_by_type(void *d, int type, unsigned int subd)
 
 int comedi_get_n_channels(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;n_chan;
@@ -92,7 +92,7 @@ int comedi_get_n_channels(void *d, unsigned int subdevice)
 
 int comedi_get_len_chanlist(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	return s-&gt;len_chanlist;
@@ -101,7 +101,7 @@ int comedi_get_len_chanlist(void *d, unsigned int subdevice)
 unsigned int comedi_get_maxdata(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 
 	if (s-&gt;maxdata_list)
@@ -114,7 +114,7 @@ unsigned int comedi_get_maxdata(void *d, unsigned int subdevice,
 int comedi_get_rangetype(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	int ret;
 
@@ -132,7 +132,7 @@ int comedi_get_rangetype(void *d, unsigned int subdevice,
 
 int comedi_get_n_ranges(void *d, unsigned int subdevice, unsigned int chan)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	int ret;
 
@@ -151,7 +151,7 @@ int comedi_get_n_ranges(void *d, unsigned int subdevice, unsigned int chan)
 int comedi_get_krange(void *d, unsigned int subdevice, unsigned int chan,
 	unsigned int range, comedi_krange *krange)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	const comedi_lrange *lr;
 
@@ -173,7 +173,7 @@ int comedi_get_krange(void *d, unsigned int subdevice, unsigned int chan,
 */
 unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 
@@ -186,7 +186,7 @@ unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 
 int comedi_get_buffer_contents(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 	unsigned int num_bytes;
@@ -206,7 +206,7 @@ int comedi_get_buffer_contents(void *d, unsigned int subdevice)
 int comedi_set_user_int_count(void *d, unsigned int subdevice,
 	unsigned int buf_user_count)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 	int num_bytes;
@@ -227,7 +227,7 @@ int comedi_set_user_int_count(void *d, unsigned int subdevice,
 int comedi_mark_buffer_read(void *d, unsigned int subdevice,
 	unsigned int num_bytes)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 
@@ -246,7 +246,7 @@ int comedi_mark_buffer_read(void *d, unsigned int subdevice,
 int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 	unsigned int num_bytes)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 	int bytes_written;
@@ -265,7 +265,7 @@ int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 
 int comedi_get_buffer_size(void *d, unsigned int subdev)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdev;
 	comedi_async *async;
 
@@ -280,7 +280,7 @@ int comedi_get_buffer_size(void *d, unsigned int subdev)
 
 int comedi_get_buffer_offset(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
 	comedi_async *async;
 
diff --git a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
index 0320a0ce74e9..98ddbb61ac01 100644
--- a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
+++ b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
@@ -45,7 +45,7 @@ MODULE_LICENSE("GPL");
 void *comedi_open(const char *filename)
 {
 	struct comedi_device_file_info *dev_file_info;
-	comedi_device *dev;
+	struct comedi_device *dev;
 	unsigned int minor;
 
 	if (strncmp(filename, "/dev/comedi", 11) != 0)
@@ -73,7 +73,7 @@ void *comedi_open(const char *filename)
 void *comedi_open_old(unsigned int minor)
 {
 	struct comedi_device_file_info *dev_file_info;
-	comedi_device *dev;
+	struct comedi_device *dev;
 
 	if (minor &gt;= COMEDI_NUM_MINORS)
 		return NULL;
@@ -91,7 +91,7 @@ void *comedi_open_old(unsigned int minor)
 
 int comedi_close(void *d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	module_put(dev-&gt;driver-&gt;module);
 
@@ -115,7 +115,7 @@ char *comedi_strerror(int err)
 
 int comedi_fileno(void *d)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 
 	/* return something random */
 	return dev-&gt;minor;
@@ -123,7 +123,7 @@ int comedi_fileno(void *d)
 
 int comedi_command(void *d, comedi_cmd *cmd)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	comedi_async *async;
 	unsigned runflags;
@@ -163,7 +163,7 @@ int comedi_command(void *d, comedi_cmd *cmd)
 
 int comedi_command_test(void *d, comedi_cmd *cmd)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 
 	if (cmd-&gt;subdev &gt;= dev-&gt;n_subdevices)
@@ -185,7 +185,7 @@ int comedi_command_test(void *d, comedi_cmd *cmd)
  */
 int comedi_do_insn(void *d, comedi_insn *insn)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	int ret = 0;
 
@@ -326,7 +326,7 @@ int comedi_do_insn(void *d, comedi_insn *insn)
 */
 int comedi_lock(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	unsigned long flags;
 	int ret = 0;
@@ -369,7 +369,7 @@ int comedi_lock(void *d, unsigned int subdevice)
 */
 int comedi_unlock(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	unsigned long flags;
 	comedi_async *async;
@@ -421,7 +421,7 @@ int comedi_unlock(void *d, unsigned int subdevice)
 */
 int comedi_cancel(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	int ret = 0;
 
@@ -467,7 +467,7 @@ int comedi_cancel(void *d, unsigned int subdevice)
 int comedi_register_callback(void *d, unsigned int subdevice,
 	unsigned int mask, int (*cb) (unsigned int, void *), void *arg)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 	comedi_async *async;
 
@@ -503,7 +503,7 @@ int comedi_register_callback(void *d, unsigned int subdevice,
 
 int comedi_poll(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices;
 	comedi_async *async;
 
@@ -530,7 +530,7 @@ int comedi_poll(void *d, unsigned int subdevice)
 /* WARNING: not portable */
 int comedi_map(void *d, unsigned int subdevice, void *ptr)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
@@ -552,7 +552,7 @@ int comedi_map(void *d, unsigned int subdevice, void *ptr)
 /* WARNING: not portable */
 int comedi_unmap(void *d, unsigned int subdevice)
 {
-	comedi_device *dev = (comedi_device *) d;
+	struct comedi_device *dev = (struct comedi_device *) d;
 	comedi_subdevice *s;
 
 	if (subdevice &gt;= dev-&gt;n_subdevices)
diff --git a/drivers/staging/comedi/proc.c b/drivers/staging/comedi/proc.c
index 6a1efa86ae97..bb208f852a00 100644
--- a/drivers/staging/comedi/proc.c
+++ b/drivers/staging/comedi/proc.c
@@ -53,7 +53,7 @@ int comedi_read_procmem(char *buf, char **start, off_t offset, int len,
 
 	for (i = 0; i &lt; COMEDI_NUM_BOARD_MINORS; i++) {
 		struct comedi_device_file_info *dev_file_info = comedi_get_device_file_info(i);
-		comedi_device *dev;
+		struct comedi_device *dev;
 
 		if (dev_file_info == NULL)
 			continue;
diff --git a/drivers/staging/comedi/range.c b/drivers/staging/comedi/range.c
index e54be6182eea..7e069fd2ba5c 100644
--- a/drivers/staging/comedi/range.c
+++ b/drivers/staging/comedi/range.c
@@ -44,7 +44,7 @@ const comedi_lrange range_unknown = { 1, {{0, 1000000, UNIT_none}} };
 	writes:
 		n comedi_krange structures to rangeinfo-&gt;range_ptr
 */
-int do_rangeinfo_ioctl(comedi_device *dev, comedi_rangeinfo *arg)
+int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg)
 {
 	comedi_rangeinfo it;
 	int subd, chan;
diff --git a/drivers/staging/comedi/rt.c b/drivers/staging/comedi/rt.c
index fa99d6942b45..e9f5777595ab 100644
--- a/drivers/staging/comedi/rt.c
+++ b/drivers/staging/comedi/rt.c
@@ -57,7 +57,7 @@ struct comedi_irq_struct {
 	 irqreturn_t(*handler) (int irq, void *dev_id PT_REGS_ARG);
 	unsigned long flags;
 	const char *device;
-	comedi_device *dev_id;
+	struct comedi_device *dev_id;
 };
 
 static int comedi_rt_get_irq(struct comedi_irq_struct *it);
@@ -67,7 +67,7 @@ static struct comedi_irq_struct *comedi_irqs[NR_IRQS];
 
 int comedi_request_irq(unsigned irq, irqreturn_t(*handler) (int,
 		void *PT_REGS_ARG), unsigned long flags, const char *device,
-	comedi_device *dev_id)
+	struct comedi_device *dev_id)
 {
 	struct comedi_irq_struct *it;
 	int ret;
@@ -102,7 +102,7 @@ int comedi_request_irq(unsigned irq, irqreturn_t(*handler) (int,
 	return 0;
 }
 
-void comedi_free_irq(unsigned int irq, comedi_device *dev_id)
+void comedi_free_irq(unsigned int irq, struct comedi_device *dev_id)
 {
 	struct comedi_irq_struct *it;
 
@@ -121,7 +121,7 @@ void comedi_free_irq(unsigned int irq, comedi_device *dev_id)
 	comedi_irqs[irq] = NULL;
 }
 
-int comedi_switch_to_rt(comedi_device *dev)
+int comedi_switch_to_rt(struct comedi_device *dev)
 {
 	struct comedi_irq_struct *it;
 	unsigned long flags;
@@ -145,7 +145,7 @@ int comedi_switch_to_rt(comedi_device *dev)
 	return 0;
 }
 
-void comedi_switch_to_non_rt(comedi_device *dev)
+void comedi_switch_to_non_rt(struct comedi_device *dev)
 {
 	struct comedi_irq_struct *it;
 	unsigned long flags;</pre><hr><pre>commit 790c55415aa31f4c732729f94d2c3a54f7d3bfc2
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:05:02 2009 -0400

    Staging: comedi: Remove lsampl_t and sampl_t typedefs
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi.h b/drivers/staging/comedi/comedi.h
index 14b376c8e800..665dbc7de003 100644
--- a/drivers/staging/comedi/comedi.h
+++ b/drivers/staging/comedi/comedi.h
@@ -57,9 +57,6 @@ extern "C" {
 /* max length of device and driver names */
 #define COMEDI_NAMELEN 20
 
-	typedef unsigned int lsampl_t;
-	typedef unsigned short sampl_t;
-
 /* packs and unpacks a channel/range number */
 
 #define CR_PACK(chan, rng, aref)		((((aref)&amp;0x3)&lt;&lt;24) | (((rng)&amp;0xff)&lt;&lt;16) | (chan))
@@ -332,7 +329,7 @@ struct comedi_trig_struct {
 	unsigned int flags;
 	unsigned int n_chan;	/* number of channels */
 	unsigned int *chanlist;	/* channel/range list */
-	sampl_t *data;	/* data list, size depends on subd flags */
+	short *data;	/* data list, size depends on subd flags */
 	unsigned int n;	/* number of scans */
 	unsigned int trigsrc;
 	unsigned int trigvar;
@@ -344,7 +341,7 @@ struct comedi_trig_struct {
 struct comedi_insn_struct {
 	unsigned int insn;
 	unsigned int n;
-	lsampl_t *data;
+	unsigned int *data;
 	unsigned int subdev;
 	unsigned int chanspec;
 	unsigned int unused[3];
@@ -377,13 +374,13 @@ struct comedi_cmd_struct {
 	unsigned int *chanlist;	/* channel/range list */
 	unsigned int chanlist_len;
 
-	sampl_t *data;	/* data list, size depends on subd flags */
+	short *data;	/* data list, size depends on subd flags */
 	unsigned int data_len;
 };
 
 struct comedi_chaninfo_struct {
 	unsigned int subdev;
-	lsampl_t *maxdata_list;
+	unsigned int *maxdata_list;
 	unsigned int *flaglist;
 	unsigned int *rangelist;
 	unsigned int unused[4];
@@ -407,7 +404,7 @@ struct comedi_subdinfo_struct {
 	unsigned int subd_flags;
 	unsigned int timer_type;
 	unsigned int len_chanlist;
-	lsampl_t maxdata;
+	unsigned int maxdata;
 	unsigned int flags;	/* channel flags */
 	unsigned int range_type;	/* lookup in kernel */
 	unsigned int settling_time_0;
diff --git a/drivers/staging/comedi/comedi_compat32.c b/drivers/staging/comedi/comedi_compat32.c
index 600060ed73dd..ef3caa9d0e02 100644
--- a/drivers/staging/comedi/comedi_compat32.c
+++ b/drivers/staging/comedi/comedi_compat32.c
@@ -50,7 +50,7 @@
 
 struct comedi32_chaninfo_struct {
 	unsigned int subdev;
-	compat_uptr_t maxdata_list;	/* 32-bit 'lsampl_t *' */
+	compat_uptr_t maxdata_list;	/* 32-bit 'unsigned int *' */
 	compat_uptr_t flaglist;		/* 32-bit 'unsigned int *' */
 	compat_uptr_t rangelist;	/* 32-bit 'unsigned int *' */
 	unsigned int unused[4];
@@ -76,14 +76,14 @@ struct comedi32_cmd_struct {
 	unsigned int stop_arg;
 	compat_uptr_t chanlist;		/* 32-bit 'unsigned int *' */
 	unsigned int chanlist_len;
-	compat_uptr_t data;		/* 32-bit 'sampl_t *' */
+	compat_uptr_t data;		/* 32-bit 'short *' */
 	unsigned int data_len;
 };
 
 struct comedi32_insn_struct {
 	unsigned int insn;
 	unsigned int n;
-	compat_uptr_t data;		/* 32-bit 'lsampl_t *' */
+	compat_uptr_t data;		/* 32-bit 'unsigned int *' */
 	unsigned int subdev;
 	unsigned int chanspec;
 	unsigned int unused[3];
diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index fa5ef2ee4eda..82bb66994e17 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -506,7 +506,7 @@ static int do_chaninfo_ioctl(comedi_device *dev, comedi_chaninfo *arg)
 		if (s-&gt;maxdata || !s-&gt;maxdata_list)
 			return -EINVAL;
 		if (copy_to_user(it.maxdata_list, s-&gt;maxdata_list,
-				 s-&gt;n_chan * sizeof(lsampl_t)))
+				 s-&gt;n_chan * sizeof(unsigned int)))
 			return -EFAULT;
 	}
 
@@ -607,7 +607,7 @@ static int do_bufinfo_ioctl(comedi_device *dev, void *arg)
 	return 0;
 }
 
-static int parse_insn(comedi_device *dev, comedi_insn *insn, lsampl_t *data,
+static int parse_insn(comedi_device *dev, comedi_insn *insn, unsigned int *data,
 		      void *file);
 /*
  * 	COMEDI_INSNLIST
@@ -630,14 +630,14 @@ static int do_insnlist_ioctl(comedi_device *dev, void *arg, void *file)
 {
 	comedi_insnlist insnlist;
 	comedi_insn *insns = NULL;
-	lsampl_t *data = NULL;
+	unsigned int *data = NULL;
 	int i = 0;
 	int ret = 0;
 
 	if (copy_from_user(&amp;insnlist, arg, sizeof(comedi_insnlist)))
 		return -EFAULT;
 
-	data = kmalloc(sizeof(lsampl_t) * MAX_SAMPLES, GFP_KERNEL);
+	data = kmalloc(sizeof(unsigned int) * MAX_SAMPLES, GFP_KERNEL);
 	if (!data) {
 		DPRINTK("kmalloc failed\n");
 		ret = -ENOMEM;
@@ -666,7 +666,7 @@ static int do_insnlist_ioctl(comedi_device *dev, void *arg, void *file)
 		}
 		if (insns[i].insn &amp; INSN_MASK_WRITE) {
 			if (copy_from_user(data, insns[i].data,
-					   insns[i].n * sizeof(lsampl_t))) {
+					   insns[i].n * sizeof(unsigned int))) {
 				DPRINTK("copy_from_user failed\n");
 				ret = -EFAULT;
 				goto error;
@@ -677,7 +677,7 @@ static int do_insnlist_ioctl(comedi_device *dev, void *arg, void *file)
 			goto error;
 		if (insns[i].insn &amp; INSN_MASK_READ) {
 			if (copy_to_user(insns[i].data, data,
-					 insns[i].n * sizeof(lsampl_t))) {
+					 insns[i].n * sizeof(unsigned int))) {
 				DPRINTK("copy_to_user failed\n");
 				ret = -EFAULT;
 				goto error;
@@ -696,7 +696,7 @@ static int do_insnlist_ioctl(comedi_device *dev, void *arg, void *file)
 	return i;
 }
 
-static int check_insn_config_length(comedi_insn *insn, lsampl_t *data)
+static int check_insn_config_length(comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
@@ -757,7 +757,7 @@ static int check_insn_config_length(comedi_insn *insn, lsampl_t *data)
 	return -EINVAL;
 }
 
-static int parse_insn(comedi_device *dev, comedi_insn *insn, lsampl_t *data,
+static int parse_insn(comedi_device *dev, comedi_insn *insn, unsigned int *data,
 		      void *file)
 {
 	comedi_subdevice *s;
@@ -825,7 +825,7 @@ static int parse_insn(comedi_device *dev, comedi_insn *insn, lsampl_t *data,
 		}
 	} else {
 		/* a subdevice instruction */
-		lsampl_t maxdata;
+		unsigned int maxdata;
 
 		if (insn-&gt;subdev &gt;= dev-&gt;n_subdevices) {
 			DPRINTK("subdevice %d out of range\n", insn-&gt;subdev);
@@ -920,10 +920,10 @@ static int parse_insn(comedi_device *dev, comedi_insn *insn, lsampl_t *data,
 static int do_insn_ioctl(comedi_device *dev, void *arg, void *file)
 {
 	comedi_insn insn;
-	lsampl_t *data = NULL;
+	unsigned int *data = NULL;
 	int ret = 0;
 
-	data = kmalloc(sizeof(lsampl_t) * MAX_SAMPLES, GFP_KERNEL);
+	data = kmalloc(sizeof(unsigned int) * MAX_SAMPLES, GFP_KERNEL);
 	if (!data) {
 		ret = -ENOMEM;
 		goto error;
@@ -938,7 +938,7 @@ static int do_insn_ioctl(comedi_device *dev, void *arg, void *file)
 	if (insn.n &gt; MAX_SAMPLES)
 		insn.n = MAX_SAMPLES;
 	if (insn.insn &amp; INSN_MASK_WRITE) {
-		if (copy_from_user(data, insn.data, insn.n * sizeof(lsampl_t))) {
+		if (copy_from_user(data, insn.data, insn.n * sizeof(unsigned int))) {
 			ret = -EFAULT;
 			goto error;
 		}
@@ -947,7 +947,7 @@ static int do_insn_ioctl(comedi_device *dev, void *arg, void *file)
 	if (ret &lt; 0)
 		goto error;
 	if (insn.insn &amp; INSN_MASK_READ) {
-		if (copy_to_user(insn.data, data, insn.n * sizeof(lsampl_t))) {
+		if (copy_to_user(insn.data, data, insn.n * sizeof(unsigned int))) {
 			ret = -EFAULT;
 			goto error;
 		}
diff --git a/drivers/staging/comedi/comedidev.h b/drivers/staging/comedi/comedidev.h
index d4750e503aad..372a1ba808d6 100644
--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -150,8 +150,8 @@ struct comedi_subdevice_struct {
 
 	int io_bits;
 
-	lsampl_t maxdata;	/* if maxdata==0, use list */
-	const lsampl_t *maxdata_list;	/* list is channel specific */
+	unsigned int maxdata;	/* if maxdata==0, use list */
+	const unsigned int *maxdata_list;	/* list is channel specific */
 
 	unsigned int flags;
 	const unsigned int *flaglist;
@@ -164,13 +164,13 @@ struct comedi_subdevice_struct {
 	unsigned int *chanlist;	/* driver-owned chanlist (not used) */
 
 	int (*insn_read) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 	int (*insn_write) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 	int (*insn_bits) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 	int (*insn_config) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 
 	int (*do_cmd) (comedi_device *, comedi_subdevice *);
 	int (*do_cmdtest) (comedi_device *, comedi_subdevice *, comedi_cmd *);
@@ -389,7 +389,7 @@ void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
 	unsigned bits);
 unsigned comedi_get_subdevice_runflags(comedi_subdevice *s);
 int insn_inval(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 
 /* range stuff */
 
@@ -452,9 +452,9 @@ static inline int alloc_private(comedi_device *dev, int size)
 static inline unsigned int bytes_per_sample(const comedi_subdevice *subd)
 {
 	if (subd-&gt;subdev_flags &amp; SDF_LSAMPL)
-		return sizeof(lsampl_t);
+		return sizeof(unsigned int);
 	else
-		return sizeof(sampl_t);
+		return sizeof(short);
 }
 
 /* must be used in attach to set dev-&gt;hw_dev if you wish to dma directly
@@ -471,8 +471,8 @@ static inline void comedi_set_hw_dev(comedi_device *dev, struct device *hw_dev)
 	}
 }
 
-int comedi_buf_put(comedi_async *async, sampl_t x);
-int comedi_buf_get(comedi_async *async, sampl_t *x);
+int comedi_buf_put(comedi_async *async, short x);
+int comedi_buf_get(comedi_async *async, short *x);
 
 unsigned int comedi_buf_write_n_available(comedi_async *async);
 unsigned int comedi_buf_write_alloc(comedi_async *async, unsigned int nbytes);
diff --git a/drivers/staging/comedi/comedilib.h b/drivers/staging/comedi/comedilib.h
index ab42893562f9..b4192e486aa5 100644
--- a/drivers/staging/comedi/comedilib.h
+++ b/drivers/staging/comedi/comedilib.h
@@ -65,14 +65,14 @@ int comedi_command_test(void *dev, comedi_cmd *cmd);
 int comedi_trigger(void *dev, unsigned int subdev, comedi_trig *it);
 int __comedi_trigger(void *dev, unsigned int subdev, comedi_trig *it);
 int comedi_data_write(void *dev, unsigned int subdev, unsigned int chan,
-	unsigned int range, unsigned int aref, lsampl_t data);
+	unsigned int range, unsigned int aref, unsigned int data);
 int comedi_data_read(void *dev, unsigned int subdev, unsigned int chan,
-	unsigned int range, unsigned int aref, lsampl_t *data);
+	unsigned int range, unsigned int aref, unsigned int *data);
 int comedi_data_read_hint(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref);
 int comedi_data_read_delayed(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref,
-	lsampl_t *data, unsigned int nano_sec);
+	unsigned int *data, unsigned int nano_sec);
 int comedi_dio_config(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int io);
 int comedi_dio_read(void *dev, unsigned int subdev, unsigned int chan,
@@ -88,7 +88,7 @@ const char *comedi_get_board_name(void *dev);
 int comedi_get_subdevice_type(void *dev, unsigned int subdevice);
 int comedi_find_subdevice_by_type(void *dev, int type, unsigned int subd);
 int comedi_get_n_channels(void *dev, unsigned int subdevice);
-lsampl_t comedi_get_maxdata(void *dev, unsigned int subdevice, unsigned
+unsigned int comedi_get_maxdata(void *dev, unsigned int subdevice, unsigned
 	int chan);
 int comedi_get_n_ranges(void *dev, unsigned int subdevice, unsigned int
 	chan);
@@ -142,9 +142,9 @@ int comedi_command_test(unsigned int minor, comedi_cmd *cmd);
 int comedi_trigger(unsigned int minor, unsigned int subdev, comedi_trig *it);
 int __comedi_trigger(unsigned int minor, unsigned int subdev, comedi_trig *it);
 int comedi_data_write(unsigned int dev, unsigned int subdev, unsigned int chan,
-	unsigned int range, unsigned int aref, lsampl_t data);
+	unsigned int range, unsigned int aref, unsigned int data);
 int comedi_data_read(unsigned int dev, unsigned int subdev, unsigned int chan,
-	unsigned int range, unsigned int aref, lsampl_t *data);
+	unsigned int range, unsigned int aref, unsigned int *data);
 int comedi_dio_config(unsigned int dev, unsigned int subdev, unsigned int chan,
 	unsigned int io);
 int comedi_dio_read(unsigned int dev, unsigned int subdev, unsigned int chan,
@@ -161,7 +161,7 @@ int comedi_get_subdevice_type(unsigned int minor, unsigned int subdevice);
 int comedi_find_subdevice_by_type(unsigned int minor, int type,
 	unsigned int subd);
 int comedi_get_n_channels(unsigned int minor, unsigned int subdevice);
-lsampl_t comedi_get_maxdata(unsigned int minor, unsigned int subdevice, unsigned
+unsigned int comedi_get_maxdata(unsigned int minor, unsigned int subdevice, unsigned
 	int chan);
 int comedi_get_n_ranges(unsigned int minor, unsigned int subdevice, unsigned int
 	chan);
diff --git a/drivers/staging/comedi/drivers.c b/drivers/staging/comedi/drivers.c
index 07456c0709dc..49834ebfcb19 100644
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -49,7 +49,7 @@
 
 static int postconfig(comedi_device *dev);
 static int insn_rw_emulate_bits(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static void *comedi_recognize(comedi_driver * driv, const char *name);
 static void comedi_report_boards(comedi_driver *driv);
 static int poll_invalid(comedi_device *dev, comedi_subdevice *s);
@@ -337,13 +337,13 @@ static int poll_invalid(comedi_device *dev, comedi_subdevice *s)
 }
 
 int insn_inval(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	return -EINVAL;
 }
 
 static int insn_rw_emulate_bits(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	comedi_insn new_insn;
 	int ret;
@@ -352,7 +352,7 @@ static int insn_rw_emulate_bits(comedi_device *dev, comedi_subdevice *s,
 	unsigned chan = CR_CHAN(insn-&gt;chanspec);
 	const unsigned base_bitfield_channel =
 		(chan &lt; channels_per_bitfield) ? 0 : chan;
-	lsampl_t new_data[2];
+	unsigned int new_data[2];
 	memset(new_data, 0, sizeof(new_data));
 	memset(&amp;new_insn, 0, sizeof(new_insn));
 	new_insn.insn = INSN_BITS;
@@ -745,28 +745,28 @@ unsigned int comedi_buf_read_n_available(comedi_async *async)
 	return num_bytes;
 }
 
-int comedi_buf_get(comedi_async *async, sampl_t *x)
+int comedi_buf_get(comedi_async *async, short *x)
 {
 	unsigned int n = comedi_buf_read_n_available(async);
 
-	if (n &lt; sizeof(sampl_t))
+	if (n &lt; sizeof(short))
 		return 0;
-	comedi_buf_read_alloc(async, sizeof(sampl_t));
-	*x = *(sampl_t *) (async-&gt;prealloc_buf + async-&gt;buf_read_ptr);
-	comedi_buf_read_free(async, sizeof(sampl_t));
+	comedi_buf_read_alloc(async, sizeof(short));
+	*x = *(short *) (async-&gt;prealloc_buf + async-&gt;buf_read_ptr);
+	comedi_buf_read_free(async, sizeof(short));
 	return 1;
 }
 
-int comedi_buf_put(comedi_async *async, sampl_t x)
+int comedi_buf_put(comedi_async *async, short x)
 {
-	unsigned int n = comedi_buf_write_alloc_strict(async, sizeof(sampl_t));
+	unsigned int n = comedi_buf_write_alloc_strict(async, sizeof(short));
 
-	if (n &lt; sizeof(sampl_t)) {
+	if (n &lt; sizeof(short)) {
 		async-&gt;events |= COMEDI_CB_ERROR;
 		return 0;
 	}
-	*(sampl_t *) (async-&gt;prealloc_buf + async-&gt;buf_write_ptr) = x;
-	comedi_buf_write_free(async, sizeof(sampl_t));
+	*(short *) (async-&gt;prealloc_buf + async-&gt;buf_write_ptr) = x;
+	comedi_buf_write_free(async, sizeof(short));
 	return 1;
 }
 
diff --git a/drivers/staging/comedi/drivers/8255.c b/drivers/staging/comedi/drivers/8255.c
index 4a471849181f..b90bd1275f99 100644
--- a/drivers/staging/comedi/drivers/8255.c
+++ b/drivers/staging/comedi/drivers/8255.c
@@ -120,7 +120,7 @@ static void do_config(comedi_device * dev, comedi_subdevice * s);
 
 void subdev_8255_interrupt(comedi_device * dev, comedi_subdevice * s)
 {
-	sampl_t d;
+	short d;
 
 	d = CALLBACK_FUNC(0, _8255_DATA, 0, CALLBACK_ARG);
 	d |= (CALLBACK_FUNC(0, _8255_DATA + 1, 0, CALLBACK_ARG) &lt;&lt; 8);
@@ -144,7 +144,7 @@ static int subdev_8255_cb(int dir, int port, int data, unsigned long arg)
 }
 
 static int subdev_8255_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
@@ -169,7 +169,7 @@ static int subdev_8255_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int subdev_8255_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
 	unsigned int bits;
diff --git a/drivers/staging/comedi/drivers/acl7225b.c b/drivers/staging/comedi/drivers/acl7225b.c
index 10dd20ca6b36..aeaf30dea300 100644
--- a/drivers/staging/comedi/drivers/acl7225b.c
+++ b/drivers/staging/comedi/drivers/acl7225b.c
@@ -51,7 +51,7 @@ static comedi_driver driver_acl7225b = {
 COMEDI_INITCLEANUP(driver_acl7225b);
 
 static int acl7225b_do_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -72,7 +72,7 @@ static int acl7225b_do_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int acl7225b_di_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
index 20db5b2a84bd..20450ba03504 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
@@ -33,7 +33,7 @@
 |                                BYTE_   b_OutputLevel,                      |
 |                                BYTE_   b_HardwareGateLevel)
 INT i_InsnConfig_InitTimer(comedi_device *dev,comedi_subdevice *s,
-	comedi_insn *insn,lsampl_t *data)
+	comedi_insn *insn,unsigned int *data)
 |
 +----------------------------------------------------------------------------+
 | Task              : Configure the Timer (b_TimerNbr) operating mode        |
@@ -220,7 +220,7 @@ INT i_InsnConfig_InitTimer(comedi_device *dev,comedi_subdevice *s,
 */
 
 INT i_APCI1710_InsnConfigInitTimer(comedi_device * dev, comedi_subdevice * s,
-				   comedi_insn * insn, lsampl_t * data)
+				   comedi_insn * insn, unsigned int * data)
 {
 
 	INT i_ReturnValue = 0;
@@ -407,7 +407,7 @@ INT i_APCI1710_InsnConfigInitTimer(comedi_device * dev, comedi_subdevice * s,
 |                                BYTE_ b_TimerNbr,                           |
 |                                BYTE_ b_InterruptEnable)
 INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device *dev,comedi_subdevice *s,
-	comedi_insn *insn,lsampl_t *data)                |
+	comedi_insn *insn,unsigned int *data)                |
 +----------------------------------------------------------------------------+
 | Task              : Enable OR Disable the Timer (b_TimerNbr) from selected module     |
 |                     (b_ModulNbr). You must calling the                     |
@@ -450,7 +450,7 @@ i_ReturnValue=insn-&gt;n;
 
 INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device * dev,
 					   comedi_subdevice * s,
-					   comedi_insn * insn, lsampl_t * data)
+					   comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_DummyRead;
@@ -562,7 +562,7 @@ INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device * dev,
 |                                        BYTE_     b_ModulNbr,               |
 |                                        PULONG_ pul_TimerValueArray)
 INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev,comedi_subdevice *s,
-	comedi_insn *insn,lsampl_t *data)        |
+	comedi_insn *insn,unsigned int *data)        |
 +----------------------------------------------------------------------------+
 | Task              : Return the all timer values from selected timer        |
 |                     module (b_ModulNbr).                                   |
@@ -591,7 +591,7 @@ INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev,comedi_subdevice *s,
 */
 
 INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data)
+				     comedi_insn *insn, unsigned int *data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_ReadType;
@@ -669,7 +669,7 @@ INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev, comedi_subdevice *s,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnBitsTimer(comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)                   |
+comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read write functions for Timer                                          |
 +----------------------------------------------------------------------------+
@@ -682,7 +682,7 @@ comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)                   |
 */
 
 INT i_APCI1710_InsnBitsTimer(comedi_device * dev, comedi_subdevice * s,
-			     comedi_insn * insn, lsampl_t * data)
+			     comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_BitsType;
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
index 33ef9113878b..80ee66233ec6 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
@@ -35,20 +35,20 @@
  * 82X54 TIMER INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigInitTimer(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableTimer(comedi_device *dev,
 					   comedi_subdevice *s,
-					   comedi_insn *insn, lsampl_t *data);
+					   comedi_insn *insn, unsigned int *data);
 
 /*
  * 82X54 READ FUNCTION
  */
 INT i_APCI1710_InsnReadAllTimerValue(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsTimer(comedi_device *dev, comedi_subdevice *s,
-			     comedi_insn *insn, lsampl_t *data);
+			     comedi_insn *insn, unsigned int *data);
 
 /*
  * 82X54 READ &amp; WRITE FUNCTION
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
index 01100ff01ed4..25242871d470 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
@@ -132,7 +132,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitChrono(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	ULONG ul_TimerValue = 0;
@@ -791,7 +791,7 @@ INT i_APCI1710_InsnConfigInitChrono(comedi_device * dev, comedi_subdevice * s,
 |                                                BYTE_ b_CycleMode,          |
 |                                                BYTE_ b_InterruptEnable)
 INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)						 |
+comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
 +----------------------------------------------------------------------------+
 | Task              : Enable the chronometer from selected module            |
 |                     (b_ModulNbr). You must calling the                     |
@@ -841,7 +841,7 @@ comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)						 |
 */
 
 INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_CycleMode, b_InterruptEnable, b_Action;
@@ -1078,7 +1078,7 @@ INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT	i_APCI1710_InsnReadChrono(comedi_device *dev,comedi_subdevice *s,
-comedi_insn *insn,lsampl_t *data)                   |
+comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read  functions for Timer                                     |
 +----------------------------------------------------------------------------+
@@ -1091,7 +1091,7 @@ comedi_insn *insn,lsampl_t *data)                   |
 */
 
 INT i_APCI1710_InsnReadChrono(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ReadType;
 	INT i_ReturnValue = insn-&gt;n;
@@ -1758,7 +1758,7 @@ INT i_APCI1710_ConvertChronoValue(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(comedi_device *dev,comedi_subdevice *s,
-	comedi_insn *insn,lsampl_t *data)                    |
+	comedi_insn *insn,unsigned int *data)                    |
 +----------------------------------------------------------------------------+
 | Task              : Sets the output witch has been passed with the         |
 |                     parameter b_Channel. Setting an output means setting an|
@@ -1877,7 +1877,7 @@ INT i_APCI1710_ConvertChronoValue(comedi_device * dev,
 */
 
 INT i_APCI1710_InsnBitsChronoDigitalIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_OutputChannel, b_InputChannel, b_IOType;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
index 0dc67e87ed0f..9f6d0f003de4 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
@@ -36,18 +36,18 @@
  * CHRONOMETER INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigInitChrono(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableChrono(comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
-					    lsampl_t *data);
+					    unsigned int *data);
 
 /*
  * CHRONOMETER READ FUNCTION
  */
 INT i_APCI1710_InsnReadChrono(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_GetChronoProgressStatus(comedi_device *dev,
 				       BYTE b_ModulNbr, PBYTE pb_ChronoStatus);
@@ -71,4 +71,4 @@ INT i_APCI1710_ConvertChronoValue(comedi_device *dev,
  */
 INT i_APCI1710_InsnBitsChronoDigitalIO(comedi_device *dev,
 				       comedi_subdevice *s, comedi_insn *insn,
-				       lsampl_t *data);
+				       unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
index 531822c10847..87dba6a83d83 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
@@ -62,7 +62,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnConfigDigitalIO(comedi_device *dev, |
-|						comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)|
+|						comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 +----------------------------------------------------------------------------+
 | Task              : Configure the digital I/O operating mode from selected |
 |                     module  (b_ModulNbr). You must calling this function be|
@@ -100,7 +100,7 @@ Activates and deactivates the digital output memory.
 */
 
 INT i_APCI1710_InsnConfigDigitalIO(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ModulNbr, b_ChannelAMode, b_ChannelBMode;
 	BYTE b_MemoryOnOff, b_ConfigType;
@@ -248,7 +248,7 @@ INT i_APCI1710_InsnConfigDigitalIO(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 
 |INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device *dev,comedi_subdevice
-*s,	comedi_insn *insn,lsampl_t *data)
+*s,	comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
 | Task              : Read the status from selected digital I/O digital input|
@@ -294,7 +294,7 @@ INT i_APCI1710_InsnConfigDigitalIO(comedi_device * dev, comedi_subdevice * s,
 //
 //                                             PBYTE_  pb_ChannelStatus)
 INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -446,7 +446,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device
-|*dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)
+|*dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets the output witch has been passed with the         |
@@ -482,7 +482,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device * dev,
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_OutputChannel)
 INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_WriteValue = 0;
@@ -677,7 +677,7 @@ INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device * dev,
 +----------------------------------------------------------------------------+
 
 |INT i_APCI1710_InsnBitsDigitalIOPortOnOff(comedi_device *dev,comedi_subdevice
-	*s,	comedi_insn *insn,lsampl_t *data)
+	*s,	comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 | Task              : write:
 					  Sets or resets one or several outputs from port.                 |
@@ -729,7 +729,7 @@ INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device * dev,
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_PortValue)
 INT i_APCI1710_InsnBitsDigitalIOPortOnOff(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_WriteValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
index 2f1cf869999c..76dbf0840889 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
@@ -28,19 +28,19 @@
  * DIGITAL I/O INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigDigitalIO(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 /*
  * INPUT OUTPUT  FUNCTIONS
  */
 INT i_APCI1710_InsnReadDigitalIOChlValue(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsDigitalIOPortOnOff(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
index ddffb069d5c2..5ad6abff41a5 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
@@ -62,7 +62,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | INT	i_APCI1710_InsnConfigINCCPT(comedi_device *dev,comedi_subdevice *s,
-comedi_insn *insn,lsampl_t *data)
+comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
 | Task              : Configuration function for INC_CPT                             |
@@ -76,7 +76,7 @@ comedi_insn *insn,lsampl_t *data)
 */
 
 INT i_APCI1710_InsnConfigINCCPT(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ConfigType;
 	INT i_ReturnValue = 0;
@@ -2003,7 +2003,7 @@ INT i_APCI1710_InitFrequencyMeasurement(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT	i_APCI1710_InsnBitsINCCPT(comedi_device *dev,comedi_subdevice *s,
-comedi_insn *insn,lsampl_t *data)                   |
+comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Set &amp; Clear Functions for INC_CPT                                          |
 +----------------------------------------------------------------------------+
@@ -2016,7 +2016,7 @@ comedi_insn *insn,lsampl_t *data)                   |
 */
 
 INT i_APCI1710_InsnBitsINCCPT(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_BitsType;
 	INT i_ReturnValue = 0;
@@ -2940,7 +2940,7 @@ INT i_APCI1710_SetDigitalChlOff(comedi_device * dev, BYTE b_ModulNbr)
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT	i_APCI1710_InsnWriteINCCPT(comedi_device *dev,comedi_subdevice *s,
-comedi_insn *insn,lsampl_t *data)                   |
+comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Enable Disable functions for INC_CPT                                       |
 +----------------------------------------------------------------------------+
@@ -2952,7 +2952,7 @@ comedi_insn *insn,lsampl_t *data)                   |
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1710_InsnWriteINCCPT(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_WriteType;
 	INT i_ReturnValue = 0;
@@ -4038,7 +4038,7 @@ INT i_APCI1710_DisableFrequencyMeasurement(comedi_device * dev, BYTE b_ModulNbr)
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT	i_APCI1710_InsnWriteINCCPT(comedi_device *dev,comedi_subdevice *s,
-comedi_insn *insn,lsampl_t *data)                   |
+comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read and Get functions for INC_CPT                                       |
 +----------------------------------------------------------------------------+
@@ -4050,7 +4050,7 @@ comedi_insn *insn,lsampl_t *data)                   |
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1710_InsnReadINCCPT(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ReadType;
 	INT i_ReturnValue = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
index 140f4d25c3b3..8abcaa4a971c 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
@@ -133,16 +133,16 @@
 
 /************ Main Functions *************/
 INT i_APCI1710_InsnConfigINCCPT(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t * data);
+				comedi_insn *insn, unsigned int * data);
 
 INT i_APCI1710_InsnBitsINCCPT(comedi_device *dev, comedi_subdevice * s,
-			      comedi_insn *insn, lsampl_t * data);
+			      comedi_insn *insn, unsigned int * data);
 
 INT i_APCI1710_InsnWriteINCCPT(comedi_device *dev, comedi_subdevice * s,
-			       comedi_insn *insn, lsampl_t * data);
+			       comedi_insn *insn, unsigned int * data);
 
 INT i_APCI1710_InsnReadINCCPT(comedi_device *dev, comedi_subdevice * s,
-			      comedi_insn *insn, lsampl_t * data);
+			      comedi_insn *insn, unsigned int * data);
 
 /*********** Supplementary Functions********/
 
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
index 90b8dc9df5bd..d6101c9a998a 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
@@ -124,7 +124,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitPulseEncoder(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_IntRegister;
@@ -415,7 +415,7 @@ INT i_APCI1710_InsnConfigInitPulseEncoder(comedi_device * dev,
 */
 
 INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr;
@@ -709,7 +709,7 @@ INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device * dev,
    						 PBYTE_ pb_Status)
 						 */
 INT i_APCI1710_InsnBitsReadWritePulseEncoder(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusRegister;
@@ -835,7 +835,7 @@ INT i_APCI1710_InsnBitsReadWritePulseEncoder(comedi_device * dev,
 }
 
 INT i_APCI1710_InsnReadInterruptPulseEncoder(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	data[0] = devpriv-&gt;s_InterruptParameters.
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
index 1cfa9c978f83..c901a317fc61 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
@@ -23,12 +23,12 @@
 
 INT i_APCI1710_InsnConfigInitPulseEncoder(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device *dev,
 						  comedi_subdevice *s,
 						  comedi_insn *insn,
-						  lsampl_t *data);
+						  unsigned int *data);
 
 /*
  * READ PULSE ENCODER FUNCTIONS
@@ -36,7 +36,7 @@ INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(comedi_device *dev,
 INT i_APCI1710_InsnReadInterruptPulseEncoder(comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 
 /*
  * WRITE PULSE ENCODER FUNCTIONS
@@ -44,4 +44,4 @@ INT i_APCI1710_InsnReadInterruptPulseEncoder(comedi_device *dev,
 INT i_APCI1710_InsnBitsReadWritePulseEncoder(comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
index a3b44b978da5..9a2dd408f38f 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
@@ -58,7 +58,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnConfigPWM(comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)                        |
+comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Init and Get Pwm Initialisation                    |
 +----------------------------------------------------------------------------+
@@ -71,7 +71,7 @@ comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)                        |
 */
 
 INT i_APCI1710_InsnConfigPWM(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ConfigType;
 	INT i_ReturnValue = 0;
@@ -1671,7 +1671,7 @@ INT i_APCI1710_GetPWMInitialisation(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnWritePWM(comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)                        |
+comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Enable Disable and Set New Timing                  |
 +----------------------------------------------------------------------------+
@@ -1684,7 +1684,7 @@ comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)                        |
 */
 
 INT i_APCI1710_InsnWritePWM(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_WriteType;
 	INT i_ReturnValue = 0;
@@ -3461,7 +3461,7 @@ INT i_APCI1710_SetNewPWMTiming(comedi_device * dev,
 */
 
 INT i_APCI1710_InsnReadGetPWMStatus(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -3562,7 +3562,7 @@ INT i_APCI1710_InsnReadGetPWMStatus(comedi_device * dev, comedi_subdevice * s,
 }
 
 INT i_APCI1710_InsnBitsReadPWMInterrupt(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;s_InterruptParameters.
 		s_FIFOInterruptParameters[devpriv-&gt;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
index 3eeef3e85181..1f40d00b10e6 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
@@ -27,7 +27,7 @@
 #define APCI1710_PWM_NEWTIMING		2
 
 INT i_APCI1710_InsnConfigPWM(comedi_device *dev, comedi_subdevice *s,
-			     comedi_insn *insn, lsampl_t *data);
+			     comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InitPWM(comedi_device *dev,
 		       BYTE b_ModulNbr,
@@ -51,7 +51,7 @@ INT i_APCI1710_GetPWMInitialisation(comedi_device *dev,
 				    PBYTE pb_InterruptEnable, PBYTE pb_Enable);
 
 INT i_APCI1710_InsnWritePWM(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data);
+			    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_EnablePWM(comedi_device *dev,
 			 BYTE b_ModulNbr,
@@ -69,8 +69,8 @@ INT i_APCI1710_SetNewPWMTiming(comedi_device *dev,
 INT i_APCI1710_DisablePWM(comedi_device *dev, BYTE b_ModulNbr, BYTE b_PWM);
 
 INT i_APCI1710_InsnReadGetPWMStatus(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsReadPWMInterrupt(comedi_device *dev,
 					comedi_subdevice *s,
-					comedi_insn *insn, lsampl_t *data);
+					comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
index 497233618c45..650b5752e61a 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
@@ -134,7 +134,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitSSI(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	UINT ui_TimerValue;
@@ -363,7 +363,7 @@ INT i_APCI1710_InsnConfigInitSSI(comedi_device * dev, comedi_subdevice * s,
 |                                PULONG_ pul_Position,                       |
 |                                PULONG_ pul_TurnCpt)
  INT i_APCI1710_ReadSSIValue(comedi_device *dev,comedi_subdevice *s,
-	comedi_insn *insn,lsampl_t *data)                       |
+	comedi_insn *insn,unsigned int *data)                       |
 +----------------------------------------------------------------------------+
 | Task              :
 
@@ -401,7 +401,7 @@ pul_Position	=	(PULONG) &amp;data[0];
 */
 
 INT i_APCI1710_InsnReadSSIValue(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_Cpt;
@@ -736,7 +736,7 @@ INT i_APCI1710_InsnReadSSIValue(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1710_InsnBitsSSIDigitalIO(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
index 260fc52a2495..a0ad47d2f7a8 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
@@ -34,10 +34,10 @@
  * SSI INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigInitSSI(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnReadSSIValue(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data);
+				comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsSSIDigitalIO(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
index aa45d0a37270..09d5a2fadee6 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
@@ -131,7 +131,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitTorCounter(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	ULONG ul_TimerValue = 0;
@@ -988,7 +988,7 @@ INT i_APCI1710_InsnConfigInitTorCounter(comedi_device * dev,
 */
 
 INT i_APCI1710_InsnWriteEnableDisableTorCounter(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -1461,7 +1461,7 @@ INT i_APCI1710_InsnWriteEnableDisableTorCounter(comedi_device * dev,
 */
 
 INT i_APCI1710_InsnReadGetTorCounterInitialisation(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -1701,7 +1701,7 @@ INT i_APCI1710_InsnReadGetTorCounterInitialisation(comedi_device * dev,
 */
 
 INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
index 49e024280486..a4807de42441 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
@@ -37,21 +37,21 @@
  */
 INT i_APCI1710_InsnConfigInitTorCounter(comedi_device *dev,
 					comedi_subdevice *s,
-					comedi_insn *insn, lsampl_t *data);
+					comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableTorCounter(comedi_device *dev,
 						comedi_subdevice *s,
 						comedi_insn *insn,
-						lsampl_t *data);
+						unsigned int *data);
 
 INT i_APCI1710_InsnReadGetTorCounterInitialisation(comedi_device *dev,
 						   comedi_subdevice *s,
 						   comedi_insn *insn,
-						   lsampl_t *data);
+						   unsigned int *data);
 /*
  * TOR_COUNTER READ FUNCTION
  */
 INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(comedi_device *dev,
 							   comedi_subdevice *s,
 							   comedi_insn *insn,
-							   lsampl_t *data);
+							   unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
index cd781796b633..0a40f46442e9 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
@@ -101,7 +101,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI1710_InsnConfigInitTTLIO(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr;
@@ -407,7 +407,7 @@ APCI1710_TTL_READCHANNEL
 */
 
 INT i_APCI1710_InsnBitsReadTTLIO(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -634,7 +634,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device
-*dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)              |
+*dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)              |
 +----------------------------------------------------------------------------+
 | Task              : Read the status from all digital input ports           |
 |                     (port A, port B and port C) from selected TTL          |
@@ -656,7 +656,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -793,7 +793,7 @@ INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device * dev,
 |                                BYTE_           b_ModulNbr,                 |
 |                                BYTE_           b_OutputChannel)
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device *dev,comedi_subdevice *s,
-	comedi_insn *insn,lsampl_t *data)           |
+	comedi_insn *insn,unsigned int *data)           |
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets  the output witch has been passed with the         |
 |                     parameter b_Channel. Setting an output means setting   |
@@ -826,7 +826,7 @@ INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device *dev,comedi_subdevice *s,
 */
 
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
index 6870cf071b71..8993ac642736 100644
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
@@ -25,20 +25,20 @@
  * TTL INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigInitTTLIO(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL INPUT FUNCTION
  */
 INT i_APCI1710_InsnBitsReadTTLIO(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL OUTPUT FUNCTIONS
  */
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.c b/drivers/staging/comedi/drivers/addi-data/addi_common.c
index 63c93debb92e..4cd552568ac3 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.c
@@ -3030,14 +3030,14 @@ static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 +----------------------------------------------------------------------------+
 | Function name     :                                                        |
 |INT i_ADDIDATA_InsnReadEeprom(comedi_device *dev,comedi_subdevice *s,
-							comedi_insn *insn,lsampl_t *data)
+							comedi_insn *insn,unsigned int *data)
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Read 256 words from EEPROM          				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  :(comedi_device *dev,comedi_subdevice *s,
-			comedi_insn *insn,lsampl_t *data) 						 |
+			comedi_insn *insn,unsigned int *data) 						 |
 |                     														 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
@@ -3047,7 +3047,7 @@ static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG)
 */
 
 static int i_ADDIDATA_InsnReadEeprom(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	WORD w_Data;
 	WORD w_Address;
diff --git a/drivers/staging/comedi/drivers/addi-data/addi_common.h b/drivers/staging/comedi/drivers/addi-data/addi_common.h
index 7bf997976b7f..ca7c5cb4dac6 100644
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -120,19 +120,19 @@ typedef struct {
 	int (*i_hwdrv_InsnConfigAnalogInput)(comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 	int (*i_hwdrv_InsnReadAnalogInput)(comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
-					    lsampl_t *data);
+					    unsigned int *data);
 	int (*i_hwdrv_InsnWriteAnalogInput)(comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
-					    lsampl_t *data);
+					    unsigned int *data);
 	int (*i_hwdrv_InsnBitsAnalogInput)(comedi_device *dev,
 					   comedi_subdevice *s,
 					   comedi_insn *insn,
-					   lsampl_t *data);
+					   unsigned int *data);
 	int (*i_hwdrv_CommandTestAnalogInput)(comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_cmd *cmd);
@@ -145,77 +145,77 @@ typedef struct {
 	int (*i_hwdrv_InsnConfigAnalogOutput)(comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
-					      lsampl_t *data);
+					      unsigned int *data);
 	int (*i_hwdrv_InsnWriteAnalogOutput)(comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 	int (*i_hwdrv_InsnBitsAnalogOutput)(comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
-					    lsampl_t *data);
+					    unsigned int *data);
 
 	/* Digital Input */
 	int (*i_hwdrv_InsnConfigDigitalInput) (comedi_device *dev,
 					       comedi_subdevice *s,
 					       comedi_insn *insn,
-					       lsampl_t *data);
+					       unsigned int *data);
 	int (*i_hwdrv_InsnReadDigitalInput) (comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 	int (*i_hwdrv_InsnWriteDigitalInput) (comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
-					      lsampl_t *data);
+					      unsigned int *data);
 	int (*i_hwdrv_InsnBitsDigitalInput) (comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 
 	/* Digital Output */
 	int (*i_hwdrv_InsnConfigDigitalOutput)(comedi_device *dev,
 					       comedi_subdevice *s,
 					       comedi_insn *insn,
-					       lsampl_t *data);
+					       unsigned int *data);
 	int (*i_hwdrv_InsnWriteDigitalOutput)(comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
-					      lsampl_t *data);
+					      unsigned int *data);
 	int (*i_hwdrv_InsnBitsDigitalOutput)(comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 	int (*i_hwdrv_InsnReadDigitalOutput)(comedi_device *dev,
 					     comedi_subdevice *s,
 					     comedi_insn *insn,
-					     lsampl_t *data);
+					     unsigned int *data);
 
 	/* TIMER */
 	int (*i_hwdrv_InsnConfigTimer)(comedi_device *dev,
 				       comedi_subdevice *s,
-				       comedi_insn *insn, lsampl_t *data);
+				       comedi_insn *insn, unsigned int *data);
 	int (*i_hwdrv_InsnWriteTimer)(comedi_device *dev,
 				      comedi_subdevice *s, comedi_insn *insn,
-				      lsampl_t *data);
+				      unsigned int *data);
 	int (*i_hwdrv_InsnReadTimer)(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 	int (*i_hwdrv_InsnBitsTimer)(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 
 	/* TTL IO */
 	int (*i_hwdr_ConfigInitTTLIO)(comedi_device *dev,
 				      comedi_subdevice *s, comedi_insn *insn,
-				      lsampl_t *data);
+				      unsigned int *data);
 	int (*i_hwdr_ReadTTLIOBits)(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 	int (*i_hwdr_ReadTTLIOAllPortValue)(comedi_device *dev,
 					    comedi_subdevice *s,
 					    comedi_insn *insn,
-					    lsampl_t *data);
+					    unsigned int *data);
 	int (*i_hwdr_WriteTTLIOChlOnOff)(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 } boardtype;
 
 //MODULE INFO STRUCTURE
@@ -388,14 +388,14 @@ typedef struct {
 	UINT ui_AiTimer1;	//Timer constant for Timer1
 	UINT ui_AiFlags;
 	UINT ui_AiDataLength;
-	sampl_t *AiData;	// Pointer to sample data
+	short *AiData;	// Pointer to sample data
 	UINT ui_AiNbrofScans;	// number of scans to do
 	USHORT us_UseDma;	// To use Dma or not
 	BYTE b_DmaDoubleBuffer;	// we can use double buffering
 	UINT ui_DmaActualBuffer;	// which buffer is used now
 	//*UPDATE-0.7.57-&gt;0.7.68
 	//ULONG               ul_DmaBufferVirtual[2];// pointers to begin of DMA buffer
-	sampl_t *ul_DmaBufferVirtual[2];	// pointers to begin of DMA buffer
+	short *ul_DmaBufferVirtual[2];	// pointers to begin of DMA buffer
 	ULONG ul_DmaBufferHw[2];	// hw address of DMA buff
 	UINT ui_DmaBufferSize[2];	// size of dma buffer in bytes
 	UINT ui_DmaBufferUsesize[2];	// which size we may now used for transfer
@@ -462,4 +462,4 @@ static int i_ADDI_Reset(comedi_device *dev);
 
 static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG);
 static int i_ADDIDATA_InsnReadEeprom(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
index f10ea4b25f19..4a4356550a6c 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
@@ -59,7 +59,7 @@ INT i_Flag = 1;
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ConfigTimerWatchdog                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
 +----------------------------------------------------------------------------+
@@ -110,7 +110,7 @@ INT i_Flag = 1;
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_ConfigTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;
 	UINT ui_Command = 0;
@@ -255,7 +255,7 @@ INT i_APCI035_ConfigTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_StartStopWriteTimerWatchdog              |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , or Watchdog  |
 +----------------------------------------------------------------------------+
@@ -279,7 +279,7 @@ INT i_APCI035_ConfigTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Command = 0;
 	INT i_Count = 0;
@@ -368,7 +368,7 @@ INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadTimerWatchdog                        |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
 +----------------------------------------------------------------------------+
@@ -392,7 +392,7 @@ INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_ReadTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;	// Status register
 	i_WatchdogNbr = insn-&gt;unused[0];
@@ -428,14 +428,14 @@ INT i_APCI035_ReadTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI035_ConfigAnalogInput                        |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Input Subdevice                  |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
-|                     lsampl_t *data          : Data Pointer contains        |
+|                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
 |                     data[0]                  : Warning delay value
 |                                                                            |
@@ -448,7 +448,7 @@ INT i_APCI035_ReadTimerWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;tsk_Current = current;
 	outl(0x200 | 0, devpriv-&gt;iobase + 128 + 0x4);
@@ -467,7 +467,7 @@ INT i_APCI035_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadAnalogInput                          |
 |			          (comedi_device *dev,comedi_subdevice *s,       |
-|                     comedi_insn *insn,lsampl_t *data)                      |
+|                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel			         |
 +----------------------------------------------------------------------------+
@@ -485,7 +485,7 @@ INT i_APCI035_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_CommandRegister = 0;
 /******************/
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
index 8ae0af6fdd09..0e4ec157ad3a 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
@@ -102,19 +102,19 @@ comedi_lrange range_apci035_ai = { 8, {
 /* TIMER */
 /* timer value is passed as u seconds */
 INT i_APCI035_ConfigTimerWatchdog(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI035_StartStopWriteTimerWatchdog(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
 INT i_APCI035_ReadTimerWatchdog(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data);
+				comedi_insn *insn, unsigned int *data);
 
 /* Temperature Related Defines (Analog Input Subdevice) */
 
 INT i_APCI035_ConfigAnalogInput(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data);
+				comedi_insn *insn, unsigned int *data);
 INT i_APCI035_ReadAnalogInput(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 
 /* Interrupt */
 static void v_APCI035_Interrupt(int irq, void *d);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
index b9fa99723f90..5f65d1d4baab 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
@@ -60,12 +60,12 @@ UINT ui_InterruptStatus = 0;
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ConfigDigitalInput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev : Driver handle                     |
-|                     lsampl_t *data         : Data Pointer contains         |
+|                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                                                                            |
 |			  data[0]            : 1 Enable  Digital Input Interrupt |
@@ -85,7 +85,7 @@ UINT ui_InterruptStatus = 0;
 */
 
 INT i_APCI1032_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
 
@@ -129,13 +129,13 @@ INT i_APCI1032_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_Read1DigitalInput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -145,7 +145,7 @@ INT i_APCI1032_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1032_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
 	UINT ui_Channel;
@@ -167,7 +167,7 @@ INT i_APCI1032_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ReadMoreDigitalInput                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                     comedi_insn *insn,lsampl_t *data)                      |
+|                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
@@ -184,7 +184,7 @@ INT i_APCI1032_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1032_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
 	UINT ui_Mask = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
index c47a95731c98..51abd4f073de 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
@@ -48,13 +48,13 @@
 // for di read
 
 INT i_APCI1032_ConfigDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1032_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1032_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
 
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
index ff7284d787b5..33885c55be9d 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
@@ -62,7 +62,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
   +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalInputEvent                 |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : An event can be generated for each port.               |
 |                     The first event is related to the first 8 channels     |
@@ -71,7 +71,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 |                     events have occurred                                   |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev : Driver handle                     |
-|                     lsampl_t *data     : Data Pointer contains             |
+|                     unsigned int *data     : Data Pointer contains             |
 |                                          configuration parameters as below |
 |                                                                            |
 |			  data[0]            :Number of the input port on        |
@@ -138,7 +138,7 @@ int i_TimerCounter1Enabled = 0, i_TimerCounter2Enabled =
 */
 
 INT i_APCI1500_ConfigDigitalInputEvent(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_PatternPolarity = 0, i_PatternTransition = 0, i_PatternMask = 0;
 	int i_MaxChannel = 0, i_Count = 0, i_EventMask = 0;
@@ -501,13 +501,13 @@ INT i_APCI1500_ConfigDigitalInputEvent(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopInputEvent                     |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :  Allows or disallows a port event                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
                       data[0]                 :0 Start input event
                                                1 Stop input event
                       data[1]                 :No of port (1 or 2)
@@ -520,7 +520,7 @@ INT i_APCI1500_ConfigDigitalInputEvent(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_StartStopInputEvent(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i_Event1InterruptStatus = 0, i_Event2InterruptStatus =
 		0, i_RegValue;
@@ -769,13 +769,13 @@ int i_APCI1500_StartStopInputEvent(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_Initialisation                          |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -785,7 +785,7 @@ int i_APCI1500_StartStopInputEvent(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1500_Initialisation(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i_DummyRead = 0;
     /******************/
@@ -938,7 +938,7 @@ INT i_APCI1500_Initialisation(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadMoreDigitalInput                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                     comedi_insn *insn,lsampl_t *data)                      |
+|                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
@@ -958,7 +958,7 @@ INT i_APCI1500_Initialisation(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1500_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[1];
 	UINT ui_Mask = 0;
@@ -1016,14 +1016,14 @@ INT i_APCI1500_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalOutputErrorInterrupt
                       (comedi_device *dev,comedi_subdevice *s comedi_insn
-                      *insn,lsampl_t *data)                                  |
+                      *insn,unsigned int *data)                                  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital output memory and the digital
                       output error interrupt                                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev : Driver handle                     |
-|                     lsampl_t *data         : Data Pointer contains         |
+|                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                                                                                |
@@ -1041,7 +1041,7 @@ INT i_APCI1500_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
 	return insn-&gt;n;
@@ -1051,7 +1051,7 @@ int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_WriteDigitalOutput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
@@ -1068,7 +1068,7 @@ int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device * dev,
 */
 
 INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	static UINT ui_Temp = 0;
 	UINT ui_Temp1;
@@ -1215,7 +1215,7 @@ INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device
-                   *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)|
+                   *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
@@ -1223,7 +1223,7 @@ INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data         : Data Pointer to read status                                                       data[0]                : 2     APCI1500_1_8_KHZ
+|                     unsigned int *data         : Data Pointer to read status                                                       data[0]                : 2     APCI1500_1_8_KHZ
 |                                              1     APCI1500_3_6_KHZ        |
 |                                              0     APCI1500_115_KHZ
                       data[1]                : 0     Counter1/Timer1
@@ -1262,7 +1262,7 @@ INT i_APCI1500_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_TimerCounterMode, i_MasterConfiguration;
 
@@ -1836,14 +1836,14 @@ int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopTriggerTimerCounterWatchdog      |
 |				(comedi_device *dev,comedi_subdevice *s,
-                         comedi_insn *insn,lsampl_t *data);                  |
+                         comedi_insn *insn,unsigned int *data);                  |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop or trigger the timer counter or Watchdog  |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev     : Driver handle                 |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data         : Data Pointer to read status   |
+|                     unsigned int *data         : Data Pointer to read status   |
                       data[0]                : 0     Counter1/Timer1
                                                1     Counter2/Timer2
                                                2     Counter3/Watchdog
@@ -1861,7 +1861,7 @@ int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
 
@@ -2161,14 +2161,14 @@ int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadCounterTimerWatchdog                |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data); 	                                     |
+                    unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
                       data[0]                : 0     Counter1/Timer1
                                                1     Counter2/Timer2
                                                2     Counter3/Watchdog
@@ -2183,7 +2183,7 @@ int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device * dev,
 */
 
 int i_APCI1500_ReadCounterTimerWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
 	switch (data[0]) {
@@ -2352,14 +2352,14 @@ int i_APCI1500_ReadCounterTimerWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ReadInterruptMask                      |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data); 	                                     |
+                    unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read the interrupt mask                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 
 
 +----------------------------------------------------------------------------+
@@ -2371,7 +2371,7 @@ int i_APCI1500_ReadCounterTimerWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_ReadInterruptMask(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = i_InterruptMask;
 	data[1] = i_InputChannel;
@@ -2383,14 +2383,14 @@ int i_APCI1500_ReadInterruptMask(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ConfigureInterrupt                     |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data); 	                                     |
+                    unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the interrupt registers                     |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer                 |
+|                     unsigned int *data          : Data Pointer                 |
 
 
 +----------------------------------------------------------------------------+
@@ -2402,7 +2402,7 @@ int i_APCI1500_ReadInterruptMask(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_ConfigureInterrupt(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status;
 	int i_RegValue;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
index a0d924a8e6ba..f1519e70cfbc 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
@@ -117,49 +117,49 @@ enum {
 
  /*----------DIGITAL INPUT----------------*/
 static int i_APCI1500_Initialisation(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 static int i_APCI1500_ConfigDigitalInputEvent(comedi_device *dev,
 					      comedi_subdevice *s,
 					      comedi_insn *insn,
-					      lsampl_t *data);
+					      unsigned int *data);
 
 static int i_APCI1500_StartStopInputEvent(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
 static int i_APCI1500_ReadMoreDigitalInput(comedi_device *dev,
 					   comedi_subdevice *s,
-					   comedi_insn *insn, lsampl_t *data);
+					   comedi_insn *insn, unsigned int *data);
 
 /*----------	DIGITAL OUTPUT------------*/
 static int i_APCI1500_ConfigDigitalOutputErrorInterrupt(comedi_device *dev,
 							comedi_subdevice *s,
 							comedi_insn *insn,
-							lsampl_t *data);
+							unsigned int *data);
 static int i_APCI1500_WriteDigitalOutput(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 
 /*----------TIMER----------------*/
 static int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device *dev,
 						 comedi_subdevice *s,
 						 comedi_insn *insn,
-						 lsampl_t *data);
+						 unsigned int *data);
 static int i_APCI1500_StartStopTriggerTimerCounterWatchdog(comedi_device *dev,
 							   comedi_subdevice *s,
 							   comedi_insn *insn,
-							   lsampl_t *data);
+							   unsigned int *data);
 static int i_APCI1500_ReadCounterTimerWatchdog(comedi_device *dev,
 					       comedi_subdevice *s,
 					       comedi_insn *insn,
-					       lsampl_t *data);
+					       unsigned int *data);
 static int i_APCI1500_ReadInterruptMask(comedi_device *dev,
 					comedi_subdevice *s,
-					comedi_insn *insn, lsampl_t *data);
+					comedi_insn *insn, unsigned int *data);
 
 /*----------INTERRUPT HANDLER------*/
 static void v_APCI1500_Interrupt(int irq, void *d);
 static int i_APCI1500_ConfigureInterrupt(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 /*----------RESET---------------*/
 static int i_APCI1500_Reset(comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
index 57e53f4d3735..5be566eda898 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
@@ -57,14 +57,14 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_Read1DigitalInput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |		       comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -74,7 +74,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1516_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
 	UINT ui_Channel;
@@ -97,14 +97,14 @@ INT i_APCI1516_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadMoreDigitalInput                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                     comedi_insn *insn,lsampl_t *data)                      |
+|                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
-|                      lsampl_t *data         : Data Pointer to read status  |
+|                      unsigned int *data         : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -115,7 +115,7 @@ INT i_APCI1516_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1516_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_PortValue = data[0];
@@ -149,13 +149,13 @@ INT i_APCI1516_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ConfigDigitalOutput (comedi_device *dev,
-                    comedi_subdevice *s comedi_insn *insn,lsampl_t *data)    |
+                    comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev : Driver handle                     |
-|                     lsampl_t *data         : Data Pointer contains         |
+|                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                           |
@@ -172,7 +172,7 @@ INT i_APCI1516_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI1516_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
 	return insn-&gt;n;
@@ -182,14 +182,14 @@ int i_APCI1516_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_WriteDigitalOutput                      |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                     lsampl_t *data)                                         |
+                     unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                    lsampl_t *data           : Data Pointer to read status  |
+|                    unsigned int *data           : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -200,7 +200,7 @@ int i_APCI1516_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1516_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
 	UINT ui_NoOfChannel = CR_CHAN(insn-&gt;chanspec);	// get the channel
@@ -342,14 +342,14 @@ INT i_APCI1516_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadDigitalOutput                       |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data) 	                                     |
+                    unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -360,7 +360,7 @@ INT i_APCI1516_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_Temp;
@@ -401,7 +401,7 @@ INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ConfigWatchdog(comedi_device *dev,
-                      comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)  |
+                      comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
@@ -409,7 +409,7 @@ INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status                                                     |
+|                     unsigned int *data          : Data Pointer to read status                                                     |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -420,7 +420,7 @@ INT i_APCI1516_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI1516_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
 		//Disable the watchdog
@@ -448,14 +448,14 @@ int i_APCI1516_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI1516_StartStopWriteWatchdog                  |
     |                           (comedi_device *dev,comedi_subdevice *s,
-    comedi_insn *insn,lsampl_t *data);                      |
+    comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : comedi_device *dev      : Driver handle                |
     |                     comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
-    |                     lsampl_t *data          : Data Pointer to read status  |
+    |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
     | Output Parameters :       --                                                                                                       |
     +----------------------------------------------------------------------------+
@@ -466,7 +466,7 @@ int i_APCI1516_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
   */
 
 int i_APCI1516_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case 0:		//stop the watchdog
@@ -493,14 +493,14 @@ int i_APCI1516_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadWatchdog                            |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data); 	                                     |
+                    unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -511,7 +511,7 @@ int i_APCI1516_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI1516_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = inw(devpriv-&gt;i_IobaseAddon + APCI1516_WATCHDOG_STATUS) &amp; 0x1;
 	return insn-&gt;n;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
index c07598d61e74..176e4785819e 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
@@ -39,26 +39,26 @@
 
 //Digital Input
 INT i_APCI1516_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 INT i_APCI1516_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
 int i_APCI1516_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 INT i_APCI1516_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI1516_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 int i_APCI1516_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 int i_APCI1516_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
-				      comedi_insn *insn, lsampl_t *data);
+				      comedi_insn *insn, unsigned int *data);
 int i_APCI1516_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data);
+			    comedi_insn *insn, unsigned int *data);
 
 //reset
 INT i_APCI1516_Reset(comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
index f92253455374..cb7510930626 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
@@ -63,12 +63,12 @@ UINT ui_InterruptData, ui_Type;
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalInput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev : Driver handle                     |
-|                     lsampl_t *data         : Data Pointer contains         |
+|                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                                                                            |
 |			  data[0]            : 1 Enable  Digital Input Interrupt |
@@ -87,7 +87,7 @@ UINT ui_InterruptData, ui_Type;
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;tsk_Current = current;
    /*******************************/
@@ -132,13 +132,13 @@ INT i_APCI1564_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_Read1DigitalInput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |		              UINT ui_Channel : Channel number to read       |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -148,7 +148,7 @@ INT i_APCI1564_ConfigDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
 	UINT ui_Channel;
@@ -172,7 +172,7 @@ INT i_APCI1564_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadMoreDigitalInput                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                     comedi_insn *insn,lsampl_t *data)                      |
+|                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
@@ -188,7 +188,7 @@ INT i_APCI1564_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
 	UINT ui_Mask = 0;
@@ -234,7 +234,7 @@ INT i_APCI1564_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalOutput                     |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
@@ -256,7 +256,7 @@ INT i_APCI1564_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
 
@@ -297,7 +297,7 @@ INT i_APCI1564_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_WriteDigitalOutput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
@@ -313,7 +313,7 @@ INT i_APCI1564_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
 	UINT ui_NoOfChannel;
@@ -471,7 +471,7 @@ INT i_APCI1564_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadDigitalOutput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
@@ -487,7 +487,7 @@ INT i_APCI1564_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
 	UINT ui_NoOfChannel;
@@ -538,7 +538,7 @@ INT i_APCI1564_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigTimerCounterWatchdog              |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
 +----------------------------------------------------------------------------+
@@ -565,7 +565,7 @@ INT i_APCI1564_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	devpriv-&gt;tsk_Current = current;
@@ -696,7 +696,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_StartStopWriteTimerCounterWatchdog      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
 +----------------------------------------------------------------------------+
@@ -719,7 +719,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	if (devpriv-&gt;b_TimerSelectMode == ADDIDATA_WATCHDOG) {
@@ -796,7 +796,7 @@ INT i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadTimerCounterWatchdog                |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
 +----------------------------------------------------------------------------+
@@ -814,7 +814,7 @@ INT i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ReadTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 
@@ -879,7 +879,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI1564_ReadInterruptStatus                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
 +----------------------------------------------------------------------------+
@@ -893,7 +893,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(comedi_device * dev,
 */
 
 int i_APCI1564_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
 	return insn-&gt;n;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
index 2244686c0092..914231f2edb6 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
@@ -83,34 +83,34 @@
 //DI
 // for di read
 INT i_APCI1564_ConfigDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI1564_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 INT i_APCI1564_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 
 //DO
 int i_APCI1564_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 INT i_APCI1564_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI1564_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 int i_APCI1564_ReadInterruptStatus(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI1564_ConfigTimerCounterWatchdog(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
 int i_APCI1564_StartStopWriteTimerCounterWatchdog(comedi_device *dev,
 						  comedi_subdevice *s,
 						  comedi_insn *insn,
-						  lsampl_t *data);
+						  unsigned int *data);
 int i_APCI1564_ReadTimerCounterWatchdog(comedi_device *dev,
 					comedi_subdevice *s,
-					comedi_insn *insn, lsampl_t *data);
+					comedi_insn *insn, unsigned int *data);
 
 // INTERRUPT
 static VOID v_APCI1564_Interrupt(int irq, void *d);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
index f505d9052ce2..0955fdf31cd1 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
@@ -61,7 +61,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task           APCI16XX_TTL_INIT (using defaults)   :                      |
 |                Configure the TTL I/O operating mode from all ports         |
@@ -91,7 +91,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 int i_APCI16XX_InsnConfigInitTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
@@ -254,7 +254,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task              : Read the status from selected TTL digital input        |
 |                     (b_InputChannel)                                       |
@@ -284,7 +284,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(comedi_device * dev,
 */
 
 int i_APCI16XX_InsnBitsReadTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
@@ -414,7 +414,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task              : Read the status from all digital input ports           |
 +----------------------------------------------------------------------------+
@@ -431,13 +431,13 @@ int i_APCI16XX_InsnBitsReadTTLIO(comedi_device * dev,
 */
 
 int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Command = (BYTE) CR_AREF(insn-&gt;chanspec);
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Cpt = 0;
 	BYTE b_NumberOfPort = 0;
-	lsampl_t *pls_ReadData = data;
+	unsigned int *pls_ReadData = data;
 
 	/********************/
 	/* Test the command */
@@ -539,7 +539,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task              : Set the state from selected TTL digital output         |
 |                     (b_OutputChannel)                                      |
@@ -571,7 +571,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device * dev,
 */
 
 int i_APCI16XX_InsnBitsWriteTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
index ff2e411e207d..6e8d09407807 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
@@ -64,7 +64,7 @@ static const comedi_lrange range_apci16xx_ttl = { 12,
 
 int i_APCI16XX_InsnConfigInitTTLIO(comedi_device *dev,
 				   comedi_subdevice *s, comedi_insn *insn,
-				   lsampl_t *data);
+				   unsigned int *data);
 
 /*
 +----------------------------------------------------------------------------+
@@ -74,11 +74,11 @@ int i_APCI16XX_InsnConfigInitTTLIO(comedi_device *dev,
 
 int i_APCI16XX_InsnBitsReadTTLIO(comedi_device *dev,
 				 comedi_subdevice *s, comedi_insn *insn,
-				 lsampl_t *data);
+				 unsigned int *data);
 
 int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 
 /*
 +----------------------------------------------------------------------------+
@@ -88,7 +88,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue(comedi_device *dev,
 
 int i_APCI16XX_InsnBitsWriteTTLIO(comedi_device *dev,
 				  comedi_subdevice *s, comedi_insn *insn,
-				  lsampl_t *data);
+				  unsigned int *data);
 
 int i_APCI16XX_Reset(comedi_device *dev);
 #endif
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
index 7fad966d4721..fd4ae6abbb3f 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
@@ -57,7 +57,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigDigitalOutput                     |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
@@ -76,7 +76,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 int i_APCI2016_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
 		comedi_error(dev,
@@ -96,7 +96,7 @@ int i_APCI2016_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_WriteDigitalOutput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
@@ -112,7 +112,7 @@ int i_APCI2016_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI2016_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_NoOfChannel;
 	UINT ui_Temp, ui_Temp1;
@@ -251,7 +251,7 @@ int i_APCI2016_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_BitsDigitalOutput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
@@ -267,7 +267,7 @@ int i_APCI2016_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI2016_BitsDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
 	UINT ui_NoOfChannel;
@@ -321,14 +321,14 @@ int i_APCI2016_BitsDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigWatchdog                          |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -338,7 +338,7 @@ int i_APCI2016_BitsDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI2016_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	if (data[0] == 0) {
@@ -364,14 +364,14 @@ int i_APCI2016_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_StartStopWriteWatchdog                  |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Watchdog                              |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -381,7 +381,7 @@ int i_APCI2016_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI2016_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	switch (data[0]) {
@@ -410,14 +410,14 @@ int i_APCI2016_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ReadWatchdog                            |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -428,7 +428,7 @@ int i_APCI2016_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI2016_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	udelay(5);
 	data[0] = inw(devpriv-&gt;i_IobaseAddon + APCI2016_WATCHDOG_STATUS) &amp; 0x1;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
index 0dadbddcc5fc..3ca52e9eca5a 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
@@ -41,25 +41,25 @@
 
 //DO
 int i_APCI2016_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 int i_APCI2016_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 
 int i_APCI2016_BitsDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 
 int i_APCI2016_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 
 int i_APCI2016_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
-				      comedi_insn *insn, lsampl_t *data);
+				      comedi_insn *insn, unsigned int *data);
 
 int i_APCI2016_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data);
+			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
 
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
index 117193c6916e..4345dda7f99d 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
@@ -58,7 +58,7 @@ UINT ui_InterruptData, ui_Type;
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ConfigDigitalOutput                     |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
@@ -80,7 +80,7 @@ UINT ui_InterruptData, ui_Type;
 +----------------------------------------------------------------------------+
 */
 int i_APCI2032_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
 	devpriv-&gt;tsk_Current = current;
@@ -118,7 +118,7 @@ int i_APCI2032_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_WriteDigitalOutput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
@@ -135,7 +135,7 @@ int i_APCI2032_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI2032_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
 	UINT ui_NoOfChannel = CR_CHAN(insn-&gt;chanspec);	// get the channel
@@ -297,7 +297,7 @@ INT i_APCI2032_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadDigitalOutput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
@@ -314,7 +314,7 @@ INT i_APCI2032_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
 	UINT ui_NoOfChannel;
@@ -363,7 +363,7 @@ INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI2032_ConfigWatchdog(comedi_device
-                   *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)|
+                   *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
@@ -371,7 +371,7 @@ INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status                                                                                                             |
+|                     unsigned int *data          : Data Pointer to read status                                                                                                             |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -381,7 +381,7 @@ INT i_APCI2032_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI2032_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
 		//Disable the watchdog
@@ -404,14 +404,14 @@ INT i_APCI2032_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2032_StartStopWriteWatchdog                  |
     |                           (comedi_device *dev,comedi_subdevice *s,
-    comedi_insn *insn,lsampl_t *data);                      |
+    comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : comedi_device *dev      : Driver handle                |
     |                     comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
-    |                     lsampl_t *data          : Data Pointer to read status  |
+    |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
     | Output Parameters :       --                                                                                                       |
     +----------------------------------------------------------------------------+
@@ -422,7 +422,7 @@ INT i_APCI2032_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
   */
 
 int i_APCI2032_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case 0:		//stop the watchdog
@@ -449,14 +449,14 @@ int i_APCI2032_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadWatchdog                            |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data); 	                                     |
+                    unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -467,7 +467,7 @@ int i_APCI2032_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI2032_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	data[0] =
@@ -531,7 +531,7 @@ void v_APCI2032_Interrupt(int irq, void *d)
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI2032_ReadInterruptStatus                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
 +----------------------------------------------------------------------------+
@@ -545,7 +545,7 @@ void v_APCI2032_Interrupt(int irq, void *d)
 */
 
 int i_APCI2032_ReadInterruptStatus(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
 	return insn-&gt;n;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
index c6d45ce1549d..7d858af87979 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
@@ -56,22 +56,22 @@
 
 //DO
 int i_APCI2032_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 INT i_APCI2032_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI2032_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 int i_APCI2032_ReadInterruptStatus(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI2032_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 int i_APCI2032_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
-				      comedi_insn *insn, lsampl_t *data);
+				      comedi_insn *insn, unsigned int *data);
 int i_APCI2032_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data);
+			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
 
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
index 9e81f4390fe9..d61dfd1d1eab 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
@@ -57,14 +57,14 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_Read1DigitalInput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |		       comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -74,7 +74,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 */
 INT i_APCI2200_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
 	UINT ui_Channel;
@@ -95,14 +95,14 @@ INT i_APCI2200_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadMoreDigitalInput                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                     comedi_insn *insn,lsampl_t *data)                      |
+|                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
-|                      lsampl_t *data         : Data Pointer to read status  |
+|                      unsigned int *data         : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -113,7 +113,7 @@ INT i_APCI2200_Read1DigitalInput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI2200_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_PortValue = data[0];
@@ -147,13 +147,13 @@ INT i_APCI2200_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ConfigDigitalOutput (comedi_device *dev,
-                    comedi_subdevice *s comedi_insn *insn,lsampl_t *data)    |
+                    comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev : Driver handle                     |
-|                     lsampl_t *data         : Data Pointer contains         |
+|                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
 |                      comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                           |
@@ -170,7 +170,7 @@ INT i_APCI2200_ReadMoreDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI2200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;b_OutputMemoryStatus = data[0];
 	return insn-&gt;n;
@@ -180,14 +180,14 @@ int i_APCI2200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_WriteDigitalOutput                      |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                     lsampl_t *data)                                         |
+                     unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                    lsampl_t *data           : Data Pointer to read status  |
+|                    unsigned int *data           : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -198,7 +198,7 @@ int i_APCI2200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI2200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
 	UINT ui_NoOfChannel = CR_CHAN(insn-&gt;chanspec);	// get the channel
@@ -337,14 +337,14 @@ INT i_APCI2200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadDigitalOutput                       |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data) 	                                     |
+                    unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -355,7 +355,7 @@ INT i_APCI2200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_Temp;
@@ -400,7 +400,7 @@ INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ConfigWatchdog(comedi_device *dev,
-                      comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)  |
+                      comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
@@ -408,7 +408,7 @@ INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status                                                                                                             |
+|                     unsigned int *data          : Data Pointer to read status                                                                                                             |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -419,7 +419,7 @@ INT i_APCI2200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI2200_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
 		//Disable the watchdog
@@ -447,14 +447,14 @@ int i_APCI2200_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2200_StartStopWriteWatchdog                  |
     |                           (comedi_device *dev,comedi_subdevice *s,
-    comedi_insn *insn,lsampl_t *data);                      |
+    comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : comedi_device *dev      : Driver handle                |
     |                     comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
-    |                     lsampl_t *data          : Data Pointer to read status  |
+    |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
     | Output Parameters :       --                                                                                                       |
     +----------------------------------------------------------------------------+
@@ -465,7 +465,7 @@ int i_APCI2200_ConfigWatchdog(comedi_device * dev, comedi_subdevice * s,
   */
 
 int i_APCI2200_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case 0:		//stop the watchdog
@@ -492,14 +492,14 @@ int i_APCI2200_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadWatchdog                            |
 |			(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
-                    lsampl_t *data); 	                                     |
+                    unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   comedi_device *dev      : Driver handle              |
 |                     comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
-|                     lsampl_t *data          : Data Pointer to read status  |
+|                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
 | Output Parameters :	--													 |
 +----------------------------------------------------------------------------+
@@ -510,7 +510,7 @@ int i_APCI2200_StartStopWriteWatchdog(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI2200_ReadWatchdog(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] =
 		inw(devpriv-&gt;iobase + APCI2200_WATCHDOG +
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
index 4de1ca104d45..59fc451e71c7 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
@@ -37,25 +37,25 @@
 
 //Digital Input
 INT i_APCI2200_ReadMoreDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 INT i_APCI2200_Read1DigitalInput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
 int i_APCI2200_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 INT i_APCI2200_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI2200_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 int i_APCI2200_ConfigWatchdog(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 int i_APCI2200_StartStopWriteWatchdog(comedi_device *dev, comedi_subdevice *s,
-				      comedi_insn *insn, lsampl_t *data);
+				      comedi_insn *insn, unsigned int *data);
 int i_APCI2200_ReadWatchdog(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data);
+			    comedi_insn *insn, unsigned int *data);
 
 //reset
 INT i_APCI2200_Reset(comedi_device *dev);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
index 32b7f241985e..45445e675f72 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
@@ -58,7 +58,7 @@ static UINT ui_Temp = 0;
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigAnalogInput(comedi_device *dev,|
-|  comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)					 |
+|  comedi_subdevice *s,comedi_insn *insn,unsigned int *data)					 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Calls card specific function  					     |
@@ -67,7 +67,7 @@ static UINT ui_Temp = 0;
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data      					         		 |
+|                     unsigned int *data      					         		 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
 |                    													     |
@@ -75,7 +75,7 @@ static UINT ui_Temp = 0;
 */
 
 int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT i;
 
@@ -125,7 +125,7 @@ int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnReadAnalogInput(comedi_device *dev,  |
-|			comedi_subdevice *s,comedi_insn *insn, lsampl_t *data)	 |
+|			comedi_subdevice *s,comedi_insn *insn, unsigned int *data)	 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :  card specific function								 |
@@ -138,7 +138,7 @@ int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data     									 |
+|                     unsigned int *data     									 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
 |                    													     |
@@ -146,7 +146,7 @@ int i_APCI3120_InsnConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI3120_InsnReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	USHORT us_ConvertTiming, us_TmpValue, i;
 	BYTE b_Tmp;
@@ -1633,7 +1633,7 @@ void v_APCI3120_Interrupt(int irq, void *d)
 /*int i_APCI3120_InterruptHandleEos(comedi_device *dev)
 {
        int n_chan,i;
-       sampl_t *data;
+       short *data;
        comedi_subdevice *s=dev-&gt;subdevices+0;
        comedi_async *async = s-&gt;async;
        data=async-&gt;data+async-&gt;buf_int_ptr;//new samples added from here onwards
@@ -1643,8 +1643,8 @@ void v_APCI3120_Interrupt(int irq, void *d)
          {
            data[i]=inw(dev-&gt;iobase+0);
          }
-       async-&gt;buf_int_count+=n_chan*sizeof(sampl_t);
-       async-&gt;buf_int_ptr+=n_chan*sizeof(sampl_t);
+       async-&gt;buf_int_count+=n_chan*sizeof(short);
+       async-&gt;buf_int_ptr+=n_chan*sizeof(short);
        comedi_eos(dev,s);
        if (s-&gt;async-&gt;buf_int_ptr&gt;=s-&gt;async-&gt;data_len) //  for buffer rool over
 		         {
@@ -1771,16 +1771,16 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 
 	}
 /*UPDATE-0.7.57-&gt;0.7.68
-	ptr=(sampl_t *)devpriv-&gt;ul_DmaBufferVirtual[devpriv-&gt;ui_DmaActualBuffer];
+	ptr=(short *)devpriv-&gt;ul_DmaBufferVirtual[devpriv-&gt;ui_DmaActualBuffer];
 
 
 	// if there is not enough space left in the buffer to copy all data contained in the DMABufferVirtual
-	if(s-&gt;async-&gt;buf_int_ptr+samplesinbuf*sizeof(sampl_t)&gt;=devpriv-&gt;ui_AiDataLength)
+	if(s-&gt;async-&gt;buf_int_ptr+samplesinbuf*sizeof(short)&gt;=devpriv-&gt;ui_AiDataLength)
 	{
-		m=(devpriv-&gt;ui_AiDataLength-s-&gt;async-&gt;buf_int_ptr)/sizeof(sampl_t);
+		m=(devpriv-&gt;ui_AiDataLength-s-&gt;async-&gt;buf_int_ptr)/sizeof(short);
 		v_APCI3120_InterruptDmaMoveBlock16bit(dev,s,(void *)ptr,((void *)(devpriv-&gt;AiData))+s-&gt;async-&gt;buf_int_ptr,m);
-		s-&gt;async-&gt;buf_int_count+=m*sizeof(sampl_t);
-		ptr+=m*sizeof(sampl_t);
+		s-&gt;async-&gt;buf_int_count+=m*sizeof(short);
+		ptr+=m*sizeof(short);
                 samplesinbuf-=m;
 		s-&gt;async-&gt;buf_int_ptr=0;
 		comedi_eobuf(dev,s);
@@ -1790,8 +1790,8 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 	{
 	        v_APCI3120_InterruptDmaMoveBlock16bit(dev,s,(void *)ptr,((void *)(devpriv-&gt;AiData))+s-&gt;async-&gt;buf_int_ptr,samplesinbuf);
 
-		s-&gt;async-&gt;buf_int_count+=samplesinbuf*sizeof(sampl_t);
-		s-&gt;async-&gt;buf_int_ptr+=samplesinbuf*sizeof(sampl_t);
+		s-&gt;async-&gt;buf_int_count+=samplesinbuf*sizeof(short);
+		s-&gt;async-&gt;buf_int_ptr+=samplesinbuf*sizeof(short);
 		if (!(devpriv-&gt;ui_AiFlags &amp; TRIG_WAKE_EOS))
 		{
 			comedi_bufcheck(dev,s);
@@ -1879,7 +1879,7 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 /*
 +----------------------------------------------------------------------------+
 | Function name     :void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device|
-|*dev,comedi_subdevice *s,sampl_t *dma,sampl_t *data,int n)				     |
+|*dev,comedi_subdevice *s,short *dma,short *data,int n)				     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : This function copies the data from DMA buffer to the   |
@@ -1888,15 +1888,15 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
-|                     sampl_t *dma											 |
-|                     sampl_t *data,int n          					         |
+|                     short *dma											 |
+|                     short *data,int n          					         |
 +----------------------------------------------------------------------------+
 | Return Value      : void         					                         |
 |                    													     |
 +----------------------------------------------------------------------------+
 */
 
-/*void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,comedi_subdevice *s,sampl_t *dma,sampl_t *data,int n)
+/*void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n)
 {
 	int i,j,m;
 
@@ -1926,14 +1926,14 @@ void v_APCI3120_InterruptDma(int irq, void *d)
 }
 */
 void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
-	comedi_subdevice * s, sampl_t * dma_buffer, unsigned int num_samples)
+	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	devpriv-&gt;ui_AiActualScan +=
 		(s-&gt;async-&gt;cur_chan + num_samples) / devpriv-&gt;ui_AiScanLength;
 	s-&gt;async-&gt;cur_chan += num_samples;
 	s-&gt;async-&gt;cur_chan %= devpriv-&gt;ui_AiScanLength;
 
-	cfc_write_array_to_buffer(s, dma_buffer, num_samples * sizeof(sampl_t));
+	cfc_write_array_to_buffer(s, dma_buffer, num_samples * sizeof(short));
 }
 
 /*
@@ -1945,7 +1945,7 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigTimer(comedi_device *dev,          |
-|	comedi_subdevice *s,comedi_insn *insn,lsampl_t *data) 			     |
+|	comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              :Configure Timer 2  								     |
@@ -1954,7 +1954,7 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
 |                     														 |
 |                      data[0]= TIMER  configure as timer                    |
 |              				 = WATCHDOG configure as watchdog				 |
@@ -1968,7 +1968,7 @@ void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device * dev,
 */
 
 int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_Timervalue2;
@@ -2093,7 +2093,7 @@ int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteTimer(comedi_device *dev,           |
-|                    comedi_subdevice *s, comedi_insn *insn,lsampl_t *data)  |
+|                    comedi_subdevice *s, comedi_insn *insn,unsigned int *data)  |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :    To start and stop the timer		                 |
@@ -2101,7 +2101,7 @@ int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data                                         |
+|                     unsigned int *data                                         |
 |                                                                            |
 |				data[0] = 1 (start)                                  |
 |				data[0] = 0 (stop )                                  |
@@ -2119,7 +2119,7 @@ int i_APCI3120_InsnConfigTimer(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_Timervalue2 = 0;
@@ -2284,7 +2284,7 @@ int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_InsnReadTimer(comedi_device *dev,           |
-|		comedi_subdevice *s,comedi_insn *insn, lsampl_t *data) 		 |
+|		comedi_subdevice *s,comedi_insn *insn, unsigned int *data) 		 |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -2293,7 +2293,7 @@ int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  : 	comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
 |                     														 |
 +----------------------------------------------------------------------------+
 | Return Value      :   													 |
@@ -2305,7 +2305,7 @@ int i_APCI3120_InsnWriteTimer(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Tmp;
 	USHORT us_TmpValue, us_TmpValue_2, us_StatusValue;
@@ -2361,7 +2361,7 @@ int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnReadDigitalInput(comedi_device *dev,     |
-|			comedi_subdevice *s, comedi_insn *insn,lsampl_t *data)   |
+|			comedi_subdevice *s, comedi_insn *insn,unsigned int *data)   |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -2371,7 +2371,7 @@ int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
 |                    													     |
@@ -2379,7 +2379,7 @@ int i_APCI3120_InsnReadTimer(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, lsampl_t * data)
+	* s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Chan, ui_TmpValue;
 
@@ -2404,7 +2404,7 @@ int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnBitsDigitalInput(comedi_device *dev, |
-|comedi_subdevice *s, comedi_insn *insn,lsampl_t *data)                      |
+|comedi_subdevice *s, comedi_insn *insn,unsigned int *data)                      |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Reads the value of the Digital input Port i.e.4channels|
@@ -2414,14 +2414,14 @@ int i_APCI3120_InsnReadDigitalInput(comedi_device * dev, comedi_subdevice
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
 |                    													     |
 +----------------------------------------------------------------------------+
 */
 int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
 	ui_TmpValue = (UINT) inw(devpriv-&gt;iobase + APCI3120_RD_STATUS);
@@ -2443,7 +2443,7 @@ int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigDigitalOutput(comedi_device    |
-| *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)				 |
+| *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)				 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :Configure the output memory ON or OFF				     |
@@ -2452,7 +2452,7 @@ int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
 | Input Parameters  :comedi_device *dev									 	 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
 |                    													     |
@@ -2460,7 +2460,7 @@ int i_APCI3120_InsnBitsDigitalInput(comedi_device * dev, comedi_subdevice * s,
 */
 
 int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
@@ -2486,7 +2486,7 @@ int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnBitsDigitalOutput(comedi_device *dev,    |
-|		comedi_subdevice *s, comedi_insn *insn,lsampl_t *data) 		 |
+|		comedi_subdevice *s, comedi_insn *insn,unsigned int *data) 		 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : write diatal output port							     |
@@ -2495,7 +2495,7 @@ int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
                       data[0]     Value to be written
                       data[1]    :1 Set digital o/p ON
                       data[1]     2 Set digital o/p OFF with memory ON
@@ -2506,7 +2506,7 @@ int i_APCI3120_InsnConfigDigitalOutput(comedi_device * dev,
 */
 
 int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, lsampl_t * data)
+	* s, comedi_insn * insn, unsigned int * data)
 {
 	if ((data[0] &gt; this_board-&gt;i_DoMaxdata) || (data[0] &lt; 0)) {
 
@@ -2537,7 +2537,7 @@ int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteDigitalOutput(comedi_device *dev,|
-|comedi_subdevice *s,comedi_insn *insn,lsampl_t *data) 			             |
+|comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			             |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Write digiatl output								     |
@@ -2546,7 +2546,7 @@ int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
 | Input Parameters  : comedi_device *dev								 	 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data 										 |
+|                     unsigned int *data 										 |
                       data[0]     Value to be written
                       data[1]    :1 Set digital o/p ON
                       data[1]     2 Set digital o/p OFF with memory ON
@@ -2557,7 +2557,7 @@ int i_APCI3120_InsnBitsDigitalOutput(comedi_device * dev, comedi_subdevice
 */
 
 int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, lsampl_t * data)
+	* s, comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ui_Temp1;
@@ -2618,7 +2618,7 @@ int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteAnalogOutput(comedi_device *dev,|
-|comedi_subdevice *s, comedi_insn *insn,lsampl_t *data)			             |
+|comedi_subdevice *s, comedi_insn *insn,unsigned int *data)			             |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Write  analog output   							     |
@@ -2627,7 +2627,7 @@ int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
 | Input Parameters  : comedi_device *dev									 |
 |                     comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
-|                     lsampl_t *data  										 |
+|                     unsigned int *data  										 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
 |                    													     |
@@ -2635,7 +2635,7 @@ int i_APCI3120_InsnWriteDigitalOutput(comedi_device * dev, comedi_subdevice
 */
 
 int i_APCI3120_InsnWriteAnalogOutput(comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, lsampl_t * data)
+	* s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Range, ui_Channel;
 	USHORT us_TmpValue;
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
index 2c20f90b0b9e..591061743c74 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
@@ -188,10 +188,10 @@ int i_APCI3120_CyclicAnalogInput(int mode, comedi_device *dev,
 				 comedi_subdevice *s);
 // Interrupt functions
 void v_APCI3120_Interrupt(int irq, void *d);
-//UPDATE-0.7.57-&gt;0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,comedi_subdevice *s,sampl_t *dma,sampl_t *data,int n);
+//UPDATE-0.7.57-&gt;0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n);
 void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device *dev,
 					   comedi_subdevice *s,
-					   sampl_t *dma_buffer,
+					   short *dma_buffer,
 					   unsigned int num_samples);
 int i_APCI3120_InterruptHandleEos(comedi_device *dev);
 void v_APCI3120_InterruptDma(int irq, void *d);
@@ -199,41 +199,41 @@ void v_APCI3120_InterruptDma(int irq, void *d);
 // TIMER
 
 int i_APCI3120_InsnConfigTimer(comedi_device *dev, comedi_subdevice *s,
-			       comedi_insn *insn, lsampl_t *data);
+			       comedi_insn *insn, unsigned int *data);
 int i_APCI3120_InsnWriteTimer(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data);
+			      comedi_insn *insn, unsigned int *data);
 int i_APCI3120_InsnReadTimer(comedi_device *dev, comedi_subdevice *s,
-			     comedi_insn *insn, lsampl_t *data);
+			     comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
 
 int i_APCI3120_InsnBitsDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 int i_APCI3120_InsnReadDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				    comedi_insn *insn, lsampl_t *data);
+				    comedi_insn *insn, unsigned int *data);
 
 //DO
 //int i_APCI3120_WriteDigitalOutput(comedi_device *dev, BYTE data);
 int i_APCI3120_InsnConfigDigitalOutput(comedi_device *dev,
 				       comedi_subdevice *s, comedi_insn *insn,
-				       lsampl_t *data);
+				       unsigned int *data);
 int i_APCI3120_InsnBitsDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 int i_APCI3120_InsnWriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				      comedi_insn *insn, lsampl_t *data);
+				      comedi_insn *insn, unsigned int *data);
 
 //AO
 //int i_APCI3120_Write1AnalogValue(comedi_device *dev,UINT ui_Range,UINT ui_Channel,UINT data );
 int i_APCI3120_InsnWriteAnalogOutput(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 
 //AI HArdware layer
 
 int i_APCI3120_InsnConfigAnalogInput(comedi_device *dev, comedi_subdevice *s,
-				     comedi_insn *insn, lsampl_t *data);
+				     comedi_insn *insn, unsigned int *data);
 int i_APCI3120_InsnReadAnalogInput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 int i_APCI3120_CommandTestAnalogInput(comedi_device *dev, comedi_subdevice *s,
 				      comedi_cmd *cmd);
 int i_APCI3120_CommandAnalogInput(comedi_device *dev, comedi_subdevice *s);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
index 8a507da1489b..83868d8f1c5f 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
@@ -454,8 +454,8 @@ VOID v_GetAPCI3200EepromCalibrationValue(DWORD dw_PCIBoardEepromAddress,
 }
 
 INT i_APCI3200_GetChannelCalibrationValue(comedi_device * dev,
-	unsigned int ui_Channel_num, lsampl_t * CJCCurrentSource,
-	lsampl_t * ChannelCurrentSource, lsampl_t * ChannelGainFactor)
+	unsigned int ui_Channel_num, unsigned int * CJCCurrentSource,
+	unsigned int * ChannelCurrentSource, unsigned int * ChannelGainFactor)
 {
 	int i_DiffChannel = 0;
 	int i_Module = 0;
@@ -531,7 +531,7 @@ INT i_APCI3200_GetChannelCalibrationValue(comedi_device * dev,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalInput                       |
   |			  (comedi_device *dev,comedi_subdevice *s,               |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
   +----------------------------------------------------------------------------+
@@ -551,7 +551,7 @@ INT i_APCI3200_GetChannelCalibrationValue(comedi_device * dev,
 */
 
 INT i_APCI3200_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0;
 	UINT ui_NoOfChannel = 0;
@@ -593,7 +593,7 @@ INT i_APCI3200_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ConfigDigitalOutput                     |
   |			  (comedi_device *dev,comedi_subdevice *s,				 |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Digital Output Subdevice.               |
   +----------------------------------------------------------------------------+
@@ -609,7 +609,7 @@ INT i_APCI3200_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 int i_APCI3200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
@@ -630,14 +630,14 @@ int i_APCI3200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_WriteDigitalOutput                      |
   |			  (comedi_device *dev,comedi_subdevice *s,				 |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : writes To the digital Output Subdevice                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
-  |                     lsampl_t *data          : Data Pointer contains        |
+  |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
   |                     data[0]             :Value to output
   data[1]             : 0 o/p single channel
@@ -654,7 +654,7 @@ int i_APCI3200_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0, ui_Temp1 = 0;
 	UINT ui_NoOfChannel = CR_CHAN(insn-&gt;chanspec);	// get the channel
@@ -747,7 +747,7 @@ INT i_APCI3200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalOutput                       |
   |			  (comedi_device *dev,comedi_subdevice *s,               |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
   +----------------------------------------------------------------------------+
@@ -767,7 +767,7 @@ INT i_APCI3200_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
 	UINT ui_NoOfChannel;
@@ -808,14 +808,14 @@ INT i_APCI3200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
   | Function   Name   : INT i_APCI3200_ConfigAnalogInput                       |
   |			  (comedi_device *dev,comedi_subdevice *s,               |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Analog Input Subdevice                  |
   +----------------------------------------------------------------------------+
   | Input Parameters  : comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
-  |                     lsampl_t *data          : Data Pointer contains        |
+  |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
   |                                                                            |
   |					data[0]
@@ -875,7 +875,7 @@ INT i_APCI3200_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	UINT ul_Config = 0, ul_Temp = 0;
@@ -1028,7 +1028,7 @@ INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
 	//END JK 06.07.04: Management of sevrals boards
 
 	//Begin JK 19.10.2004: APCI-3200 Driver update 0.7.57 -&gt; 0.7.68
-	memset(s_BoardInfos[dev-&gt;minor].ui_ScanValueArray, 0, (7 + 12) * sizeof(lsampl_t));	// 7 is the maximal number of channels
+	memset(s_BoardInfos[dev-&gt;minor].ui_ScanValueArray, 0, (7 + 12) * sizeof(unsigned int));	// 7 is the maximal number of channels
 	//End JK 19.10.2004: APCI-3200 Driver update 0.7.57 -&gt; 0.7.68
 
 	//BEGIN JK 02.07.04 : This while can't be do, it block the process when using severals boards
@@ -1335,7 +1335,7 @@ INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadAnalogInput                         |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
   +----------------------------------------------------------------------------+
@@ -1362,7 +1362,7 @@ INT i_APCI3200_ConfigAnalogInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_DummyValue = 0;
 	int i_ConvertCJCCalibration;
@@ -1634,7 +1634,7 @@ INT i_APCI3200_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_Read1AnalogInputChannel                 |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
   +----------------------------------------------------------------------------+
@@ -1652,7 +1652,7 @@ INT i_APCI3200_ReadAnalogInput(comedi_device * dev, comedi_subdevice * s,
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_Read1AnalogInputChannel(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	UINT ui_ChannelNo = 0;
@@ -1760,7 +1760,7 @@ INT i_APCI3200_Read1AnalogInputChannel(comedi_device * dev,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationOffsetValue              |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration offset  value  of the selected channel|
   +----------------------------------------------------------------------------+
@@ -1896,7 +1896,7 @@ int i_APCI3200_ReadCalibrationOffsetValue(comedi_device * dev, UINT * data)
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationGainValue                |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration gain  value  of the selected channel  |
   +----------------------------------------------------------------------------+
@@ -2031,7 +2031,7 @@ int i_APCI3200_ReadCalibrationGainValue(comedi_device * dev, UINT * data)
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCValue                            |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC  value  of the selected channel               |
   +----------------------------------------------------------------------------+
@@ -2048,7 +2048,7 @@ int i_APCI3200_ReadCalibrationGainValue(comedi_device * dev, UINT * data)
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_ReadCJCValue(comedi_device * dev, lsampl_t * data)
+int i_APCI3200_ReadCJCValue(comedi_device * dev, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2151,7 +2151,7 @@ int i_APCI3200_ReadCJCValue(comedi_device * dev, lsampl_t * data)
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCCalOffset                        |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration offset  value  of the selected channel
   +----------------------------------------------------------------------------+
@@ -2167,7 +2167,7 @@ int i_APCI3200_ReadCJCValue(comedi_device * dev, lsampl_t * data)
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, lsampl_t * data)
+int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2266,7 +2266,7 @@ int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, lsampl_t * data)
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCGainValue                        |
   |			          (comedi_device *dev,comedi_subdevice *s,       |
-  |                     comedi_insn *insn,lsampl_t *data)                      |
+  |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration gain value
   +----------------------------------------------------------------------------+
@@ -2283,7 +2283,7 @@ int i_APCI3200_ReadCJCCalOffset(comedi_device * dev, lsampl_t * data)
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ReadCJCCalGain(comedi_device * dev, lsampl_t * data)
+int i_APCI3200_ReadCJCCalGain(comedi_device * dev, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	INT ui_CommandRegister = 0;
@@ -2376,14 +2376,14 @@ int i_APCI3200_ReadCJCCalGain(comedi_device * dev, lsampl_t * data)
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnBits_AnalogInput_Test               |
   |			  (comedi_device *dev,comedi_subdevice *s,               |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Tests the Selected Anlog Input Channel                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
-  |                     lsampl_t *data          : Data Pointer contains        |
+  |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
   |
   |
@@ -2405,7 +2405,7 @@ int i_APCI3200_ReadCJCCalGain(comedi_device * dev, lsampl_t * data)
 */
 
 INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Configuration = 0;
 	INT i_Temp;		//,i_TimeUnit;
@@ -2511,14 +2511,14 @@ INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device * dev,
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnWriteReleaseAnalogInput             |
   |			  (comedi_device *dev,comedi_subdevice *s,               |
-  |                      comedi_insn *insn,lsampl_t *data)                     |
+  |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              :  Resets the channels                                                      |
   +----------------------------------------------------------------------------+
   | Input Parameters  : comedi_device *dev      : Driver handle                |
   |                     comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
-  |                     lsampl_t *data          : Data Pointer
+  |                     unsigned int *data          : Data Pointer
   +----------------------------------------------------------------------------+
   | Output Parameters :	--													 |
 
@@ -2530,7 +2530,7 @@ INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device * dev,
 */
 
 INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	i_APCI3200_Reset(dev);
 	return insn-&gt;n;
@@ -3601,23 +3601,23 @@ int i_APCI3200_InterruptHandleEos(comedi_device * dev)
 			s-&gt;async-&gt;events |= COMEDI_CB_EOS;
 
 			// Test if enougth memory is available and allocate it for 7 values
-			//n = comedi_buf_write_alloc(s-&gt;async, 7*sizeof(lsampl_t));
+			//n = comedi_buf_write_alloc(s-&gt;async, 7*sizeof(unsigned int));
 			n = comedi_buf_write_alloc(s-&gt;async,
-				(7 + 12) * sizeof(lsampl_t));
+				(7 + 12) * sizeof(unsigned int));
 
 			// If not enougth memory available, event is set to Comedi Buffer Errror
-			if (n &gt; ((7 + 12) * sizeof(lsampl_t))) {
+			if (n &gt; ((7 + 12) * sizeof(unsigned int))) {
 				printk("\ncomedi_buf_write_alloc n = %i", n);
 				s-&gt;async-&gt;events |= COMEDI_CB_ERROR;
 			}
 			// Write all 7 scan values in the comedi buffer
 			comedi_buf_memcpy_to(s-&gt;async, 0,
-				(lsampl_t *) s_BoardInfos[dev-&gt;minor].
-				ui_ScanValueArray, (7 + 12) * sizeof(lsampl_t));
+				(unsigned int *) s_BoardInfos[dev-&gt;minor].
+				ui_ScanValueArray, (7 + 12) * sizeof(unsigned int));
 
 			// Update comedi buffer pinters indexes
 			comedi_buf_write_free(s-&gt;async,
-				(7 + 12) * sizeof(lsampl_t));
+				(7 + 12) * sizeof(unsigned int));
 
 			// Send events
 			comedi_event(dev, s);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
index 314b3c5e2a5a..09445d5f673e 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
@@ -139,7 +139,7 @@ typedef struct {
 	UINT ui_InterruptChannelValue[144];	//Buffer
 	BYTE b_StructInitialized;
 	//Begin JK 19.10.2004: APCI-3200 Driver update 0.7.57 -&gt; 0.7.68
-	lsampl_t ui_ScanValueArray[7 + 12];	// 7 is the maximal number of channels
+	unsigned int ui_ScanValueArray[7 + 12];	// 7 is the maximal number of channels
 	//End JK 19.10.2004: APCI-3200 Driver update 0.7.57 -&gt; 0.7.68
 
 	//Begin JK 21.10.2004: APCI-3200 / APCI-3300 Reading of EEPROM values
@@ -155,33 +155,33 @@ typedef struct {
 //AI
 
 INT i_APCI3200_ConfigAnalogInput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_ReadAnalogInput(comedi_device *dev, comedi_subdevice *s,
-			       comedi_insn *insn, lsampl_t *data);
+			       comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_InsnWriteReleaseAnalogInput(comedi_device *dev,
 					   comedi_subdevice *s,
-					   comedi_insn *insn, lsampl_t *data);
+					   comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_InsnBits_AnalogInput_Test(comedi_device *dev,
 					 comedi_subdevice *s,
-					 comedi_insn *insn, lsampl_t *data);
+					 comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_StopCyclicAcquisition(comedi_device *dev, comedi_subdevice *s);
 INT i_APCI3200_InterruptHandleEos(comedi_device *dev);
 INT i_APCI3200_CommandTestAnalogInput(comedi_device *dev, comedi_subdevice *s,
 				      comedi_cmd *cmd);
 INT i_APCI3200_CommandAnalogInput(comedi_device *dev, comedi_subdevice *s);
 INT i_APCI3200_ReadDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data);
+				comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3200_Interrupt(int irq, void *d);
 int i_APCI3200_InterruptHandleEos(comedi_device *dev);
 //Reset functions
 INT i_APCI3200_Reset(comedi_device *dev);
 
-int i_APCI3200_ReadCJCCalOffset(comedi_device *dev, lsampl_t *data);
-int i_APCI3200_ReadCJCValue(comedi_device *dev, lsampl_t *data);
+int i_APCI3200_ReadCJCCalOffset(comedi_device *dev, unsigned int *data);
+int i_APCI3200_ReadCJCValue(comedi_device *dev, unsigned int *data);
 int i_APCI3200_ReadCalibrationGainValue(comedi_device *dev, UINT *data);
 int i_APCI3200_ReadCalibrationOffsetValue(comedi_device *dev, UINT *data);
 int i_APCI3200_Read1AnalogInputChannel(comedi_device *dev,
 				       comedi_subdevice *s, comedi_insn *insn,
-				       lsampl_t *data);
-int i_APCI3200_ReadCJCCalGain(comedi_device *dev, lsampl_t *data);
+				       unsigned int *data);
+int i_APCI3200_ReadCJCCalGain(comedi_device *dev, unsigned int *data);
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
index 9ecd9baa947f..8f5bc0132a62 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
@@ -57,7 +57,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalInput                    |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
@@ -74,7 +74,7 @@ You shoud also find the complete GPL in the COPYING file accompanying this sourc
 */
 
 INT i_APCI3501_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
 	UINT ui_NoOfChannel;
@@ -100,7 +100,7 @@ INT i_APCI3501_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigDigitalOutput                     |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
 +----------------------------------------------------------------------------+
@@ -122,7 +122,7 @@ INT i_APCI3501_ReadDigitalInput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 int i_APCI3501_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	if ((data[0] != 0) &amp;&amp; (data[0] != 1)) {
@@ -143,14 +143,14 @@ int i_APCI3501_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteDigitalOutput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : writes To the digital Output Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
-|                     lsampl_t *data          : Data Pointer contains        |
+|                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
 |                                                                            |
 +----------------------------------------------------------------------------+
@@ -162,7 +162,7 @@ int i_APCI3501_ConfigDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
 	UINT ui_NoOfChannel = CR_CHAN(insn-&gt;chanspec);	// get the channel
@@ -233,7 +233,7 @@ INT i_APCI3501_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalOutput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
@@ -249,7 +249,7 @@ INT i_APCI3501_WriteDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
 	UINT ui_NoOfChannel;
@@ -276,14 +276,14 @@ INT i_APCI3501_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigAnalogOutput                      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Output Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
-|                     lsampl_t *data          : Data Pointer contains        |
+|                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
 |                                                                            |
 |					data[0]            : Voltage Mode                |
@@ -299,7 +299,7 @@ INT i_APCI3501_ReadDigitalOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_ConfigAnalogOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	outl(data[0],
 		devpriv-&gt;iobase + APCI3501_ANALOG_OUTPUT +
@@ -317,14 +317,14 @@ INT i_APCI3501_ConfigAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteAnalogOutput                       |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes To the Selected Anlog Output Channel            |
 +----------------------------------------------------------------------------+
 | Input Parameters  : comedi_device *dev      : Driver handle                |
 |                     comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
-|                     lsampl_t *data          : Data Pointer contains        |
+|                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
 |                                                                            |
 |                                                                            |
@@ -337,7 +337,7 @@ INT i_APCI3501_ConfigAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_WriteAnalogOutput(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0, ul_Channel_no, ul_Polarity, ul_DAC_Ready = 0;;
 
@@ -387,7 +387,7 @@ INT i_APCI3501_WriteAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigTimerCounterWatchdog              |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
 +----------------------------------------------------------------------------+
@@ -411,7 +411,7 @@ INT i_APCI3501_WriteAnalogOutput(comedi_device * dev, comedi_subdevice * s,
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	devpriv-&gt;tsk_Current = current;
@@ -490,7 +490,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_StartStopWriteTimerCounterWatchdog      |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
 +----------------------------------------------------------------------------+
@@ -512,7 +512,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device * dev,
 */
 
 int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	int i_Temp;
@@ -593,7 +593,7 @@ int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadTimerCounterWatchdog                |
 |			  (comedi_device *dev,comedi_subdevice *s,               |
-|                      comedi_insn *insn,lsampl_t *data)                     |
+|                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
 +----------------------------------------------------------------------------+
@@ -614,7 +614,7 @@ int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device * dev,
 */
 
 int i_APCI3501_ReadTimerCounterWatchdog(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if (devpriv-&gt;b_TimerSelectMode == ADDIDATA_WATCHDOG) {
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
index 03b7d2e4956f..aeb7f032884f 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
@@ -56,37 +56,37 @@ comedi_lrange range_apci3501_ao = { 2, {
 
 //AO
 INT i_APCI3501_ConfigAnalogOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI3501_WriteAnalogOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
-//INT i_APCI3501_ReadDigitalInput(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data);
+//INT i_APCI3501_ReadDigitalInput(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
 
 INT i_APCI3501_ReadDigitalInput(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data);
+				comedi_insn *insn, unsigned int *data);
 
 //DO
 int i_APCI3501_ConfigDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 INT i_APCI3501_WriteDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
+				  comedi_insn *insn, unsigned int *data);
 INT i_APCI3501_ReadDigitalOutput(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI3501_ConfigTimerCounterWatchdog(comedi_device *dev,
 					  comedi_subdevice *s,
-					  comedi_insn *insn, lsampl_t *data);
+					  comedi_insn *insn, unsigned int *data);
 int i_APCI3501_StartStopWriteTimerCounterWatchdog(comedi_device *dev,
 						  comedi_subdevice *s,
 						  comedi_insn *insn,
-						  lsampl_t *data);
+						  unsigned int *data);
 int i_APCI3501_ReadTimerCounterWatchdog(comedi_device *dev,
 					comedi_subdevice *s,
-					comedi_insn *insn, lsampl_t *data);
+					comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3501_Interrupt(int irq, void *d);
 
diff --git a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
index a4f411dfb02f..7a78c99405b2 100644
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
@@ -83,7 +83,7 @@ int i_APCI3XXX_TestConversionStarted(comedi_device * dev)
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task           Converting mode and convert time selection                  |
 +----------------------------------------------------------------------------+
@@ -106,7 +106,7 @@ int i_APCI3XXX_TestConversionStarted(comedi_device * dev)
 */
 
 int i_APCI3XXX_AnalogInputConfigOperatingMode(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_TimeBase = 0;
@@ -277,7 +277,7 @@ int i_APCI3XXX_AnalogInputConfigOperatingMode(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task           Converting mode and convert time selection                  |
 +----------------------------------------------------------------------------+
@@ -296,7 +296,7 @@ int i_APCI3XXX_AnalogInputConfigOperatingMode(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnConfigAnalogInput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 
@@ -335,7 +335,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task                Read 1 analog input                                    |
 +----------------------------------------------------------------------------+
@@ -356,7 +356,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadAnalogInput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Configuration = (BYTE) CR_RANGE(insn-&gt;chanspec);
@@ -544,7 +544,7 @@ int i_APCI3XXX_InsnReadAnalogInput(comedi_device * dev,
 
 							data[dw_AcquisitionCpt]
 								=
-								(lsampl_t)
+								(unsigned int)
 								readl((void
 									*)
 								(devpriv-&gt;
@@ -666,7 +666,7 @@ void v_APCI3XXX_Interrupt(int irq, void *d)
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task                Read 1 analog input                                    |
 +----------------------------------------------------------------------------+
@@ -685,7 +685,7 @@ void v_APCI3XXX_Interrupt(int irq, void *d)
 */
 
 int i_APCI3XXX_InsnWriteAnalogOutput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Range = (BYTE) CR_RANGE(insn-&gt;chanspec);
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -772,7 +772,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task           You must calling this function be                           |
 |                for you call any other function witch access of TTL.        |
@@ -792,7 +792,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnConfigInitTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Command = 0;
@@ -903,7 +903,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task              : Write the selected output mask and read the status from|
 |                     all TTL channles                                       |
@@ -920,7 +920,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnBitsTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_ChannelCpt = 0;
@@ -1060,7 +1060,7 @@ int i_APCI3XXX_InsnBitsTTLIO(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task              : Read the status from selected channel                  |
 +----------------------------------------------------------------------------+
@@ -1075,11 +1075,11 @@ int i_APCI3XXX_InsnBitsTTLIO(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
 	INT i_ReturnValue = insn-&gt;n;
-	lsampl_t *pls_ReadData = data;
+	unsigned int *pls_ReadData = data;
 
 	/************************/
 	/* Test the buffer size */
@@ -1172,7 +1172,7 @@ int i_APCI3XXX_InsnReadTTLIO(comedi_device * dev,
 |                          (comedi_device    *dev,                           |
 |                           comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
-|                           lsampl_t         *data)                          |
+|                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
 | Task              : Set the state from TTL output channel                  |
 +----------------------------------------------------------------------------+
@@ -1188,7 +1188,7 @@ int i_APCI3XXX_InsnReadTTLIO(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnWriteTTLIO(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -1284,7 +1284,7 @@ int i_APCI3XXX_InsnWriteTTLIO(comedi_device * dev,
 |                                          (comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
-|                                           lsampl_t *data)                  |
+|                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
 | Task              : Reads the value of the specified Digital input channel |
 +----------------------------------------------------------------------------+
@@ -1299,7 +1299,7 @@ int i_APCI3XXX_InsnWriteTTLIO(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadDigitalInput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = (BYTE) CR_CHAN(insn-&gt;chanspec);
@@ -1343,7 +1343,7 @@ int i_APCI3XXX_InsnReadDigitalInput(comedi_device * dev,
 |                                          (comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
-|                                           lsampl_t *data)                  |
+|                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
 | Task              : Reads the value of the Digital input Port i.e.4channels|
 +----------------------------------------------------------------------------+
@@ -1357,7 +1357,7 @@ int i_APCI3XXX_InsnReadDigitalInput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI3XXX_InsnBitsDigitalInput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	DWORD dw_Temp = 0;
@@ -1394,7 +1394,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(comedi_device * dev,
 |                                          (comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
-|                                           lsampl_t *data)                  |
+|                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
 | Task              : Write the selected output mask and read the status from|
 |                     all digital output channles                            |
@@ -1410,7 +1410,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(comedi_device * dev,
 +----------------------------------------------------------------------------+
 */
 int i_APCI3XXX_InsnBitsDigitalOutput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_ChannelCpt = 0;
@@ -1490,7 +1490,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(comedi_device * dev,
 |                                          (comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
-|                                           lsampl_t *data)                  |
+|                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
 | Task              : Set the state from digital output channel              |
 +----------------------------------------------------------------------------+
@@ -1506,7 +1506,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnWriteDigitalOutput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = CR_CHAN(insn-&gt;chanspec);
@@ -1566,7 +1566,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(comedi_device * dev,
 |                                          (comedi_device *dev,              |
 |                                           comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
-|                                           lsampl_t *data)                  |
+|                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
 | Task              : Read the state from digital output channel             |
 +----------------------------------------------------------------------------+
@@ -1581,7 +1581,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(comedi_device * dev,
 */
 
 int i_APCI3XXX_InsnReadDigitalOutput(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn-&gt;n;
 	BYTE b_Channel = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/adl_pci6208.c b/drivers/staging/comedi/drivers/adl_pci6208.c
index 0740ae697506..65fe959fc53b 100644
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -101,7 +101,7 @@ MODULE_DEVICE_TABLE(pci, pci6208_pci_table);
 typedef struct {
 	int data;
 	struct pci_dev *pci_dev;	/* for a PCI device */
-	lsampl_t ao_readback[2];	/* Used for AO readback */
+	unsigned int ao_readback[2];	/* Used for AO readback */
 } pci6208_private;
 
 #define devpriv ((pci6208_private *)dev-&gt;private)
@@ -128,13 +128,13 @@ pci6208_pci_setup(struct pci_dev *pci_dev, unsigned long *io_base_ptr,
 
 /*read/write functions*/
 static int pci6208_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 //static int pci6208_dio_insn_bits(comedi_device *dev,comedi_subdevice *s,
-//      comedi_insn *insn,lsampl_t *data);
+//      comedi_insn *insn,unsigned int *data);
 //static int pci6208_dio_insn_config(comedi_device *dev,comedi_subdevice *s,
-//      comedi_insn *insn,lsampl_t *data);
+//      comedi_insn *insn,unsigned int *data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -220,7 +220,7 @@ static int pci6208_detach(comedi_device * dev)
 }
 
 static int pci6208_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i = 0, Data_Read;
 	unsigned short chan = CR_CHAN(insn-&gt;chanspec);
@@ -245,7 +245,7 @@ static int pci6208_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -262,7 +262,7 @@ static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 //static int pci6208_dio_insn_bits(comedi_device *dev,comedi_subdevice *s,
-//      comedi_insn *insn,lsampl_t *data)
+//      comedi_insn *insn,unsigned int *data)
 //{
 //      if(insn-&gt;n!=2)return -EINVAL;
 
@@ -286,7 +286,7 @@ static int pci6208_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 //}
 
 //static int pci6208_dio_insn_config(comedi_device *dev,comedi_subdevice *s,
-//      comedi_insn *insn,lsampl_t *data)
+//      comedi_insn *insn,unsigned int *data)
 //{
 //      int chan=CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/adl_pci7432.c b/drivers/staging/comedi/drivers/adl_pci7432.c
index caeb5048f20d..4e54d08d2e37 100644
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -70,10 +70,10 @@ static comedi_driver driver_adl_pci7432 = {
 /* Digital IO */
 
 static int adl_pci7432_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci7432_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /*            */
 
@@ -165,7 +165,7 @@ static int adl_pci7432_detach(comedi_device * dev)
 }
 
 static int adl_pci7432_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_do_insn_bits called\n");
 	printk("comedi: data0: %8x data1: %8x\n", data[0], data[1]);
@@ -185,7 +185,7 @@ static int adl_pci7432_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci7432_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_di_insn_bits called\n");
 	printk("comedi: data0: %8x data1: %8x\n", data[0], data[1]);
diff --git a/drivers/staging/comedi/drivers/adl_pci8164.c b/drivers/staging/comedi/drivers/adl_pci8164.c
index 3b13da2be418..9d5c9875a06b 100644
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -80,28 +80,28 @@ static comedi_driver driver_adl_pci8164 = {
 };
 
 static int adl_pci8164_insn_read_msts(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_read_ssts(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_read_buf0(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_read_buf1(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_cmd(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_otp(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_buf0(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_buf1(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_attach(comedi_device * dev, comedi_devconfig * it)
 {
@@ -209,7 +209,7 @@ static int adl_pci8164_detach(comedi_device * dev)
 }
 
 static int adl_pci8164_insn_read_msts(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 	char *axisname;
@@ -246,7 +246,7 @@ static int adl_pci8164_insn_read_msts(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci8164_insn_read_ssts(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 	char *axisname;
@@ -283,7 +283,7 @@ static int adl_pci8164_insn_read_ssts(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci8164_insn_read_buf0(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 	char *axisname;
@@ -320,7 +320,7 @@ static int adl_pci8164_insn_read_buf0(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci8164_insn_read_buf1(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
@@ -358,7 +358,7 @@ static int adl_pci8164_insn_read_buf1(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci8164_insn_write_cmd(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int axis, axis_reg;
 
@@ -396,7 +396,7 @@ static int adl_pci8164_insn_write_cmd(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci8164_insn_write_otp(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
@@ -434,7 +434,7 @@ static int adl_pci8164_insn_write_otp(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int adl_pci8164_insn_write_buf0(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
@@ -472,7 +472,7 @@ static int adl_pci8164_insn_write_buf0(comedi_device * dev,
 }
 
 static int adl_pci8164_insn_write_buf1(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index c8ba2b728831..1b9e9740a4c7 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -361,7 +361,7 @@ typedef struct {
 
 	int is_valid;		// Is device valid
 
-	sampl_t ai_bounce_buffer[2 * PCI9111_FIFO_HALF_SIZE];
+	short ai_bounce_buffer[2 * PCI9111_FIFO_HALF_SIZE];
 } pci9111_private_data_struct;
 
 #define dev_private 	((pci9111_private_data_struct *)dev-&gt;private)
@@ -884,8 +884,8 @@ static int pci9111_ai_do_cmd(comedi_device * dev, comedi_subdevice * subdevice)
 static void pci9111_ai_munge(comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
-	unsigned int i, num_samples = num_bytes / sizeof(sampl_t);
-	sampl_t *array = data;
+	unsigned int i, num_samples = num_bytes / sizeof(short);
+	short *array = data;
 	int resolution =
 		((pci9111_board_struct *) dev-&gt;board_ptr)-&gt;ai_resolution;
 
@@ -983,7 +983,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 				bytes_written =
 					cfc_write_array_to_buffer(subdevice,
 					dev_private-&gt;ai_bounce_buffer,
-					num_samples * sizeof(sampl_t));
+					num_samples * sizeof(short));
 			} else {
 				int position = 0;
 				int to_read;
@@ -1010,7 +1010,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 							ai_bounce_buffer +
 							position,
 							to_read *
-							sizeof(sampl_t));
+							sizeof(short));
 					} else {
 						to_read =
 							dev_private-&gt;
@@ -1024,7 +1024,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 								position;
 
 						bytes_written +=
-							sizeof(sampl_t) *
+							sizeof(short) *
 							to_read;
 					}
 
@@ -1038,7 +1038,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 			}
 
 			dev_private-&gt;stop_counter -=
-				bytes_written / sizeof(sampl_t);
+				bytes_written / sizeof(short);
 		}
 	}
 
@@ -1072,7 +1072,7 @@ static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 #undef AI_INSN_DEBUG
 
 static int pci9111_ai_insn_read(comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	int resolution =
 		((pci9111_board_struct *) dev-&gt;board_ptr)-&gt;ai_resolution;
@@ -1132,7 +1132,7 @@ static int pci9111_ai_insn_read(comedi_device * dev,
 
 static int
 pci9111_ao_insn_write(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -1149,7 +1149,7 @@ pci9111_ao_insn_write(comedi_device * dev,
 //
 
 static int pci9111_ao_insn_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -1171,9 +1171,9 @@ static int pci9111_ao_insn_read(comedi_device * dev,
 //
 
 static int pci9111_di_insn_bits(comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t bits;
+	unsigned int bits;
 
 	bits = pci9111_di_get_bits();
 	data[1] = bits;
@@ -1186,9 +1186,9 @@ static int pci9111_di_insn_bits(comedi_device * dev,
 //
 
 static int pci9111_do_insn_bits(comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t bits;
+	unsigned int bits;
 
 	// Only set bits that have been masked
 	// data[0] = mask
diff --git a/drivers/staging/comedi/drivers/adl_pci9118.c b/drivers/staging/comedi/drivers/adl_pci9118.c
index 5149c748fe8f..9dc30b282973 100644
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -272,12 +272,12 @@ typedef struct {
 	char ai12_startstop;	// measure can start/stop on external trigger
 	unsigned int ai_divisor1, ai_divisor2;	// divisors for start of measure on external start
 	unsigned int ai_data_len;
-	sampl_t *ai_data;
-	sampl_t ao_data[2];	// data output buffer
+	short *ai_data;
+	short ao_data[2];	// data output buffer
 	unsigned int ai_scans;	// number of scans to do
 	char dma_doublebuf;	// we can use double buffring
 	unsigned int dma_actbuf;	// which buffer is used now
-	sampl_t *dmabuf_virt[2];	// pointers to begin of DMA buffer
+	short *dmabuf_virt[2];	// pointers to begin of DMA buffer
 	unsigned long dmabuf_hw[2];	// hw address of DMA buff
 	unsigned int dmabuf_size[2];	// size of dma buffer in bytes
 	unsigned int dmabuf_use_size[2];	// which size we may now used for transfer
@@ -328,7 +328,7 @@ static void pci9118_calc_divisors(char mode, comedi_device * dev,
 ==============================================================================
 */
 static int pci9118_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	int n, timeout;
@@ -378,7 +378,7 @@ static int pci9118_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci9118_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, chanreg, ch;
 
@@ -401,7 +401,7 @@ static int pci9118_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci9118_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
 
@@ -416,7 +416,7 @@ static int pci9118_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci9118_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inl(dev-&gt;iobase + PCI9118_DI) &amp; 0xf;
 
@@ -427,7 +427,7 @@ static int pci9118_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci9118_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
@@ -457,7 +457,7 @@ static void interrupt_pci9118_ai_mode4_switch(comedi_device * dev)
 }
 
 static unsigned int defragment_dma_buffer(comedi_device * dev,
-	comedi_subdevice * s, sampl_t * dma_buffer, unsigned int num_samples)
+	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int i = 0, j = 0;
 	unsigned int start_pos = devpriv-&gt;ai_add_front,
@@ -481,7 +481,7 @@ static unsigned int defragment_dma_buffer(comedi_device * dev,
 ==============================================================================
 */
 static unsigned int move_block_from_dma(comedi_device * dev,
-	comedi_subdevice * s, sampl_t * dma_buffer, unsigned int num_samples)
+	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int num_bytes;
 
@@ -492,8 +492,8 @@ static unsigned int move_block_from_dma(comedi_device * dev,
 	s-&gt;async-&gt;cur_chan %= devpriv-&gt;ai_n_scanlen;
 	num_bytes =
 		cfc_write_array_to_buffer(s, dma_buffer,
-		num_samples * sizeof(sampl_t));
-	if (num_bytes &lt; num_samples * sizeof(sampl_t))
+		num_samples * sizeof(short));
+	if (num_bytes &lt; num_samples * sizeof(short))
 		return -1;
 	return 0;
 }
@@ -534,8 +534,8 @@ static char pci9118_decode_error_status(comedi_device * dev,
 static void pci9118_ai_munge(comedi_device * dev, comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
-	unsigned int i, num_samples = num_bytes / sizeof(sampl_t);
-	sampl_t *array = data;
+	unsigned int i, num_samples = num_bytes / sizeof(short);
+	short *array = data;
 
 	for (i = 0; i &lt; num_samples; i++) {
 		if (devpriv-&gt;usedma)
@@ -555,7 +555,7 @@ static void interrupt_pci9118_ai_onesample(comedi_device * dev,
 	comedi_subdevice * s, unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
-	register sampl_t sampl;
+	register short sampl;
 
 	s-&gt;async-&gt;events = 0;
 
@@ -1131,10 +1131,10 @@ static int Compute_and_setup_dma(comedi_device * dev)
 	if (devpriv-&gt;ai_n_scanlen &lt; this_board-&gt;half_fifo_size) {
 		devpriv-&gt;dmabuf_panic_size[0] =
 			(this_board-&gt;half_fifo_size / devpriv-&gt;ai_n_scanlen +
-			1) * devpriv-&gt;ai_n_scanlen * sizeof(sampl_t);
+			1) * devpriv-&gt;ai_n_scanlen * sizeof(short);
 		devpriv-&gt;dmabuf_panic_size[1] =
 			(this_board-&gt;half_fifo_size / devpriv-&gt;ai_n_scanlen +
-			1) * devpriv-&gt;ai_n_scanlen * sizeof(sampl_t);
+			1) * devpriv-&gt;ai_n_scanlen * sizeof(short);
 	} else {
 		devpriv-&gt;dmabuf_panic_size[0] =
 			(devpriv-&gt;ai_n_scanlen &lt;&lt; 1) % devpriv-&gt;dmabuf_size[0];
@@ -1940,7 +1940,7 @@ static int pci9118_attach(comedi_device * dev, comedi_devconfig * it)
 		devpriv-&gt;dma_doublebuf = 0;
 		for (i = 0; i &lt; 2; i++) {
 			for (pages = 4; pages &gt;= 0; pages--)
-				if ((devpriv-&gt;dmabuf_virt[i] = (sampl_t *)
+				if ((devpriv-&gt;dmabuf_virt[i] = (short *)
 						__get_free_pages(GFP_KERNEL,
 							pages)))
 					break;
diff --git a/drivers/staging/comedi/drivers/adq12b.c b/drivers/staging/comedi/drivers/adq12b.c
index 8f233b60b69a..f32e55921b5f 100644
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -151,7 +151,7 @@ typedef struct{
         int differential;      /* option 3 of comedi_config */
         int last_channel;
         int last_range;
-        lsampl_t digital_state;
+        unsigned int digital_state;
  }adq12b_private;
 
 #define devpriv ((adq12b_private *)dev-&gt;private)
@@ -174,9 +174,9 @@ static comedi_driver driver_adq12b={
         num_names:      sizeof(adq12b_boards) / sizeof(adq12b_board),
 };
 
-static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data);
-static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,lsampl_t *data);
-static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,lsampl_t *data);
+static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -314,7 +314,7 @@ static int adq12b_detach(comedi_device *dev)
  * mode.
  */
 
-static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data)
+static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 {
         int n, i;
         int range, channel;
@@ -357,7 +357,7 @@ static int adq12b_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *i
 }
 
 
-static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,lsampl_t *data)
+static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
 
         /* only bits 0-4 have information about digital inputs */
@@ -367,7 +367,7 @@ static int adq12b_di_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_i
 }
 
 
-static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,lsampl_t *data)
+static int adq12b_do_insn_bits(comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
         int channel;
 
diff --git a/drivers/staging/comedi/drivers/adv_pci1710.c b/drivers/staging/comedi/drivers/adv_pci1710.c
index edfcfd51ad6c..e482e602ba9e 100644
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -290,10 +290,10 @@ typedef struct {
 	unsigned int *ai_chanlist;	// actaul chanlist
 	unsigned int ai_flags;	// flaglist
 	unsigned int ai_data_len;	// len of data buffer
-	sampl_t *ai_data;	// data buffer
+	short *ai_data;	// data buffer
 	unsigned int ai_timer1;	// timers
 	unsigned int ai_timer2;
-	sampl_t ao_data[4];	// data output buffer
+	short ao_data[4];	// data output buffer
 	unsigned int cnt0_write_wait;	// after a write, wait for update of the internal state
 } pci1710_private;
 
@@ -323,7 +323,7 @@ static const unsigned int muxonechan[] = { 0x0000, 0x0101, 0x0202, 0x0303, 0x040
 ==============================================================================
 */
 static int pci171x_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, timeout;
 #ifdef PCI171x_PARANOIDCHECK
@@ -391,7 +391,7 @@ static int pci171x_insn_read_ai(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan, range, ofs;
 
@@ -422,7 +422,7 @@ static int pci171x_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
 
@@ -437,7 +437,7 @@ static int pci171x_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inw(dev-&gt;iobase + PCI171x_DI);
 
@@ -448,7 +448,7 @@ static int pci171x_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
@@ -464,7 +464,7 @@ static int pci171x_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_counter_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int msb, lsb, ccntrl;
 	int i;
@@ -486,7 +486,7 @@ static int pci171x_insn_counter_read(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_counter_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	uint msb, lsb, ccntrl, status;
 
@@ -513,7 +513,7 @@ static int pci171x_insn_counter_write(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci171x_insn_counter_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef unused
 	/* This doesn't work like a normal Comedi counter config */
@@ -549,7 +549,7 @@ static int pci171x_insn_counter_config(comedi_device * dev,
 ==============================================================================
 */
 static int pci1720_insn_write_ao(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, rangereg, chan;
 
@@ -580,7 +580,7 @@ static void interrupt_pci1710_every_sample(void *d)
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int m;
 #ifdef PCI171x_PARANOIDCHECK
-	sampl_t sampl;
+	short sampl;
 #endif
 
 	DPRINTK("adv_pci1710 EDBG: BGN: interrupt_pci1710_every_sample(...)\n");
@@ -732,8 +732,8 @@ static void interrupt_pci1710_half_fifo(void *d)
 	}
 
 	samplesinbuf = this_board-&gt;fifo_half_size;
-	if (samplesinbuf * sizeof(sampl_t) &gt;= devpriv-&gt;ai_data_len) {
-		m = devpriv-&gt;ai_data_len / sizeof(sampl_t);
+	if (samplesinbuf * sizeof(short) &gt;= devpriv-&gt;ai_data_len) {
+		m = devpriv-&gt;ai_data_len / sizeof(short);
 		if (move_block_from_fifo(dev, s, m, 0))
 			return;
 		samplesinbuf -= m;
diff --git a/drivers/staging/comedi/drivers/adv_pci1723.c b/drivers/staging/comedi/drivers/adv_pci1723.c
index 3cc573db4c7c..46b70942ac85 100644
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -162,7 +162,7 @@ typedef struct {
 	struct pci_dev *pcidev;
 	unsigned char da_range[8];	// D/A output range for each channel
 
-	sampl_t ao_data[8];	// data output buffer
+	short ao_data[8];	// data output buffer
 } pci1723_private;
 
 /*the following macro to make it easy to
@@ -203,7 +203,7 @@ static int pci1723_reset(comedi_device * dev)
 }
 
 static int pci1723_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
 
@@ -219,7 +219,7 @@ static int pci1723_insn_read_ao(comedi_device * dev, comedi_subdevice * s,
   analog data output;
 */
 static int pci1723_ao_write_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
 	chan = CR_CHAN(insn-&gt;chanspec);
@@ -239,7 +239,7 @@ static int pci1723_ao_write_winsn(comedi_device * dev, comedi_subdevice * s,
   digital i/o config/query
 */
 static int pci1723_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
 	unsigned int bits;
@@ -279,7 +279,7 @@ static int pci1723_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
   digital i/o bits read/write
 */
 static int pci1723_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
diff --git a/drivers/staging/comedi/drivers/adv_pci_dio.c b/drivers/staging/comedi/drivers/adv_pci_dio.c
index 06f373098d7d..25ddbc86fb33 100644
--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -358,7 +358,7 @@ static pci_dio_private *pci_priv = NULL;	/* list of allocated cards */
 ==============================================================================
 */
 static int pci_dio_insn_bits_di_b(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
 	int i;
@@ -375,7 +375,7 @@ static int pci_dio_insn_bits_di_b(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci_dio_insn_bits_di_w(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
 	int i;
@@ -391,7 +391,7 @@ static int pci_dio_insn_bits_di_w(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci_dio_insn_bits_do_b(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
 	int i;
@@ -412,7 +412,7 @@ static int pci_dio_insn_bits_do_b(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci_dio_insn_bits_do_w(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s-&gt;private;
 	int i;
@@ -491,7 +491,7 @@ static int pci1760_mbxrequest(comedi_device * dev,
 ==============================================================================
 */
 static int pci1760_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inb(dev-&gt;iobase + IMB3);
 
@@ -502,7 +502,7 @@ static int pci1760_insn_bits_di(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci1760_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
 	unsigned char omb[4] = {
@@ -529,7 +529,7 @@ static int pci1760_insn_bits_do(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci1760_insn_cnt_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int ret, n;
 	unsigned char omb[4] = {
@@ -553,7 +553,7 @@ static int pci1760_insn_cnt_read(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pci1760_insn_cnt_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
 	unsigned char chan = CR_CHAN(insn-&gt;chanspec) &amp; 0x07;
diff --git a/drivers/staging/comedi/drivers/aio_aio12_8.c b/drivers/staging/comedi/drivers/aio_aio12_8.c
index 227f446db790..3a326f6e3205 100644
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -83,13 +83,13 @@ static const board_type board_types[] = {
 #define	thisboard	((const board_type *) dev-&gt;board_ptr)
 
 typedef struct {
-	lsampl_t ao_readback[4];
+	unsigned int ao_readback[4];
 } aio12_8_private;
 
 #define devpriv	((aio12_8_private *) dev-&gt;private)
 
 static int aio_aio12_8_ai_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned char control =
@@ -123,7 +123,7 @@ static int aio_aio12_8_ai_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int aio_aio12_8_ao_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int val = devpriv-&gt;ao_readback[CR_CHAN(insn-&gt;chanspec)];
@@ -134,7 +134,7 @@ static int aio_aio12_8_ao_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int aio_aio12_8_ao_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/aio_iiro_16.c b/drivers/staging/comedi/drivers/aio_iiro_16.c
index f7958e380ca5..2da86744bc00 100644
--- a/drivers/staging/comedi/drivers/aio_iiro_16.c
+++ b/drivers/staging/comedi/drivers/aio_iiro_16.c
@@ -62,7 +62,7 @@ static const aio_iiro_16_board aio_iiro_16_boards[] = {
 typedef struct {
 	int data;
 	struct pci_dev *pci_dev;
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 } aio_iiro_16_private;
 
 #define	devpriv	((aio_iiro_16_private *) dev-&gt;private)
@@ -82,10 +82,10 @@ static comedi_driver driver_aio_iiro_16 = {
 };
 
 static int aio_iiro_16_dio_insn_bits_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int aio_iiro_16_dio_insn_bits_write(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int aio_iiro_16_attach(comedi_device * dev, comedi_devconfig * it)
 {
@@ -143,7 +143,7 @@ static int aio_iiro_16_detach(comedi_device * dev)
 }
 
 static int aio_iiro_16_dio_insn_bits_write(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -162,7 +162,7 @@ static int aio_iiro_16_dio_insn_bits_write(comedi_device * dev,
 }
 
 static int aio_iiro_16_dio_insn_bits_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/amplc_dio200.c b/drivers/staging/comedi/drivers/amplc_dio200.c
index 2f5f94050180..8c8e58f71ec6 100644
--- a/drivers/staging/comedi/drivers/amplc_dio200.c
+++ b/drivers/staging/comedi/drivers/amplc_dio200.c
@@ -201,7 +201,7 @@ to be enabled.  All channels will be sampled together (convert_src ==
 TRIG_NOW).  The scan begins a short time after the hardware interrupt
 occurs, subject to interrupt latencies (scan_begin_src == TRIG_EXT,
 scan_begin_arg == 0).  The value read from the interrupt status register
-is packed into a sampl_t value, one bit per requested channel, in the
+is packed into a short value, one bit per requested channel, in the
 order they appear in the channel list.
 */
 
@@ -573,7 +573,7 @@ dio200_request_region(unsigned minor, unsigned long from, unsigned long extent)
  */
 static int
 dio200_subdev_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_intr *subpriv = s-&gt;private;
 
@@ -732,7 +732,7 @@ static int dio200_handle_read_intr(comedi_device * dev, comedi_subdevice * s)
 			 */
 			if (triggered &amp; subpriv-&gt;enabled_isns) {
 				/* Collect scan data. */
-				sampl_t val;
+				short val;
 				unsigned int n, ch, len;
 
 				val = 0;
@@ -1034,7 +1034,7 @@ static irqreturn_t dio200_interrupt(int irq, void *d PT_REGS_ARG)
  */
 static int
 dio200_subdev_8254_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1049,7 +1049,7 @@ dio200_subdev_8254_read(comedi_device * dev, comedi_subdevice * s,
  */
 static int
 dio200_subdev_8254_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1124,7 +1124,7 @@ dio200_set_clock_src(dio200_subdev_8254 * subpriv, unsigned int counter_number,
  */
 static int
 dio200_get_clock_src(dio200_subdev_8254 * subpriv, unsigned int counter_number,
-	lsampl_t * period_ns)
+	unsigned int * period_ns)
 {
 	unsigned clock_src;
 
@@ -1143,7 +1143,7 @@ dio200_get_clock_src(dio200_subdev_8254 * subpriv, unsigned int counter_number,
  */
 static int
 dio200_subdev_8254_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s-&gt;private;
 	int ret;
diff --git a/drivers/staging/comedi/drivers/amplc_pc236.c b/drivers/staging/comedi/drivers/amplc_pc236.c
index 1ee3664e99b5..8d3fb69176ca 100644
--- a/drivers/staging/comedi/drivers/amplc_pc236.c
+++ b/drivers/staging/comedi/drivers/amplc_pc236.c
@@ -189,7 +189,7 @@ static void pc236_intr_disable(comedi_device * dev);
 static void pc236_intr_enable(comedi_device * dev);
 static int pc236_intr_check(comedi_device * dev);
 static int pc236_intr_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pc236_intr_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int pc236_intr_cmd(comedi_device * dev, comedi_subdevice * s);
@@ -529,7 +529,7 @@ static int pc236_intr_check(comedi_device * dev)
  * Copied from the comedi_parport driver.
  */
 static int pc236_intr_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = 0;
 	return 2;
diff --git a/drivers/staging/comedi/drivers/amplc_pc263.c b/drivers/staging/comedi/drivers/amplc_pc263.c
index 868d35d82ee1..4c23b018ce5e 100644
--- a/drivers/staging/comedi/drivers/amplc_pc263.c
+++ b/drivers/staging/comedi/drivers/amplc_pc263.c
@@ -147,9 +147,9 @@ static comedi_driver driver_amplc_pc263 = {
 static int pc263_request_region(unsigned minor, unsigned long from,
 	unsigned long extent);
 static int pc263_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pc263_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /*
  * This function looks for a PCI device matching the requested board name,
@@ -388,7 +388,7 @@ static int pc263_request_region(unsigned minor, unsigned long from,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int pc263_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -413,7 +413,7 @@ static int pc263_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pc263_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 1)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/amplc_pci224.c b/drivers/staging/comedi/drivers/amplc_pci224.c
index b821a0bb3b53..b936ccf9bb4d 100644
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -404,8 +404,8 @@ typedef struct {
 	unsigned long iobase1;
 	unsigned long state;
 	spinlock_t ao_spinlock;
-	lsampl_t *ao_readback;
-	sampl_t *ao_scan_vals;
+	unsigned int *ao_readback;
+	short *ao_scan_vals;
 	unsigned char *ao_scan_order;
 	int intr_cpuid;
 	short intr_running;
@@ -444,7 +444,7 @@ COMEDI_PCI_INITCLEANUP(driver_amplc_pci224, pci224_pci_table);
  * Called from the 'insn_write' function to perform a single write.
  */
 static void
-pci224_ao_set_data(comedi_device * dev, int chan, int range, lsampl_t data)
+pci224_ao_set_data(comedi_device * dev, int chan, int range, unsigned int data)
 {
 	unsigned short mangled;
 
@@ -478,7 +478,7 @@ pci224_ao_set_data(comedi_device * dev, int chan, int range, lsampl_t data)
  */
 static int
 pci224_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan, range;
@@ -505,7 +505,7 @@ pci224_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
  */
 static int
 pci224_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan;
@@ -609,10 +609,10 @@ static void pci224_ao_handle_fifo(comedi_device * dev, comedi_subdevice * s)
 	unsigned int bytes_per_scan;
 
 	if (cmd-&gt;chanlist_len) {
-		bytes_per_scan = cmd-&gt;chanlist_len * sizeof(sampl_t);
+		bytes_per_scan = cmd-&gt;chanlist_len * sizeof(short);
 	} else {
 		/* Shouldn't get here! */
-		bytes_per_scan = sizeof(sampl_t);
+		bytes_per_scan = sizeof(short);
 	}
 	/* Determine number of scans available in buffer. */
 	num_scans = comedi_buf_read_n_available(s-&gt;async) / bytes_per_scan;
@@ -1186,7 +1186,7 @@ pci224_ao_munge(comedi_device * dev, comedi_subdevice * s, void *data,
 	unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s-&gt;async;
-	sampl_t *array = data;
+	short *array = data;
 	unsigned int length = num_bytes / sizeof(*array);
 	unsigned int offset;
 	unsigned int shift;
diff --git a/drivers/staging/comedi/drivers/amplc_pci230.c b/drivers/staging/comedi/drivers/amplc_pci230.c
index 39482742401e..4463e9803e08 100644
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -524,7 +524,7 @@ struct pci230_private {
 	spinlock_t ao_stop_spinlock;	/* Spin lock for stopping AO command */
 	unsigned long state;	/* State flags */
 	unsigned long iobase1;	/* PCI230's I/O space 1 */
-	lsampl_t ao_readback[2];	/* Used for AO readback */
+	unsigned int ao_readback[2];	/* Used for AO readback */
 	unsigned int ai_scan_count;	/* Number of analogue input scans
 					 * remaining.  */
 	unsigned int ai_scan_pos;	/* Current position within analogue
@@ -616,11 +616,11 @@ static comedi_driver driver_amplc_pci230 = {
 COMEDI_PCI_INITCLEANUP(driver_amplc_pci230, pci230_pci_table);
 
 static int pci230_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pci230_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pci230_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static void pci230_ct_setup_ns_mode(comedi_device * dev, unsigned int ct,
 	unsigned int mode, uint64_t ns, unsigned int round);
 static void pci230_ns_to_single_timer(unsigned int *ns, unsigned int round);
@@ -640,10 +640,10 @@ static int pci230_ai_cancel(comedi_device * dev, comedi_subdevice * s);
 static void pci230_ai_stop(comedi_device * dev, comedi_subdevice * s);
 static void pci230_handle_ai(comedi_device * dev, comedi_subdevice * s);
 
-static sampl_t pci230_ai_read(comedi_device * dev)
+static short pci230_ai_read(comedi_device * dev)
 {
 	/* Read sample. */
-	sampl_t data = (sampl_t) inw(dev-&gt;iobase + PCI230_ADCDATA);
+	short data = (short) inw(dev-&gt;iobase + PCI230_ADCDATA);
 
 	/* PCI230 is 12 bit - stored in upper bits of 16 bit register (lower
 	 * four bits reserved for expansion). */
@@ -659,7 +659,7 @@ static sampl_t pci230_ai_read(comedi_device * dev)
 }
 
 static inline unsigned short pci230_ao_mangle_datum(comedi_device * dev,
-	sampl_t datum)
+	short datum)
 {
 	/* If a bipolar range was specified, mangle it (straight binary-&gt;twos
 	 * complement). */
@@ -674,7 +674,7 @@ static inline unsigned short pci230_ao_mangle_datum(comedi_device * dev,
 	return (unsigned short)datum;
 }
 
-static inline void pci230_ao_write_nofifo(comedi_device * dev, sampl_t datum,
+static inline void pci230_ao_write_nofifo(comedi_device * dev, short datum,
 	unsigned int chan)
 {
 	/* Store unmangled datum to be read back later. */
@@ -685,7 +685,7 @@ static inline void pci230_ao_write_nofifo(comedi_device * dev, sampl_t datum,
 			? PCI230_DACOUT1 : PCI230_DACOUT2));
 }
 
-static inline void pci230_ao_write_fifo(comedi_device * dev, sampl_t datum,
+static inline void pci230_ao_write_fifo(comedi_device * dev, short datum,
 	unsigned int chan)
 {
 	/* Store unmangled datum to be read back later. */
@@ -1059,7 +1059,7 @@ static inline void put_all_resources(comedi_device * dev, unsigned char owner)
  *  COMEDI_SUBD_AI instruction;
  */
 static int pci230_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int n, i;
 	unsigned int chan, range, aref;
@@ -1164,7 +1164,7 @@ static int pci230_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
  *  COMEDI_SUBD_AO instructions;
  */
 static int pci230_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan, range;
@@ -1192,7 +1192,7 @@ static int pci230_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int pci230_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2624,7 +2624,7 @@ static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG)
 
 static void pci230_handle_ao_nofifo(comedi_device * dev, comedi_subdevice * s)
 {
-	sampl_t data;
+	short data;
 	int i, ret;
 	comedi_async *async = s-&gt;async;
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
@@ -2675,7 +2675,7 @@ static int pci230_handle_ao_fifo(comedi_device * dev, comedi_subdevice * s)
 	dacstat = inw(dev-&gt;iobase + PCI230_DACCON);
 
 	/* Determine number of scans available in buffer. */
-	bytes_per_scan = cmd-&gt;chanlist_len * sizeof(sampl_t);
+	bytes_per_scan = cmd-&gt;chanlist_len * sizeof(short);
 	num_scans = comedi_buf_read_n_available(async) / bytes_per_scan;
 	if (!devpriv-&gt;ao_continuous) {
 		/* Fixed number of scans. */
@@ -2722,7 +2722,7 @@ static int pci230_handle_ao_fifo(comedi_device * dev, comedi_subdevice * s)
 		/* Process scans. */
 		for (n = 0; n &lt; num_scans; n++) {
 			for (i = 0; i &lt; cmd-&gt;chanlist_len; i++) {
-				sampl_t datum;
+				short datum;
 
 				comedi_buf_get(async, &amp;datum);
 				pci230_ao_write_fifo(dev, datum,
diff --git a/drivers/staging/comedi/drivers/c6xdigio.c b/drivers/staging/comedi/drivers/c6xdigio.c
index 1bf1375cb2c7..5837770ac5b2 100644
--- a/drivers/staging/comedi/drivers/c6xdigio.c
+++ b/drivers/staging/comedi/drivers/c6xdigio.c
@@ -339,14 +339,14 @@ static void C6X_encResetAll(unsigned long baseAddr)
 }
 
 static int c6xdigio_pwmo_insn_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	printk("c6xdigio_pwmo_insn_read %x\n", insn-&gt;n);
 	return insn-&gt;n;
 }
 
 static int c6xdigio_pwmo_insn_write(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -362,7 +362,7 @@ static int c6xdigio_pwmo_insn_write(comedi_device * dev,
 //static int c6xdigio_ei_init_insn_read(comedi_device *dev,
 //                                 comedi_subdevice *s,
 //                                 comedi_insn *insn,
-//                                 lsampl_t *data)
+//                                 unsigned int *data)
 //{
 //  printk("c6xdigio_ei_init_insn_read %x\n", insn-&gt;n);
 //  return insn-&gt;n;
@@ -371,7 +371,7 @@ static int c6xdigio_pwmo_insn_write(comedi_device * dev,
 //static int c6xdigio_ei_init_insn_write(comedi_device *dev,
 //                                 comedi_subdevice *s,
 //                                 comedi_insn *insn,
-//                                 lsampl_t *data)
+//                                 unsigned int *data)
 //{
 //  int i;
 //  int chan = CR_CHAN(insn-&gt;chanspec);
@@ -382,7 +382,7 @@ static int c6xdigio_pwmo_insn_write(comedi_device * dev,
 //}
 
 static int c6xdigio_ei_insn_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	//  printk("c6xdigio_ei__insn_read %x\n", insn-&gt;n);
 	int n;
diff --git a/drivers/staging/comedi/drivers/cb_das16_cs.c b/drivers/staging/comedi/drivers/cb_das16_cs.c
index d6cc0a1d0d95..827954971c1a 100644
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -83,7 +83,7 @@ static const das16cs_board das16cs_boards[] = {
 typedef struct {
 	struct pcmcia_device *link;
 
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 	unsigned short status1;
 	unsigned short status2;
 } das16cs_private;
@@ -110,22 +110,22 @@ static const comedi_lrange das16cs_ai_range = { 4, {
 
 static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG);
 static int das16cs_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16cs_ai_cmd(comedi_device * dev, comedi_subdevice * s);
 static int das16cs_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int das16cs_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16cs_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16cs_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16cs_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16cs_timer_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16cs_timer_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int get_prodid(comedi_device * dev, struct pcmcia_device *link)
 {
@@ -287,7 +287,7 @@ static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG)
  * mode.
  */
 static int das16cs_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int to;
@@ -490,7 +490,7 @@ static int das16cs_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16cs_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -536,7 +536,7 @@ static int das16cs_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int das16cs_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -553,7 +553,7 @@ static int das16cs_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int das16cs_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -573,7 +573,7 @@ static int das16cs_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16cs_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int bits;
@@ -611,13 +611,13 @@ static int das16cs_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16cs_timer_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
 }
 
 static int das16cs_timer_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
 }
diff --git a/drivers/staging/comedi/drivers/cb_pcidas.c b/drivers/staging/comedi/drivers/cb_pcidas.c
index 63c8a802f599..c98fb6de3d41 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -415,8 +415,8 @@ typedef struct {
 	volatile unsigned int adc_fifo_bits;	// bits to write to interupt/adcfifo register
 	volatile unsigned int s5933_intcsr_bits;	// bits to write to amcc s5933 interrupt control/status register
 	volatile unsigned int ao_control_bits;	// bits to write to ao control and status register
-	sampl_t ai_buffer[AI_BUFFER_SIZE];
-	sampl_t ao_buffer[AO_BUFFER_SIZE];
+	short ai_buffer[AI_BUFFER_SIZE];
+	short ao_buffer[AO_BUFFER_SIZE];
 	// divisors of master clock for analog output pacing
 	unsigned int ao_divisor1;
 	unsigned int ao_divisor2;
@@ -450,15 +450,15 @@ static comedi_driver driver_cb_pcidas = {
 };
 
 static int cb_pcidas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_ao_nofifo_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_ao_fifo_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_ai_cmd(comedi_device * dev, comedi_subdevice * s);
 static int cb_pcidas_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
@@ -474,22 +474,22 @@ static int cb_pcidas_ao_cancel(comedi_device * dev, comedi_subdevice * s);
 static void cb_pcidas_load_counters(comedi_device * dev, unsigned int *ns,
 	int round_flags);
 static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int caldac_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int caldac_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int trimpot_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_trimpot_write(comedi_device * dev, unsigned int channel,
-	lsampl_t value);
+	unsigned int value);
 static int trimpot_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dac08_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
-static int dac08_write(comedi_device * dev, lsampl_t value);
+	comedi_insn * insn, unsigned int * data);
+static int dac08_write(comedi_device * dev, unsigned int value);
 static int dac08_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int caldac_8800_write(comedi_device * dev, unsigned int address,
 	uint8_t value);
 static int trimpot_7376_write(comedi_device * dev, uint8_t value);
@@ -753,7 +753,7 @@ static int cb_pcidas_detach(comedi_device * dev)
  * mode.
  */
 static int cb_pcidas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
 	unsigned int bits;
@@ -804,10 +804,10 @@ static int cb_pcidas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int ai_config_calibration_source(comedi_device * dev, lsampl_t * data)
+static int ai_config_calibration_source(comedi_device * dev, unsigned int * data)
 {
 	static const int num_calibration_sources = 8;
-	lsampl_t source = data[1];
+	unsigned int source = data[1];
 
 	if (source &gt;= num_calibration_sources) {
 		printk("invalid calibration source: %i\n", source);
@@ -820,7 +820,7 @@ static int ai_config_calibration_source(comedi_device * dev, lsampl_t * data)
 }
 
 static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
 
@@ -837,7 +837,7 @@ static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
 
 // analog output insn for pcidas-1000 and 1200 series
 static int cb_pcidas_ao_nofifo_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
 	unsigned long flags;
@@ -862,7 +862,7 @@ static int cb_pcidas_ao_nofifo_winsn(comedi_device * dev, comedi_subdevice * s,
 
 // analog output insn for pcidas-1602 series
 static int cb_pcidas_ao_fifo_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
 	unsigned long flags;
@@ -893,7 +893,7 @@ static int cb_pcidas_ao_fifo_winsn(comedi_device * dev, comedi_subdevice * s,
 // analog output readback insn
 // XXX loses track of analog output value back after an analog ouput command is executed
 static int cb_pcidas_ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
 
@@ -901,7 +901,7 @@ static int cb_pcidas_ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	uint8_t nvram_data;
 	int retval;
@@ -916,7 +916,7 @@ static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int caldac_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -924,7 +924,7 @@ static int caldac_write_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int caldac_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldac_value[CR_CHAN(insn-&gt;chanspec)];
 
@@ -932,7 +932,7 @@ static int caldac_read_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 /* 1602/16 pregain offset */
-static int dac08_write(comedi_device * dev, lsampl_t value)
+static int dac08_write(comedi_device * dev, unsigned int value)
 {
 	if (devpriv-&gt;dac08_value == value)
 		return 1;
@@ -953,13 +953,13 @@ static int dac08_write(comedi_device * dev, lsampl_t value)
 }
 
 static int dac08_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	return dac08_write(dev, data[0]);
 }
 
 static int dac08_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;dac08_value;
 
@@ -967,7 +967,7 @@ static int dac08_read_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int cb_pcidas_trimpot_write(comedi_device * dev,
-	unsigned int channel, lsampl_t value)
+	unsigned int channel, unsigned int value)
 {
 	if (devpriv-&gt;trimpot_value[channel] == value)
 		return 1;
@@ -990,7 +990,7 @@ static int cb_pcidas_trimpot_write(comedi_device * dev,
 }
 
 static int trimpot_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -998,7 +998,7 @@ static int trimpot_write_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int trimpot_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -1441,8 +1441,8 @@ static int cb_pcidas_ao_inttrig(comedi_device * dev, comedi_subdevice * s,
 		num_points = devpriv-&gt;ao_count;
 
 	num_bytes = cfc_read_array_from_buffer(s, devpriv-&gt;ao_buffer,
-		num_points * sizeof(sampl_t));
-	num_points = num_bytes / sizeof(sampl_t);
+		num_points * sizeof(short));
+	num_points = num_bytes / sizeof(short);
 
 	if (cmd-&gt;stop_src == TRIG_COUNT) {
 		devpriv-&gt;ao_count -= num_points;
@@ -1530,7 +1530,7 @@ static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 		insw(devpriv-&gt;adc_fifo + ADCDATA, devpriv-&gt;ai_buffer,
 			num_samples);
 		cfc_write_array_to_buffer(s, devpriv-&gt;ai_buffer,
-			num_samples * sizeof(sampl_t));
+			num_samples * sizeof(short));
 		devpriv-&gt;count -= num_samples;
 		if (async-&gt;cmd.stop_src == TRIG_COUNT &amp;&amp; devpriv-&gt;count == 0) {
 			async-&gt;events |= COMEDI_CB_EOA;
@@ -1623,8 +1623,8 @@ static void handle_ao_interrupt(comedi_device * dev, unsigned int status)
 			num_points = devpriv-&gt;ao_count;
 		num_bytes =
 			cfc_read_array_from_buffer(s, devpriv-&gt;ao_buffer,
-			num_points * sizeof(sampl_t));
-		num_points = num_bytes / sizeof(sampl_t);
+			num_points * sizeof(short));
+		num_points = num_bytes / sizeof(short);
 
 		if (async-&gt;cmd.stop_src == TRIG_COUNT) {
 			devpriv-&gt;ao_count -= num_points;
diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 9f056aa44f5d..4b1afce04d92 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1108,7 +1108,7 @@ typedef struct {
 	volatile short ai_cmd_running;
 	unsigned int ai_fifo_segment_length;
 	struct ext_clock_info ext_clock;
-	sampl_t ao_bounce_buffer[DAC_FIFO_SIZE];
+	short ao_bounce_buffer[DAC_FIFO_SIZE];
 } pcidas64_private;
 
 /* inline function that makes it easier to
@@ -1135,13 +1135,13 @@ static comedi_driver driver_cb_pcidas = {
 };
 
 static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ai_cmd(comedi_device * dev, comedi_subdevice * s);
 static int ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
@@ -1156,25 +1156,25 @@ static int ao_cancel(comedi_device * dev, comedi_subdevice * s);
 static int dio_callback(int dir, int port, int data, unsigned long arg);
 static int dio_callback_4020(int dir, int port, int data, unsigned long arg);
 static int di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dio_60xx_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dio_60xx_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int calib_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int calib_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ad8402_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static void ad8402_write(comedi_device * dev, unsigned int channel,
 	unsigned int value);
 static int ad8402_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static void check_adc_timing(comedi_device * dev, comedi_cmd * cmd);
 static unsigned int get_divisor(unsigned int ns, unsigned int flags);
 static void i2c_write(comedi_device * dev, unsigned int address,
@@ -1882,7 +1882,7 @@ static int detach(comedi_device * dev)
 }
 
 static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits = 0, n, i;
 	unsigned int channel, range, aref;
@@ -2018,9 +2018,9 @@ static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 	return n;
 }
 
-static int ai_config_calibration_source(comedi_device * dev, lsampl_t * data)
+static int ai_config_calibration_source(comedi_device * dev, unsigned int * data)
 {
-	lsampl_t source = data[1];
+	unsigned int source = data[1];
 	int num_calibration_sources;
 
 	if (board(dev)-&gt;layout == LAYOUT_60XX)
@@ -2038,7 +2038,7 @@ static int ai_config_calibration_source(comedi_device * dev, lsampl_t * data)
 	return 2;
 }
 
-static int ai_config_block_size(comedi_device * dev, lsampl_t * data)
+static int ai_config_block_size(comedi_device * dev, unsigned int * data)
 {
 	int fifo_size;
 	const hw_fifo_info_t *const fifo = board(dev)-&gt;ai_fifo;
@@ -2065,7 +2065,7 @@ static int ai_config_block_size(comedi_device * dev, lsampl_t * data)
 	return 2;
 }
 
-static int ai_config_master_clock_4020(comedi_device * dev, lsampl_t * data)
+static int ai_config_master_clock_4020(comedi_device * dev, unsigned int * data)
 {
 	unsigned int divisor = data[4];
 	int retval = 0;
@@ -2091,7 +2091,7 @@ static int ai_config_master_clock_4020(comedi_device * dev, lsampl_t * data)
 }
 
 // XXX could add support for 60xx series
-static int ai_config_master_clock(comedi_device * dev, lsampl_t * data)
+static int ai_config_master_clock(comedi_device * dev, unsigned int * data)
 {
 
 	switch (board(dev)-&gt;layout) {
@@ -2107,7 +2107,7 @@ static int ai_config_master_clock(comedi_device * dev, lsampl_t * data)
 }
 
 static int ai_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
 
@@ -3195,7 +3195,7 @@ static int ai_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int range = CR_RANGE(insn-&gt;chanspec);
@@ -3225,7 +3225,7 @@ static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ao_readback_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = priv(dev)-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
 
@@ -3606,9 +3606,9 @@ static int dio_callback_4020(int dir, int port, int data, unsigned long iobase)
 }
 
 static int di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t bits;
+	unsigned int bits;
 
 	bits = readb(priv(dev)-&gt;dio_counter_iobase + DI_REG);
 	bits &amp;= 0xf;
@@ -3619,7 +3619,7 @@ static int di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] &amp;= 0xf;
 	// zero bits we are going to change
@@ -3635,7 +3635,7 @@ static int do_wbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dio_60xx_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
 
@@ -3662,7 +3662,7 @@ static int dio_60xx_config_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dio_60xx_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
@@ -3695,7 +3695,7 @@ static void caldac_write(comedi_device * dev, unsigned int channel,
 }
 
 static int calib_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -3710,7 +3710,7 @@ static int calib_write_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int calib_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -3751,7 +3751,7 @@ static void ad8402_write(comedi_device * dev, unsigned int channel,
 
 /* for pci-das6402/16, channel 0 is analog input gain and channel 1 is offset */
 static int ad8402_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -3768,7 +3768,7 @@ static int ad8402_write_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ad8402_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -3840,7 +3840,7 @@ static uint16_t read_eeprom(comedi_device * dev, uint8_t address)
 }
 
 static int eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = read_eeprom(dev, CR_CHAN(insn-&gt;chanspec));
 
diff --git a/drivers/staging/comedi/drivers/cb_pcidda.c b/drivers/staging/comedi/drivers/cb_pcidda.c
index c5c156b4cade..f245eb1c1631 100644
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -234,9 +234,9 @@ typedef struct {
 
 static int cb_pcidda_attach(comedi_device * dev, comedi_devconfig * it);
 static int cb_pcidda_detach(comedi_device * dev);
-//static int cb_pcidda_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data);
+//static int cb_pcidda_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
 static int cb_pcidda_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 //static int cb_pcidda_ai_cmd(comedi_device *dev,comedi_subdevice *s);
 //static int cb_pcidda_ai_cmdtest(comedi_device *dev,comedi_subdevice *s, comedi_cmd *cmd);
 //static int cb_pcidda_ns_to_timer(unsigned int *ns,int round);
@@ -599,7 +599,7 @@ static int cb_pcidda_ns_to_timer(unsigned int *ns, int round)
 #endif
 
 static int cb_pcidda_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int command;
 	unsigned int channel, range;
diff --git a/drivers/staging/comedi/drivers/cb_pcidio.c b/drivers/staging/comedi/drivers/cb_pcidio.c
index d6d8bf1c6f22..e5bc34746e38 100644
--- a/drivers/staging/comedi/drivers/cb_pcidio.c
+++ b/drivers/staging/comedi/drivers/cb_pcidio.c
@@ -110,7 +110,7 @@ typedef struct {
 	struct pci_dev *pci_dev;
 
 	/* used for DO readback, curently unused */
-	lsampl_t do_readback[4];	/* up to 4 lsampl_t suffice to hold 96 bits for PCI-DIO96 */
+	unsigned int do_readback[4];	/* up to 4 unsigned int suffice to hold 96 bits for PCI-DIO96 */
 
 	unsigned long dio_reg_base;	// address of port A of the first 8255 chip on board
 } pcidio_private;
diff --git a/drivers/staging/comedi/drivers/cb_pcimdas.c b/drivers/staging/comedi/drivers/cb_pcimdas.c
index b95b3b157424..1223635a4422 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -153,7 +153,7 @@ typedef struct {
 	unsigned long BADR4;
 
 	/* Used for AO readback */
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 
 	// Used for DIO
 	unsigned short int port_a;	// copy of BADR4+0
@@ -185,11 +185,11 @@ static comedi_driver driver_cb_pcimdas = {
 };
 
 static int cb_pcimdas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcimdas_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int cb_pcimdas_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -373,7 +373,7 @@ static int cb_pcimdas_detach(comedi_device * dev)
  * mode.
  */
 static int cb_pcimdas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
 	unsigned int d;
@@ -438,7 +438,7 @@ static int cb_pcimdas_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int cb_pcimdas_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -466,7 +466,7 @@ static int cb_pcimdas_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int cb_pcimdas_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/cb_pcimdda.c b/drivers/staging/comedi/drivers/cb_pcimdda.c
index 2c7fd68c0d20..ac21056aa787 100644
--- a/drivers/staging/comedi/drivers/cb_pcimdda.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdda.c
@@ -165,7 +165,7 @@ typedef struct {
 
 #define MAX_AO_READBACK_CHANNELS 6
 	/* Used for AO readback */
-	lsampl_t ao_readback[MAX_AO_READBACK_CHANNELS];
+	unsigned int ao_readback[MAX_AO_READBACK_CHANNELS];
 
 } private;
 
@@ -198,18 +198,18 @@ MODULE_LICENSE("GPL");
 COMEDI_PCI_INITCLEANUP_NOMODULE(cb_pcimdda_driver, pci_table);
 
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /*---------------------------------------------------------------------------
   HELPER FUNCTION DECLARATIONS
 -----------------------------------------------------------------------------*/
 
 /* returns a maxdata value for a given n_bits */
-static inline lsampl_t figure_out_maxdata(int bits)
+static inline unsigned int figure_out_maxdata(int bits)
 {
-	return (((lsampl_t) 1 &lt;&lt; bits) - 1);
+	return (((unsigned int) 1 &lt;&lt; bits) - 1);
 }
 
 /*
@@ -353,7 +353,7 @@ static int detach(comedi_device * dev)
 }
 
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -392,7 +392,7 @@ static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
    applications, I would imagine.
 */
 static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -400,7 +400,7 @@ static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 	for (i = 0; i &lt; insn-&gt;n; i++) {
 		inw(devpriv-&gt;registers + chan * 2);
 		/* should I set data[i] to the result of the actual read on the register
-		   or the cached lsampl_t in devpriv-&gt;ao_readback[]? */
+		   or the cached unsigned int in devpriv-&gt;ao_readback[]? */
 		data[i] = devpriv-&gt;ao_readback[chan];
 	}
 
diff --git a/drivers/staging/comedi/drivers/comedi_bond.c b/drivers/staging/comedi/drivers/comedi_bond.c
index 09e288904f9e..7868ddd6fe25 100644
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -214,9 +214,9 @@ static comedi_driver driver_bonding = {
 };
 
 static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 static int bonding_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data);
+				   comedi_insn *insn, unsigned int *data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -294,9 +294,9 @@ static int bonding_detach(comedi_device *dev)
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data)
+				 comedi_insn *insn, unsigned int *data)
 {
-#define LSAMPL_BITS (sizeof(lsampl_t)*8)
+#define LSAMPL_BITS (sizeof(unsigned int)*8)
 	unsigned nchans = LSAMPL_BITS, num_done = 0, i;
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -312,12 +312,12 @@ static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 		   to this subdevice.. need to shift them to zero position of
 		   course. */
 		/* Bits corresponding to this subdev. */
-		lsampl_t subdevMask = ((1 &lt;&lt; bdev-&gt;nchans) - 1);
-		lsampl_t writeMask, dataBits;
+		unsigned int subdevMask = ((1 &lt;&lt; bdev-&gt;nchans) - 1);
+		unsigned int writeMask, dataBits;
 
 		/* Argh, we have &gt;= LSAMPL_BITS chans.. take all bits */
 		if (bdev-&gt;nchans &gt;= LSAMPL_BITS)
-			subdevMask = (lsampl_t) (-1);
+			subdevMask = (unsigned int) (-1);
 
 		writeMask = (data[0] &gt;&gt; num_done) &amp; subdevMask;
 		dataBits = (data[1] &gt;&gt; num_done) &amp; subdevMask;
@@ -341,7 +341,7 @@ static int bonding_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int bonding_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-				   comedi_insn *insn, lsampl_t *data)
+				   comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), ret, io_bits = s-&gt;io_bits;
 	unsigned int io;
diff --git a/drivers/staging/comedi/drivers/comedi_fc.h b/drivers/staging/comedi/drivers/comedi_fc.h
index 6952fe20f273..bbb70d66eee9 100644
--- a/drivers/staging/comedi/drivers/comedi_fc.h
+++ b/drivers/staging/comedi/drivers/comedi_fc.h
@@ -35,13 +35,13 @@ extern unsigned int cfc_write_array_to_buffer(comedi_subdevice *subd,
 					      unsigned int num_bytes);
 
 static inline unsigned int cfc_write_to_buffer(comedi_subdevice *subd,
-					       sampl_t data)
+					       short data)
 {
 	return cfc_write_array_to_buffer(subd, &amp;data, sizeof(data));
 };
 
 static inline unsigned int cfc_write_long_to_buffer(comedi_subdevice *subd,
-						    lsampl_t data)
+						    unsigned int data)
 {
 	return cfc_write_array_to_buffer(subd, &amp;data, sizeof(data));
 };
diff --git a/drivers/staging/comedi/drivers/comedi_parport.c b/drivers/staging/comedi/drivers/comedi_parport.c
index ba838fffa29e..87c4c20694e0 100644
--- a/drivers/staging/comedi/drivers/comedi_parport.c
+++ b/drivers/staging/comedi/drivers/comedi_parport.c
@@ -109,7 +109,7 @@ struct parport_private {
 #define devpriv ((struct parport_private *)(dev-&gt;private))
 
 static int parport_insn_a(comedi_device *dev, comedi_subdevice *s,
-			  comedi_insn *insn, lsampl_t *data)
+			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
 		devpriv-&gt;a_data &amp;= ~data[0];
@@ -124,7 +124,7 @@ static int parport_insn_a(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int parport_insn_config_a(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data)
+				 comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
 		s-&gt;io_bits = 0xff;
@@ -139,7 +139,7 @@ static int parport_insn_config_a(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int parport_insn_b(comedi_device *dev, comedi_subdevice *s,
-			  comedi_insn *insn, lsampl_t *data)
+			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
 		/* should writes be ignored? */
@@ -152,7 +152,7 @@ static int parport_insn_b(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int parport_insn_c(comedi_device *dev, comedi_subdevice *s,
-			  comedi_insn *insn, lsampl_t *data)
+			  comedi_insn *insn, unsigned int *data)
 {
 	data[0] &amp;= 0x0f;
 	if (data[0]) {
@@ -168,7 +168,7 @@ static int parport_insn_c(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int parport_intr_insn(comedi_device *dev, comedi_subdevice *s,
-			     comedi_insn *insn, lsampl_t *data)
+			     comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/comedi_rt_timer.c b/drivers/staging/comedi/drivers/comedi_rt_timer.c
index 878160eae080..ec081c4180c6 100644
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -211,7 +211,7 @@ static int timer_data_read(comedi_device * dev, comedi_cmd * cmd,
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	int ret;
-	lsampl_t data;
+	unsigned int data;
 
 	ret = comedi_data_read(devpriv-&gt;device, devpriv-&gt;subd,
 		CR_CHAN(cmd-&gt;chanlist[index]),
@@ -236,8 +236,8 @@ static int timer_data_write(comedi_device * dev, comedi_cmd * cmd,
 {
 	comedi_subdevice *s = dev-&gt;write_subdev;
 	unsigned int num_bytes;
-	sampl_t data;
-	lsampl_t long_data;
+	short data;
+	unsigned int long_data;
 	int ret;
 
 	if (s-&gt;flags &amp; SDF_LSAMPL) {
@@ -271,7 +271,7 @@ static int timer_dio_read(comedi_device * dev, comedi_cmd * cmd,
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
 	int ret;
-	lsampl_t data;
+	unsigned int data;
 
 	ret = comedi_dio_bitfield(devpriv-&gt;device, devpriv-&gt;subd, 0, &amp;data);
 	if (ret &lt; 0) {
@@ -397,7 +397,7 @@ static void timer_task_func(comedi_rt_task_context_t d)
 }
 
 static int timer_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	comedi_insn xinsn = *insn;
 
diff --git a/drivers/staging/comedi/drivers/comedi_test.c b/drivers/staging/comedi/drivers/comedi_test.c
index 4b4c37d07482..f65ee2b52042 100644
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -89,7 +89,7 @@ struct waveform_private {
 	unsigned int scan_period;	/* scan period in usec */
 	unsigned int convert_period;	/* conversion period in usec */
 	unsigned timer_running:1;
-	lsampl_t ao_loopbacks[N_CHANS];
+	unsigned int ao_loopbacks[N_CHANS];
 };
 #define devpriv ((struct waveform_private *)dev-&gt;private)
 
@@ -112,16 +112,16 @@ static int waveform_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
 static int waveform_ai_cmd(comedi_device *dev, comedi_subdevice *s);
 static int waveform_ai_cancel(comedi_device *dev, comedi_subdevice *s);
 static int waveform_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data);
+				 comedi_insn *insn, unsigned int *data);
 static int waveform_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data);
-static sampl_t fake_sawtooth(comedi_device *dev, unsigned int range,
+				  comedi_insn *insn, unsigned int *data);
+static short fake_sawtooth(comedi_device *dev, unsigned int range,
 			     unsigned long current_time);
-static sampl_t fake_squarewave(comedi_device *dev, unsigned int range,
+static short fake_squarewave(comedi_device *dev, unsigned int range,
 			       unsigned long current_time);
-static sampl_t fake_flatline(comedi_device *dev, unsigned int range,
+static short fake_flatline(comedi_device *dev, unsigned int range,
 			     unsigned long current_time);
-static sampl_t fake_waveform(comedi_device *dev, unsigned int channel,
+static short fake_waveform(comedi_device *dev, unsigned int channel,
 			     unsigned int range, unsigned long current_time);
 
 /* 1000 nanosec in a microsec */
@@ -436,7 +436,7 @@ static int waveform_ai_cancel(comedi_device *dev, comedi_subdevice *s)
 	return 0;
 }
 
-static sampl_t fake_sawtooth(comedi_device *dev, unsigned int range_index,
+static short fake_sawtooth(comedi_device *dev, unsigned int range_index,
 			     unsigned long current_time)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -457,7 +457,7 @@ static sampl_t fake_sawtooth(comedi_device *dev, unsigned int range_index,
 
 	return offset + value;
 }
-static sampl_t fake_squarewave(comedi_device *dev, unsigned int range_index,
+static short fake_squarewave(comedi_device *dev, unsigned int range_index,
 			       unsigned long current_time)
 {
 	comedi_subdevice *s = dev-&gt;read_subdev;
@@ -476,14 +476,14 @@ static sampl_t fake_squarewave(comedi_device *dev, unsigned int range_index,
 	return offset + value;
 }
 
-static sampl_t fake_flatline(comedi_device *dev, unsigned int range_index,
+static short fake_flatline(comedi_device *dev, unsigned int range_index,
 			     unsigned long current_time)
 {
 	return dev-&gt;read_subdev-&gt;maxdata / 2;
 }
 
 /* generates a different waveform depending on what channel is read */
-static sampl_t fake_waveform(comedi_device *dev, unsigned int channel,
+static short fake_waveform(comedi_device *dev, unsigned int channel,
 			     unsigned int range, unsigned long current_time)
 {
 	enum {
@@ -505,7 +505,7 @@ static sampl_t fake_waveform(comedi_device *dev, unsigned int channel,
 }
 
 static int waveform_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data)
+				 comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn-&gt;chanspec);
 
@@ -516,7 +516,7 @@ static int waveform_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int waveform_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data)
+				  comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/contec_pci_dio.c b/drivers/staging/comedi/drivers/contec_pci_dio.c
index fa89ce021b5d..3049eb26674b 100644
--- a/drivers/staging/comedi/drivers/contec_pci_dio.c
+++ b/drivers/staging/comedi/drivers/contec_pci_dio.c
@@ -86,9 +86,9 @@ static comedi_driver driver_contec = {
 
 /* Classic digital IO */
 static int contec_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int contec_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 #if 0
 static int contec_cmdtest(comedi_device * dev, comedi_subdevice * s,
@@ -193,7 +193,7 @@ static int contec_ns_to_timer(unsigned int *ns, int round)
 #endif
 
 static int contec_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	printk("contec_do_insn_bits called\n");
@@ -213,7 +213,7 @@ static int contec_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int contec_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	rt_printk("contec_di_insn_bits called\n");
diff --git a/drivers/staging/comedi/drivers/daqboard2000.c b/drivers/staging/comedi/drivers/daqboard2000.c
index 04c490fd459f..86cab4295d9e 100644
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -333,7 +333,7 @@ typedef struct {
 	void *daq;
 	void *plx;
 	int got_regions;
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 } daqboard2000_private;
 
 #define devpriv ((daqboard2000_private*)dev-&gt;private)
@@ -394,7 +394,7 @@ static void setup_sampling(comedi_device * dev, int chan, int gain)
 }
 
 static int daqboard2000_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	daqboard2000_hw *fpga = devpriv-&gt;daq;
@@ -451,7 +451,7 @@ static int daqboard2000_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int daqboard2000_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -464,7 +464,7 @@ static int daqboard2000_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int daqboard2000_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/das08.c b/drivers/staging/comedi/drivers/das08.c
index 30c2c1292db2..8d4903dc03d6 100644
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -155,19 +155,19 @@ driver.
 /* gainlist same as _pgx_ below */
 
 static int das08_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das08_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das08_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das08jr_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das08jr_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das08jr_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das08ao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static void i8254_set_mode_low(unsigned int base, int channel,
 	unsigned int mode);
 
@@ -513,7 +513,7 @@ MODULE_DEVICE_TABLE(pci, das08_pci_table);
 #define TIMEOUT 100000
 
 static int das08_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int chan;
@@ -580,7 +580,7 @@ static int das08_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
 	data[1] = DAS08_IP(inb(dev-&gt;iobase + DAS08_STATUS));
@@ -589,7 +589,7 @@ static int das08_di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
 
@@ -612,7 +612,7 @@ static int das08_do_wbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08jr_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
 	data[1] = inb(dev-&gt;iobase + DAS08JR_DIO);
@@ -621,7 +621,7 @@ static int das08jr_di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08jr_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	// null bits we are going to set
 	devpriv-&gt;do_bits &amp;= ~data[0];
@@ -635,7 +635,7 @@ static int das08jr_do_wbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08jr_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int lsb, msb;
@@ -669,7 +669,7 @@ static int das08jr_ao_winsn(comedi_device * dev, comedi_subdevice * s,
  *
  */
 static int das08ao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int lsb, msb;
@@ -783,7 +783,7 @@ static unsigned int i8254_read_status(struct i8254_struct *st, int channel)
 }
 
 static int das08_counter_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
 
@@ -795,7 +795,7 @@ static int das08_counter_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08_counter_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
 
@@ -806,7 +806,7 @@ static int das08_counter_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das08_counter_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn-&gt;chanspec;
 
diff --git a/drivers/staging/comedi/drivers/das16.c b/drivers/staging/comedi/drivers/das16.c
index 42a81b832a9b..dd28385fc12f 100644
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -327,13 +327,13 @@ struct munge_info {
 };
 
 static int das16_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int das16_cmd_test(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
@@ -1032,7 +1032,7 @@ static void das16_reset(comedi_device * dev)
 }
 
 static int das16_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int range;
@@ -1080,9 +1080,9 @@ static int das16_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t bits;
+	unsigned int bits;
 
 	bits = inb(dev-&gt;iobase + DAS16_DIO) &amp; 0xf;
 	data[1] = bits;
@@ -1092,9 +1092,9 @@ static int das16_di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t wbits;
+	unsigned int wbits;
 
 	// only set bits that have been masked
 	data[0] &amp;= 0xf;
@@ -1112,7 +1112,7 @@ static int das16_do_wbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int lsb, msb;
@@ -1718,8 +1718,8 @@ static unsigned int das16_suggest_transfer_size(comedi_device * dev,
 static void das16_ai_munge(comedi_device * dev, comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index)
 {
-	unsigned int i, num_samples = num_bytes / sizeof(sampl_t);
-	sampl_t *data = array;
+	unsigned int i, num_samples = num_bytes / sizeof(short);
+	short *data = array;
 
 	for (i = 0; i &lt; num_samples; i++) {
 		data[i] = le16_to_cpu(data[i]);
diff --git a/drivers/staging/comedi/drivers/das16m1.c b/drivers/staging/comedi/drivers/das16m1.c
index 904402ae507b..addccba3c6e8 100644
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -132,11 +132,11 @@ static const comedi_lrange range_das16m1 = { 9,
 };
 
 static int das16m1_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16m1_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das16m1_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int das16m1_cmd_test(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
@@ -185,7 +185,7 @@ struct das16m1_private_struct {
 	 * needed to keep track of whether new count has been loaded into
 	 * counter yet (loaded by first sample conversion) */
 	u16 initial_hw_count;
-	sampl_t ai_buffer[FIFO_SIZE];
+	short ai_buffer[FIFO_SIZE];
 	unsigned int do_bits;	// saves status of digital output bits
 	unsigned int divisor1;	// divides master clock to obtain conversion speed
 	unsigned int divisor2;	// divides master clock to obtain conversion speed
@@ -195,7 +195,7 @@ struct das16m1_private_struct {
 
 COMEDI_INITCLEANUP(driver_das16m1);
 
-static inline sampl_t munge_sample(sampl_t data)
+static inline short munge_sample(short data)
 {
 	return (data &gt;&gt; 4) &amp; 0xfff;
 }
@@ -394,7 +394,7 @@ static int das16m1_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int das16m1_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int byte;
@@ -431,9 +431,9 @@ static int das16m1_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16m1_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t bits;
+	unsigned int bits;
 
 	bits = inb(dev-&gt;iobase + DAS16M1_DIO) &amp; 0xf;
 	data[1] = bits;
@@ -443,9 +443,9 @@ static int das16m1_di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das16m1_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t wbits;
+	unsigned int wbits;
 
 	// only set bits that have been masked
 	data[0] &amp;= 0xf;
@@ -505,7 +505,7 @@ static irqreturn_t das16m1_interrupt(int irq, void *d PT_REGS_ARG)
 	return IRQ_HANDLED;
 }
 
-static void munge_sample_array(sampl_t * array, unsigned int num_elements)
+static void munge_sample_array(short * array, unsigned int num_elements)
 {
 	unsigned int i;
 
@@ -553,7 +553,7 @@ static void das16m1_handler(comedi_device * dev, unsigned int status)
 	insw(dev-&gt;iobase, devpriv-&gt;ai_buffer, num_samples);
 	munge_sample_array(devpriv-&gt;ai_buffer, num_samples);
 	cfc_write_array_to_buffer(s, devpriv-&gt;ai_buffer,
-		num_samples * sizeof(sampl_t));
+		num_samples * sizeof(short));
 	devpriv-&gt;adc_count += num_samples;
 
 	if (cmd-&gt;stop_src == TRIG_COUNT) {
diff --git a/drivers/staging/comedi/drivers/das1800.c b/drivers/staging/comedi/drivers/das1800.c
index 9c106965a429..f66cf17bbbcd 100644
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -200,13 +200,13 @@ static int das1800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int das1800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s);
 static int das1800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das1800_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das1800_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das1800_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int das1800_set_frequency(comedi_device * dev);
 static unsigned int burst_convert_arg(unsigned int convert_arg, int round_mode);
@@ -1037,7 +1037,7 @@ static void das1800_flush_dma_channel(comedi_device * dev, comedi_subdevice * s,
 
 	// figure out how many points to read
 	num_bytes = devpriv-&gt;dma_transfer_size - get_dma_residue(channel);
-	num_samples = num_bytes / sizeof(sampl_t);
+	num_samples = num_bytes / sizeof(short);
 
 	/* if we only need some of the points */
 	if (cmd-&gt;stop_src == TRIG_COUNT &amp;&amp; devpriv-&gt;count &lt; num_samples)
@@ -1105,7 +1105,7 @@ static void das1800_handle_fifo_half_full(comedi_device * dev,
 static void das1800_handle_fifo_not_empty(comedi_device * dev,
 	comedi_subdevice * s)
 {
-	sampl_t dpnt;
+	short dpnt;
 	int unipolar;
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 
@@ -1553,7 +1553,7 @@ static int das1800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s)
 
 /* read analog input */
 static int das1800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int chan, range, aref, chan_range;
@@ -1613,7 +1613,7 @@ static int das1800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 
 /* writes to an analog output channel */
 static int das1800_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 //      int range = CR_RANGE(insn-&gt;chanspec);
@@ -1642,7 +1642,7 @@ static int das1800_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 /* reads from digital input channels */
 static int das1800_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	data[1] = inb(dev-&gt;iobase + DAS1800_DIGITAL) &amp; 0xf;
@@ -1653,9 +1653,9 @@ static int das1800_di_rbits(comedi_device * dev, comedi_subdevice * s,
 
 /* writes to digital output channels */
 static int das1800_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t wbits;
+	unsigned int wbits;
 
 	// only set bits that have been masked
 	data[0] &amp;= (1 &lt;&lt; s-&gt;n_chan) - 1;
diff --git a/drivers/staging/comedi/drivers/das6402.c b/drivers/staging/comedi/drivers/das6402.c
index e87a16e3a89f..85959c09679f 100644
--- a/drivers/staging/comedi/drivers/das6402.c
+++ b/drivers/staging/comedi/drivers/das6402.c
@@ -186,7 +186,7 @@ static irqreturn_t intr_handler(int irq, void *d PT_REGS_ARG)
 }
 
 #if 0
-static void das6402_ai_fifo_read(comedi_device * dev, sampl_t * data, int n)
+static void das6402_ai_fifo_read(comedi_device * dev, short * data, int n)
 {
 	int i;
 
@@ -238,7 +238,7 @@ static int das6402_ai_mode2(comedi_device * dev, comedi_subdevice * s,
 	outw_p(SCANL, dev-&gt;iobase + 2);	/* resets the card fifo */
 	outb_p(IRQ | CONVSRC | BURSTEN | INTE, dev-&gt;iobase + 9);
 
-	devpriv-&gt;ai_bytes_to_read = it-&gt;n * sizeof(sampl_t);
+	devpriv-&gt;ai_bytes_to_read = it-&gt;n * sizeof(short);
 
 	/* um... ignoreirq is a nasty race condition */
 	devpriv-&gt;das6402_ignoreirq = 0;
diff --git a/drivers/staging/comedi/drivers/das800.c b/drivers/staging/comedi/drivers/das800.c
index d0ec47e6b70e..7e658dbfa07a 100644
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -263,11 +263,11 @@ static int das800_ai_do_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int das800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s);
 static int das800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das800_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das800_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int das800_probe(comedi_device * dev);
 static int das800_set_frequency(comedi_device * dev);
 
@@ -346,7 +346,7 @@ COMEDI_INITCLEANUP(driver_das800);
 static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	short i;		/* loop index */
-	sampl_t dataPoint = 0;
+	short dataPoint = 0;
 	comedi_device *dev = d;
 	comedi_subdevice *s = dev-&gt;read_subdev;	/* analog input subdevice */
 	comedi_async *async;
@@ -789,7 +789,7 @@ static int das800_ai_do_cmd(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int das800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int chan;
@@ -843,9 +843,9 @@ static int das800_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das800_di_rbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	lsampl_t bits;
+	unsigned int bits;
 
 	bits = inb(dev-&gt;iobase + DAS800_STATUS) &gt;&gt; 4;
 	bits &amp;= 0x7;
@@ -856,7 +856,7 @@ static int das800_di_rbits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int das800_do_wbits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
 	unsigned long irq_flags;
diff --git a/drivers/staging/comedi/drivers/dmm32at.c b/drivers/staging/comedi/drivers/dmm32at.c
index 0605caf4e305..c63af0c556b4 100644
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -241,7 +241,7 @@ typedef struct {
 	unsigned int ai_scans_left;
 
 	/* Used for AO readback */
-	lsampl_t ao_readback[4];
+	unsigned int ao_readback[4];
 	unsigned char dio_config;
 
 } dmm32at_private;
@@ -290,15 +290,15 @@ static comedi_driver driver_dmm32at = {
 
 /* prototypes for driver functions below */
 static int dmm32at_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dmm32at_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dmm32at_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dmm32at_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dmm32at_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dmm32at_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int dmm32at_ai_cmd(comedi_device * dev, comedi_subdevice * s);
@@ -498,7 +498,7 @@ static int dmm32at_detach(comedi_device * dev)
  */
 
 static int dmm32at_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
 	unsigned int d;
@@ -894,7 +894,7 @@ static int dmm32at_ns_to_timer(unsigned int *ns, int round)
 }
 
 static int dmm32at_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -937,7 +937,7 @@ static int dmm32at_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int dmm32at_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -954,7 +954,7 @@ static int dmm32at_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int dmm32at_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char diobits;
 
@@ -1007,7 +1007,7 @@ static int dmm32at_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dmm32at_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char chanbit;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/dt2801.c b/drivers/staging/comedi/drivers/dt2801.c
index 73aaf7911a9d..4ee1199920e1 100644
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -220,20 +220,20 @@ static const boardtype_t boardtypes[] = {
 
 typedef struct {
 	const comedi_lrange *dac_range_types[2];
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 } dt2801_private;
 #define devpriv ((dt2801_private *)dev-&gt;private)
 
 static int dt2801_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2801_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2801_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2801_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2801_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /* These are the low-level routines:
    writecommand: write a command to the board
@@ -606,7 +606,7 @@ static int dt2801_error(comedi_device * dev, int stat)
 }
 
 static int dt2801_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int d;
 	int stat;
@@ -628,7 +628,7 @@ static int dt2801_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2801_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_readback[CR_CHAN(insn-&gt;chanspec)];
 
@@ -636,7 +636,7 @@ static int dt2801_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2801_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	dt2801_writecmd(dev, DT_C_WRITE_DAIM);
 	dt2801_writedata(dev, CR_CHAN(insn-&gt;chanspec));
@@ -648,7 +648,7 @@ static int dt2801_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2801_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
 
@@ -672,7 +672,7 @@ static int dt2801_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2801_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
 
diff --git a/drivers/staging/comedi/drivers/dt2811.c b/drivers/staging/comedi/drivers/dt2811.c
index 99cd98067ca4..ce7cf31f2fc9 100644
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -227,15 +227,15 @@ static comedi_driver driver_dt2811 = {
 COMEDI_INITCLEANUP(driver_dt2811);
 
 static int dt2811_ai_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2811_ao_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2811_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2811_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int dt2811_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 enum { card_2811_pgh, card_2811_pgl };
 typedef struct {
@@ -248,7 +248,7 @@ typedef struct {
 		dac_bipolar_5, dac_bipolar_2_5, dac_unipolar_5
 	} dac_range[2];
 	const comedi_lrange *range_type_list[2];
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 } dt2811_private;
 
 #define devpriv ((dt2811_private *)dev-&gt;private)
@@ -491,7 +491,7 @@ static int dt2811_detach(comedi_device * dev)
 }
 
 static int dt2811_ai_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int timeout = DT2811_TIMEOUT;
@@ -542,7 +542,7 @@ int dt2811_adtrig(kdev_t minor, comedi_adtrig * adtrig)
 #endif
 
 static int dt2811_ao_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan;
@@ -560,7 +560,7 @@ static int dt2811_ao_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2811_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan;
@@ -575,7 +575,7 @@ static int dt2811_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2811_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -586,7 +586,7 @@ static int dt2811_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2811_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/dt2814.c b/drivers/staging/comedi/drivers/dt2814.c
index bf432877ab26..bc96bf63e027 100644
--- a/drivers/staging/comedi/drivers/dt2814.c
+++ b/drivers/staging/comedi/drivers/dt2814.c
@@ -82,7 +82,7 @@ typedef struct {
 #define DT2814_MAX_SPEED 100000	/* Arbitrary 10 khz limit */
 
 static int dt2814_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i, hi, lo;
 	int chan;
diff --git a/drivers/staging/comedi/drivers/dt2815.c b/drivers/staging/comedi/drivers/dt2815.c
index 7c0462d6cce1..98a64a74c82b 100644
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -90,7 +90,7 @@ static void dt2815_free_resources(comedi_device * dev);
 
 typedef struct {
 	const comedi_lrange *range_type_list[8];
-	lsampl_t ao_readback[8];
+	unsigned int ao_readback[8];
 } dt2815_private;
 
 #define devpriv ((dt2815_private *)dev-&gt;private)
@@ -107,7 +107,7 @@ static int dt2815_wait_for_status(comedi_device * dev, int status)
 }
 
 static int dt2815_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -120,7 +120,7 @@ static int dt2815_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2815_ao_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/dt2817.c b/drivers/staging/comedi/drivers/dt2817.c
index d7a5285ccf9f..77c28e7b2a11 100644
--- a/drivers/staging/comedi/drivers/dt2817.c
+++ b/drivers/staging/comedi/drivers/dt2817.c
@@ -59,7 +59,7 @@ static comedi_driver driver_dt2817 = {
 COMEDI_INITCLEANUP(driver_dt2817);
 
 static int dt2817_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
 	int chan;
@@ -97,7 +97,7 @@ static int dt2817_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt2817_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int changed;
 
diff --git a/drivers/staging/comedi/drivers/dt282x.c b/drivers/staging/comedi/drivers/dt282x.c
index 28eadea2a424..5cdd577475da 100644
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -347,7 +347,7 @@ typedef struct {
 
 	const comedi_lrange *darangelist[2];
 
-	sampl_t ao[2];
+	short ao[2];
 
 	volatile int dacsr;	/* software copies of registers */
 	volatile int adcsr;
@@ -418,7 +418,7 @@ static void dt282x_disable_dma(comedi_device * dev);
 
 static int dt282x_grab_dma(comedi_device * dev, int dma1, int dma2);
 
-static void dt282x_munge(comedi_device * dev, sampl_t * buf,
+static void dt282x_munge(comedi_device * dev, short * buf,
 	unsigned int nbytes)
 {
 	unsigned int i;
@@ -626,9 +626,9 @@ static irqreturn_t dt282x_interrupt(int irq, void *d PT_REGS_ARG)
 #if 0
 	if (adcsr &amp; DT2821_ADDONE) {
 		int ret;
-		sampl_t data;
+		short data;
 
-		data = (sampl_t) inw(dev-&gt;iobase + DT2821_ADDAT);
+		data = (short) inw(dev-&gt;iobase + DT2821_ADDAT);
 		data &amp;= (1 &lt;&lt; boardtype.adbits) - 1;
 		if (devpriv-&gt;ad_2scomp) {
 			data ^= 1 &lt;&lt; (boardtype.adbits - 1);
@@ -675,7 +675,7 @@ static void dt282x_load_changain(comedi_device * dev, int n,
  *      - trigger conversion and wait for it to finish
  */
 static int dt282x_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -938,7 +938,7 @@ static int dt282x_ns_to_timer(int *nanosec, int round_mode)
  *      data register, and performs the conversion.
  */
 static int dt282x_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao[CR_CHAN(insn-&gt;chanspec)];
 
@@ -946,9 +946,9 @@ static int dt282x_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt282x_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
-	sampl_t d;
+	short d;
 	unsigned int chan;
 
 	chan = CR_CHAN(insn-&gt;chanspec);
@@ -1146,7 +1146,7 @@ static int dt282x_ao_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int dt282x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
@@ -1160,7 +1160,7 @@ static int dt282x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt282x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
 
diff --git a/drivers/staging/comedi/drivers/dt3000.c b/drivers/staging/comedi/drivers/dt3000.c
index 5266cae98880..b1af0e74cc73 100644
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -265,7 +265,7 @@ typedef struct {
 	resource_size_t phys_addr;
 	void *io_addr;
 	unsigned int lock;
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 	unsigned int ai_front;
 	unsigned int ai_rear;
 } dt3k_private;
@@ -402,7 +402,7 @@ static void dt3k_ai_empty_fifo(comedi_device * dev, comedi_subdevice * s)
 	int rear;
 	int count;
 	int i;
-	sampl_t data;
+	short data;
 
 	front = readw(devpriv-&gt;io_addr + DPR_AD_Buf_Front);
 	count = front - devpriv-&gt;ai_front;
@@ -668,7 +668,7 @@ static int dt3k_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int dt3k_ai_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	unsigned int chan, gain, aref;
@@ -686,7 +686,7 @@ static int dt3k_ai_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt3k_ao_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	unsigned int chan;
@@ -701,7 +701,7 @@ static int dt3k_ao_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt3k_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	unsigned int chan;
@@ -730,7 +730,7 @@ static void dt3k_dio_config(comedi_device * dev, int bits)
 }
 
 static int dt3k_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
 
@@ -761,7 +761,7 @@ static int dt3k_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt3k_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -777,7 +777,7 @@ static int dt3k_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int dt3k_mem_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int addr = CR_CHAN(insn-&gt;chanspec);
 	int i;
diff --git a/drivers/staging/comedi/drivers/dt9812.c b/drivers/staging/comedi/drivers/dt9812.c
index f2d2173d7219..bbb5a146a7ee 100644
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -941,7 +941,7 @@ static void dt9812_comedi_open(comedi_device *dev)
 }
 
 static int dt9812_di_rinsn(comedi_device *dev, comedi_subdevice *s,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
 	u8 bits = 0;
@@ -953,7 +953,7 @@ static int dt9812_di_rinsn(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int dt9812_do_winsn(comedi_device *dev, comedi_subdevice *s,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
 	u8 bits = 0;
@@ -971,7 +971,7 @@ static int dt9812_do_winsn(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int dt9812_ai_rinsn(comedi_device *dev, comedi_subdevice *s,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
 
@@ -986,7 +986,7 @@ static int dt9812_ai_rinsn(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int dt9812_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
 	u16 value;
@@ -1000,7 +1000,7 @@ static int dt9812_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int dt9812_ao_winsn(comedi_device *dev, comedi_subdevice *s,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
 
diff --git a/drivers/staging/comedi/drivers/fl512.c b/drivers/staging/comedi/drivers/fl512.c
index 81c47304d204..26709987278c 100644
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -25,7 +25,7 @@ Configuration options:
 
 #define FL512_SIZE 16		/* the size of the used memory */
 typedef struct {
-	sampl_t ao_readback[2];
+	short ao_readback[2];
 } fl512_private;
 #define devpriv ((fl512_private *) dev-&gt;private)
 
@@ -53,17 +53,17 @@ static comedi_driver driver_fl512 = {
 COMEDI_INITCLEANUP(driver_fl512);
 
 static int fl512_ai_insn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int fl512_ao_insn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int fl512_ao_insn_readback(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /*
  * fl512_ai_insn : this is the analog input function
  */
 static int fl512_ai_insn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned int lo_byte, hi_byte;
@@ -88,7 +88,7 @@ static int fl512_ai_insn(comedi_device * dev,
  * fl512_ao_insn : used to write to a DA port n times
  */
 static int fl512_ao_insn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);	/* get chan to write */
@@ -109,7 +109,7 @@ static int fl512_ao_insn(comedi_device * dev,
  * DA port
  */
 static int fl512_ao_insn_readback(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/gsc_hpdi.c b/drivers/staging/comedi/drivers/gsc_hpdi.c
index 8d753e4ce7b6..07ed2380aa9a 100644
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -60,7 +60,7 @@ static int hpdi_cmd_test(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int hpdi_cancel(comedi_device * dev, comedi_subdevice * s);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
-static int dio_config_block_size(comedi_device * dev, lsampl_t * data);
+static int dio_config_block_size(comedi_device * dev, unsigned int * data);
 
 #undef HPDI_DEBUG		// disable debugging messages
 //#define HPDI_DEBUG    // enable debugging code
@@ -337,7 +337,7 @@ static comedi_driver driver_hpdi = {
 COMEDI_PCI_INITCLEANUP(driver_hpdi, hpdi_pci_table);
 
 static int dio_config_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case INSN_CONFIG_DIO_OUTPUT:
@@ -702,7 +702,7 @@ static int hpdi_detach(comedi_device * dev)
 	return 0;
 }
 
-static int dio_config_block_size(comedi_device * dev, lsampl_t * data)
+static int dio_config_block_size(comedi_device * dev, unsigned int * data)
 {
 	unsigned int requested_block_size;
 	int retval;
diff --git a/drivers/staging/comedi/drivers/icp_multi.c b/drivers/staging/comedi/drivers/icp_multi.c
index 41ce5ec058fa..1d27e90213cd 100644
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -198,9 +198,9 @@ struct icp_multi_private {
 	unsigned char act_chanlist_len;	/*  len of scanlist */
 	unsigned char act_chanlist_pos;	/*  actual position in MUX list */
 	unsigned int *ai_chanlist;	/*  actaul chanlist */
-	sampl_t *ai_data;	/*  data buffer */
-	sampl_t ao_data[4];	/*  data output buffer */
-	sampl_t di_data;	/*  Digital input data */
+	short *ai_data;	/*  data buffer */
+	short ao_data[4];	/*  data output buffer */
+	short di_data;	/*  Digital input data */
 	unsigned int do_data;	/*  Remember digital output data */
 };
 
@@ -239,14 +239,14 @@ static int icp_multi_reset(comedi_device *dev);
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to analogue input data
+		unsigned int *data		Pointer to analogue input data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_read_ai(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	int n, timeout;
 
@@ -358,14 +358,14 @@ static int icp_multi_insn_read_ai(comedi_device *dev, comedi_subdevice *s,
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to analogue output data
+		unsigned int *data		Pointer to analogue output data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_write_ao(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan, range, timeout;
 
@@ -466,14 +466,14 @@ static int icp_multi_insn_write_ao(comedi_device *dev, comedi_subdevice *s,
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to analogue output data
+		unsigned int *data		Pointer to analogue output data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_read_ao(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan;
 
@@ -499,14 +499,14 @@ static int icp_multi_insn_read_ao(comedi_device *dev, comedi_subdevice *s,
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to analogue output data
+		unsigned int *data		Pointer to analogue output data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_bits_di(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	data[1] = readw(devpriv-&gt;io_addr + ICP_MULTI_DI);
 
@@ -525,14 +525,14 @@ static int icp_multi_insn_bits_di(comedi_device *dev, comedi_subdevice *s,
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to analogue output data
+		unsigned int *data		Pointer to analogue output data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_bits_do(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 #ifdef ICP_MULTI_EXTDEBUG
 	printk("icp multi EDBG: BGN: icp_multi_insn_bits_do(...)\n");
@@ -567,14 +567,14 @@ static int icp_multi_insn_bits_do(comedi_device *dev, comedi_subdevice *s,
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to counter data
+		unsigned int *data		Pointer to counter data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_read_ctr(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
 }
@@ -591,14 +591,14 @@ static int icp_multi_insn_read_ctr(comedi_device *dev, comedi_subdevice *s,
 		comedi_device *dev	Pointer to current device structure
 		comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
-		lsampl_t *data		Pointer to counter data
+		unsigned int *data		Pointer to counter data
 
 	Returns:int			Nmuber of instructions executed
 
 ==============================================================================
 */
 static int icp_multi_insn_write_ctr(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
 }
diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index ef7c580453c0..eb3dde50d75c 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -138,7 +138,7 @@ typedef union {
 	struct {
 		void *iobase;
 		const comedi_lrange *ao_range_list[2];	/* range of channels of ao module */
-		lsampl_t last_data[2];
+		unsigned int last_data[2];
 	} pci20006;
 	struct {
 		void *iobase;
@@ -271,9 +271,9 @@ static int pci20xxx_detach(comedi_device * dev)
 /* pci20006m */
 
 static int pci20006_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pci20006_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static const comedi_lrange *pci20006_range_list[] = {
 	&amp;range_bipolar10,
@@ -307,7 +307,7 @@ static int pci20006_init(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pci20006_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
 
@@ -317,7 +317,7 @@ static int pci20006_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pci20006_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
 	int hi, lo;
@@ -350,7 +350,7 @@ static int pci20006_insn_write(comedi_device * dev, comedi_subdevice * s,
 /* PCI20341M */
 
 static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static const int pci20341_timebase[] = { 0x00, 0x00, 0x00, 0x04 };
 static const int pci20341_settling_time[] = { 0x58, 0x58, 0x93, 0x99 };
@@ -398,7 +398,7 @@ static int pci20341_init(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s-&gt;private;
 	unsigned int i = 0, j = 0;
@@ -435,7 +435,7 @@ static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
 		lo = readb(sdp-&gt;iobase + PCI20341_LDATA);
 		hi = readb(sdp-&gt;iobase + PCI20341_LDATA + 1);
 		boarddata = lo + 0x100 * hi;
-		data[i] = (sampl_t) ((boarddata + 0x8000) &amp; 0xffff);	/* board-data -&gt; comedi-data */
+		data[i] = (short) ((boarddata + 0x8000) &amp; 0xffff);	/* board-data -&gt; comedi-data */
 	}
 
 	return i;
@@ -445,9 +445,9 @@ static int pci20341_insn_read(comedi_device * dev, comedi_subdevice * s,
 
 static void pci20xxx_dio_config(comedi_device * dev, comedi_subdevice * s);
 static int pci20xxx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pci20xxx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /* initialize pci20xxx_private */
 static int pci20xxx_dio_init(comedi_device * dev, comedi_subdevice * s)
@@ -470,7 +470,7 @@ static int pci20xxx_dio_init(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int pci20xxx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int mask, bits;
 
@@ -495,7 +495,7 @@ static int pci20xxx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pci20xxx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask = data[0];
 
diff --git a/drivers/staging/comedi/drivers/jr3_pci.c b/drivers/staging/comedi/drivers/jr3_pci.c
index 3ba05d9c7176..ae3e2a125abf 100644
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -159,7 +159,7 @@ typedef struct {
 		comedi_krange range;
 	} range[9];
 	const comedi_lrange *range_table_list[8 * 7 + 2];
-	lsampl_t maxdata_list[8 * 7 + 2];
+	unsigned int maxdata_list[8 * 7 + 2];
 	u16 errors;
 	int retries;
 } jr3_pci_subdev_private;
@@ -270,7 +270,7 @@ static six_axis_t get_max_full_scales(volatile jr3_channel_t * channel)
 }
 
 static int jr3_pci_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int result;
 	jr3_pci_subdev_private *p;
diff --git a/drivers/staging/comedi/drivers/ke_counter.c b/drivers/staging/comedi/drivers/ke_counter.c
index 585788833ccd..834625c546db 100644
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -100,7 +100,7 @@ COMEDI_PCI_INITCLEANUP(cnt_driver, cnt_pci_table);
 /* This should be used only for resetting the counters; maybe it is better
    to make a special command 'reset'. */
 static int cnt_winsn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
@@ -120,7 +120,7 @@ static int cnt_winsn(comedi_device * dev,
 /*-- counter read -----------------------------------------------------------*/
 
 static int cnt_rinsn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned char a0, a1, a2, a3, a4;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -136,7 +136,7 @@ static int cnt_rinsn(comedi_device * dev,
 	if (a4 &gt; 0)
 		result = result - s-&gt;maxdata;
 
-	*data = (lsampl_t) result;
+	*data = (unsigned int) result;
 
 	/* return the number of samples read */
 	return 1;
diff --git a/drivers/staging/comedi/drivers/me4000.c b/drivers/staging/comedi/drivers/me4000.c
index 5f6e77cceb69..7aad3e53624a 100644
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -141,10 +141,10 @@ static int xilinx_download(comedi_device *dev);
 static int reset_board(comedi_device *dev);
 
 static int me4000_dio_insn_bits(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_dio_insn_config(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int cnt_reset(comedi_device *dev, unsigned int channel);
 
@@ -152,16 +152,16 @@ static int cnt_config(comedi_device *dev,
 	unsigned int channel, unsigned int mode);
 
 static int me4000_cnt_insn_config(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_cnt_insn_write(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_cnt_insn_read(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ai_insn_read(comedi_device *dev,
-	comedi_subdevice *subdevice, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ai_cancel(comedi_device *dev, comedi_subdevice *s);
 
@@ -191,10 +191,10 @@ static int me4000_ai_do_cmd_test(comedi_device *dev,
 static int me4000_ai_do_cmd(comedi_device *dev, comedi_subdevice *s);
 
 static int me4000_ao_insn_write(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ao_insn_read(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data);
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 /*-----------------------------------------------------------------------------
   Meilhaus inline functions
@@ -914,7 +914,7 @@ static int me4000_detach(comedi_device *dev)
   ===========================================================================*/
 
 static int me4000_ai_insn_read(comedi_device *dev,
-	comedi_subdevice *subdevice, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data)
 {
 
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1904,7 +1904,7 @@ static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG)
   ===========================================================================*/
 
 static int me4000_ao_insn_write(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1962,7 +1962,7 @@ static int me4000_ao_insn_write(comedi_device *dev,
 }
 
 static int me4000_ao_insn_read(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
@@ -1983,7 +1983,7 @@ static int me4000_ao_insn_read(comedi_device *dev,
   ===========================================================================*/
 
 static int me4000_dio_insn_bits(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	CALL_PDEBUG("In me4000_dio_insn_bits()\n");
@@ -2034,7 +2034,7 @@ static int me4000_dio_insn_bits(comedi_device *dev,
 }
 
 static int me4000_dio_insn_config(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	unsigned long tmp;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2216,7 +2216,7 @@ static int cnt_config(comedi_device *dev, unsigned int channel,
 }
 
 static int me4000_cnt_insn_config(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	int err;
@@ -2259,7 +2259,7 @@ static int me4000_cnt_insn_config(comedi_device *dev,
 }
 
 static int me4000_cnt_insn_read(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	unsigned short tmp;
@@ -2306,7 +2306,7 @@ static int me4000_cnt_insn_read(comedi_device *dev,
 }
 
 static int me4000_cnt_insn_write(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	unsigned short tmp;
diff --git a/drivers/staging/comedi/drivers/me_daq.c b/drivers/staging/comedi/drivers/me_daq.c
index 6accec20a0f9..877920e35e1b 100644
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -291,7 +291,7 @@ static inline void sleep(unsigned sec)
  * ------------------------------------------------------------------
  */
 static int me_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-			      comedi_insn *insn, lsampl_t *data)
+			      comedi_insn *insn, unsigned int *data)
 {
 	int bits;
 	int mask = 1 &lt;&lt; CR_CHAN(insn-&gt;chanspec);
@@ -327,7 +327,7 @@ static int me_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
 
 /* Digital instant input/outputs */
 static int me_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data)
+			    comedi_insn *insn, unsigned int *data)
 {
 	unsigned int mask = data[0];
 	s-&gt;state &amp;= ~mask;
@@ -363,7 +363,7 @@ static int me_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 
 /* Analog instant input */
 static int me_ai_insn_read(comedi_device *dev, comedi_subdevice *subdevice,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	unsigned short value;
 	int chan = CR_CHAN((&amp;insn-&gt;chanspec)[0]);
@@ -470,7 +470,7 @@ static int me_ai_do_cmd(comedi_device *dev, comedi_subdevice *subdevice)
 
 /* Analog instant output */
 static int me_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data)
+			    comedi_insn *insn, unsigned int *data)
 {
 	int chan;
 	int rang;
@@ -520,7 +520,7 @@ static int me_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
 
 /* Analog output readback */
 static int me_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
-			   comedi_insn *insn, lsampl_t *data)
+			   comedi_insn *insn, unsigned int *data)
 {
 	int i;
 
diff --git a/drivers/staging/comedi/drivers/mpc624.c b/drivers/staging/comedi/drivers/mpc624.c
index c514d9999fb0..a4be0721d69f 100644
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -156,7 +156,7 @@ static comedi_driver driver_mpc624 = {
 
 //----------------------------------------------------------------------------
 static int mpc624_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 //----------------------------------------------------------------------------
 static int mpc624_attach(comedi_device * dev, comedi_devconfig * it)
 {
@@ -269,7 +269,7 @@ static int mpc624_detach(comedi_device * dev)
 #define TIMEOUT 200
 
 static int mpc624_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
 	unsigned long int data_in, data_out;
diff --git a/drivers/staging/comedi/drivers/mpc8260cpm.c b/drivers/staging/comedi/drivers/mpc8260cpm.c
index d8e6c43bdcdd..b3a64bbbf0c3 100644
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -56,9 +56,9 @@ static comedi_driver driver_mpc8260cpm = {
 COMEDI_INITCLEANUP(driver_mpc8260cpm);
 
 static int mpc8260cpm_dio_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int mpc8260cpm_dio_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int mpc8260cpm_attach(comedi_device * dev, comedi_devconfig * it)
 {
@@ -113,7 +113,7 @@ static unsigned long *cpm_pdat(int port)
 }
 
 static int mpc8260cpm_dio_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned int d;
@@ -156,7 +156,7 @@ static int mpc8260cpm_dio_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int mpc8260cpm_dio_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int port;
 	unsigned long *p;
diff --git a/drivers/staging/comedi/drivers/multiq3.c b/drivers/staging/comedi/drivers/multiq3.c
index e827ae7ef9ba..dd9648d68a88 100644
--- a/drivers/staging/comedi/drivers/multiq3.c
+++ b/drivers/staging/comedi/drivers/multiq3.c
@@ -94,12 +94,12 @@ static comedi_driver driver_multiq3 = {
 COMEDI_INITCLEANUP(driver_multiq3);
 
 struct multiq3_private {
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 };
 #define devpriv ((struct multiq3_private *)dev-&gt;private)
 
 static int multiq3_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int chan;
@@ -135,7 +135,7 @@ static int multiq3_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int multiq3_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -148,7 +148,7 @@ static int multiq3_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int multiq3_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -166,7 +166,7 @@ static int multiq3_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int multiq3_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -177,7 +177,7 @@ static int multiq3_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int multiq3_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -192,7 +192,7 @@ static int multiq3_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int multiq3_encoder_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ni_6527.c b/drivers/staging/comedi/drivers/ni_6527.c
index 1d152d173ab5..17c33a591fd1 100644
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -120,7 +120,7 @@ typedef struct {
 static int ni6527_find_device(comedi_device * dev, int bus, int slot);
 
 static int ni6527_di_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	unsigned int interval;
@@ -168,7 +168,7 @@ static int ni6527_di_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni6527_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -181,7 +181,7 @@ static int ni6527_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni6527_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -327,7 +327,7 @@ static int ni6527_intr_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int ni6527_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
@@ -337,7 +337,7 @@ static int ni6527_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni6527_intr_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index 4029c1786d70..cc5ada875359 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -311,7 +311,7 @@ static ni_65xx_subdevice_private *ni_65xx_alloc_subdevice_private(void)
 static int ni_65xx_find_device(comedi_device * dev, int bus, int slot);
 
 static int ni_65xx_config_filter(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned chan = CR_CHAN(insn-&gt;chanspec);
 	const unsigned port =
@@ -350,7 +350,7 @@ static int ni_65xx_config_filter(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_65xx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned port;
 
@@ -389,7 +389,7 @@ static int ni_65xx_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_65xx_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel;
 	const unsigned max_ports_per_bitfield = 5;
@@ -569,7 +569,7 @@ static int ni_65xx_intr_cancel(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int ni_65xx_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
@@ -579,7 +579,7 @@ static int ni_65xx_intr_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_65xx_intr_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/ni_660x.c b/drivers/staging/comedi/drivers/ni_660x.c
index e646e98f3082..896e2ea4b04d 100644
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -465,17 +465,17 @@ static int ni_660x_set_pfi_routing(comedi_device * dev, unsigned chan,
 
 /* Possible instructions for a GPCT */
 static int ni_660x_GPCT_rinsn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_GPCT_insn_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_GPCT_winsn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* Possible instructions for Digital IO */
 static int ni_660x_dio_insn_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_dio_insn_bits(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static inline unsigned ni_660x_num_counters(comedi_device * dev)
 {
@@ -1121,7 +1121,7 @@ static int ni_660x_detach(comedi_device * dev)
 
 static int
 ni_660x_GPCT_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_rinsn(subdev_to_counter(s), insn, data);
 }
@@ -1148,13 +1148,13 @@ static void init_tio_chip(comedi_device * dev, int chipset)
 
 static int
 ni_660x_GPCT_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_insn_config(subdev_to_counter(s), insn, data);
 }
 
 static int ni_660x_GPCT_winsn(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_winsn(subdev_to_counter(s), insn, data);
 }
@@ -1187,7 +1187,7 @@ static int ni_660x_find_device(comedi_device * dev, int bus, int slot)
 }
 
 static int ni_660x_dio_insn_bits(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -1280,7 +1280,7 @@ static void ni660x_config_filter(comedi_device * dev, unsigned pfi_channel,
 }
 
 static int ni_660x_dio_insn_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/ni_670x.c b/drivers/staging/comedi/drivers/ni_670x.c
index f622e340e1a2..5e1cb2abe870 100644
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -102,7 +102,7 @@ typedef struct {
 	struct mite_struct *mite;
 	int boardtype;
 	int dio;
-	lsampl_t ao_readback[32];
+	unsigned int ao_readback[32];
 } ni_670x_private;
 
 #define devpriv ((ni_670x_private *)dev-&gt;private)
@@ -125,13 +125,13 @@ static comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 static int ni_670x_find_device(comedi_device * dev, int bus, int slot);
 
 static int ni_670x_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_670x_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_670x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_670x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int ni_670x_attach(comedi_device * dev, comedi_devconfig * it)
 {
@@ -219,7 +219,7 @@ static int ni_670x_detach(comedi_device * dev)
 }
 
 static int ni_670x_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -245,7 +245,7 @@ static int ni_670x_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_670x_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -257,7 +257,7 @@ static int ni_670x_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_670x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -279,7 +279,7 @@ static int ni_670x_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_670x_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/ni_at_a2150.c b/drivers/staging/comedi/drivers/ni_at_a2150.c
index 462419b247b1..2d7f5528b402 100644
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -183,7 +183,7 @@ static int a2150_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int a2150_ai_cmd(comedi_device * dev, comedi_subdevice * s);
 static int a2150_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int a2150_get_timing(comedi_device * dev, unsigned int *period,
 	int flags);
 static int a2150_probe(comedi_device * dev);
@@ -217,7 +217,7 @@ static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG)
 	comedi_async *async;
 	comedi_cmd *cmd;
 	unsigned int max_points, num_points, residue, leftover;
-	sampl_t dpnt;
+	short dpnt;
 	static const int sample_size = sizeof(devpriv-&gt;dma_buffer[0]);
 
 	if (dev-&gt;attached == 0) {
@@ -727,7 +727,7 @@ static int a2150_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int a2150_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int i, n;
 	static const int timeout = 100000;
diff --git a/drivers/staging/comedi/drivers/ni_at_ao.c b/drivers/staging/comedi/drivers/ni_at_ao.c
index beb15ed9da3a..fd259813bf54 100644
--- a/drivers/staging/comedi/drivers/ni_at_ao.c
+++ b/drivers/staging/comedi/drivers/ni_at_ao.c
@@ -174,7 +174,7 @@ typedef struct {
 	unsigned short cfg3;
 
 	/* Used for AO readback */
-	lsampl_t ao_readback[10];
+	unsigned int ao_readback[10];
 } atao_private;
 #define devpriv ((atao_private *)dev-&gt;private)
 
@@ -195,17 +195,17 @@ COMEDI_INITCLEANUP(driver_atao);
 static void atao_reset(comedi_device * dev);
 
 static int atao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int atao_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int atao_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int atao_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int atao_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int atao_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int atao_attach(comedi_device * dev, comedi_devconfig * it)
 {
@@ -321,7 +321,7 @@ static void atao_reset(comedi_device * dev)
 }
 
 static int atao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -345,7 +345,7 @@ static int atao_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atao_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -357,7 +357,7 @@ static int atao_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atao_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -374,7 +374,7 @@ static int atao_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atao_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	unsigned int mask, bit;
@@ -419,7 +419,7 @@ static int atao_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
  * the caldacs, but we can guess.
  */
 static int atao_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	for (i = 0; i &lt; insn-&gt;n; i++) {
@@ -429,7 +429,7 @@ static int atao_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atao_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bitstring, bit;
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ni_atmio16d.c b/drivers/staging/comedi/drivers/ni_atmio16d.c
index cdd9ee879c6c..11581dce981f 100644
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -180,7 +180,7 @@ typedef struct {
 	enum { dac_internal, dac_external } dac0_reference, dac1_reference;
 	enum { dac_2comp, dac_straight } dac0_coding, dac1_coding;
 	const comedi_lrange *ao_range_type_list[2];
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 	unsigned int com_reg_1_state;	/* current state of command register 1 */
 	unsigned int com_reg_2_state;	/* current state of command register 2 */
 } atmio16d_private;
@@ -526,7 +526,7 @@ static int atmio16d_ai_cancel(comedi_device * dev, comedi_subdevice * s)
 
 /* Mode 0 is used to get a single conversion on demand */
 static int atmio16d_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
 	int chan;
@@ -585,7 +585,7 @@ static int atmio16d_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atmio16d_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 #ifdef DEBUG1
@@ -600,7 +600,7 @@ static int atmio16d_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atmio16d_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan;
@@ -635,7 +635,7 @@ static int atmio16d_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atmio16d_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -651,7 +651,7 @@ static int atmio16d_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int atmio16d_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int mask;
diff --git a/drivers/staging/comedi/drivers/ni_daq_700.c b/drivers/staging/comedi/drivers/ni_daq_700.c
index 7ea57a21e68d..9193f16ad14f 100644
--- a/drivers/staging/comedi/drivers/ni_daq_700.c
+++ b/drivers/staging/comedi/drivers/ni_daq_700.c
@@ -130,7 +130,7 @@ static void do_config(comedi_device * dev, comedi_subdevice * s);
 
 void subdev_700_interrupt(comedi_device * dev, comedi_subdevice * s)
 {
-	sampl_t d;
+	short d;
 
 	d = CALLBACK_FUNC(0, _700_DATA, 0, CALLBACK_ARG);
 
@@ -154,7 +154,7 @@ static int subdev_700_cb(int dir, int port, int data, unsigned long arg)
 }
 
 static int subdev_700_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
 		s-&gt;state &amp;= ~data[0];
@@ -172,7 +172,7 @@ static int subdev_700_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int subdev_700_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 
 	switch (data[0]) {
diff --git a/drivers/staging/comedi/drivers/ni_labpc.c b/drivers/staging/comedi/drivers/ni_labpc.c
index 9ea1953bae8f..a7688f1670aa 100644
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -174,19 +174,19 @@ static int labpc_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int labpc_ai_cmd(comedi_device * dev, comedi_subdevice * s);
 static int labpc_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int labpc_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int labpc_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int labpc_calib_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int labpc_calib_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int labpc_eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int labpc_eeprom_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static unsigned int labpc_suggest_transfer_size(comedi_cmd cmd);
 static void labpc_adc_timing(comedi_device * dev, comedi_cmd * cmd);
 #ifdef CONFIG_COMEDI_PCI
@@ -1396,7 +1396,7 @@ static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG)
 static int labpc_drain_fifo(comedi_device * dev)
 {
 	unsigned int lsb, msb;
-	sampl_t data;
+	short data;
 	comedi_async *async = dev-&gt;read_subdev-&gt;async;
 	const int timeout = 10000;
 	unsigned int i;
@@ -1501,7 +1501,7 @@ static void labpc_drain_dregs(comedi_device * dev)
 }
 
 static int labpc_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int chan, range;
@@ -1587,7 +1587,7 @@ static int labpc_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 
 // analog output insn
 static int labpc_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel, range;
 	unsigned long flags;
@@ -1628,7 +1628,7 @@ static int labpc_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 
 // analog output readback insn
 static int labpc_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao_value[CR_CHAN(insn-&gt;chanspec)];
 
@@ -1636,7 +1636,7 @@ static int labpc_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int labpc_calib_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldac[CR_CHAN(insn-&gt;chanspec)];
 
@@ -1644,7 +1644,7 @@ static int labpc_calib_read_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int labpc_calib_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
 
@@ -1653,7 +1653,7 @@ static int labpc_calib_write_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int labpc_eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;eeprom_data[CR_CHAN(insn-&gt;chanspec)];
 
@@ -1661,7 +1661,7 @@ static int labpc_eeprom_read_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int labpc_eeprom_write_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn-&gt;chanspec);
 	int ret;
diff --git a/drivers/staging/comedi/drivers/ni_mio_common.c b/drivers/staging/comedi/drivers/ni_mio_common.c
index 116a9e559659..bb2c378cf68a 100644
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -194,9 +194,9 @@ static const comedi_lrange *const ni_range_lkup[] = {
 };
 
 static int ni_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_cdio_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int ni_cdio_cmd(comedi_device * dev, comedi_subdevice * s);
@@ -206,33 +206,33 @@ static int ni_cdo_inttrig(comedi_device * dev, comedi_subdevice * s,
 	unsigned int trignum);
 
 static int ni_serial_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_serial_hw_readwrite8(comedi_device * dev, comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
 static int ni_serial_sw_readwrite8(comedi_device * dev, comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
 
 static int ni_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int ni_eeprom_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_m_series_eeprom_insn_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int ni_pfi_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_pfi_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static unsigned ni_old_get_pfi_routing(comedi_device * dev, unsigned chan);
 
 static void ni_rtsi_init(comedi_device * dev);
 static int ni_rtsi_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_rtsi_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static void caldac_setup(comedi_device * dev, comedi_subdevice * s);
 static int ni_read_eeprom(comedi_device * dev, int addr);
@@ -268,11 +268,11 @@ static int ni_ao_reset(comedi_device * dev, comedi_subdevice * s);
 static int ni_8255_callback(int dir, int port, int data, unsigned long arg);
 
 static int ni_gpct_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_gpct_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_gpct_cmd(comedi_device * dev, comedi_subdevice * s);
 static int ni_gpct_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
@@ -283,7 +283,7 @@ static void handle_gpct_interrupt(comedi_device * dev,
 static int init_cs5529(comedi_device * dev);
 static int cs5529_do_conversion(comedi_device * dev, unsigned short *data);
 static int cs5529_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 #ifdef NI_CS5529_DEBUG
 static unsigned int cs5529_config_read(comedi_device * dev,
 	unsigned int reg_select_bits);
@@ -292,9 +292,9 @@ static void cs5529_config_write(comedi_device * dev, unsigned int value,
 	unsigned int reg_select_bits);
 
 static int ni_m_series_pwm_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ni_6143_pwm_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int ni_set_master_clock(comedi_device * dev, unsigned source,
 	unsigned period_ns);
@@ -1210,7 +1210,7 @@ static void ni_ao_fifo_load(comedi_device * dev, comedi_subdevice * s, int n)
 	comedi_cmd *cmd = &amp;async-&gt;cmd;
 	int chan;
 	int i;
-	sampl_t d;
+	short d;
 	u32 packed_data;
 	int range;
 	int err = 1;
@@ -1273,7 +1273,7 @@ static int ni_ao_fifo_half_empty(comedi_device * dev, comedi_subdevice * s)
 		return 0;
 	}
 
-	n /= sizeof(sampl_t);
+	n /= sizeof(short);
 	if (n &gt; boardtype.ao_fifo_depth / 2)
 		n = boardtype.ao_fifo_depth / 2;
 
@@ -1298,7 +1298,7 @@ static int ni_ao_prep_fifo(comedi_device * dev, comedi_subdevice * s)
 	if (n == 0)
 		return 0;
 
-	n /= sizeof(sampl_t);
+	n /= sizeof(short);
 	if (n &gt; boardtype.ao_fifo_depth)
 		n = boardtype.ao_fifo_depth;
 
@@ -1313,7 +1313,7 @@ static void ni_ai_fifo_read(comedi_device * dev, comedi_subdevice * s, int n)
 	int i;
 
 	if (boardtype.reg_type == ni_reg_611x) {
-		sampl_t data[2];
+		short data[2];
 		u32 dl;
 
 		for (i = 0; i &lt; n / 2; i++) {
@@ -1330,7 +1330,7 @@ static void ni_ai_fifo_read(comedi_device * dev, comedi_subdevice * s, int n)
 			cfc_write_to_buffer(s, data[0]);
 		}
 	} else if (boardtype.reg_type == ni_reg_6143) {
-		sampl_t data[2];
+		short data[2];
 		u32 dl;
 
 		// This just reads the FIFO assuming the data is present, no checks on the FIFO status are performed
@@ -1417,7 +1417,7 @@ static int ni_ai_drain_dma(comedi_device * dev)
 static void ni_handle_fifo_dregs(comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
-	sampl_t data[2];
+	short data[2];
 	u32 dl;
 	short fifo_empty;
 	int i;
@@ -1479,7 +1479,7 @@ static void ni_handle_fifo_dregs(comedi_device * dev)
 static void get_last_sample_611x(comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
-	sampl_t data;
+	short data;
 	u32 dl;
 
 	if (boardtype.reg_type != ni_reg_611x)
@@ -1496,7 +1496,7 @@ static void get_last_sample_611x(comedi_device * dev)
 static void get_last_sample_6143(comedi_device * dev)
 {
 	comedi_subdevice *s = dev-&gt;subdevices + NI_AI_SUBDEV;
-	sampl_t data;
+	short data;
 	u32 dl;
 
 	if (boardtype.reg_type != ni_reg_6143)
@@ -1519,8 +1519,8 @@ static void ni_ai_munge(comedi_device * dev, comedi_subdevice * s,
 	comedi_async *async = s-&gt;async;
 	unsigned int i;
 	unsigned int length = num_bytes / bytes_per_sample(s);
-	sampl_t *array = data;
-	lsampl_t *larray = data;
+	short *array = data;
+	unsigned int *larray = data;
 	for (i = 0; i &lt; length; i++) {
 #ifdef PCIDMA
 		if (s-&gt;subdev_flags &amp; SDF_LSAMPL)
@@ -1719,7 +1719,7 @@ static int ni_ai_poll(comedi_device * dev, comedi_subdevice * s)
 }
 
 static int ni_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	const unsigned int mask = (1 &lt;&lt; boardtype.adbits) - 1;
@@ -2626,10 +2626,10 @@ static int ni_ai_inttrig(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_ai_config_analog_trig(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int ni_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n &lt; 1)
 		return -EINVAL;
@@ -2680,7 +2680,7 @@ static int ni_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_ai_config_analog_trig(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int a, b, modebits;
 	int err = 0;
@@ -2784,8 +2784,8 @@ static void ni_ao_munge(comedi_device * dev, comedi_subdevice * s,
 	unsigned int range;
 	unsigned int i;
 	unsigned int offset;
-	unsigned int length = num_bytes / sizeof(sampl_t);
-	sampl_t *array = data;
+	unsigned int length = num_bytes / sizeof(short);
+	short *array = data;
 
 	offset = 1 &lt;&lt; (boardtype.aobits - 1);
 	for (i = 0; i &lt; length; i++) {
@@ -2922,7 +2922,7 @@ static int ni_ao_config_chanlist(comedi_device * dev, comedi_subdevice * s,
 		return ni_old_ao_config_chanlist(dev, s, chanspec, n_chans);
 }
 static int ni_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;ao[CR_CHAN(insn-&gt;chanspec)];
 
@@ -2930,7 +2930,7 @@ static int ni_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
 	unsigned int invert;
@@ -2949,7 +2949,7 @@ static int ni_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_ao_insn_write_671x(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
 	unsigned int invert;
@@ -2966,14 +2966,14 @@ static int ni_ao_insn_write_671x(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_ao_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case INSN_CONFIG_GET_HARDWARE_BUFFER_SIZE:
 		switch(data[1])
 		{
 		case COMEDI_OUTPUT:
-			data[2] = 1 + boardtype.ao_fifo_depth * sizeof(sampl_t);
+			data[2] = 1 + boardtype.ao_fifo_depth * sizeof(short);
 			if(devpriv-&gt;mite) data[2] += devpriv-&gt;mite-&gt;fifo_size;
 			break;
 		case COMEDI_INPUT:
@@ -3437,7 +3437,7 @@ static int ni_ao_reset(comedi_device * dev, comedi_subdevice * s)
 // digital io
 
 static int ni_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
 	rt_printk("ni_dio_insn_config() chan=%d io=%d\n",
@@ -3469,7 +3469,7 @@ static int ni_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
 	rt_printk("ni_dio_insn_bits() mask=0x%x bits=0x%x\n", data[0], data[1]);
@@ -3496,7 +3496,7 @@ static int ni_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_m_series_dio_insn_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
 	rt_printk("ni_m_series_dio_insn_config() chan=%d io=%d\n",
@@ -3526,7 +3526,7 @@ static int ni_m_series_dio_insn_config(comedi_device * dev,
 }
 
 static int ni_m_series_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
 	rt_printk("ni_m_series_dio_insn_bits() mask=0x%x bits=0x%x\n", data[0],
@@ -3791,7 +3791,7 @@ static void handle_cdio_interrupt(comedi_device * dev)
 }
 
 static int ni_serial_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int err = insn-&gt;n;
 	unsigned char byte_out, byte_in = 0;
@@ -4209,14 +4209,14 @@ static unsigned ni_gpct_read_register(struct ni_gpct *counter,
 }
 
 static int ni_freq_out_insn_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;clock_and_fout &amp; FOUT_Divider_mask;
 	return 1;
 }
 
 static int ni_freq_out_insn_write(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv-&gt;clock_and_fout &amp;= ~FOUT_Enable;
 	devpriv-&gt;stc_writew(dev, devpriv-&gt;clock_and_fout,
@@ -4229,7 +4229,7 @@ static int ni_freq_out_insn_write(comedi_device * dev,
 	return insn-&gt;n;
 }
 
-static int ni_set_freq_out_clock(comedi_device * dev, lsampl_t clock_source)
+static int ni_set_freq_out_clock(comedi_device * dev, unsigned int clock_source)
 {
 	switch (clock_source) {
 	case NI_FREQ_OUT_TIMEBASE_1_DIV_2_CLOCK_SRC:
@@ -4246,8 +4246,8 @@ static int ni_set_freq_out_clock(comedi_device * dev, lsampl_t clock_source)
 	return 3;
 }
 
-static void ni_get_freq_out_clock(comedi_device * dev, lsampl_t * clock_source,
-	lsampl_t * clock_period_ns)
+static void ni_get_freq_out_clock(comedi_device * dev, unsigned int * clock_source,
+	unsigned int * clock_period_ns)
 {
 	if (devpriv-&gt;clock_and_fout &amp; FOUT_Timebase_Select) {
 		*clock_source = NI_FREQ_OUT_TIMEBASE_2_CLOCK_SRC;
@@ -4259,7 +4259,7 @@ static void ni_get_freq_out_clock(comedi_device * dev, lsampl_t * clock_source,
 }
 
 static int ni_freq_out_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case INSN_CONFIG_SET_CLOCK_SRC:
@@ -4624,7 +4624,7 @@ static int ni_8255_callback(int dir, int port, int data, unsigned long arg)
 */
 
 static int ni_eeprom_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = ni_read_eeprom(dev, CR_CHAN(insn-&gt;chanspec));
 
@@ -4660,14 +4660,14 @@ static int ni_read_eeprom(comedi_device * dev, int addr)
 }
 
 static int ni_m_series_eeprom_insn_read(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;eeprom_buffer[CR_CHAN(insn-&gt;chanspec)];
 
 	return 1;
 }
 
-static int ni_get_pwm_config(comedi_device * dev, lsampl_t * data)
+static int ni_get_pwm_config(comedi_device * dev, unsigned int * data)
 {
 	data[1] = devpriv-&gt;pwm_up_count * devpriv-&gt;clock_ns;
 	data[2] = devpriv-&gt;pwm_down_count * devpriv-&gt;clock_ns;
@@ -4675,7 +4675,7 @@ static int ni_get_pwm_config(comedi_device * dev, lsampl_t * data)
 }
 
 static int ni_m_series_pwm_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
 	switch (data[0]) {
@@ -4740,7 +4740,7 @@ static int ni_m_series_pwm_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_6143_pwm_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
 	switch (data[0]) {
@@ -4807,7 +4807,7 @@ static void ni_write_caldac(comedi_device * dev, int addr, int val);
 	calibration subdevice
 */
 static int ni_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	ni_write_caldac(dev, CR_CHAN(insn-&gt;chanspec), data[0]);
 
@@ -4815,7 +4815,7 @@ static int ni_calib_insn_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_calib_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv-&gt;caldacs[CR_CHAN(insn-&gt;chanspec)];
 
@@ -5071,21 +5071,21 @@ static void GPCT_Reset(comedi_device * dev, int chan)
 #endif
 
 static int ni_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_insn_config(counter, insn, data);
 }
 
 static int ni_gpct_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_rinsn(counter, insn, data);
 }
 
 static int ni_gpct_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s-&gt;private;
 	return ni_tio_winsn(counter, insn, data);
@@ -5254,7 +5254,7 @@ static int ni_config_filter(comedi_device * dev, unsigned pfi_channel,
 }
 
 static int ni_pfi_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if ((boardtype.reg_type &amp; ni_reg_m_series_mask) == 0) {
 		return -ENOTSUPP;
@@ -5269,7 +5269,7 @@ static int ni_pfi_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_pfi_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan;
 
@@ -5346,7 +5346,7 @@ static void ni_rtsi_init(comedi_device * dev)
 }
 
 static int ni_rtsi_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -5627,7 +5627,7 @@ static unsigned ni_get_rtsi_routing(comedi_device * dev, unsigned chan)
 }
 
 static int ni_rtsi_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn-&gt;chanspec);
 	switch (data[0]) {
@@ -5806,7 +5806,7 @@ static int cs5529_do_conversion(comedi_device * dev, unsigned short *data)
 }
 
 static int cs5529_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, retval;
 	unsigned short sample;
diff --git a/drivers/staging/comedi/drivers/ni_pcidio.c b/drivers/staging/comedi/drivers/ni_pcidio.c
index a3e12212e427..289d7b921513 100644
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -486,8 +486,8 @@ static irqreturn_t nidio_interrupt(int irq, void *d PT_REGS_ARG)
 
 	//int i, j;
 	long int AuxData = 0;
-	sampl_t data1 = 0;
-	sampl_t data2 = 0;
+	short data1 = 0;
+	short data2 = 0;
 	int flags;
 	int status;
 	int work = 0;
@@ -703,7 +703,7 @@ static void debug_int(comedi_device * dev)
 #endif
 
 static int ni_pcidio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 1)
 		return -EINVAL;
@@ -730,7 +730,7 @@ static int ni_pcidio_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ni_pcidio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/ni_stc.h b/drivers/staging/comedi/drivers/ni_stc.h
index 0c869ada3062..d76ef024131d 100644
--- a/drivers/staging/comedi/drivers/ni_stc.h
+++ b/drivers/staging/comedi/drivers/ni_stc.h
@@ -1482,7 +1482,7 @@ typedef struct ni_board_struct {
 	unsigned short pwm_up_count;	\
 	unsigned short pwm_down_count;	\
 	\
-	sampl_t ai_fifo_buffer[0x2000];				\
+	short ai_fifo_buffer[0x2000];				\
 	uint8_t eeprom_buffer[M_SERIES_EEPROM_SIZE]; \
 	uint32_t serial_number; \
 	\
diff --git a/drivers/staging/comedi/drivers/ni_tio.c b/drivers/staging/comedi/drivers/ni_tio.c
index f2fd095c4576..efa9cf5546f5 100644
--- a/drivers/staging/comedi/drivers/ni_tio.c
+++ b/drivers/staging/comedi/drivers/ni_tio.c
@@ -262,7 +262,7 @@ static inline unsigned NI_660x_RTSI_Second_Gate_Select(unsigned n)
 	return 0xb + n;
 }
 
-static const lsampl_t counter_status_mask =
+static const unsigned int counter_status_mask =
 	COMEDI_COUNTER_ARMED | COMEDI_COUNTER_COUNTING;
 
 static int __init ni_tio_init_module(void)
@@ -388,9 +388,9 @@ void ni_tio_init_counter(struct ni_gpct *counter)
 		NITIO_Gi_Interrupt_Enable_Reg(counter-&gt;counter_index), ~0, 0x0);
 }
 
-static lsampl_t ni_tio_counter_status(struct ni_gpct *counter)
+static unsigned int ni_tio_counter_status(struct ni_gpct *counter)
 {
-	lsampl_t status = 0;
+	unsigned int status = 0;
 	const unsigned bits = read_register(counter,
 		NITIO_Gxx_Status_Reg(counter-&gt;counter_index));
 	if (bits &amp; Gi_Armed_Bit(counter-&gt;counter_index)) {
@@ -564,7 +564,7 @@ int ni_tio_arm(struct ni_gpct *counter, int arm, unsigned start_trigger)
 	return 0;
 }
 
-static unsigned ni_660x_source_select_bits(lsampl_t clock_source)
+static unsigned ni_660x_source_select_bits(unsigned int clock_source)
 {
 	unsigned ni_660x_clock;
 	unsigned i;
@@ -618,7 +618,7 @@ static unsigned ni_660x_source_select_bits(lsampl_t clock_source)
 	return Gi_Source_Select_Bits(ni_660x_clock);
 }
 
-static unsigned ni_m_series_source_select_bits(lsampl_t clock_source)
+static unsigned ni_m_series_source_select_bits(unsigned int clock_source)
 {
 	unsigned ni_m_series_clock;
 	unsigned i;
@@ -679,7 +679,7 @@ static unsigned ni_m_series_source_select_bits(lsampl_t clock_source)
 };
 
 static void ni_tio_set_source_subselect(struct ni_gpct *counter,
-	lsampl_t clock_source)
+	unsigned int clock_source)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned second_gate_reg =
@@ -708,7 +708,7 @@ static void ni_tio_set_source_subselect(struct ni_gpct *counter,
 }
 
 static int ni_tio_set_clock_src(struct ni_gpct *counter,
-	lsampl_t clock_source, lsampl_t period_ns)
+	unsigned int clock_source, unsigned int period_ns)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	unsigned input_select_bits = 0;
@@ -965,7 +965,7 @@ static uint64_t ni_tio_clock_period_ps(const struct ni_gpct *counter,
 }
 
 static void ni_tio_get_clock_src(struct ni_gpct *counter,
-	lsampl_t * clock_source, lsampl_t * period_ns)
+	unsigned int * clock_source, unsigned int * period_ns)
 {
 	static const unsigned pico_per_nano = 1000;
 	uint64_t temp64;
@@ -976,7 +976,7 @@ static void ni_tio_get_clock_src(struct ni_gpct *counter,
 }
 
 static void ni_tio_set_first_gate_modifiers(struct ni_gpct *counter,
-	lsampl_t gate_source)
+	unsigned int gate_source)
 {
 	const unsigned mode_mask = Gi_Gate_Polarity_Bit | Gi_Gating_Mode_Mask;
 	unsigned mode_values = 0;
@@ -993,7 +993,7 @@ static void ni_tio_set_first_gate_modifiers(struct ni_gpct *counter,
 		mode_mask, mode_values);
 }
 
-static int ni_660x_set_first_gate(struct ni_gpct *counter, lsampl_t gate_source)
+static int ni_660x_set_first_gate(struct ni_gpct *counter, unsigned int gate_source)
 {
 	const unsigned selected_gate = CR_CHAN(gate_source);
 	/* bits of selected_gate that may be meaningful to input select register */
@@ -1040,7 +1040,7 @@ static int ni_660x_set_first_gate(struct ni_gpct *counter, lsampl_t gate_source)
 }
 
 static int ni_m_series_set_first_gate(struct ni_gpct *counter,
-	lsampl_t gate_source)
+	unsigned int gate_source)
 {
 	const unsigned selected_gate = CR_CHAN(gate_source);
 	/* bits of selected_gate that may be meaningful to input select register */
@@ -1089,7 +1089,7 @@ static int ni_m_series_set_first_gate(struct ni_gpct *counter,
 }
 
 static int ni_660x_set_second_gate(struct ni_gpct *counter,
-	lsampl_t gate_source)
+	unsigned int gate_source)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned second_gate_reg =
@@ -1148,7 +1148,7 @@ static int ni_660x_set_second_gate(struct ni_gpct *counter,
 }
 
 static int ni_m_series_set_second_gate(struct ni_gpct *counter,
-	lsampl_t gate_source)
+	unsigned int gate_source)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned second_gate_reg =
@@ -1176,7 +1176,7 @@ static int ni_m_series_set_second_gate(struct ni_gpct *counter,
 }
 
 int ni_tio_set_gate_src(struct ni_gpct *counter, unsigned gate_index,
-	lsampl_t gate_source)
+	unsigned int gate_source)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned second_gate_reg =
@@ -1243,7 +1243,7 @@ int ni_tio_set_gate_src(struct ni_gpct *counter, unsigned gate_index,
 }
 
 static int ni_tio_set_other_src(struct ni_gpct *counter, unsigned index,
-	lsampl_t source)
+	unsigned int source)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 
@@ -1442,7 +1442,7 @@ static unsigned ni_m_series_second_gate_to_generic_gate_source(unsigned
 };
 
 static int ni_tio_get_gate_src(struct ni_gpct *counter, unsigned gate_index,
-	lsampl_t * gate_source)
+	unsigned int * gate_source)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned mode_bits = ni_tio_get_soft_copy(counter,
@@ -1534,7 +1534,7 @@ static int ni_tio_get_gate_src(struct ni_gpct *counter, unsigned gate_index,
 }
 
 int ni_tio_insn_config(struct ni_gpct *counter,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
 	case INSN_CONFIG_SET_COUNTER_MODE:
@@ -1578,7 +1578,7 @@ int ni_tio_insn_config(struct ni_gpct *counter,
 	return -EINVAL;
 }
 
-int ni_tio_rinsn(struct ni_gpct *counter, comedi_insn * insn, lsampl_t * data)
+int ni_tio_rinsn(struct ni_gpct *counter, comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned channel = CR_CHAN(insn-&gt;chanspec);
@@ -1642,7 +1642,7 @@ static unsigned ni_tio_next_load_register(struct ni_gpct *counter)
 	}
 }
 
-int ni_tio_winsn(struct ni_gpct *counter, comedi_insn * insn, lsampl_t * data)
+int ni_tio_winsn(struct ni_gpct *counter, comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct_device *counter_dev = counter-&gt;counter_dev;
 	const unsigned channel = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/ni_tio.h b/drivers/staging/comedi/drivers/ni_tio.h
index 46c632977d68..39f85ec8485b 100644
--- a/drivers/staging/comedi/drivers/ni_tio.h
+++ b/drivers/staging/comedi/drivers/ni_tio.h
@@ -140,11 +140,11 @@ extern struct ni_gpct_device *ni_gpct_device_construct(comedi_device * dev,
 extern void ni_gpct_device_destroy(struct ni_gpct_device *counter_dev);
 extern void ni_tio_init_counter(struct ni_gpct *counter);
 extern int ni_tio_rinsn(struct ni_gpct *counter,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 extern int ni_tio_insn_config(struct ni_gpct *counter,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 extern int ni_tio_winsn(struct ni_gpct *counter,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 extern int ni_tio_cmd(struct ni_gpct *counter, comedi_async * async);
 extern int ni_tio_cmdtest(struct ni_gpct *counter, comedi_cmd * cmd);
 extern int ni_tio_cancel(struct ni_gpct *counter);
diff --git a/drivers/staging/comedi/drivers/ni_tio_internal.h b/drivers/staging/comedi/drivers/ni_tio_internal.h
index e5aa578f6c4e..ac5b171cbe18 100644
--- a/drivers/staging/comedi/drivers/ni_tio_internal.h
+++ b/drivers/staging/comedi/drivers/ni_tio_internal.h
@@ -769,6 +769,6 @@ static inline unsigned ni_tio_get_soft_copy(const struct ni_gpct *counter,
 
 int ni_tio_arm(struct ni_gpct *counter, int arm, unsigned start_trigger);
 int ni_tio_set_gate_src(struct ni_gpct *counter, unsigned gate_index,
-	lsampl_t gate_source);
+	unsigned int gate_source);
 
 #endif /* _COMEDI_NI_TIO_INTERNAL_H */
diff --git a/drivers/staging/comedi/drivers/pcl711.c b/drivers/staging/comedi/drivers/pcl711.c
index 15491745288b..d54e55fe963f 100644
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -174,7 +174,7 @@ typedef struct {
 	int ntrig;
 	int aip[8];
 	int mode;
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 	unsigned int divisor1;
 	unsigned int divisor2;
 } pcl711_private;
@@ -241,7 +241,7 @@ static void pcl711_set_changain(comedi_device * dev, int chan)
 }
 
 static int pcl711_ai_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
 	int hi, lo;
@@ -428,7 +428,7 @@ static int pcl711_ai_cmd(comedi_device * dev, comedi_subdevice * s)
    analog output
 */
 static int pcl711_ao_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -446,7 +446,7 @@ static int pcl711_ao_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl711_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -461,7 +461,7 @@ static int pcl711_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 
 /* Digital port read - Untested on 8112 */
 static int pcl711_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -474,7 +474,7 @@ static int pcl711_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 
 /* Digital port write - Untested on 8112 */
 static int pcl711_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/pcl725.c b/drivers/staging/comedi/drivers/pcl725.c
index b4e37098a6c3..a252defade5b 100644
--- a/drivers/staging/comedi/drivers/pcl725.c
+++ b/drivers/staging/comedi/drivers/pcl725.c
@@ -32,7 +32,7 @@ static comedi_driver driver_pcl725 = {
 COMEDI_INITCLEANUP(driver_pcl725);
 
 static int pcl725_do_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -49,7 +49,7 @@ static int pcl725_do_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl725_di_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/pcl726.c b/drivers/staging/comedi/drivers/pcl726.c
index 48502660c077..61097184e3cc 100644
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -164,12 +164,12 @@ COMEDI_INITCLEANUP(driver_pcl726);
 typedef struct {
 	int bipolar[12];
 	const comedi_lrange *rangelist[12];
-	lsampl_t ao_readback[12];
+	unsigned int ao_readback[12];
 } pcl726_private;
 #define devpriv ((pcl726_private *)dev-&gt;private)
 
 static int pcl726_ao_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int hi, lo;
 	int n;
@@ -194,7 +194,7 @@ static int pcl726_ao_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl726_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int n;
@@ -206,7 +206,7 @@ static int pcl726_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl726_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -218,7 +218,7 @@ static int pcl726_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl726_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/pcl730.c b/drivers/staging/comedi/drivers/pcl730.c
index 290a32f508fa..a33ff0850c48 100644
--- a/drivers/staging/comedi/drivers/pcl730.c
+++ b/drivers/staging/comedi/drivers/pcl730.c
@@ -56,7 +56,7 @@ static comedi_driver driver_pcl730 = {
 COMEDI_INITCLEANUP(driver_pcl730);
 
 static int pcl730_do_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -78,7 +78,7 @@ static int pcl730_do_insn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl730_di_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/pcl812.c b/drivers/staging/comedi/drivers/pcl812.c
index 5554950632d0..b3d24cb588a0 100644
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -406,7 +406,7 @@ typedef struct {
 	unsigned int ai_n_chan;	// how many channels is measured
 	unsigned int ai_flags;	// flaglist
 	unsigned int ai_data_len;	// len of data buffer
-	sampl_t *ai_data;	// data buffer
+	short *ai_data;	// data buffer
 	unsigned int ai_is16b;	// =1 we have 16 bit card
 	unsigned long dmabuf[2];	// PTR to DMA buf
 	unsigned int dmapages[2];	// how many pages we have allocated
@@ -417,7 +417,7 @@ typedef struct {
 	unsigned int dma_runs_to_end;	// how many times we must switch DMA buffers
 	unsigned int last_dma_run;	// how many bytes to transfer on last DMA buffer
 	unsigned int max_812_ai_mode0_rangewait;	// setling time for gain
-	lsampl_t ao_readback[2];	// data for AO readback
+	unsigned int ao_readback[2];	// data for AO readback
 } pcl812_private;
 
 #define devpriv ((pcl812_private *)dev-&gt;private)
@@ -434,7 +434,7 @@ static int pcl812_ai_cancel(comedi_device * dev, comedi_subdevice * s);
 ==============================================================================
 */
 static int pcl812_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int timeout, hi;
@@ -468,7 +468,7 @@ static int pcl812_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int acl8216_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int timeout;
@@ -504,7 +504,7 @@ static int acl8216_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pcl812_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int i;
@@ -524,7 +524,7 @@ static int pcl812_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pcl812_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int i;
@@ -540,7 +540,7 @@ static int pcl812_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pcl812_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -555,7 +555,7 @@ static int pcl812_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 ==============================================================================
 */
 static int pcl812_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -846,9 +846,9 @@ static int pcl812_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	if (devpriv-&gt;ai_dma) {
 		if (devpriv-&gt;ai_eos) {	// we use EOS, so adapt DMA buffer to one scan
 			devpriv-&gt;dmabytestomove[0] =
-				devpriv-&gt;ai_n_chan * sizeof(sampl_t);
+				devpriv-&gt;ai_n_chan * sizeof(short);
 			devpriv-&gt;dmabytestomove[1] =
-				devpriv-&gt;ai_n_chan * sizeof(sampl_t);
+				devpriv-&gt;ai_n_chan * sizeof(short);
 			devpriv-&gt;dma_runs_to_end = 1;
 		} else {
 			devpriv-&gt;dmabytestomove[0] = devpriv-&gt;hwdmasize[0];
@@ -862,7 +862,7 @@ static int pcl812_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 			if (devpriv-&gt;ai_neverending) {
 				devpriv-&gt;dma_runs_to_end = 1;
 			} else {
-				bytes = devpriv-&gt;ai_n_chan * devpriv-&gt;ai_scans * sizeof(sampl_t);	// how many samples we must transfer?
+				bytes = devpriv-&gt;ai_n_chan * devpriv-&gt;ai_scans * sizeof(short);	// how many samples we must transfer?
 				devpriv-&gt;dma_runs_to_end = bytes / devpriv-&gt;dmabytestomove[0];	// how many DMA pages we must fill
 				devpriv-&gt;last_dma_run = bytes % devpriv-&gt;dmabytestomove[0];	//on last dma transfer must be moved
 				if (devpriv-&gt;dma_runs_to_end == 0)
@@ -981,7 +981,7 @@ static irqreturn_t interrupt_pcl812_ai_int(int irq, void *d)
 ==============================================================================
 */
 static void transfer_from_dma_buf(comedi_device * dev, comedi_subdevice * s,
-	sampl_t * ptr, unsigned int bufptr, unsigned int len)
+	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	unsigned int i;
 
@@ -1012,12 +1012,12 @@ static irqreturn_t interrupt_pcl812_ai_dma(int irq, void *d)
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	unsigned long dma_flags;
 	int len, bufptr;
-	sampl_t *ptr;
+	short *ptr;
 
 #ifdef PCL812_EXTDEBUG
 	rt_printk("pcl812 EDBG: BGN: interrupt_pcl812_ai_dma(...)\n");
 #endif
-	ptr = (sampl_t *) devpriv-&gt;dmabuf[devpriv-&gt;next_dma_buf];
+	ptr = (short *) devpriv-&gt;dmabuf[devpriv-&gt;next_dma_buf];
 	len = (devpriv-&gt;dmabytestomove[devpriv-&gt;next_dma_buf] &gt;&gt; 1) -
 		devpriv-&gt;ai_poll_ptr;
 
diff --git a/drivers/staging/comedi/drivers/pcl816.c b/drivers/staging/comedi/drivers/pcl816.c
index e361f9dc5246..cb795736300d 100644
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -227,7 +227,7 @@ static int pcl816_ai_cmd(comedi_device * dev, comedi_subdevice * s);
    ANALOG INPUT MODE0, 816 cards, slow version
 */
 static int pcl816_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int timeout;
@@ -331,7 +331,7 @@ static irqreturn_t interrupt_pcl816_ai_mode13_int(int irq, void *d)
    analog input dma mode 1 &amp; 3, 816 cards
 */
 static void transfer_from_dma_buf(comedi_device * dev, comedi_subdevice * s,
-	sampl_t * ptr, unsigned int bufptr, unsigned int len)
+	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	int i;
 
@@ -365,7 +365,7 @@ static irqreturn_t interrupt_pcl816_ai_mode13_dma(int irq, void *d)
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int len, bufptr, this_dma_buf;
 	unsigned long dma_flags;
-	sampl_t *ptr;
+	short *ptr;
 
 	disable_dma(devpriv-&gt;dma);
 	this_dma_buf = devpriv-&gt;next_dma_buf;
@@ -391,7 +391,7 @@ static irqreturn_t interrupt_pcl816_ai_mode13_dma(int irq, void *d)
 	devpriv-&gt;dma_runs_to_end--;
 	outb(0, dev-&gt;iobase + PCL816_CLRINT);	/* clear INT request */
 
-	ptr = (sampl_t *) devpriv-&gt;dmabuf[this_dma_buf];
+	ptr = (short *) devpriv-&gt;dmabuf[this_dma_buf];
 
 	len = (devpriv-&gt;hwdmasize[0] &gt;&gt; 1) - devpriv-&gt;ai_poll_ptr;
 	bufptr = devpriv-&gt;ai_poll_ptr;
@@ -658,7 +658,7 @@ static int pcl816_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 	if (devpriv-&gt;dma) {
 		bytes = devpriv-&gt;hwdmasize[0];
 		if (!devpriv-&gt;ai_neverending) {
-			bytes = s-&gt;async-&gt;cmd.chanlist_len * s-&gt;async-&gt;cmd.chanlist_len * sizeof(sampl_t);	// how many
+			bytes = s-&gt;async-&gt;cmd.chanlist_len * s-&gt;async-&gt;cmd.chanlist_len * sizeof(short);	// how many
 			devpriv-&gt;dma_runs_to_end = bytes / devpriv-&gt;hwdmasize[0];	// how many DMA pages we must fill
 			devpriv-&gt;last_dma_run = bytes % devpriv-&gt;hwdmasize[0];	//on last dma transfer must be moved
 			devpriv-&gt;dma_runs_to_end--;
@@ -728,7 +728,7 @@ static int pcl816_ai_poll(comedi_device * dev, comedi_subdevice * s)
 	}
 
 	transfer_from_dma_buf(dev, s,
-		(sampl_t *) devpriv-&gt;dmabuf[devpriv-&gt;next_dma_buf],
+		(short *) devpriv-&gt;dmabuf[devpriv-&gt;next_dma_buf],
 		devpriv-&gt;ai_poll_ptr, top2);
 
 	devpriv-&gt;ai_poll_ptr = top1;	// new buffer position
diff --git a/drivers/staging/comedi/drivers/pcl818.c b/drivers/staging/comedi/drivers/pcl818.c
index 9e648c3cc12e..5425c196bed1 100644
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -350,12 +350,12 @@ typedef struct {
 	unsigned int *ai_chanlist;	// actaul chanlist
 	unsigned int ai_flags;	// flaglist
 	unsigned int ai_data_len;	// len of data buffer
-	sampl_t *ai_data;	// data buffer
+	short *ai_data;	// data buffer
 	unsigned int ai_timer1;	// timers
 	unsigned int ai_timer2;
 	comedi_subdevice *sub_ai;	// ptr to AI subdevice
 	unsigned char usefifo;	// 1=use fifo
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 } pcl818_private;
 
 static const unsigned int muxonechan[] = { 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77,	// used for gain list programming
@@ -388,7 +388,7 @@ static int rtc_setfreq_irq(int freq);
    ANALOG INPUT MODE0, 818 cards, slow version
 */
 static int pcl818_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int timeout;
@@ -435,7 +435,7 @@ static int pcl818_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
    only one sample per call is supported
 */
 static int pcl818_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -448,7 +448,7 @@ static int pcl818_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl818_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -471,7 +471,7 @@ static int pcl818_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
    only one sample per call is supported
 */
 static int pcl818_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -489,7 +489,7 @@ static int pcl818_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
    only one sample per call is supported
 */
 static int pcl818_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -569,7 +569,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 	comedi_subdevice *s = dev-&gt;subdevices + 0;
 	int i, len, bufptr;
 	unsigned long flags;
-	sampl_t *ptr;
+	short *ptr;
 
 	disable_dma(devpriv-&gt;dma);
 	devpriv-&gt;next_dma_buf = 1 - devpriv-&gt;next_dma_buf;
@@ -591,7 +591,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 
 	devpriv-&gt;dma_runs_to_end--;
 	outb(0, dev-&gt;iobase + PCL818_CLRINT);	/* clear INT request */
-	ptr = (sampl_t *) devpriv-&gt;dmabuf[1 - devpriv-&gt;next_dma_buf];
+	ptr = (short *) devpriv-&gt;dmabuf[1 - devpriv-&gt;next_dma_buf];
 
 	len = devpriv-&gt;hwdmasize[0] &gt;&gt; 1;
 	bufptr = 0;
@@ -645,7 +645,7 @@ static irqreturn_t interrupt_pcl818_ai_mode13_dma_rtc(int irq, void *d)
 	unsigned long tmp;
 	unsigned int top1, top2, i, bufptr;
 	long ofs_dats;
-	sampl_t *dmabuf = (sampl_t *) devpriv-&gt;dmabuf[0];
+	short *dmabuf = (short *) devpriv-&gt;dmabuf[0];
 
 	//outb(2,0x378);
 	switch (devpriv-&gt;ai_mode) {
@@ -880,7 +880,7 @@ static void pcl818_ai_mode13dma_int(int mode, comedi_device * dev,
 	disable_dma(devpriv-&gt;dma);	// disable dma
 	bytes = devpriv-&gt;hwdmasize[0];
 	if (!devpriv-&gt;neverending_ai) {
-		bytes = devpriv-&gt;ai_n_chan * devpriv-&gt;ai_scans * sizeof(sampl_t);	// how many
+		bytes = devpriv-&gt;ai_n_chan * devpriv-&gt;ai_scans * sizeof(short);	// how many
 		devpriv-&gt;dma_runs_to_end = bytes / devpriv-&gt;hwdmasize[0];	// how many DMA pages we must fiil
 		devpriv-&gt;last_dma_run = bytes % devpriv-&gt;hwdmasize[0];	//on last dma transfer must be moved
 		devpriv-&gt;dma_runs_to_end--;
@@ -915,7 +915,7 @@ static void pcl818_ai_mode13dma_rtc(int mode, comedi_device * dev,
 	comedi_subdevice * s)
 {
 	unsigned int flags;
-	sampl_t *pole;
+	short *pole;
 
 	set_dma_mode(devpriv-&gt;dma, DMA_MODE_READ | DMA_AUTOINIT);
 	flags = claim_dma_lock();
@@ -925,7 +925,7 @@ static void pcl818_ai_mode13dma_rtc(int mode, comedi_device * dev,
 	release_dma_lock(flags);
 	enable_dma(devpriv-&gt;dma);
 	devpriv-&gt;last_top_dma = 0;	//devpriv-&gt;hwdmasize[0];
-	pole = (sampl_t *) devpriv-&gt;dmabuf[0];
+	pole = (short *) devpriv-&gt;dmabuf[0];
 	devpriv-&gt;dmasamplsize = devpriv-&gt;hwdmasize[0] / 2;
 	pole[devpriv-&gt;dmasamplsize - 1] = MAGIC_DMA_WORD;
 #ifdef unused
diff --git a/drivers/staging/comedi/drivers/pcm3724.c b/drivers/staging/comedi/drivers/pcm3724.c
index 8e8015bc99f4..c4458442d5be 100644
--- a/drivers/staging/comedi/drivers/pcm3724.c
+++ b/drivers/staging/comedi/drivers/pcm3724.c
@@ -215,7 +215,7 @@ static void enable_chan(comedi_device * dev, comedi_subdevice * s, int chanspec)
 
 /* overriding the 8255 insn config */
 static int subdev_3724_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
 	unsigned int bits;
diff --git a/drivers/staging/comedi/drivers/pcm3730.c b/drivers/staging/comedi/drivers/pcm3730.c
index f633e0db9e8d..1283be635ef8 100644
--- a/drivers/staging/comedi/drivers/pcm3730.c
+++ b/drivers/staging/comedi/drivers/pcm3730.c
@@ -40,7 +40,7 @@ static comedi_driver driver_pcm3730 = {
 COMEDI_INITCLEANUP(driver_pcm3730);
 
 static int pcm3730_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -55,7 +55,7 @@ static int pcm3730_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcm3730_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/pcmad.c b/drivers/staging/comedi/drivers/pcmad.c
index 9fd6242d8133..1a371da6f828 100644
--- a/drivers/staging/comedi/drivers/pcmad.c
+++ b/drivers/staging/comedi/drivers/pcmad.c
@@ -93,7 +93,7 @@ COMEDI_INITCLEANUP(driver_pcmad);
 #define TIMEOUT	100
 
 static int pcmad_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan;
diff --git a/drivers/staging/comedi/drivers/pcmda12.c b/drivers/staging/comedi/drivers/pcmda12.c
index 20357d7cbaaa..c8963cdf5a5f 100644
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -93,7 +93,7 @@ static const pcmda12_board pcmda12_boards[] = {
 #define thisboard ((const pcmda12_board *)dev-&gt;board_ptr)
 
 typedef struct {
-	lsampl_t ao_readback[CHANS];
+	unsigned int ao_readback[CHANS];
 	int simultaneous_xfer_mode;
 } pcmda12_private;
 
@@ -139,9 +139,9 @@ static comedi_driver driver = {
 };
 
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -240,7 +240,7 @@ static void zero_chans(comedi_device * dev)
 }
 
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -282,7 +282,7 @@ static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
    This is useful for some control applications, I would imagine.
 */
 static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 5673b664ca20..739959cd2cfd 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -140,14 +140,14 @@ Configuration Options:
 #define PAGE_INT_ID 3
 
 typedef int (*comedi_insn_fn_t) (comedi_device *, comedi_subdevice *,
-	comedi_insn *, lsampl_t *);
+	comedi_insn *, unsigned int *);
 
 static int ai_rinsn(comedi_device *, comedi_subdevice *, comedi_insn *,
-	lsampl_t *);
+	unsigned int *);
 static int ao_rinsn(comedi_device *, comedi_subdevice *, comedi_insn *,
-	lsampl_t *);
+	unsigned int *);
 static int ao_winsn(comedi_device *, comedi_subdevice *, comedi_insn *,
-	lsampl_t *);
+	unsigned int *);
 
 /*
  * Board descriptions for two imaginary boards.  Describing the
@@ -230,7 +230,7 @@ typedef struct {
 			} intr;
 		} dio;
 		struct {
-			lsampl_t shadow_samples[8];	/* the last lsampl_t data written */
+			unsigned int shadow_samples[8];	/* the last unsigned int data written */
 		} ao;
 	};
 } pcmmio_subdev_private;
@@ -296,9 +296,9 @@ static comedi_driver driver = {
 };
 
 static int pcmmio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pcmmio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG);
 static void pcmmio_stop_intr(comedi_device *, comedi_subdevice *);
@@ -551,7 +551,7 @@ static int pcmmio_detach(comedi_device * dev)
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int pcmmio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
 	if (insn-&gt;n != 2)
@@ -625,7 +625,7 @@ static int pcmmio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
 static int pcmmio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), byte_no = chan / 8, bit_no =
 		chan % 8;
@@ -842,7 +842,7 @@ static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG)
 							if (mytrig &amp; subpriv-&gt;
 								dio.intr.
 								enabled_mask) {
-								lsampl_t val =
+								unsigned int val =
 									0;
 								unsigned int n,
 									ch, len;
@@ -859,10 +859,10 @@ static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG)
 									}
 								}
 								/* Write the scan to the buffer. */
-								if (comedi_buf_put(s-&gt;async, ((sampl_t *) &amp; val)[0])
+								if (comedi_buf_put(s-&gt;async, ((short *) &amp; val)[0])
 									&amp;&amp;
 									comedi_buf_put
-									(s-&gt;async, ((sampl_t *) &amp; val)[1])) {
+									(s-&gt;async, ((short *) &amp; val)[1])) {
 									s-&gt;async-&gt;events |= (COMEDI_CB_BLOCK | COMEDI_CB_EOS);
 								} else {
 									/* Overflow! Stop acquisition!! */
@@ -1195,7 +1195,7 @@ static int adc_wait_ready(unsigned long iobase)
 
 /* All this is for AI and AO */
 static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned long iobase = subpriv-&gt;iobase;
@@ -1218,7 +1218,7 @@ static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 			CR_AREF(insn-&gt;chanspec);
 		unsigned char command_byte = 0;
 		unsigned iooffset = 0;
-		sampl_t sample, adc_adjust = 0;
+		short sample, adc_adjust = 0;
 
 		if (chan &gt; 7)
 			chan -= 8, iooffset = 4;	/* use the second dword for channels &gt; 7 */
@@ -1259,7 +1259,7 @@ static int ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	for (n = 0; n &lt; insn-&gt;n; n++) {
@@ -1289,7 +1289,7 @@ static int wait_dac_ready(unsigned long iobase)
 }
 
 static int ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned iobase = subpriv-&gt;iobase, iooffset = 0;
diff --git a/drivers/staging/comedi/drivers/pcmuio.c b/drivers/staging/comedi/drivers/pcmuio.c
index 8458b054331c..f40f91987e30 100644
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -254,9 +254,9 @@ static comedi_driver driver = {
 };
 
 static int pcmuio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pcmuio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG);
 static void pcmuio_stop_intr(comedi_device *, comedi_subdevice *);
@@ -475,7 +475,7 @@ static int pcmuio_detach(comedi_device * dev)
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int pcmuio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
 	if (insn-&gt;n != 2)
@@ -549,7 +549,7 @@ static int pcmuio_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
 static int pcmuio_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec), byte_no = chan / 8, bit_no =
 		chan % 8;
@@ -764,7 +764,7 @@ static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG)
 							if (mytrig &amp; subpriv-&gt;
 								intr.
 								enabled_mask) {
-								lsampl_t val =
+								unsigned int val =
 									0;
 								unsigned int n,
 									ch, len;
@@ -781,10 +781,10 @@ static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG)
 									}
 								}
 								/* Write the scan to the buffer. */
-								if (comedi_buf_put(s-&gt;async, ((sampl_t *) &amp; val)[0])
+								if (comedi_buf_put(s-&gt;async, ((short *) &amp; val)[0])
 									&amp;&amp;
 									comedi_buf_put
-									(s-&gt;async, ((sampl_t *) &amp; val)[1])) {
+									(s-&gt;async, ((short *) &amp; val)[1])) {
 									s-&gt;async-&gt;events |= (COMEDI_CB_BLOCK | COMEDI_CB_EOS);
 								} else {
 									/* Overflow! Stop acquisition!! */
diff --git a/drivers/staging/comedi/drivers/poc.c b/drivers/staging/comedi/drivers/poc.c
index 19b143fd1dac..d9147d18882d 100644
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -44,14 +44,14 @@ Configuration options:
 static int poc_attach(comedi_device * dev, comedi_devconfig * it);
 static int poc_detach(comedi_device * dev);
 static int readback_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 static int dac02_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pcl733_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int pcl734_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 struct boarddef_struct {
 	const char *name;
@@ -61,11 +61,11 @@ struct boarddef_struct {
 	int n_chan;
 	int n_bits;
 	int (*winsn) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 	int (*rinsn) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 	int (*insnbits) (comedi_device *, comedi_subdevice *, comedi_insn *,
-		lsampl_t *);
+		unsigned int *);
 	const comedi_lrange *range;
 };
 static const struct boarddef_struct boards[] = {
@@ -140,7 +140,7 @@ static int poc_attach(comedi_device * dev, comedi_devconfig * it)
 
 	if (alloc_subdevices(dev, 1) &lt; 0)
 		return -ENOMEM;
-	if (alloc_private(dev, sizeof(lsampl_t) * this_board-&gt;n_chan) &lt; 0)
+	if (alloc_private(dev, sizeof(unsigned int) * this_board-&gt;n_chan) &lt; 0)
 		return -ENOMEM;
 
 	/* analog output subdevice */
@@ -171,12 +171,12 @@ static int poc_detach(comedi_device * dev)
 }
 
 static int readback_insn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan;
 
 	chan = CR_CHAN(insn-&gt;chanspec);
-	data[0] = ((lsampl_t *) dev-&gt;private)[chan];
+	data[0] = ((unsigned int *) dev-&gt;private)[chan];
 
 	return 1;
 }
@@ -186,14 +186,14 @@ static int readback_insn(comedi_device * dev, comedi_subdevice * s,
 #define DAC02_MSB(a)	(2 * a + 1)
 
 static int dac02_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int temp;
 	int chan;
 	int output;
 
 	chan = CR_CHAN(insn-&gt;chanspec);
-	((lsampl_t *) dev-&gt;private)[chan] = data[0];
+	((unsigned int *) dev-&gt;private)[chan] = data[0];
 	output = data[0];
 #ifdef wrong
 	// convert to complementary binary if range is bipolar
@@ -209,7 +209,7 @@ static int dac02_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl733_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -223,7 +223,7 @@ static int pcl733_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int pcl734_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/quatech_daqp_cs.c b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
index 04fe5e397b55..ac34c5183c0c 100644
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -313,7 +313,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 		while (!((status = inb(dev-&gt;iobase + DAQP_STATUS))
 				&amp; DAQP_STATUS_FIFO_EMPTY)) {
 
-			sampl_t data;
+			short data;
 
 			if (status &amp; DAQP_STATUS_DATA_LOST) {
 				s-&gt;async-&gt;events |=
@@ -362,7 +362,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 /* One-shot analog data acquisition routine */
 
 static int daqp_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 	int i;
@@ -794,7 +794,7 @@ static int daqp_ai_cmd(comedi_device * dev, comedi_subdevice * s)
 /* Single-shot analog output routine */
 
 static int daqp_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 	int d;
@@ -821,7 +821,7 @@ static int daqp_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 /* Digital input routine */
 
 static int daqp_di_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 
@@ -837,7 +837,7 @@ static int daqp_di_insn_read(comedi_device * dev, comedi_subdevice * s,
 /* Digital output routine */
 
 static int daqp_do_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s-&gt;private;
 
diff --git a/drivers/staging/comedi/drivers/rtd520.c b/drivers/staging/comedi/drivers/rtd520.c
index f2fa4faa24a8..571fa54c4d38 100644
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -334,7 +334,7 @@ struct rtdPrivate {
 	unsigned char chanBipolar[RTD_MAX_CHANLIST / 8];	/* bit array */
 
 	/* read back data */
-	lsampl_t aoValue[2];	/* Used for AO read back */
+	unsigned int aoValue[2];	/* Used for AO read back */
 
 	/* timer gate (when enabled) */
 	u8 utcGate[4];		/* 1 extra allows simple range check */
@@ -691,15 +691,15 @@ static comedi_driver rtd520Driver = {
 };
 
 static int rtd_ai_rinsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int rtd_ao_winsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int rtd_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int rtd_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int rtd_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int rtd_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
 	comedi_cmd *cmd);
 static int rtd_ai_cmd(comedi_device *dev, comedi_subdevice *s);
@@ -1211,7 +1211,7 @@ static void rtd_load_channelgain_list(comedi_device *dev,
 empty status flag clears */
 static int rtd520_probe_fifo_depth(comedi_device *dev)
 {
-	lsampl_t chanspec = CR_PACK(0, 0, AREF_GROUND);
+	unsigned int chanspec = CR_PACK(0, 0, AREF_GROUND);
 	unsigned i;
 	static const unsigned limit = 0x2000;
 	unsigned fifo_size = 0;
@@ -1255,7 +1255,7 @@ static int rtd520_probe_fifo_depth(comedi_device *dev)
   select, delay, then read.
  */
 static int rtd_ai_rinsn(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int n, ii;
 	int stat;
@@ -1312,7 +1312,7 @@ static int ai_read_n(comedi_device *dev, comedi_subdevice *s, int count)
 	int ii;
 
 	for (ii = 0; ii &lt; count; ii++) {
-		sampl_t sample;
+		short sample;
 		s16 d;
 
 		if (0 == devpriv-&gt;aiCount) {	/* done */
@@ -1349,7 +1349,7 @@ static int ai_read_n(comedi_device *dev, comedi_subdevice *s, int count)
 static int ai_read_dregs(comedi_device *dev, comedi_subdevice *s)
 {
 	while (RtdFifoStatus(dev) &amp; FS_ADC_NOT_EMPTY) {	/* 1 -&gt; not empty */
-		sampl_t sample;
+		short sample;
 		s16 d = RtdAdcFifoGet(dev);	/* get 2s comp value */
 
 		if (0 == devpriv-&gt;aiCount) {	/* done */
@@ -1444,7 +1444,7 @@ static int ai_process_dma(comedi_device *dev, comedi_subdevice *s)
 
 	dp = devpriv-&gt;dma0Buff[devpriv-&gt;dma0Offset];
 	for (ii = 0; ii &lt; devpriv-&gt;fifoLen / 2;) {	/* convert samples */
-		sampl_t sample;
+		short sample;
 
 		if (CHAN_ARRAY_TEST(devpriv-&gt;chanBipolar, s-&gt;async-&gt;cur_chan)) {
 			sample = (*dp &gt;&gt; 3) + 2048;	/* convert to comedi unsigned data */
@@ -2136,7 +2136,7 @@ static int rtd_ns_to_timer(unsigned int *ns, int round_mode)
   Output one (or more) analog values to a single port as fast as possible.
 */
 static int rtd_ao_winsn(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2191,7 +2191,7 @@ static int rtd_ao_winsn(comedi_device *dev,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int rtd_ao_rinsn(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -2214,7 +2214,7 @@ static int rtd_ao_rinsn(comedi_device *dev,
  * comedi core can convert between insn_bits and insn_read/write
  */
 static int rtd_dio_insn_bits(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -2241,7 +2241,7 @@ static int rtd_dio_insn_bits(comedi_device *dev,
   Configure one bit on a IO port as Input or Output (hence the name :-).
 */
 static int rtd_dio_insn_config(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/rti800.c b/drivers/staging/comedi/drivers/rti800.c
index 35250b9ae448..0cefcb39db7c 100644
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -162,7 +162,7 @@ typedef struct {
 		dac_2comp, dac_straight
 	} dac0_coding, dac1_coding;
 	const comedi_lrange *ao_range_type_list[2];
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 	int muxgain_bits;
 } rti800_private;
 
@@ -179,7 +179,7 @@ static irqreturn_t rti800_interrupt(int irq, void *dev PT_REGS_ARG)
 static const int gaindelay[] = { 10, 20, 40, 80 };
 
 static int rti800_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
 	int status;
@@ -232,7 +232,7 @@ static int rti800_ai_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int rti800_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -244,7 +244,7 @@ static int rti800_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int rti800_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 	int d;
@@ -264,7 +264,7 @@ static int rti800_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int rti800_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -273,7 +273,7 @@ static int rti800_di_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int rti800_do_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
diff --git a/drivers/staging/comedi/drivers/rti802.c b/drivers/staging/comedi/drivers/rti802.c
index 8ab968d0ffa4..058a4c066205 100644
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -63,13 +63,13 @@ typedef struct {
 		dac_2comp, dac_straight
 	} dac_coding[8];
 	const comedi_lrange *range_type_list[8];
-	lsampl_t ao_readback[8];
+	unsigned int ao_readback[8];
 } rti802_private;
 
 #define devpriv ((rti802_private *)dev-&gt;private)
 
 static int rti802_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -80,7 +80,7 @@ static int rti802_ao_insn_read(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int rti802_ao_insn_write(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i, d;
 	int chan = CR_CHAN(insn-&gt;chanspec);
diff --git a/drivers/staging/comedi/drivers/s526.c b/drivers/staging/comedi/drivers/s526.c
index 20ac48e81514..c9bd985f9932 100644
--- a/drivers/staging/comedi/drivers/s526.c
+++ b/drivers/staging/comedi/drivers/s526.c
@@ -198,7 +198,7 @@ typedef struct {
 	struct pci_dev *pci_dev;
 
 	/* Used for AO readback */
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 
 	s526_gpct_config_t s526_gpct_config[4];
 	unsigned short s526_ai_config;
@@ -246,23 +246,23 @@ static comedi_driver driver_s526 = {
 };
 
 static int s526_gpct_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int s526_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -275,7 +275,7 @@ static int s526_attach(comedi_device * dev, comedi_devconfig * it)
 	comedi_subdevice *s;
 	int iobase;
 	int i, n;
-//      sampl_t value;
+//      short value;
 //      int subdev_channel = 0;
 
 	printk("comedi%d: s526: ", dev-&gt;minor);
@@ -428,11 +428,11 @@ static int s526_attach(comedi_device * dev, comedi_devconfig * it)
 	printk("Read back mode reg=0x%04x\n", inw(ADDR_CHAN_REG(REG_C0M, n)));
 
 	// Load the pre-laod register high word
-//                      value = (sampl_t) (0x55);
+//                      value = (short) (0x55);
 //                      outw(value, ADDR_CHAN_REG(REG_C0H, n));
 
 	// Load the pre-laod register low word
-//                      value = (sampl_t)(0xaa55);
+//                      value = (short)(0xaa55);
 //                      outw(value, ADDR_CHAN_REG(REG_C0L, n));
 
 	// Write the Counter Control Register
@@ -477,7 +477,7 @@ static int s526_detach(comedi_device * dev)
 }
 
 static int s526_gpct_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;			// counts the Data
 	int counter_channel = CR_CHAN(insn-&gt;chanspec);
@@ -501,11 +501,11 @@ static int s526_gpct_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn-&gt;chanspec);	// Unpack chanspec
 	int i;
-	sampl_t value;
+	short value;
 
 //        printk("s526: GPCT_INSN_CONFIG: Configuring Channel %d\n", subdev_channel);
 
@@ -602,20 +602,20 @@ static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
 			cmReg.reg.autoLoadResetRcap = 4;	// Auto load with INDEX^
 
 		// Set Counter Mode Register
-		cmReg.value = (sampl_t) (insn-&gt;data[1] &amp; 0xFFFF);
+		cmReg.value = (short) (insn-&gt;data[1] &amp; 0xFFFF);
 		outw(cmReg.value, ADDR_CHAN_REG(REG_C0M, subdev_channel));
 
 		// Load the pre-laod register high word
-		value = (sampl_t) ((insn-&gt;data[2] &gt;&gt; 16) &amp; 0xFFFF);
+		value = (short) ((insn-&gt;data[2] &gt;&gt; 16) &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0H, subdev_channel));
 
 		// Load the pre-laod register low word
-		value = (sampl_t) (insn-&gt;data[2] &amp; 0xFFFF);
+		value = (short) (insn-&gt;data[2] &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0L, subdev_channel));
 
 		// Write the Counter Control Register
 		if (insn-&gt;data[3] != 0) {
-			value = (sampl_t) (insn-&gt;data[3] &amp; 0xFFFF);
+			value = (short) (insn-&gt;data[3] &amp; 0xFFFF);
 			outw(value, ADDR_CHAN_REG(REG_C0C, subdev_channel));
 		}
 		// Reset the counter if it is software preload
@@ -639,34 +639,34 @@ static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
 			SinglePulseGeneration;
 
 		// Set Counter Mode Register
-		cmReg.value = (sampl_t) (insn-&gt;data[1] &amp; 0xFFFF);
+		cmReg.value = (short) (insn-&gt;data[1] &amp; 0xFFFF);
 		cmReg.reg.preloadRegSel = 0;	// PR0
 		outw(cmReg.value, ADDR_CHAN_REG(REG_C0M, subdev_channel));
 
 		// Load the pre-laod register 0 high word
-		value = (sampl_t) ((insn-&gt;data[2] &gt;&gt; 16) &amp; 0xFFFF);
+		value = (short) ((insn-&gt;data[2] &gt;&gt; 16) &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0H, subdev_channel));
 
 		// Load the pre-laod register 0 low word
-		value = (sampl_t) (insn-&gt;data[2] &amp; 0xFFFF);
+		value = (short) (insn-&gt;data[2] &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0L, subdev_channel));
 
 		// Set Counter Mode Register
-		cmReg.value = (sampl_t) (insn-&gt;data[1] &amp; 0xFFFF);
+		cmReg.value = (short) (insn-&gt;data[1] &amp; 0xFFFF);
 		cmReg.reg.preloadRegSel = 1;	// PR1
 		outw(cmReg.value, ADDR_CHAN_REG(REG_C0M, subdev_channel));
 
 		// Load the pre-laod register 1 high word
-		value = (sampl_t) ((insn-&gt;data[3] &gt;&gt; 16) &amp; 0xFFFF);
+		value = (short) ((insn-&gt;data[3] &gt;&gt; 16) &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0H, subdev_channel));
 
 		// Load the pre-laod register 1 low word
-		value = (sampl_t) (insn-&gt;data[3] &amp; 0xFFFF);
+		value = (short) (insn-&gt;data[3] &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0L, subdev_channel));
 
 		// Write the Counter Control Register
 		if (insn-&gt;data[3] != 0) {
-			value = (sampl_t) (insn-&gt;data[3] &amp; 0xFFFF);
+			value = (short) (insn-&gt;data[3] &amp; 0xFFFF);
 			outw(value, ADDR_CHAN_REG(REG_C0C, subdev_channel));
 		}
 		break;
@@ -684,34 +684,34 @@ static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
 			PulseTrainGeneration;
 
 		// Set Counter Mode Register
-		cmReg.value = (sampl_t) (insn-&gt;data[1] &amp; 0xFFFF);
+		cmReg.value = (short) (insn-&gt;data[1] &amp; 0xFFFF);
 		cmReg.reg.preloadRegSel = 0;	// PR0
 		outw(cmReg.value, ADDR_CHAN_REG(REG_C0M, subdev_channel));
 
 		// Load the pre-laod register 0 high word
-		value = (sampl_t) ((insn-&gt;data[2] &gt;&gt; 16) &amp; 0xFFFF);
+		value = (short) ((insn-&gt;data[2] &gt;&gt; 16) &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0H, subdev_channel));
 
 		// Load the pre-laod register 0 low word
-		value = (sampl_t) (insn-&gt;data[2] &amp; 0xFFFF);
+		value = (short) (insn-&gt;data[2] &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0L, subdev_channel));
 
 		// Set Counter Mode Register
-		cmReg.value = (sampl_t) (insn-&gt;data[1] &amp; 0xFFFF);
+		cmReg.value = (short) (insn-&gt;data[1] &amp; 0xFFFF);
 		cmReg.reg.preloadRegSel = 1;	// PR1
 		outw(cmReg.value, ADDR_CHAN_REG(REG_C0M, subdev_channel));
 
 		// Load the pre-laod register 1 high word
-		value = (sampl_t) ((insn-&gt;data[3] &gt;&gt; 16) &amp; 0xFFFF);
+		value = (short) ((insn-&gt;data[3] &gt;&gt; 16) &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0H, subdev_channel));
 
 		// Load the pre-laod register 1 low word
-		value = (sampl_t) (insn-&gt;data[3] &amp; 0xFFFF);
+		value = (short) (insn-&gt;data[3] &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0L, subdev_channel));
 
 		// Write the Counter Control Register
 		if (insn-&gt;data[3] != 0) {
-			value = (sampl_t) (insn-&gt;data[3] &amp; 0xFFFF);
+			value = (short) (insn-&gt;data[3] &amp; 0xFFFF);
 			outw(value, ADDR_CHAN_REG(REG_C0C, subdev_channel));
 		}
 		break;
@@ -726,10 +726,10 @@ static int s526_gpct_insn_config(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn-&gt;chanspec);	// Unpack chanspec
-	sampl_t value;
+	short value;
 
 	printk("s526: GPCT_INSN_WRITE on channel %d\n", subdev_channel);
 	cmReg.value = inw(ADDR_CHAN_REG(REG_C0M, subdev_channel));
@@ -769,9 +769,9 @@ static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
 			return -EINVAL;
 		}
 
-		value = (sampl_t) ((*data &gt;&gt; 16) &amp; 0xFFFF);
+		value = (short) ((*data &gt;&gt; 16) &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0H, subdev_channel));
-		value = (sampl_t) (*data &amp; 0xFFFF);
+		value = (short) (*data &amp; 0xFFFF);
 		outw(value, ADDR_CHAN_REG(REG_C0L, subdev_channel));
 		break;
 	default:		// Impossible
@@ -785,7 +785,7 @@ static int s526_gpct_winsn(comedi_device * dev, comedi_subdevice * s,
 
 #define ISR_ADC_DONE 0x4
 static int s526_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int result = -EINVAL;
 
@@ -818,7 +818,7 @@ static int s526_ai_insn_config(comedi_device * dev, comedi_subdevice * s,
  * mode.
  */
 static int s526_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -868,7 +868,7 @@ static int s526_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int s526_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -897,7 +897,7 @@ static int s526_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int s526_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -914,7 +914,7 @@ static int s526_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int s526_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -939,10 +939,10 @@ static int s526_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int s526_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
-	sampl_t value;
+	short value;
 
 	printk("S526 DIO insn_config\n");
 
diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index 9323fa00fbb8..a4f4de69da76 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -157,7 +157,7 @@ struct s626_private {
 	uint32_t I2CAdrs;
 	/* I2C device address for onboard EEPROM (board rev dependent). */
 	/*   short         I2Cards; */
-	lsampl_t ao_readback[S626_DAC_CHANNELS];
+	unsigned int ao_readback[S626_DAC_CHANNELS];
 };
 
 struct dio_private {
@@ -223,39 +223,39 @@ COMEDI_PCI_INITCLEANUP_NOMODULE(driver_s626, s626_pci_table);
 
 /* ioctl routines */
 static int s626_ai_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
-/* static int s626_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data); */
+	comedi_insn *insn, unsigned int *data);
+/* static int s626_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
 static int s626_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_ai_cmd(comedi_device *dev, comedi_subdevice *s);
 static int s626_ai_cmdtest(comedi_device *dev, comedi_subdevice *s,
 	comedi_cmd *cmd);
 static int s626_ai_cancel(comedi_device *dev, comedi_subdevice *s);
 static int s626_ao_winsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_dio_set_irq(comedi_device *dev, unsigned int chan);
 static int s626_dio_reset_irq(comedi_device *dev, unsigned int gruop,
 	unsigned int mask);
 static int s626_dio_clear_irq(comedi_device *dev);
 static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data);
+	comedi_insn *insn, unsigned int *data);
 static int s626_ns_to_timer(int *nanosec, int round_mode);
 static int s626_ai_load_polllist(uint8_t *ppl, comedi_cmd *cmd);
 static int s626_ai_inttrig(comedi_device *dev, comedi_subdevice *s,
 	unsigned int trignum);
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG);
-static lsampl_t s626_ai_reg_to_uint(int data);
-/* static lsampl_t s626_uint_to_reg(comedi_subdevice *s, int data); */
+static unsigned int s626_ai_reg_to_uint(int data);
+/* static unsigned int s626_uint_to_reg(comedi_subdevice *s, int data); */
 
 /* end ioctl routines */
 
@@ -951,9 +951,9 @@ static int s626_attach(comedi_device *dev, comedi_devconfig *it)
 	return 1;
 }
 
-static lsampl_t s626_ai_reg_to_uint(int data)
+static unsigned int s626_ai_reg_to_uint(int data)
 {
-	lsampl_t tempdata;
+	unsigned int tempdata;
 
 	tempdata = (data &gt;&gt; 18);
 	if (tempdata &amp; 0x2000)
@@ -964,7 +964,7 @@ static lsampl_t s626_ai_reg_to_uint(int data)
 	return tempdata;
 }
 
-/* static lsampl_t s626_uint_to_reg(comedi_subdevice *s, int data){ */
+/* static unsigned int s626_uint_to_reg(comedi_subdevice *s, int data){ */
 /*   return 0; */
 /* } */
 
@@ -978,7 +978,7 @@ static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 	int32_t *readaddr;
 	uint32_t irqtype, irqstatus;
 	int i = 0;
-	sampl_t tempdata;
+	short tempdata;
 	uint8_t group;
 	uint16_t irqbit;
 
@@ -1504,13 +1504,13 @@ void ResetADC(comedi_device *dev, uint8_t *ppl)
 
 /* TO COMPLETE, IF NECESSARY */
 static int s626_ai_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 
 	return -EINVAL;
 }
 
-/* static int s626_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,lsampl_t *data) */
+/* static int s626_ai_rinsn(comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
 /* { */
 /*   register uint8_t	i; */
 /*   register int32_t	*readaddr; */
@@ -1541,7 +1541,7 @@ static int s626_ai_insn_config(comedi_device *dev, comedi_subdevice *s,
 /* } */
 
 static int s626_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t chan = CR_CHAN(insn-&gt;chanspec);
 	uint16_t range = CR_RANGE(insn-&gt;chanspec);
@@ -2046,7 +2046,7 @@ static int s626_ns_to_timer(int *nanosec, int round_mode)
 }
 
 static int s626_ao_winsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 
 	int i;
@@ -2065,7 +2065,7 @@ static int s626_ao_winsn(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int s626_ao_rinsn(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	int i;
 
@@ -2111,7 +2111,7 @@ static void s626_dio_init(comedi_device *dev)
  * core can convert between insn_bits and insn_read/write */
 
 static int s626_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 
 	/* Length of data must be 2 (mask and new data, see below) */
@@ -2147,7 +2147,7 @@ static int s626_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int s626_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 
 	switch (data[0]) {
@@ -2252,7 +2252,7 @@ static int s626_dio_clear_irq(comedi_device *dev)
    and set the subdevice. To complete with trigger and interrupt
    configuration */
 static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t Setup = (LOADSRC_INDX &lt;&lt; BF_LOADSRC) |	/*  Preload upon */
 		/*  index. */
@@ -2282,7 +2282,7 @@ static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 
 	int n;
@@ -2300,7 +2300,7 @@ static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
-	comedi_insn *insn, lsampl_t *data)
+	comedi_insn *insn, unsigned int *data)
 {
 
 	struct enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
diff --git a/drivers/staging/comedi/drivers/serial2002.c b/drivers/staging/comedi/drivers/serial2002.c
index 6436a3d71be7..65bbf5cb0e9f 100644
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -70,7 +70,7 @@ typedef struct {
 	int port;		// /dev/ttyS&lt;port&gt;
 	int speed;		// baudrate
 	struct file *tty;
-	lsampl_t ao_readback[32];
+	unsigned int ao_readback[32];
 	unsigned char digital_in_mapping[32];
 	unsigned char digital_out_mapping[32];
 	unsigned char analog_in_mapping[32];
@@ -98,15 +98,15 @@ comedi_driver driver_serial2002 = {
 };
 
 static int serial2002_di_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int serial2002_do_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int serial2002_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int serial2002_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int serial2002_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 
 struct serial_data {
 	enum { is_invalid, is_digital, is_channel } kind;
@@ -614,7 +614,7 @@ static void serial_2002_open(comedi_device * dev)
 					kfree(s-&gt;maxdata_list);
 				}
 				s-&gt;maxdata_list = maxdata_list =
-					kmalloc(sizeof(lsampl_t) * s-&gt;n_chan,
+					kmalloc(sizeof(unsigned int) * s-&gt;n_chan,
 					GFP_KERNEL);
 				if (s-&gt;range_table_list) {
 					kfree(s-&gt;range_table_list);
@@ -661,7 +661,7 @@ static void serial_2002_close(comedi_device * dev)
 }
 
 static int serial2002_di_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan;
@@ -683,7 +683,7 @@ static int serial2002_di_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int serial2002_do_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan;
@@ -701,7 +701,7 @@ static int serial2002_do_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int serial2002_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan;
@@ -723,7 +723,7 @@ static int serial2002_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int serial2002_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan;
@@ -742,7 +742,7 @@ static int serial2002_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int serial2002_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -755,7 +755,7 @@ static int serial2002_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int serial2002_ei_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan;
diff --git a/drivers/staging/comedi/drivers/skel.c b/drivers/staging/comedi/drivers/skel.c
index bb3d84ccc060..7a2e0ce409ed 100644
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -137,7 +137,7 @@ typedef struct {
 	struct pci_dev *pci_dev;
 
 	/* Used for AO readback */
-	lsampl_t ao_readback[2];
+	unsigned int ao_readback[2];
 } skel_private;
 /*
  * most drivers define the following macro to make it easy to
@@ -182,15 +182,15 @@ static comedi_driver driver_skel = {
 };
 
 static int skel_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int skel_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int skel_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int skel_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int skel_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int skel_ai_cmdtest(comedi_device * dev, comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int skel_ns_to_timer(unsigned int *ns, int round);
@@ -299,7 +299,7 @@ static int skel_detach(comedi_device * dev)
  * mode.
  */
 static int skel_ai_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
 	unsigned int d;
@@ -516,7 +516,7 @@ static int skel_ns_to_timer(unsigned int *ns, int round)
 }
 
 static int skel_ao_winsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -537,7 +537,7 @@ static int skel_ao_winsn(comedi_device * dev, comedi_subdevice * s,
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int skel_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -554,7 +554,7 @@ static int skel_ao_rinsn(comedi_device * dev, comedi_subdevice * s,
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
 static int skel_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	if (insn-&gt;n != 2)
 		return -EINVAL;
@@ -579,7 +579,7 @@ static int skel_dio_insn_bits(comedi_device * dev, comedi_subdevice * s,
 }
 
 static int skel_dio_insn_config(comedi_device * dev, comedi_subdevice * s,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
diff --git a/drivers/staging/comedi/drivers/ssv_dnp.c b/drivers/staging/comedi/drivers/ssv_dnp.c
index 242ec4eef313..f2465a2bf8e5 100644
--- a/drivers/staging/comedi/drivers/ssv_dnp.c
+++ b/drivers/staging/comedi/drivers/ssv_dnp.c
@@ -104,10 +104,10 @@ static comedi_driver driver_dnp = {
 COMEDI_INITCLEANUP(driver_dnp);
 
 static int dnp_dio_insn_bits(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int dnp_dio_insn_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data);
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* ------------------------------------------------------------------------- */
 /* Attach is called by comedi core to configure the driver for a particular  */
@@ -201,7 +201,7 @@ static int dnp_detach(comedi_device * dev)
 /* ------------------------------------------------------------------------- */
 
 static int dnp_dio_insn_bits(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if (insn-&gt;n != 2)
@@ -251,7 +251,7 @@ static int dnp_dio_insn_bits(comedi_device * dev,
 /* ------------------------------------------------------------------------- */
 
 static int dnp_dio_insn_config(comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, lsampl_t * data)
+	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	u8 register_buffer;
diff --git a/drivers/staging/comedi/drivers/unioxx5.c b/drivers/staging/comedi/drivers/unioxx5.c
index 82850a53dcdf..8df437af9dcc 100644
--- a/drivers/staging/comedi/drivers/unioxx5.c
+++ b/drivers/staging/comedi/drivers/unioxx5.c
@@ -82,22 +82,22 @@ typedef struct unioxx5_subd_priv {
 
 static int unioxx5_attach(comedi_device * dev, comedi_devconfig * it);
 static int unioxx5_subdev_write(comedi_device * dev, comedi_subdevice * subdev,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int unioxx5_subdev_read(comedi_device * dev, comedi_subdevice * subdev,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int unioxx5_insn_config(comedi_device * dev, comedi_subdevice * subdev,
-	comedi_insn * insn, lsampl_t * data);
+	comedi_insn * insn, unsigned int * data);
 static int unioxx5_detach(comedi_device * dev);
 static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
 	int minor);
-static int __unioxx5_digital_write(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_digital_write(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor);
-static int __unioxx5_digital_read(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_digital_read(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor);
 //static void __unioxx5_digital_config(unioxx5_subd_priv* usp, int mode);
-static int __unioxx5_analog_write(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_analog_write(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor);
-static int __unioxx5_analog_read(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_analog_read(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor);
 static int __unioxx5_define_chan_offset(int chan_num);
 static void __unioxx5_analog_config(unioxx5_subd_priv * usp, int channel);
@@ -157,7 +157,7 @@ static int unioxx5_attach(comedi_device * dev, comedi_devconfig * it)
 }
 
 static int unioxx5_subdev_read(comedi_device * dev, comedi_subdevice * subdev,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev-&gt;private;
 	int channel, type;
@@ -177,7 +177,7 @@ static int unioxx5_subdev_read(comedi_device * dev, comedi_subdevice * subdev,
 }
 
 static int unioxx5_subdev_write(comedi_device * dev, comedi_subdevice * subdev,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev-&gt;private;
 	int channel, type;
@@ -198,7 +198,7 @@ static int unioxx5_subdev_write(comedi_device * dev, comedi_subdevice * subdev,
 
 /* for digital modules only */
 static int unioxx5_insn_config(comedi_device * dev, comedi_subdevice * subdev,
-	comedi_insn * insn, lsampl_t * data)
+	comedi_insn * insn, unsigned int * data)
 {
 	int channel_offset, flags, channel = CR_CHAN(insn-&gt;chanspec), type;
 	unioxx5_subd_priv *usp = subdev-&gt;private;
@@ -330,7 +330,7 @@ static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
 	return 0;
 }
 
-static int __unioxx5_digital_write(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_digital_write(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor)
 {
 	int channel_offset, val;
@@ -357,7 +357,7 @@ static int __unioxx5_digital_write(unioxx5_subd_priv * usp, lsampl_t * data,
 }
 
 /* function for digital reading */
-static int __unioxx5_digital_read(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_digital_read(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor)
 {
 	int channel_offset, mask = 1 &lt;&lt; (channel &amp; 0x07);
@@ -396,7 +396,7 @@ static void __unioxx5_digital_config(unioxx5_subd_priv * usp, int mode)
 }
 #endif
 
-static int __unioxx5_analog_write(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_analog_write(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor)
 {
 	int module, i;
@@ -431,7 +431,7 @@ static int __unioxx5_analog_write(unioxx5_subd_priv * usp, lsampl_t * data,
 	return 1;
 }
 
-static int __unioxx5_analog_read(unioxx5_subd_priv * usp, lsampl_t * data,
+static int __unioxx5_analog_read(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor)
 {
 	int module_no, read_ch;
diff --git a/drivers/staging/comedi/drivers/usbdux.c b/drivers/staging/comedi/drivers/usbdux.c
index 0e02e646dad6..68566295443a 100644
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -253,7 +253,7 @@ struct usbduxsub {
 	/* pwm-transfer handling */
 	struct urb *urbPwm;
 	/* PWM period */
-	lsampl_t pwmPeriod;
+	unsigned int pwmPeriod;
 	/* PWM internal delay for the GPIF in the FX2 */
 	int8_t pwmDelay;
 	/* size of the PWM buffer which holds the bit pattern */
@@ -656,7 +656,7 @@ static void usbduxsub_ao_IsocIrq(struct urb *urb)
 		((uint8_t *) (urb-&gt;transfer_buffer))[0] =
 			s-&gt;async-&gt;cmd.chanlist_len;
 		for (i = 0; i &lt; s-&gt;async-&gt;cmd.chanlist_len; i++) {
-			sampl_t temp;
+			short temp;
 			if (i &gt;= NUMOUTCHANNELS)
 				break;
 
@@ -1277,10 +1277,10 @@ static int usbdux_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 
 /* Mode 0 is used to get a single conversion on demand */
 static int usbdux_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
-			       comedi_insn *insn, lsampl_t *data)
+			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
-	lsampl_t one = 0;
+	unsigned int one = 0;
 	int chan, range;
 	int err;
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -1338,7 +1338,7 @@ static int usbdux_ai_insn_read(comedi_device *dev, comedi_subdevice *s,
 /* analog out */
 
 static int usbdux_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
-			       comedi_insn *insn, lsampl_t *data)
+			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1360,7 +1360,7 @@ static int usbdux_ao_insn_read(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int usbdux_ao_insn_write(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data)
+				comedi_insn *insn, unsigned int *data)
 {
 	int i, err;
 	int chan = CR_CHAN(insn-&gt;chanspec);
@@ -1698,7 +1698,7 @@ static int usbdux_ao_cmd(comedi_device *dev, comedi_subdevice *s)
 }
 
 static int usbdux_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
-				  comedi_insn *insn, lsampl_t *data)
+				  comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn-&gt;chanspec);
 
@@ -1729,7 +1729,7 @@ static int usbdux_dio_insn_config(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int usbdux_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data)
+				comedi_insn *insn, unsigned int *data)
 {
 
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
@@ -1776,7 +1776,7 @@ static int usbdux_dio_insn_bits(comedi_device *dev, comedi_subdevice *s,
 
 /* reads the 4 counters, only two are used just now */
 static int usbdux_counter_read(comedi_device *dev, comedi_subdevice *s,
-			       comedi_insn *insn, lsampl_t *data)
+			       comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int chan = insn-&gt;chanspec;
@@ -1810,7 +1810,7 @@ static int usbdux_counter_read(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int usbdux_counter_write(comedi_device *dev, comedi_subdevice *s,
-				comedi_insn *insn, lsampl_t *data)
+				comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int err;
@@ -1840,7 +1840,7 @@ static int usbdux_counter_write(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int usbdux_counter_config(comedi_device *dev, comedi_subdevice *s,
-				 comedi_insn *insn, lsampl_t *data)
+				 comedi_insn *insn, unsigned int *data)
 {
 	/* nothing to do so far */
 	return 2;
@@ -1997,7 +1997,7 @@ static int usbduxsub_submit_PwmURBs(struct usbduxsub *usbduxsub)
 }
 
 static int usbdux_pwm_period(comedi_device *dev, comedi_subdevice *s,
-			     lsampl_t period)
+			     unsigned int period)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int fx2delay = 255;
@@ -2057,7 +2057,7 @@ static int usbdux_pwm_start(comedi_device *dev, comedi_subdevice *s)
 
 /* generates the bit pattern for PWM with the optional sign bit */
 static int usbdux_pwm_pattern(comedi_device *dev, comedi_subdevice *s,
-			      int channel, lsampl_t value, lsampl_t sign)
+			      int channel, unsigned int value, unsigned int sign)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	int i, szbuf;
@@ -2098,7 +2098,7 @@ static int usbdux_pwm_pattern(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int usbdux_pwm_write(comedi_device *dev, comedi_subdevice *s,
-			    comedi_insn *insn, lsampl_t *data)
+			    comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 
@@ -2123,7 +2123,7 @@ static int usbdux_pwm_write(comedi_device *dev, comedi_subdevice *s,
 }
 
 static int usbdux_pwm_read(comedi_device *x1, comedi_subdevice *x2,
-			   comedi_insn *x3, lsampl_t *x4)
+			   comedi_insn *x3, unsigned int *x4)
 {
 	/* not needed */
 	return -EINVAL;
@@ -2131,7 +2131,7 @@ static int usbdux_pwm_read(comedi_device *x1, comedi_subdevice *x2,
 
 /* switches on/off PWM */
 static int usbdux_pwm_config(comedi_device *dev, comedi_subdevice *s,
-			     comedi_insn *insn, lsampl_t *data)
+			     comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev-&gt;private;
 	switch (data[0]) {
diff --git a/drivers/staging/comedi/drivers/usbduxfast.c b/drivers/staging/comedi/drivers/usbduxfast.c
index 95b5807bcd41..aa21914318c8 100644
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -1231,7 +1231,7 @@ static int usbduxfast_ai_cmd(comedi_device *dev, comedi_subdevice *s)
  * Mode 0 is used to get a single conversion on demand.
  */
 static int usbduxfast_ai_insn_read(comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, lsampl_t *data)
+	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i, j, n, actual_length;
 	int chan, range, rngmask;
diff --git a/drivers/staging/comedi/kcomedilib/data.c b/drivers/staging/comedi/kcomedilib/data.c
index f63a506dd8ab..53f20476e99b 100644
--- a/drivers/staging/comedi/kcomedilib/data.c
+++ b/drivers/staging/comedi/kcomedilib/data.c
@@ -28,7 +28,7 @@
 #include &lt;linux/string.h&gt;
 
 int comedi_data_write(void *dev, unsigned int subdev, unsigned int chan,
-	unsigned int range, unsigned int aref, lsampl_t data)
+	unsigned int range, unsigned int aref, unsigned int data)
 {
 	comedi_insn insn;
 
@@ -43,7 +43,7 @@ int comedi_data_write(void *dev, unsigned int subdev, unsigned int chan,
 }
 
 int comedi_data_read(void *dev, unsigned int subdev, unsigned int chan,
-	unsigned int range, unsigned int aref, lsampl_t *data)
+	unsigned int range, unsigned int aref, unsigned int *data)
 {
 	comedi_insn insn;
 
@@ -61,7 +61,7 @@ int comedi_data_read_hint(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref)
 {
 	comedi_insn insn;
-	lsampl_t dummy_data;
+	unsigned int dummy_data;
 
 	memset(&amp;insn, 0, sizeof(insn));
 	insn.insn = INSN_READ;
@@ -75,7 +75,7 @@ int comedi_data_read_hint(void *dev, unsigned int subdev,
 
 int comedi_data_read_delayed(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref,
-	lsampl_t *data, unsigned int nano_sec)
+	unsigned int *data, unsigned int nano_sec)
 {
 	int retval;
 
diff --git a/drivers/staging/comedi/kcomedilib/dio.c b/drivers/staging/comedi/kcomedilib/dio.c
index 78e63c84072d..1a76ef57537c 100644
--- a/drivers/staging/comedi/kcomedilib/dio.c
+++ b/drivers/staging/comedi/kcomedilib/dio.c
@@ -75,7 +75,7 @@ int comedi_dio_bitfield(void *dev, unsigned int subdev, unsigned int mask,
 	unsigned int *bits)
 {
 	comedi_insn insn;
-	lsampl_t data[2];
+	unsigned int data[2];
 	int ret;
 
 	memset(&amp;insn, 0, sizeof(insn));
diff --git a/drivers/staging/comedi/kcomedilib/get.c b/drivers/staging/comedi/kcomedilib/get.c
index 5a69d8cf1567..4bb32593a79d 100644
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -98,7 +98,7 @@ int comedi_get_len_chanlist(void *d, unsigned int subdevice)
 	return s-&gt;len_chanlist;
 }
 
-lsampl_t comedi_get_maxdata(void *d, unsigned int subdevice,
+unsigned int comedi_get_maxdata(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
 	comedi_device *dev = (comedi_device *) d;</pre><hr><pre>commit 0b3fb27fa7b4bf811c31ee66453cda0a6d94aa6c
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:04:56 2009 -0400

    Staging: comedi: Remove comedi_t typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedilib.h b/drivers/staging/comedi/comedilib.h
index fc5fc015726b..ab42893562f9 100644
--- a/drivers/staging/comedi/comedilib.h
+++ b/drivers/staging/comedi/comedilib.h
@@ -36,18 +36,16 @@
 
 #ifndef KCOMEDILIB_DEPRECATED
 
-typedef void comedi_t;
-
 /* these functions may not be called at real-time priority */
 
-comedi_t *comedi_open(const char *path);
-int comedi_close(comedi_t *dev);
+void *comedi_open(const char *path);
+int comedi_close(void *dev);
 
 /* these functions may be called at any priority, but may fail at
    real-time priority */
 
-int comedi_lock(comedi_t *dev, unsigned int subdev);
-int comedi_unlock(comedi_t *dev, unsigned int subdev);
+int comedi_lock(void *dev, unsigned int subdev);
+int comedi_unlock(void *dev, unsigned int subdev);
 
 /* these functions may be called at any priority, but you must hold
    the lock for the subdevice */
@@ -56,68 +54,68 @@ int comedi_loglevel(int loglevel);
 void comedi_perror(const char *s);
 char *comedi_strerror(int errnum);
 int comedi_errno(void);
-int comedi_fileno(comedi_t *dev);
+int comedi_fileno(void *dev);
 
-int comedi_cancel(comedi_t *dev, unsigned int subdev);
-int comedi_register_callback(comedi_t *dev, unsigned int subdev,
+int comedi_cancel(void *dev, unsigned int subdev);
+int comedi_register_callback(void *dev, unsigned int subdev,
 	unsigned int mask, int (*cb) (unsigned int, void *), void *arg);
 
-int comedi_command(comedi_t *dev, comedi_cmd *cmd);
-int comedi_command_test(comedi_t *dev, comedi_cmd *cmd);
-int comedi_trigger(comedi_t *dev, unsigned int subdev, comedi_trig *it);
-int __comedi_trigger(comedi_t *dev, unsigned int subdev, comedi_trig *it);
-int comedi_data_write(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_command(void *dev, comedi_cmd *cmd);
+int comedi_command_test(void *dev, comedi_cmd *cmd);
+int comedi_trigger(void *dev, unsigned int subdev, comedi_trig *it);
+int __comedi_trigger(void *dev, unsigned int subdev, comedi_trig *it);
+int comedi_data_write(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int range, unsigned int aref, lsampl_t data);
-int comedi_data_read(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_data_read(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int range, unsigned int aref, lsampl_t *data);
-int comedi_data_read_hint(comedi_t *dev, unsigned int subdev,
+int comedi_data_read_hint(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref);
-int comedi_data_read_delayed(comedi_t *dev, unsigned int subdev,
+int comedi_data_read_delayed(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref,
 	lsampl_t *data, unsigned int nano_sec);
-int comedi_dio_config(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_dio_config(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int io);
-int comedi_dio_read(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_dio_read(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int *val);
-int comedi_dio_write(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_dio_write(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int val);
-int comedi_dio_bitfield(comedi_t *dev, unsigned int subdev, unsigned int mask,
+int comedi_dio_bitfield(void *dev, unsigned int subdev, unsigned int mask,
 	unsigned int *bits);
-int comedi_get_n_subdevices(comedi_t *dev);
-int comedi_get_version_code(comedi_t *dev);
-const char *comedi_get_driver_name(comedi_t *dev);
-const char *comedi_get_board_name(comedi_t *dev);
-int comedi_get_subdevice_type(comedi_t *dev, unsigned int subdevice);
-int comedi_find_subdevice_by_type(comedi_t *dev, int type, unsigned int subd);
-int comedi_get_n_channels(comedi_t *dev, unsigned int subdevice);
-lsampl_t comedi_get_maxdata(comedi_t *dev, unsigned int subdevice, unsigned
+int comedi_get_n_subdevices(void *dev);
+int comedi_get_version_code(void *dev);
+const char *comedi_get_driver_name(void *dev);
+const char *comedi_get_board_name(void *dev);
+int comedi_get_subdevice_type(void *dev, unsigned int subdevice);
+int comedi_find_subdevice_by_type(void *dev, int type, unsigned int subd);
+int comedi_get_n_channels(void *dev, unsigned int subdevice);
+lsampl_t comedi_get_maxdata(void *dev, unsigned int subdevice, unsigned
 	int chan);
-int comedi_get_n_ranges(comedi_t *dev, unsigned int subdevice, unsigned int
+int comedi_get_n_ranges(void *dev, unsigned int subdevice, unsigned int
 	chan);
-int comedi_do_insn(comedi_t *dev, comedi_insn *insn);
-int comedi_poll(comedi_t *dev, unsigned int subdev);
+int comedi_do_insn(void *dev, comedi_insn *insn);
+int comedi_poll(void *dev, unsigned int subdev);
 
 /* DEPRECATED functions */
-int comedi_get_rangetype(comedi_t *dev, unsigned int subdevice,
+int comedi_get_rangetype(void *dev, unsigned int subdevice,
 	unsigned int chan);
 
 /* ALPHA functions */
-unsigned int comedi_get_subdevice_flags(comedi_t *dev, unsigned int subdevice);
-int comedi_get_len_chanlist(comedi_t *dev, unsigned int subdevice);
-int comedi_get_krange(comedi_t *dev, unsigned int subdevice, unsigned int
+unsigned int comedi_get_subdevice_flags(void *dev, unsigned int subdevice);
+int comedi_get_len_chanlist(void *dev, unsigned int subdevice);
+int comedi_get_krange(void *dev, unsigned int subdevice, unsigned int
 	chan, unsigned int range, comedi_krange *krange);
-unsigned int comedi_get_buf_head_pos(comedi_t *dev, unsigned int subdevice);
-int comedi_set_user_int_count(comedi_t *dev, unsigned int subdevice,
+unsigned int comedi_get_buf_head_pos(void *dev, unsigned int subdevice);
+int comedi_set_user_int_count(void *dev, unsigned int subdevice,
 	unsigned int buf_user_count);
-int comedi_map(comedi_t *dev, unsigned int subdev, void *ptr);
-int comedi_unmap(comedi_t *dev, unsigned int subdev);
-int comedi_get_buffer_size(comedi_t *dev, unsigned int subdev);
-int comedi_mark_buffer_read(comedi_t *dev, unsigned int subdevice,
+int comedi_map(void *dev, unsigned int subdev, void *ptr);
+int comedi_unmap(void *dev, unsigned int subdev);
+int comedi_get_buffer_size(void *dev, unsigned int subdev);
+int comedi_mark_buffer_read(void *dev, unsigned int subdevice,
 	unsigned int num_bytes);
-int comedi_mark_buffer_written(comedi_t *d, unsigned int subdevice,
+int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 	unsigned int num_bytes);
-int comedi_get_buffer_contents(comedi_t *dev, unsigned int subdevice);
-int comedi_get_buffer_offset(comedi_t *dev, unsigned int subdevice);
+int comedi_get_buffer_contents(void *dev, unsigned int subdevice);
+int comedi_get_buffer_offset(void *dev, unsigned int subdevice);
 
 #else
 
diff --git a/drivers/staging/comedi/drivers/comedi_bond.c b/drivers/staging/comedi/drivers/comedi_bond.c
index 9e5496f4f1ae..09e288904f9e 100644
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -142,7 +142,7 @@ static const struct BondingBoard bondingBoards[] = {
 #define thisboard ((const struct BondingBoard *)dev-&gt;board_ptr)
 
 struct BondedDevice {
-	comedi_t *dev;
+	void *dev;
 	unsigned minor;
 	unsigned subdev;
 	unsigned subdev_type;
@@ -397,7 +397,7 @@ static void *Realloc(const void *oldmem, size_t newlen, size_t oldlen)
 static int doDevConfig(comedi_device *dev, comedi_devconfig *it)
 {
 	int i;
-	comedi_t *devs_opened[COMEDI_NUM_BOARD_MINORS];
+	void *devs_opened[COMEDI_NUM_BOARD_MINORS];
 
 	memset(devs_opened, 0, sizeof(devs_opened));
 	devpriv-&gt;name[0] = 0;;
@@ -406,7 +406,7 @@ static int doDevConfig(comedi_device *dev, comedi_devconfig *it)
 	for (i = 0; i &lt; COMEDI_NDEVCONFOPTS &amp;&amp; (!i || it-&gt;options[i]); ++i) {
 		char file[] = "/dev/comediXXXXXX";
 		int minor = it-&gt;options[i];
-		comedi_t *d;
+		void *d;
 		int sdev = -1, nchans, tmp;
 		struct BondedDevice *bdev = NULL;
 
diff --git a/drivers/staging/comedi/kcomedilib/data.c b/drivers/staging/comedi/kcomedilib/data.c
index 4f1a41d50861..f63a506dd8ab 100644
--- a/drivers/staging/comedi/kcomedilib/data.c
+++ b/drivers/staging/comedi/kcomedilib/data.c
@@ -27,7 +27,7 @@
 
 #include &lt;linux/string.h&gt;
 
-int comedi_data_write(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_data_write(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int range, unsigned int aref, lsampl_t data)
 {
 	comedi_insn insn;
@@ -42,7 +42,7 @@ int comedi_data_write(comedi_t *dev, unsigned int subdev, unsigned int chan,
 	return comedi_do_insn(dev, &amp;insn);
 }
 
-int comedi_data_read(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_data_read(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int range, unsigned int aref, lsampl_t *data)
 {
 	comedi_insn insn;
@@ -57,7 +57,7 @@ int comedi_data_read(comedi_t *dev, unsigned int subdev, unsigned int chan,
 	return comedi_do_insn(dev, &amp;insn);
 }
 
-int comedi_data_read_hint(comedi_t *dev, unsigned int subdev,
+int comedi_data_read_hint(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref)
 {
 	comedi_insn insn;
@@ -73,7 +73,7 @@ int comedi_data_read_hint(comedi_t *dev, unsigned int subdev,
 	return comedi_do_insn(dev, &amp;insn);
 }
 
-int comedi_data_read_delayed(comedi_t *dev, unsigned int subdev,
+int comedi_data_read_delayed(void *dev, unsigned int subdev,
 	unsigned int chan, unsigned int range, unsigned int aref,
 	lsampl_t *data, unsigned int nano_sec)
 {
diff --git a/drivers/staging/comedi/kcomedilib/dio.c b/drivers/staging/comedi/kcomedilib/dio.c
index 823052776e93..78e63c84072d 100644
--- a/drivers/staging/comedi/kcomedilib/dio.c
+++ b/drivers/staging/comedi/kcomedilib/dio.c
@@ -26,7 +26,7 @@
 
 #include &lt;linux/string.h&gt;
 
-int comedi_dio_config(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_dio_config(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int io)
 {
 	comedi_insn insn;
@@ -41,7 +41,7 @@ int comedi_dio_config(comedi_t *dev, unsigned int subdev, unsigned int chan,
 	return comedi_do_insn(dev, &amp;insn);
 }
 
-int comedi_dio_read(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_dio_read(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int *val)
 {
 	comedi_insn insn;
@@ -56,7 +56,7 @@ int comedi_dio_read(comedi_t *dev, unsigned int subdev, unsigned int chan,
 	return comedi_do_insn(dev, &amp;insn);
 }
 
-int comedi_dio_write(comedi_t *dev, unsigned int subdev, unsigned int chan,
+int comedi_dio_write(void *dev, unsigned int subdev, unsigned int chan,
 	unsigned int val)
 {
 	comedi_insn insn;
@@ -71,7 +71,7 @@ int comedi_dio_write(comedi_t *dev, unsigned int subdev, unsigned int chan,
 	return comedi_do_insn(dev, &amp;insn);
 }
 
-int comedi_dio_bitfield(comedi_t *dev, unsigned int subdev, unsigned int mask,
+int comedi_dio_bitfield(void *dev, unsigned int subdev, unsigned int mask,
 	unsigned int *bits)
 {
 	comedi_insn insn;
diff --git a/drivers/staging/comedi/kcomedilib/get.c b/drivers/staging/comedi/kcomedilib/get.c
index 36778b30f396..5a69d8cf1567 100644
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -26,33 +26,33 @@
 #include "../comedilib.h"
 #include "../comedidev.h"
 
-int comedi_get_n_subdevices(comedi_t *d)
+int comedi_get_n_subdevices(void *d)
 {
 	comedi_device *dev = (comedi_device *) d;
 
 	return dev-&gt;n_subdevices;
 }
 
-int comedi_get_version_code(comedi_t *d)
+int comedi_get_version_code(void *d)
 {
 	return COMEDI_VERSION_CODE;
 }
 
-const char *comedi_get_driver_name(comedi_t * d)
+const char *comedi_get_driver_name(void * d)
 {
 	comedi_device *dev = (comedi_device *) d;
 
 	return dev-&gt;driver-&gt;driver_name;
 }
 
-const char *comedi_get_board_name(comedi_t * d)
+const char *comedi_get_board_name(void * d)
 {
 	comedi_device *dev = (comedi_device *) d;
 
 	return dev-&gt;board_name;
 }
 
-int comedi_get_subdevice_type(comedi_t *d, unsigned int subdevice)
+int comedi_get_subdevice_type(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -60,7 +60,7 @@ int comedi_get_subdevice_type(comedi_t *d, unsigned int subdevice)
 	return s-&gt;type;
 }
 
-unsigned int comedi_get_subdevice_flags(comedi_t *d, unsigned int subdevice)
+unsigned int comedi_get_subdevice_flags(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -68,7 +68,7 @@ unsigned int comedi_get_subdevice_flags(comedi_t *d, unsigned int subdevice)
 	return s-&gt;subdev_flags;
 }
 
-int comedi_find_subdevice_by_type(comedi_t *d, int type, unsigned int subd)
+int comedi_find_subdevice_by_type(void *d, int type, unsigned int subd)
 {
 	comedi_device *dev = (comedi_device *) d;
 
@@ -82,7 +82,7 @@ int comedi_find_subdevice_by_type(comedi_t *d, int type, unsigned int subd)
 	return -1;
 }
 
-int comedi_get_n_channels(comedi_t *d, unsigned int subdevice)
+int comedi_get_n_channels(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -90,7 +90,7 @@ int comedi_get_n_channels(comedi_t *d, unsigned int subdevice)
 	return s-&gt;n_chan;
 }
 
-int comedi_get_len_chanlist(comedi_t *d, unsigned int subdevice)
+int comedi_get_len_chanlist(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -98,7 +98,7 @@ int comedi_get_len_chanlist(comedi_t *d, unsigned int subdevice)
 	return s-&gt;len_chanlist;
 }
 
-lsampl_t comedi_get_maxdata(comedi_t *d, unsigned int subdevice,
+lsampl_t comedi_get_maxdata(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -111,7 +111,7 @@ lsampl_t comedi_get_maxdata(comedi_t *d, unsigned int subdevice,
 }
 
 #ifdef KCOMEDILIB_DEPRECATED
-int comedi_get_rangetype(comedi_t *d, unsigned int subdevice,
+int comedi_get_rangetype(void *d, unsigned int subdevice,
 	unsigned int chan)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -130,7 +130,7 @@ int comedi_get_rangetype(comedi_t *d, unsigned int subdevice,
 }
 #endif
 
-int comedi_get_n_ranges(comedi_t *d, unsigned int subdevice, unsigned int chan)
+int comedi_get_n_ranges(void *d, unsigned int subdevice, unsigned int chan)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -148,7 +148,7 @@ int comedi_get_n_ranges(comedi_t *d, unsigned int subdevice, unsigned int chan)
 /*
  * ALPHA (non-portable)
 */
-int comedi_get_krange(comedi_t *d, unsigned int subdevice, unsigned int chan,
+int comedi_get_krange(void *d, unsigned int subdevice, unsigned int chan,
 	unsigned int range, comedi_krange *krange)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -171,7 +171,7 @@ int comedi_get_krange(comedi_t *d, unsigned int subdevice, unsigned int chan,
 /*
  * ALPHA (may be renamed)
 */
-unsigned int comedi_get_buf_head_pos(comedi_t *d, unsigned int subdevice)
+unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -184,7 +184,7 @@ unsigned int comedi_get_buf_head_pos(comedi_t *d, unsigned int subdevice)
 	return async-&gt;buf_write_count;
 }
 
-int comedi_get_buffer_contents(comedi_t *d, unsigned int subdevice)
+int comedi_get_buffer_contents(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
@@ -203,7 +203,7 @@ int comedi_get_buffer_contents(comedi_t *d, unsigned int subdevice)
 /*
  * ALPHA
 */
-int comedi_set_user_int_count(comedi_t *d, unsigned int subdevice,
+int comedi_set_user_int_count(void *d, unsigned int subdevice,
 	unsigned int buf_user_count)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -224,7 +224,7 @@ int comedi_set_user_int_count(comedi_t *d, unsigned int subdevice,
 	return 0;
 }
 
-int comedi_mark_buffer_read(comedi_t *d, unsigned int subdevice,
+int comedi_mark_buffer_read(void *d, unsigned int subdevice,
 	unsigned int num_bytes)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -243,7 +243,7 @@ int comedi_mark_buffer_read(comedi_t *d, unsigned int subdevice,
 	return 0;
 }
 
-int comedi_mark_buffer_written(comedi_t *d, unsigned int subdevice,
+int comedi_mark_buffer_written(void *d, unsigned int subdevice,
 	unsigned int num_bytes)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -263,7 +263,7 @@ int comedi_mark_buffer_written(comedi_t *d, unsigned int subdevice,
 	return 0;
 }
 
-int comedi_get_buffer_size(comedi_t *d, unsigned int subdev)
+int comedi_get_buffer_size(void *d, unsigned int subdev)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdev;
@@ -278,7 +278,7 @@ int comedi_get_buffer_size(comedi_t *d, unsigned int subdev)
 	return async-&gt;prealloc_bufsz;
 }
 
-int comedi_get_buffer_offset(comedi_t *d, unsigned int subdevice)
+int comedi_get_buffer_offset(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices + subdevice;
diff --git a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
index 7818e391dcab..0320a0ce74e9 100644
--- a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
+++ b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
@@ -42,7 +42,7 @@ MODULE_AUTHOR("David Schleef &lt;ds@schleef.org&gt;");
 MODULE_DESCRIPTION("Comedi kernel library");
 MODULE_LICENSE("GPL");
 
-comedi_t *comedi_open(const char *filename)
+void *comedi_open(const char *filename)
 {
 	struct comedi_device_file_info *dev_file_info;
 	comedi_device *dev;
@@ -67,10 +67,10 @@ comedi_t *comedi_open(const char *filename)
 	if (!try_module_get(dev-&gt;driver-&gt;module))
 		return NULL;
 
-	return (comedi_t *) dev;
+	return (void *) dev;
 }
 
-comedi_t *comedi_open_old(unsigned int minor)
+void *comedi_open_old(unsigned int minor)
 {
 	struct comedi_device_file_info *dev_file_info;
 	comedi_device *dev;
@@ -86,10 +86,10 @@ comedi_t *comedi_open_old(unsigned int minor)
 	if (dev == NULL || !dev-&gt;attached)
 		return NULL;
 
-	return (comedi_t *) dev;
+	return (void *) dev;
 }
 
-int comedi_close(comedi_t *d)
+int comedi_close(void *d)
 {
 	comedi_device *dev = (comedi_device *) d;
 
@@ -113,7 +113,7 @@ char *comedi_strerror(int err)
 	return "unknown error";
 }
 
-int comedi_fileno(comedi_t *d)
+int comedi_fileno(void *d)
 {
 	comedi_device *dev = (comedi_device *) d;
 
@@ -121,7 +121,7 @@ int comedi_fileno(comedi_t *d)
 	return dev-&gt;minor;
 }
 
-int comedi_command(comedi_t *d, comedi_cmd *cmd)
+int comedi_command(void *d, comedi_cmd *cmd)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -161,7 +161,7 @@ int comedi_command(comedi_t *d, comedi_cmd *cmd)
 	return s-&gt;do_cmd(dev, s);
 }
 
-int comedi_command_test(comedi_t *d, comedi_cmd *cmd)
+int comedi_command_test(void *d, comedi_cmd *cmd)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -183,7 +183,7 @@ int comedi_command_test(comedi_t *d, comedi_cmd *cmd)
  *	COMEDI_INSN
  *	perform an instruction
  */
-int comedi_do_insn(comedi_t *d, comedi_insn *insn)
+int comedi_do_insn(void *d, comedi_insn *insn)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -324,7 +324,7 @@ int comedi_do_insn(comedi_t *d, comedi_insn *insn)
 	- lock while subdevice being programmed
 
 */
-int comedi_lock(comedi_t *d, unsigned int subdevice)
+int comedi_lock(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -367,7 +367,7 @@ int comedi_lock(comedi_t *d, unsigned int subdevice)
 		none
 
 */
-int comedi_unlock(comedi_t *d, unsigned int subdevice)
+int comedi_unlock(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -419,7 +419,7 @@ int comedi_unlock(comedi_t *d, unsigned int subdevice)
 		nothing
 
 */
-int comedi_cancel(comedi_t *d, unsigned int subdevice)
+int comedi_cancel(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -464,7 +464,7 @@ int comedi_cancel(comedi_t *d, unsigned int subdevice)
 /*
    registration of callback functions
  */
-int comedi_register_callback(comedi_t *d, unsigned int subdevice,
+int comedi_register_callback(void *d, unsigned int subdevice,
 	unsigned int mask, int (*cb) (unsigned int, void *), void *arg)
 {
 	comedi_device *dev = (comedi_device *) d;
@@ -501,7 +501,7 @@ int comedi_register_callback(comedi_t *d, unsigned int subdevice,
 	return 0;
 }
 
-int comedi_poll(comedi_t *d, unsigned int subdevice)
+int comedi_poll(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s = dev-&gt;subdevices;
@@ -528,7 +528,7 @@ int comedi_poll(comedi_t *d, unsigned int subdevice)
 }
 
 /* WARNING: not portable */
-int comedi_map(comedi_t *d, unsigned int subdevice, void *ptr)
+int comedi_map(void *d, unsigned int subdevice, void *ptr)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;
@@ -550,7 +550,7 @@ int comedi_map(comedi_t *d, unsigned int subdevice, void *ptr)
 }
 
 /* WARNING: not portable */
-int comedi_unmap(comedi_t *d, unsigned int subdevice)
+int comedi_unmap(void *d, unsigned int subdevice)
 {
 	comedi_device *dev = (comedi_device *) d;
 	comedi_subdevice *s;</pre><hr><pre>commit 2e561b12e84a5363846669c5e0c070baf4d06a1a
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:04:50 2009 -0400

    Staging: comedi: Remove V_FP_V typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/rt.c b/drivers/staging/comedi/rt.c
index e6ec8b98a15d..fa99d6942b45 100644
--- a/drivers/staging/comedi/rt.c
+++ b/drivers/staging/comedi/rt.c
@@ -220,8 +220,7 @@ DECLARE_VOID_IRQ(21);
 DECLARE_VOID_IRQ(22);
 DECLARE_VOID_IRQ(23);
 
-typedef void (*V_FP_V) (void);
-static V_FP_V handle_void_irq_ptrs[] = {
+static void handle_void_irq_ptrs[] = {
 	handle_void_irq_0,
 	handle_void_irq_1,
 	handle_void_irq_2,</pre><hr><pre>commit eb5e029ebacf37ccdcd25b804e005f7e69cd0a24
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:04:45 2009 -0400

    Staging: comedi: Remove s626_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index d447f466d333..9323fa00fbb8 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -82,7 +82,7 @@ MODULE_AUTHOR("Gianluca Palli &lt;gpalli@deis.unibo.it&gt;");
 MODULE_DESCRIPTION("Sensoray 626 Comedi driver module");
 MODULE_LICENSE("GPL");
 
-typedef struct s626_board_struct {
+struct s626_board {
 	const char *name;
 	int ai_chans;
 	int ai_bits;
@@ -91,9 +91,9 @@ typedef struct s626_board_struct {
 	int dio_chans;
 	int dio_banks;
 	int enc_chans;
-} s626_board;
+};
 
-static const s626_board s626_boards[] = {
+static const struct s626_board s626_boards[] = {
 	{
 	      name:	"s626",
 	      ai_chans : S626_ADC_CHANNELS,
@@ -106,7 +106,7 @@ static const s626_board s626_boards[] = {
 		}
 };
 
-#define thisboard ((const s626_board *)dev-&gt;board_ptr)
+#define thisboard ((const struct s626_board *)dev-&gt;board_ptr)
 #define PCI_VENDOR_ID_S626 0x1131
 #define PCI_DEVICE_ID_S626 0x7146
 
@@ -128,7 +128,7 @@ static comedi_driver driver_s626 = {
       detach : s626_detach,
 };
 
-typedef struct {
+struct s626_private {
 	struct pci_dev *pdev;
 	void *base_addr;
 	int got_regions;
@@ -158,9 +158,9 @@ typedef struct {
 	/* I2C device address for onboard EEPROM (board rev dependent). */
 	/*   short         I2Cards; */
 	lsampl_t ao_readback[S626_DAC_CHANNELS];
-} s626_private;
+};
 
-typedef struct {
+struct dio_private {
 	uint16_t RDDIn;
 	uint16_t WRDOut;
 	uint16_t RDEdgSel;
@@ -170,9 +170,9 @@ typedef struct {
 	uint16_t RDCapFlg;
 	uint16_t RDIntSel;
 	uint16_t WRIntSel;
-} dio_private;
+};
 
-static dio_private dio_private_A = {
+static struct dio_private dio_private_A = {
       RDDIn:LP_RDDINA,
       WRDOut : LP_WRDOUTA,
       RDEdgSel : LP_RDEDGSELA,
@@ -184,7 +184,7 @@ static dio_private dio_private_A = {
       WRIntSel : LP_WRINTSELA,
 };
 
-static dio_private dio_private_B = {
+static struct dio_private dio_private_B = {
       RDDIn:LP_RDDINB,
       WRDOut : LP_WRDOUTB,
       RDEdgSel : LP_RDEDGSELB,
@@ -196,7 +196,7 @@ static dio_private dio_private_B = {
       WRIntSel : LP_WRINTSELB,
 };
 
-static dio_private dio_private_C = {
+static struct dio_private dio_private_C = {
       RDDIn:LP_RDDINC,
       WRDOut : LP_WRDOUTC,
       RDEdgSel : LP_RDEDGSELC,
@@ -209,15 +209,15 @@ static dio_private dio_private_C = {
 };
 
 /* to group dio devices (48 bits mask and data are not allowed ???)
-static dio_private *dio_private_word[]={
+static struct dio_private *dio_private_word[]={
   &amp;dio_private_A,
   &amp;dio_private_B,
   &amp;dio_private_C,
 };
 */
 
-#define devpriv ((s626_private *)dev-&gt;private)
-#define diopriv ((dio_private *)s-&gt;private)
+#define devpriv ((struct s626_private *)dev-&gt;private)
+#define diopriv ((struct dio_private *)s-&gt;private)
 
 COMEDI_PCI_INITCLEANUP_NOMODULE(driver_s626, s626_pci_table);
 
@@ -278,67 +278,67 @@ static void DEBIreplace(comedi_device *dev, uint16_t addr, uint16_t mask,
 static void CloseDMAB(comedi_device *dev, DMABUF *pdma, size_t bsize);
 
 /*  COUNTER OBJECT ------------------------------------------------ */
-typedef struct enc_private_struct {
+struct enc_private {
 	/*  Pointers to functions that differ for A and B counters: */
-	uint16_t(*GetEnable) (comedi_device *dev, struct enc_private_struct *);	/* Return clock enable. */
-	uint16_t(*GetIntSrc) (comedi_device *dev, struct enc_private_struct *);	/* Return interrupt source. */
-	uint16_t(*GetLoadTrig) (comedi_device *dev, struct enc_private_struct *);	/* Return preload trigger source. */
-	uint16_t(*GetMode) (comedi_device *dev, struct enc_private_struct *);	/* Return standardized operating mode. */
-	void (*PulseIndex) (comedi_device *dev, struct enc_private_struct *);	/* Generate soft index strobe. */
-	void (*SetEnable) (comedi_device *dev, struct enc_private_struct *, uint16_t enab);	/* Program clock enable. */
-	void (*SetIntSrc) (comedi_device *dev, struct enc_private_struct *, uint16_t IntSource);	/* Program interrupt source. */
-	void (*SetLoadTrig) (comedi_device *dev, struct enc_private_struct *, uint16_t Trig);	/* Program preload trigger source. */
-	void (*SetMode) (comedi_device *dev, struct enc_private_struct *, uint16_t Setup, uint16_t DisableIntSrc);	/* Program standardized operating mode. */
-	void (*ResetCapFlags) (comedi_device *dev, struct enc_private_struct *);	/* Reset event capture flags. */
+	uint16_t(*GetEnable) (comedi_device *dev, struct enc_private *);	/* Return clock enable. */
+	uint16_t(*GetIntSrc) (comedi_device *dev, struct enc_private *);	/* Return interrupt source. */
+	uint16_t(*GetLoadTrig) (comedi_device *dev, struct enc_private *);	/* Return preload trigger source. */
+	uint16_t(*GetMode) (comedi_device *dev, struct enc_private *);	/* Return standardized operating mode. */
+	void (*PulseIndex) (comedi_device *dev, struct enc_private *);	/* Generate soft index strobe. */
+	void (*SetEnable) (comedi_device *dev, struct enc_private *, uint16_t enab);	/* Program clock enable. */
+	void (*SetIntSrc) (comedi_device *dev, struct enc_private *, uint16_t IntSource);	/* Program interrupt source. */
+	void (*SetLoadTrig) (comedi_device *dev, struct enc_private *, uint16_t Trig);	/* Program preload trigger source. */
+	void (*SetMode) (comedi_device *dev, struct enc_private *, uint16_t Setup, uint16_t DisableIntSrc);	/* Program standardized operating mode. */
+	void (*ResetCapFlags) (comedi_device *dev, struct enc_private *);	/* Reset event capture flags. */
 
 	uint16_t MyCRA;		/*    Address of CRA register. */
 	uint16_t MyCRB;		/*    Address of CRB register. */
 	uint16_t MyLatchLsw;	/*    Address of Latch least-significant-word */
 	/*    register. */
 	uint16_t MyEventBits[4];	/*    Bit translations for IntSrc --&gt;RDMISC2. */
-} enc_private;			/* counter object */
+};
 
-#define encpriv ((enc_private *)(dev-&gt;subdevices+5)-&gt;private)
+#define encpriv ((struct enc_private *)(dev-&gt;subdevices+5)-&gt;private)
 
 /* counters routines */
-static void s626_timer_load(comedi_device *dev, enc_private *k, int tick);
-static uint32_t ReadLatch(comedi_device *dev, enc_private *k);
-static void ResetCapFlags_A(comedi_device *dev, enc_private *k);
-static void ResetCapFlags_B(comedi_device *dev, enc_private *k);
-static uint16_t GetMode_A(comedi_device *dev, enc_private *k);
-static uint16_t GetMode_B(comedi_device *dev, enc_private *k);
-static void SetMode_A(comedi_device *dev, enc_private *k, uint16_t Setup,
+static void s626_timer_load(comedi_device *dev, struct enc_private *k, int tick);
+static uint32_t ReadLatch(comedi_device *dev, struct enc_private *k);
+static void ResetCapFlags_A(comedi_device *dev, struct enc_private *k);
+static void ResetCapFlags_B(comedi_device *dev, struct enc_private *k);
+static uint16_t GetMode_A(comedi_device *dev, struct enc_private *k);
+static uint16_t GetMode_B(comedi_device *dev, struct enc_private *k);
+static void SetMode_A(comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc);
-static void SetMode_B(comedi_device *dev, enc_private *k, uint16_t Setup,
+static void SetMode_B(comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc);
-static void SetEnable_A(comedi_device *dev, enc_private *k, uint16_t enab);
-static void SetEnable_B(comedi_device *dev, enc_private *k, uint16_t enab);
-static uint16_t GetEnable_A(comedi_device *dev, enc_private *k);
-static uint16_t GetEnable_B(comedi_device *dev, enc_private *k);
-static void SetLatchSource(comedi_device *dev, enc_private *k,
+static void SetEnable_A(comedi_device *dev, struct enc_private *k, uint16_t enab);
+static void SetEnable_B(comedi_device *dev, struct enc_private *k, uint16_t enab);
+static uint16_t GetEnable_A(comedi_device *dev, struct enc_private *k);
+static uint16_t GetEnable_B(comedi_device *dev, struct enc_private *k);
+static void SetLatchSource(comedi_device *dev, struct enc_private *k,
 	uint16_t value);
-/* static uint16_t GetLatchSource(comedi_device *dev, enc_private *k ); */
-static void SetLoadTrig_A(comedi_device *dev, enc_private *k, uint16_t Trig);
-static void SetLoadTrig_B(comedi_device *dev, enc_private *k, uint16_t Trig);
-static uint16_t GetLoadTrig_A(comedi_device *dev, enc_private *k);
-static uint16_t GetLoadTrig_B(comedi_device *dev, enc_private *k);
-static void SetIntSrc_B(comedi_device *dev, enc_private *k,
+/* static uint16_t GetLatchSource(comedi_device *dev, struct enc_private *k ); */
+static void SetLoadTrig_A(comedi_device *dev, struct enc_private *k, uint16_t Trig);
+static void SetLoadTrig_B(comedi_device *dev, struct enc_private *k, uint16_t Trig);
+static uint16_t GetLoadTrig_A(comedi_device *dev, struct enc_private *k);
+static uint16_t GetLoadTrig_B(comedi_device *dev, struct enc_private *k);
+static void SetIntSrc_B(comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource);
-static void SetIntSrc_A(comedi_device *dev, enc_private *k,
+static void SetIntSrc_A(comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource);
-static uint16_t GetIntSrc_A(comedi_device *dev, enc_private *k);
-static uint16_t GetIntSrc_B(comedi_device *dev, enc_private *k);
-/* static void SetClkMult(comedi_device *dev, enc_private *k, uint16_t value ) ; */
-/* static uint16_t GetClkMult(comedi_device *dev, enc_private *k ) ; */
-/* static void SetIndexPol(comedi_device *dev, enc_private *k, uint16_t value ); */
-/* static uint16_t GetClkPol(comedi_device *dev, enc_private *k ) ; */
-/* static void SetIndexSrc( comedi_device *dev,enc_private *k, uint16_t value );  */
-/* static uint16_t GetClkSrc( comedi_device *dev,enc_private *k );  */
-/* static void SetIndexSrc( comedi_device *dev,enc_private *k, uint16_t value );  */
-/* static uint16_t GetIndexSrc( comedi_device *dev,enc_private *k );  */
-static void PulseIndex_A(comedi_device *dev, enc_private *k);
-static void PulseIndex_B(comedi_device *dev, enc_private *k);
-static void Preload(comedi_device *dev, enc_private *k, uint32_t value);
+static uint16_t GetIntSrc_A(comedi_device *dev, struct enc_private *k);
+static uint16_t GetIntSrc_B(comedi_device *dev, struct enc_private *k);
+/* static void SetClkMult(comedi_device *dev, struct enc_private *k, uint16_t value ) ; */
+/* static uint16_t GetClkMult(comedi_device *dev, struct enc_private *k ) ; */
+/* static void SetIndexPol(comedi_device *dev, struct enc_private *k, uint16_t value ); */
+/* static uint16_t GetClkPol(comedi_device *dev, struct enc_private *k ) ; */
+/* static void SetIndexSrc( comedi_device *dev,struct enc_private *k, uint16_t value );  */
+/* static uint16_t GetClkSrc( comedi_device *dev,struct enc_private *k );  */
+/* static void SetIndexSrc( comedi_device *dev,struct enc_private *k, uint16_t value );  */
+/* static uint16_t GetIndexSrc( comedi_device *dev,struct enc_private *k );  */
+static void PulseIndex_A(comedi_device *dev, struct enc_private *k);
+static void PulseIndex_B(comedi_device *dev, struct enc_private *k);
+static void Preload(comedi_device *dev, struct enc_private *k, uint32_t value);
 static void CountersInit(comedi_device *dev);
 /* end internal routines */
 
@@ -352,8 +352,8 @@ static void CountersInit(comedi_device *dev);
 /*  Translation table to map IntSrc into equivalent RDMISC2 event flag  bits. */
 /* static const uint16_t EventBits[][4] = { EVBITS(0), EVBITS(1), EVBITS(2), EVBITS(3), EVBITS(4), EVBITS(5) }; */
 
-/* enc_private; */
-static enc_private enc_private_data[] = {
+/* struct enc_private; */
+static struct enc_private enc_private_data[] = {
 	{
 	      GetEnable:GetEnable_A,
 	      GetIntSrc : GetIntSrc_A,
@@ -500,7 +500,7 @@ static int s626_attach(comedi_device *dev, comedi_devconfig *it)
 	comedi_subdevice *s;
 	struct pci_dev *pdev;
 
-	if (alloc_private(dev, sizeof(s626_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct s626_private)) &lt; 0)
 		return -ENOMEM;
 
 	for (pdev = pci_get_device(PCI_VENDOR_ID_S626, PCI_DEVICE_ID_S626,
@@ -973,7 +973,7 @@ static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 	comedi_device *dev = d;
 	comedi_subdevice *s;
 	comedi_cmd *cmd;
-	enc_private *k;
+	struct enc_private *k;
 	unsigned long flags;
 	int32_t *readaddr;
 	uint32_t irqtype, irqstatus;
@@ -1078,7 +1078,7 @@ static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 			irqbit = 0;
 			/* read interrupt type */
 			irqbit = DEBIread(dev,
-				((dio_private *) (dev-&gt;subdevices + 2 +
+				((struct dio_private *) (dev-&gt;subdevices + 2 +
 						group)-&gt;private)-&gt;RDCapFlg);
 
 			/* check if interrupt is generated from dio channels */
@@ -1678,7 +1678,7 @@ static int s626_ai_cmd(comedi_device *dev, comedi_subdevice *s)
 
 	uint8_t ppl[16];
 	comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
-	enc_private *k;
+	struct enc_private *k;
 	int tick;
 
 	DEBUG("s626_ai_cmd: entering command function\n");
@@ -2187,18 +2187,18 @@ static int s626_dio_set_irq(comedi_device *dev, unsigned int chan)
 
 	/* set channel to capture positive edge */
 	status = DEBIread(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;RDEdgSel);
 	DEBIwrite(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;WREdgSel, bitmask | status);
 
 	/* enable interrupt on selected channel */
 	status = DEBIread(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;RDIntSel);
 	DEBIwrite(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;WRIntSel, bitmask | status);
 
 	/* enable edge capture write command */
@@ -2206,10 +2206,10 @@ static int s626_dio_set_irq(comedi_device *dev, unsigned int chan)
 
 	/* enable edge capture on selected channel */
 	status = DEBIread(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;RDCapSel);
 	DEBIwrite(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;WRCapSel, bitmask | status);
 
 	return 0;
@@ -2225,7 +2225,7 @@ static int s626_dio_reset_irq(comedi_device *dev, unsigned int group,
 
 	/* enable edge capture on selected channel */
 	DEBIwrite(dev,
-		((dio_private *) (dev-&gt;subdevices + 2 +
+		((struct dio_private *) (dev-&gt;subdevices + 2 +
 				group)-&gt;private)-&gt;WRCapSel, mask);
 
 	return 0;
@@ -2241,7 +2241,7 @@ static int s626_dio_clear_irq(comedi_device *dev)
 	for (group = 0; group &lt; S626_DIO_BANKS; group++) {
 		/* clear pending events and interrupt */
 		DEBIwrite(dev,
-			((dio_private *) (dev-&gt;subdevices + 2 +
+			((struct dio_private *) (dev-&gt;subdevices + 2 +
 					group)-&gt;private)-&gt;WRCapSel, 0xffff);
 	}
 
@@ -2266,7 +2266,7 @@ static int s626_enc_insn_config(comedi_device *dev, comedi_subdevice *s,
 	/*  uint32_t Preloadvalue;              //Counter initial value */
 	uint16_t valueSrclatch = LATCHSRC_AB_READ;
 	uint16_t enab = CLKENAB_ALWAYS;
-	enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
+	struct enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
 
 	DEBUG("s626_enc_insn_config: encoder config\n");
 
@@ -2286,7 +2286,7 @@ static int s626_enc_insn_read(comedi_device *dev, comedi_subdevice *s,
 {
 
 	int n;
-	enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
+	struct enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
 
 	DEBUG("s626_enc_insn_read: encoder read channel %d \n",
 		CR_CHAN(insn-&gt;chanspec));
@@ -2303,7 +2303,7 @@ static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
 	comedi_insn *insn, lsampl_t *data)
 {
 
-	enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
+	struct enc_private *k = &amp;encpriv[CR_CHAN(insn-&gt;chanspec)];
 
 	DEBUG("s626_enc_insn_write: encoder write channel %d \n",
 		CR_CHAN(insn-&gt;chanspec));
@@ -2322,7 +2322,7 @@ static int s626_enc_insn_write(comedi_device *dev, comedi_subdevice *s,
 	return 1;
 }
 
-static void s626_timer_load(comedi_device *dev, enc_private *k, int tick)
+static void s626_timer_load(comedi_device *dev, struct enc_private *k, int tick)
 {
 	uint16_t Setup = (LOADSRC_INDX &lt;&lt; BF_LOADSRC) |	/*  Preload upon */
 		/*  index. */
@@ -2768,7 +2768,7 @@ static void CloseDMAB(comedi_device *dev, DMABUF *pdma, size_t bsize)
 
 /*  Read a counter's output latch. */
 
-static uint32_t ReadLatch(comedi_device *dev, enc_private *k)
+static uint32_t ReadLatch(comedi_device *dev, struct enc_private *k)
 {
 	register uint32_t value;
 	/* DEBUG FIXME DEBUG("ReadLatch: Read Latch enter\n"); */
@@ -2787,13 +2787,13 @@ static uint32_t ReadLatch(comedi_device *dev, enc_private *k)
 
 /*  Reset a counter's index and overflow event capture flags. */
 
-static void ResetCapFlags_A(comedi_device *dev, enc_private *k)
+static void ResetCapFlags_A(comedi_device *dev, struct enc_private *k)
 {
 	DEBIreplace(dev, k-&gt;MyCRB, (uint16_t) (~CRBMSK_INTCTRL),
 		CRBMSK_INTRESETCMD | CRBMSK_INTRESET_A);
 }
 
-static void ResetCapFlags_B(comedi_device *dev, enc_private *k)
+static void ResetCapFlags_B(comedi_device *dev, struct enc_private *k)
 {
 	DEBIreplace(dev, k-&gt;MyCRB, (uint16_t) (~CRBMSK_INTCTRL),
 		CRBMSK_INTRESETCMD | CRBMSK_INTRESET_B);
@@ -2802,7 +2802,7 @@ static void ResetCapFlags_B(comedi_device *dev, enc_private *k)
 /*  Return counter setup in a format (COUNTER_SETUP) that is consistent */
 /*  for both A and B counters. */
 
-static uint16_t GetMode_A(comedi_device *dev, enc_private *k)
+static uint16_t GetMode_A(comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t cra;
 	register uint16_t crb;
@@ -2840,7 +2840,7 @@ static uint16_t GetMode_A(comedi_device *dev, enc_private *k)
 	return setup;
 }
 
-static uint16_t GetMode_B(comedi_device *dev, enc_private *k)
+static uint16_t GetMode_B(comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t cra;
 	register uint16_t crb;
@@ -2886,7 +2886,7 @@ static uint16_t GetMode_B(comedi_device *dev, enc_private *k)
  * ClkPol, ClkEnab, IndexSrc, IndexPol, LoadSrc.
  */
 
-static void SetMode_A(comedi_device *dev, enc_private *k, uint16_t Setup,
+static void SetMode_A(comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc)
 {
 	register uint16_t cra;
@@ -2944,7 +2944,7 @@ static void SetMode_A(comedi_device *dev, enc_private *k, uint16_t Setup,
 		(uint16_t) (~(CRBMSK_INTCTRL | CRBMSK_CLKENAB_A)), crb);
 }
 
-static void SetMode_B(comedi_device *dev, enc_private *k, uint16_t Setup,
+static void SetMode_B(comedi_device *dev, struct enc_private *k, uint16_t Setup,
 	uint16_t DisableIntSrc)
 {
 	register uint16_t cra;
@@ -3008,7 +3008,7 @@ static void SetMode_B(comedi_device *dev, enc_private *k, uint16_t Setup,
 
 /*  Return/set a counter's enable.  enab: 0=always enabled, 1=enabled by index. */
 
-static void SetEnable_A(comedi_device *dev, enc_private *k, uint16_t enab)
+static void SetEnable_A(comedi_device *dev, struct enc_private *k, uint16_t enab)
 {
 	DEBUG("SetEnable_A: SetEnable_A enter 3541\n");
 	DEBIreplace(dev, k-&gt;MyCRB,
@@ -3016,19 +3016,19 @@ static void SetEnable_A(comedi_device *dev, enc_private *k, uint16_t enab)
 		(uint16_t) (enab &lt;&lt; CRBBIT_CLKENAB_A));
 }
 
-static void SetEnable_B(comedi_device *dev, enc_private *k, uint16_t enab)
+static void SetEnable_B(comedi_device *dev, struct enc_private *k, uint16_t enab)
 {
 	DEBIreplace(dev, k-&gt;MyCRB,
 		(uint16_t) (~(CRBMSK_INTCTRL | CRBMSK_CLKENAB_B)),
 		(uint16_t) (enab &lt;&lt; CRBBIT_CLKENAB_B));
 }
 
-static uint16_t GetEnable_A(comedi_device *dev, enc_private *k)
+static uint16_t GetEnable_A(comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_CLKENAB_A) &amp; 1;
 }
 
-static uint16_t GetEnable_B(comedi_device *dev, enc_private *k)
+static uint16_t GetEnable_B(comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_CLKENAB_B) &amp; 1;
 }
@@ -3038,7 +3038,7 @@ static uint16_t GetEnable_B(comedi_device *dev, enc_private *k)
  * latches B.
  */
 
-static void SetLatchSource(comedi_device *dev, enc_private *k, uint16_t value)
+static void SetLatchSource(comedi_device *dev, struct enc_private *k, uint16_t value)
 {
 	DEBUG("SetLatchSource: SetLatchSource enter 3550 \n");
 	DEBIreplace(dev, k-&gt;MyCRB,
@@ -3049,7 +3049,7 @@ static void SetLatchSource(comedi_device *dev, enc_private *k, uint16_t value)
 }
 
 /*
- * static uint16_t GetLatchSource(comedi_device *dev, enc_private *k )
+ * static uint16_t GetLatchSource(comedi_device *dev, struct enc_private *k )
  * {
  * 	return ( DEBIread( dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_LATCHSRC ) &amp; 3;
  * }
@@ -3061,25 +3061,25 @@ static void SetLatchSource(comedi_device *dev, enc_private *k, uint16_t value)
  * 2=OverflowA (B counters only), 3=disabled.
  */
 
-static void SetLoadTrig_A(comedi_device *dev, enc_private *k, uint16_t Trig)
+static void SetLoadTrig_A(comedi_device *dev, struct enc_private *k, uint16_t Trig)
 {
 	DEBIreplace(dev, k-&gt;MyCRA, (uint16_t) (~CRAMSK_LOADSRC_A),
 		(uint16_t) (Trig &lt;&lt; CRABIT_LOADSRC_A));
 }
 
-static void SetLoadTrig_B(comedi_device *dev, enc_private *k, uint16_t Trig)
+static void SetLoadTrig_B(comedi_device *dev, struct enc_private *k, uint16_t Trig)
 {
 	DEBIreplace(dev, k-&gt;MyCRB,
 		(uint16_t) (~(CRBMSK_LOADSRC_B | CRBMSK_INTCTRL)),
 		(uint16_t) (Trig &lt;&lt; CRBBIT_LOADSRC_B));
 }
 
-static uint16_t GetLoadTrig_A(comedi_device *dev, enc_private *k)
+static uint16_t GetLoadTrig_A(comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRA) &gt;&gt; CRABIT_LOADSRC_A) &amp; 3;
 }
 
-static uint16_t GetLoadTrig_B(comedi_device *dev, enc_private *k)
+static uint16_t GetLoadTrig_B(comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_LOADSRC_B) &amp; 3;
 }
@@ -3089,7 +3089,7 @@ static uint16_t GetLoadTrig_B(comedi_device *dev, enc_private *k)
  * 2=IndexOnly, 3=IndexAndOverflow.
  */
 
-static void SetIntSrc_A(comedi_device *dev, enc_private *k,
+static void SetIntSrc_A(comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource)
 {
 	/*  Reset any pending counter overflow or index captures. */
@@ -3106,7 +3106,7 @@ static void SetIntSrc_A(comedi_device *dev, enc_private *k,
 		MyEventBits[IntSource];
 }
 
-static void SetIntSrc_B(comedi_device *dev, enc_private *k,
+static void SetIntSrc_B(comedi_device *dev, struct enc_private *k,
 	uint16_t IntSource)
 {
 	uint16_t crb;
@@ -3129,80 +3129,80 @@ static void SetIntSrc_B(comedi_device *dev, enc_private *k,
 		MyEventBits[IntSource];
 }
 
-static uint16_t GetIntSrc_A(comedi_device *dev, enc_private *k)
+static uint16_t GetIntSrc_A(comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRA) &gt;&gt; CRABIT_INTSRC_A) &amp; 3;
 }
 
-static uint16_t GetIntSrc_B(comedi_device *dev, enc_private *k)
+static uint16_t GetIntSrc_B(comedi_device *dev, struct enc_private *k)
 {
 	return (DEBIread(dev, k-&gt;MyCRB) &gt;&gt; CRBBIT_INTSRC_B) &amp; 3;
 }
 
 /*  Return/set the clock multiplier. */
 
-/* static void SetClkMult(comedi_device *dev, enc_private *k, uint16_t value )  */
+/* static void SetClkMult(comedi_device *dev, struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_CLKMULT ) | ( value &lt;&lt; STDBIT_CLKMULT ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetClkMult(comedi_device *dev, enc_private *k )  */
+/* static uint16_t GetClkMult(comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_CLKMULT ) &amp; 3; */
 /* } */
 
 /* Return/set the clock polarity. */
 
-/* static void SetClkPol( comedi_device *dev,enc_private *k, uint16_t value )  */
+/* static void SetClkPol( comedi_device *dev,struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_CLKPOL ) | ( value &lt;&lt; STDBIT_CLKPOL ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetClkPol(comedi_device *dev, enc_private *k )  */
+/* static uint16_t GetClkPol(comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_CLKPOL ) &amp; 1; */
 /* } */
 
 /* Return/set the clock source.  */
 
-/* static void SetClkSrc( comedi_device *dev,enc_private *k, uint16_t value )  */
+/* static void SetClkSrc( comedi_device *dev,struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_CLKSRC ) | ( value &lt;&lt; STDBIT_CLKSRC ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetClkSrc( comedi_device *dev,enc_private *k )  */
+/* static uint16_t GetClkSrc( comedi_device *dev,struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_CLKSRC ) &amp; 3; */
 /* } */
 
 /* Return/set the index polarity. */
 
-/* static void SetIndexPol(comedi_device *dev, enc_private *k, uint16_t value )  */
+/* static void SetIndexPol(comedi_device *dev, struct enc_private *k, uint16_t value )  */
 /* { */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_INDXPOL ) | ( (value != 0) &lt;&lt; STDBIT_INDXPOL ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetIndexPol(comedi_device *dev, enc_private *k )  */
+/* static uint16_t GetIndexPol(comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_INDXPOL ) &amp; 1; */
 /* } */
 
 /*  Return/set the index source. */
 
-/* static void SetIndexSrc(comedi_device *dev, enc_private *k, uint16_t value )  */
+/* static void SetIndexSrc(comedi_device *dev, struct enc_private *k, uint16_t value )  */
 /* { */
 /*   DEBUG("SetIndexSrc: set index src enter 3700\n"); */
 /*   k-&gt;SetMode(dev, k, (uint16_t)( ( k-&gt;GetMode(dev, k ) &amp; ~STDMSK_INDXSRC ) | ( (value != 0) &lt;&lt; STDBIT_INDXSRC ) ), FALSE ); */
 /* } */
 
-/* static uint16_t GetIndexSrc(comedi_device *dev, enc_private *k )  */
+/* static uint16_t GetIndexSrc(comedi_device *dev, struct enc_private *k )  */
 /* { */
 /*   return ( k-&gt;GetMode(dev, k ) &gt;&gt; STDBIT_INDXSRC ) &amp; 1; */
 /* } */
 
 /*  Generate an index pulse. */
 
-static void PulseIndex_A(comedi_device *dev, enc_private *k)
+static void PulseIndex_A(comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t cra;
 
@@ -3214,7 +3214,7 @@ static void PulseIndex_A(comedi_device *dev, enc_private *k)
 	DEBIwrite(dev, k-&gt;MyCRA, cra);
 }
 
-static void PulseIndex_B(comedi_device *dev, enc_private *k)
+static void PulseIndex_B(comedi_device *dev, struct enc_private *k)
 {
 	register uint16_t crb;
 
@@ -3225,7 +3225,7 @@ static void PulseIndex_B(comedi_device *dev, enc_private *k)
 
 /*  Write value into counter preload register. */
 
-static void Preload(comedi_device *dev, enc_private *k, uint32_t value)
+static void Preload(comedi_device *dev, struct enc_private *k, uint32_t value)
 {
 	DEBUG("Preload: preload enter\n");
 	DEBIwrite(dev, (uint16_t) (k-&gt;MyLatchLsw), (uint16_t) value);	/*  Write value to preload register. */
@@ -3237,7 +3237,7 @@ static void Preload(comedi_device *dev, enc_private *k, uint32_t value)
 static void CountersInit(comedi_device *dev)
 {
 	int chan;
-	enc_private *k;
+	struct enc_private *k;
 	uint16_t Setup = (LOADSRC_INDX &lt;&lt; BF_LOADSRC) |	/*  Preload upon */
 		/*  index. */
 		(INDXSRC_SOFT &lt;&lt; BF_INDXSRC) |	/*  Disable hardware index. */</pre>
    <div class="pagination">
        <a href='3_80.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><span>[81]</span><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_82.html'>Next&gt;&gt;</a>
    <div>
</body>
